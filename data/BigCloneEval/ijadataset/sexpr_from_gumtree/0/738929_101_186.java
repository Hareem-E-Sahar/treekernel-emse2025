(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:public)(PrimitiveType:void)(SimpleName:run)(Block(TryStatement(Block(VariableDeclarationStatement(PrimitiveType:long)(VariableDeclarationFragment(SimpleName:fileSize)(NumberLiteral:0)))(VariableDeclarationStatement(PrimitiveType:long)(VariableDeclarationFragment(SimpleName:lastZxidSeen)(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:-)(NumberLiteral:1))))(VariableDeclarationStatement(SimpleType(SimpleName:FileChannel))(VariableDeclarationFragment(SimpleName:fc)(NullLiteral)))(WhileStatement(BooleanLiteral:true)(Block(VariableDeclarationStatement(SimpleType(SimpleName:Request))(VariableDeclarationFragment(SimpleName:si)(NullLiteral)))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:toFlush))(SimpleName:isEmpty))(Block(ExpressionStatement(Assignment(SimpleName:si)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:queuedRequests))(SimpleName:take)))))(Block(ExpressionStatement(Assignment(SimpleName:si)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:queuedRequests))(SimpleName:poll))))(IfStatement(InfixExpression(SimpleName:si)(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(Block(ExpressionStatement(MethodInvocation(SimpleName:flush)(METHOD_INVOCATION_ARGUMENTS(SimpleName:toFlush))))(ContinueStatement)))))(IfStatement(InfixExpression(SimpleName:si)(INFIX_EXPRESSION_OPERATOR:==)(SimpleName:requestOfDeath))(Block(BreakStatement)))(IfStatement(InfixExpression(SimpleName:si)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ZooTrace))(SimpleName:logRequest)(METHOD_INVOCATION_ARGUMENTS(SimpleName:LOG)(QualifiedName:ZooTrace.CLIENT_REQUEST_TRACE_MASK)(CharacterLiteral:<STR>)(SimpleName:si)(StringLiteral:<STR>))))(VariableDeclarationStatement(SimpleType(SimpleName:TxnHeader))(VariableDeclarationFragment(SimpleName:hdr)(QualifiedName:si.hdr)))(IfStatement(InfixExpression(SimpleName:hdr)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(IfStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:hdr))(SimpleName:getZxid))(INFIX_EXPRESSION_OPERATOR:<=)(SimpleName:lastZxidSeen))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:LOG))(SimpleName:warn)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:hdr))(SimpleName:getZxid))(StringLiteral:<STR>)(SimpleName:lastZxidSeen)(StringLiteral:<STR>)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:hdr))(SimpleName:getType))))))))(VariableDeclarationStatement(SimpleType(SimpleName:Record))(VariableDeclarationFragment(SimpleName:txn)(QualifiedName:si.txn)))(IfStatement(InfixExpression(SimpleName:logStream)(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(Block(ExpressionStatement(Assignment(SimpleName:fileSize)(ASSIGNMENT_OPERATOR:=)(NumberLiteral:0)))(ExpressionStatement(Assignment(SimpleName:logStream)(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(SimpleType(SimpleName:FileOutputStream))(ClassInstanceCreation(SimpleType(SimpleName:File))(QualifiedName:zks.dataLogDir)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ZooKeeperServer))(SimpleName:getLogName)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:hdr))(SimpleName:getZxid))))))))(SynchronizedStatement(SimpleName:streamsToFlush)(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:streamsToFlush))(SimpleName:add)(METHOD_INVOCATION_ARGUMENTS(SimpleName:logStream))))))(ExpressionStatement(Assignment(SimpleName:fc)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:logStream))(SimpleName:getChannel))))(ExpressionStatement(Assignment(SimpleName:logArchive)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:BinaryOutputArchive))(SimpleName:getArchive)(METHOD_INVOCATION_ARGUMENTS(SimpleName:logStream)))))))(VariableDeclarationStatement(Modifier:final)(PrimitiveType:long)(VariableDeclarationFragment(SimpleName:fsize)(SimpleName:fileSize)))(VariableDeclarationStatement(Modifier:final)(SimpleType(SimpleName:FileChannel))(VariableDeclarationFragment(SimpleName:ffc)(SimpleName:fc)))(ExpressionStatement(Assignment(SimpleName:fileSize)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Profiler))(SimpleName:profile)(METHOD_INVOCATION_ARGUMENTS(ClassInstanceCreation(ParameterizedType(SimpleType(QualifiedName:Profiler.Operation))(SimpleType(SimpleName:Long)))(AnonymousClassDeclaration(MethodDeclaration(Modifier:public)(SimpleType(SimpleName:Long))(SimpleName:execute)(SimpleType(SimpleName:Exception))(Block(ReturnStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(ThisExpression(SimpleName:SyncRequestProcessor)))(SimpleName:padLogFile)(METHOD_INVOCATION_ARGUMENTS(SimpleName:ffc)(SimpleName:fsize))))))))(SimpleName:PADDING_TIMEOUT)(StringLiteral:<STR>)))))(VariableDeclarationStatement(SimpleType(SimpleName:ByteArrayOutputStream))(VariableDeclarationFragment(SimpleName:baos)(ClassInstanceCreation(SimpleType(SimpleName:ByteArrayOutputStream)))))(VariableDeclarationStatement(SimpleType(SimpleName:BinaryOutputArchive))(VariableDeclarationFragment(SimpleName:boa)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:BinaryOutputArchive))(SimpleName:getArchive)(METHOD_INVOCATION_ARGUMENTS(SimpleName:baos)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:hdr))(SimpleName:serialize)(METHOD_INVOCATION_ARGUMENTS(SimpleName:boa)(StringLiteral:<STR>))))(IfStatement(InfixExpression(SimpleName:txn)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:txn))(SimpleName:serialize)(METHOD_INVOCATION_ARGUMENTS(SimpleName:boa)(StringLiteral:<STR>))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:logArchive))(SimpleName:writeBuffer)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:baos))(SimpleName:toByteArray))(StringLiteral:<STR>))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:logArchive))(SimpleName:writeByte)(METHOD_INVOCATION_ARGUMENTS(CastExpression(PrimitiveType:byte)(NumberLiteral:0x42))(StringLiteral:<STR>))))(ExpressionStatement(PostfixExpression(SimpleName:logCount)(POSTFIX_EXPRESSION_OPERATOR:++)))(IfStatement(InfixExpression(InfixExpression(SimpleName:logCount)(INFIX_EXPRESSION_OPERATOR:>)(InfixExpression(SimpleName:snapCount)(INFIX_EXPRESSION_OPERATOR:/)(NumberLiteral:2)))(INFIX_EXPRESSION_OPERATOR:&&)(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:r))(SimpleName:nextInt)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(SimpleName:snapCount)(INFIX_EXPRESSION_OPERATOR:/)(NumberLiteral:2))))(INFIX_EXPRESSION_OPERATOR:==)(NumberLiteral:0)))(Block(IfStatement(InfixExpression(InfixExpression(SimpleName:snapInProcess)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(INFIX_EXPRESSION_OPERATOR:&&)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:snapInProcess))(SimpleName:isAlive)))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:LOG))(SimpleName:warn)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))))(Block(ExpressionStatement(Assignment(SimpleName:logStream)(ASSIGNMENT_OPERATOR:=)(NullLiteral)))(ExpressionStatement(Assignment(SimpleName:logArchive)(ASSIGNMENT_OPERATOR:=)(NullLiteral)))(ExpressionStatement(Assignment(SimpleName:snapInProcess)(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(SimpleType(SimpleName:Thread))(AnonymousClassDeclaration(MethodDeclaration(Modifier:public)(PrimitiveType:void)(SimpleName:run)(Block(TryStatement(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:zks))(SimpleName:snapshot))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:Exception))(SimpleName:e))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:LOG))(SimpleName:warn)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(SimpleName:e)))))))))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:snapInProcess))(SimpleName:start)))))(ExpressionStatement(Assignment(SimpleName:logCount)(ASSIGNMENT_OPERATOR:=)(NumberLiteral:0)))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:toFlush))(SimpleName:add)(METHOD_INVOCATION_ARGUMENTS(SimpleName:si))))(IfStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:toFlush))(SimpleName:size))(INFIX_EXPRESSION_OPERATOR:>)(NumberLiteral:1000))(Block(ExpressionStatement(MethodInvocation(SimpleName:flush)(METHOD_INVOCATION_ARGUMENTS(SimpleName:toFlush)))))))))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:Exception))(SimpleName:e))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:LOG))(SimpleName:error)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(SimpleName:e))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:System))(SimpleName:exit)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:11)))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ZooTrace))(SimpleName:logTraceMessage)(METHOD_INVOCATION_ARGUMENTS(SimpleName:LOG)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ZooTrace))(SimpleName:getTextTraceLevel))(StringLiteral:<STR>))))))))