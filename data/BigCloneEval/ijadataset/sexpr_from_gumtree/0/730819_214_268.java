(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(MarkerAnnotation(SimpleName:Test))(Modifier:public)(PrimitiveType:void)(SimpleName:testPublishWithEcho)(SimpleType(SimpleName:IOException))(SimpleType(SimpleName:MessagingException))(SimpleType(SimpleName:InterruptedException))(Block(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:channelName1)(StringLiteral:<STR>)))(VariableDeclarationStatement(Modifier:final)(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:payload1)(StringLiteral:<STR>)))(VariableDeclarationStatement(Modifier:final)(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:payload2)(StringLiteral:<STR>)))(ExpressionStatement(Assignment(SimpleName:psm1MsgCount)(ASSIGNMENT_OPERATOR:=)(NumberLiteral:0)))(ExpressionStatement(Assignment(SimpleName:psm2MsgCount)(ASSIGNMENT_OPERATOR:=)(NumberLiteral:0)))(ExpressionStatement(Assignment(SimpleName:msg1Received)(ASSIGNMENT_OPERATOR:=)(BooleanLiteral:false)))(ExpressionStatement(Assignment(SimpleName:msg2Received)(ASSIGNMENT_OPERATOR:=)(BooleanLiteral:false)))(VariableDeclarationStatement(SimpleType(SimpleName:Properties))(VariableDeclarationFragment(SimpleName:props1)(MethodInvocation(SimpleName:loadPubSubManager1Properties))))(VariableDeclarationStatement(SimpleType(SimpleName:Properties))(VariableDeclarationFragment(SimpleName:props2)(MethodInvocation(SimpleName:loadPubSubManager2Properties))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:props1))(SimpleName:setProperty)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(StringLiteral:<STR>))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:props2))(SimpleName:setProperty)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(StringLiteral:<STR>))))(ExpressionStatement(Assignment(SimpleName:pubSubManager1)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:PubSubFactory))(SimpleName:createPubSubManager)(METHOD_INVOCATION_ARGUMENTS(SimpleName:props1)))))(ExpressionStatement(Assignment(SimpleName:pubSubManager2)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:PubSubFactory))(SimpleName:createPubSubManager)(METHOD_INVOCATION_ARGUMENTS(SimpleName:props2)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:pubSubManager1))(SimpleName:addMessageListener)(METHOD_INVOCATION_ARGUMENTS(ClassInstanceCreation(SimpleType(SimpleName:MessageListener))(AnonymousClassDeclaration(MethodDeclaration(Modifier:public)(PrimitiveType:void)(SimpleName:processMessage)(SingleVariableDeclaration(SimpleType(SimpleName:MessageEvent))(SimpleName:messageEvent))(Block(ExpressionStatement(PostfixExpression(SimpleName:psm1MsgCount)(POSTFIX_EXPRESSION_OPERATOR:++)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:log))(SimpleName:debug)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:messageEvent))(SimpleName:getMessage)))(SimpleName:getPayload))))))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:messageEvent))(SimpleName:getMessage)))(SimpleName:getPayload)))(SimpleName:equals)(METHOD_INVOCATION_ARGUMENTS(SimpleName:payload1)))(Block(ExpressionStatement(Assignment(SimpleName:msg1Received)(ASSIGNMENT_OPERATOR:=)(BooleanLiteral:true)))(TryStatement(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:pubSubManager1))(SimpleName:publish)(METHOD_INVOCATION_ARGUMENTS(ClassInstanceCreation(SimpleType(SimpleName:PubSubMessage))(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:messageEvent))(SimpleName:getMessage)))(SimpleName:getChannelName))(SimpleName:payload2))))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:MessagingException))(SimpleName:e))(Block(ExpressionStatement(MethodInvocation(SimpleName:fail)))))))))))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:pubSubManager2))(SimpleName:addMessageListener)(METHOD_INVOCATION_ARGUMENTS(ClassInstanceCreation(SimpleType(SimpleName:MessageListener))(AnonymousClassDeclaration(MethodDeclaration(Modifier:public)(PrimitiveType:void)(SimpleName:processMessage)(SingleVariableDeclaration(SimpleType(SimpleName:MessageEvent))(SimpleName:messageEvent))(Block(ExpressionStatement(PostfixExpression(SimpleName:psm2MsgCount)(POSTFIX_EXPRESSION_OPERATOR:++)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:log))(SimpleName:debug)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:messageEvent))(SimpleName:getMessage)))(SimpleName:getPayload))))))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:messageEvent))(SimpleName:getMessage)))(SimpleName:getPayload)))(SimpleName:equals)(METHOD_INVOCATION_ARGUMENTS(SimpleName:payload2)))(Block(ExpressionStatement(Assignment(SimpleName:msg2Received)(ASSIGNMENT_OPERATOR:=)(BooleanLiteral:true))))))))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:pubSubManager1))(SimpleName:createChannel)(METHOD_INVOCATION_ARGUMENTS(ClassInstanceCreation(SimpleType(SimpleName:Channel))(SimpleName:channelName1)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:pubSubManager1))(SimpleName:subscribe)(METHOD_INVOCATION_ARGUMENTS(SimpleName:channelName1))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:pubSubManager2))(SimpleName:subscribe)(METHOD_INVOCATION_ARGUMENTS(SimpleName:channelName1))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:pubSubManager2))(SimpleName:publish)(METHOD_INVOCATION_ARGUMENTS(ClassInstanceCreation(SimpleType(SimpleName:PubSubMessage))(SimpleName:channelName1)(SimpleName:payload1)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Thread))(SimpleName:sleep)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:200))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:pubSubManager1))(SimpleName:unsubscribe)(METHOD_INVOCATION_ARGUMENTS(SimpleName:channelName1))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:pubSubManager2))(SimpleName:unsubscribe)(METHOD_INVOCATION_ARGUMENTS(SimpleName:channelName1))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:pubSubManager1))(SimpleName:deleteChannel)(METHOD_INVOCATION_ARGUMENTS(SimpleName:channelName1))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:pubSubManager1))(SimpleName:close)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:pubSubManager2))(SimpleName:close)))(ExpressionStatement(MethodInvocation(SimpleName:assertTrue)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(SimpleName:msg1Received))))(ExpressionStatement(MethodInvocation(SimpleName:assertTrue)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(SimpleName:msg2Received))))(ExpressionStatement(MethodInvocation(SimpleName:assertEquals)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(NumberLiteral:2)(SimpleName:psm1MsgCount))))(ExpressionStatement(MethodInvocation(SimpleName:assertEquals)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(NumberLiteral:2)(SimpleName:psm2MsgCount))))))))