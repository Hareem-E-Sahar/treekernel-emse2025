(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:public)(SimpleType(SimpleName:ID3v2Tag))(SimpleName:readTag)(SingleVariableDeclaration(SimpleType(SimpleName:InputStream))(SimpleName:in))(SimpleType(SimpleName:ID3v2ParseException))(SimpleType(SimpleName:IOException))(Block(VariableDeclarationStatement(SimpleType(SimpleName:ID3v2Tag))(VariableDeclarationFragment(SimpleName:tag)(ClassInstanceCreation(SimpleType(SimpleName:ID3v2Tag))(ThisExpression))))(VariableDeclarationStatement(SimpleType(SimpleName:CRC32))(VariableDeclarationFragment(SimpleName:crc32)(ClassInstanceCreation(SimpleType(SimpleName:CRC32)))))(VariableDeclarationStatement(SimpleType(SimpleName:ID3v2Header))(VariableDeclarationFragment(SimpleName:header)(ClassInstanceCreation(SimpleType(SimpleName:ID3v2Header)))))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:position)(MethodInvocation(SimpleName:read)(METHOD_INVOCATION_ARGUMENTS(SimpleName:header)(SimpleName:in)))))(IfStatement(QualifiedName:header.useCRC)(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:logger))(SimpleName:info)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(StringLiteral:<STR>))(INFIX_EXPRESSION_OPERATOR:+)(QualifiedName:header.crc)(StringLiteral:<STR>)))))(ExpressionStatement(Assignment(SimpleName:in)(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(SimpleType(SimpleName:CheckedInputStream))(SimpleName:in)(SimpleName:crc32))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:tag))(SimpleName:setUseFooter)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:header.useFooter))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:tag))(SimpleName:setUseUnsynchronisation)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:header.useUnsynchronisation))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:tag))(SimpleName:setUseCRC)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:header.useCRC))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:tag))(SimpleName:setExperimental)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:header.isExperimental))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:tag))(SimpleName:setUpdate)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:header.isUpdate))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:tag))(SimpleName:setRestrictions)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:header.restrictions))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:logger))(SimpleName:debug)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(StringLiteral:<STR>)))))(VariableDeclarationStatement(SimpleType(SimpleName:FrameReader))(VariableDeclarationFragment(SimpleName:frameReader)(ClassInstanceCreation(SimpleType(SimpleName:FrameReader))(SimpleName:tag)(SimpleName:in))))(WhileStatement(InfixExpression(SimpleName:position)(INFIX_EXPRESSION_OPERATOR:<)(QualifiedName:header.tagSize))(Block(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:frameSize)))(VariableDeclarationStatement(SimpleType(SimpleName:ID3v2Frame))(VariableDeclarationFragment(SimpleName:currentFrame)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:frameReader))(SimpleName:readFrame)(METHOD_INVOCATION_ARGUMENTS(BooleanLiteral:true)))))(IfStatement(InfixExpression(SimpleName:currentFrame)(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(BreakStatement))(IfStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:currentFrame))(SimpleName:getType))(INFIX_EXPRESSION_OPERATOR:==)(QualifiedName:ID3v2Frame.UNDEFINED_FRAME_TYPE))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:logger))(SimpleName:info)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(StringLiteral:<STR>))(INFIX_EXPRESSION_OPERATOR:+)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:currentFrame))(SimpleName:getID))(StringLiteral:<STR>))))))(ExpressionStatement(Assignment(SimpleName:position)(ASSIGNMENT_OPERATOR:+=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:frameReader))(SimpleName:getFrameSize))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:tag))(SimpleName:add)(METHOD_INVOCATION_ARGUMENTS(SimpleName:currentFrame))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:logger))(SimpleName:debug)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(StringLiteral:<STR>))(INFIX_EXPRESSION_OPERATOR:+)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:tag))(SimpleName:getFrameCount))(StringLiteral:<STR>)))))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:paddingSize)(InfixExpression(QualifiedName:header.tagSize)(INFIX_EXPRESSION_OPERATOR:-)(SimpleName:position))))(IfStatement(InfixExpression(SimpleName:paddingSize)(INFIX_EXPRESSION_OPERATOR:>=)(NumberLiteral:4))(ExpressionStatement(Assignment(SimpleName:paddingSize)(ASSIGNMENT_OPERATOR:=)(InfixExpression(SimpleName:paddingSize)(INFIX_EXPRESSION_OPERATOR:-)(NumberLiteral:4)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:in))(SimpleName:skip)(METHOD_INVOCATION_ARGUMENTS(SimpleName:paddingSize))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:logger))(SimpleName:debug)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(StringLiteral:<STR>))(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:paddingSize)(StringLiteral:<STR>)))))(IfStatement(QualifiedName:header.useCRC)(Block(IfStatement(InfixExpression(QualifiedName:header.crc)(INFIX_EXPRESSION_OPERATOR:!=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:crc32))(SimpleName:getValue)))(Block(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:msg)(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:crc32))(SimpleName:getValue))(StringLiteral:<STR>)(QualifiedName:header.crc))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:logger))(SimpleName:error)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:msg)))))(ThrowStatement(ClassInstanceCreation(SimpleType(SimpleName:ID3v2ParseException))(SimpleName:msg))))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:logger))(SimpleName:debug)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))))))(IfStatement(QualifiedName:header.useFooter)(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:logger))(SimpleName:debug)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))(IfStatement(InfixExpression(SimpleName:paddingSize)(INFIX_EXPRESSION_OPERATOR:!=)(NumberLiteral:0))(ThrowStatement(ClassInstanceCreation(SimpleType(SimpleName:ID3v2ParseException))(StringLiteral:<STR>))))(VariableDeclarationStatement(SimpleType(SimpleName:ID3v2Header))(VariableDeclarationFragment(SimpleName:footer)(MethodInvocation(SimpleName:toFooter)(METHOD_INVOCATION_ARGUMENTS(SimpleName:header)))))(ExpressionStatement(MethodInvocation(SimpleName:read)(METHOD_INVOCATION_ARGUMENTS(SimpleName:footer)(SimpleName:in))))(ExpressionStatement(Assignment(SimpleName:position)(ASSIGNMENT_OPERATOR:+=)(MethodInvocation(SimpleName:getSize)(METHOD_INVOCATION_ARGUMENTS(SimpleName:footer)))))))(ExpressionStatement(MethodInvocation(SimpleName:setTagSize)(METHOD_INVOCATION_ARGUMENTS(SimpleName:tag)(SimpleName:position))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:tag))(SimpleName:setPreferredSize)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:header.tagSize)(QualifiedName:ID3Constants.ABSOLUTE))))(ReturnStatement(SimpleName:tag))))))