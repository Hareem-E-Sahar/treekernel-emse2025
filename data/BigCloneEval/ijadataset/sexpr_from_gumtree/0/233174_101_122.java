(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:private)(PrimitiveType:void)(SimpleName:write)(SingleVariableDeclaration(SimpleType(SimpleName:XMLEventReader))(SimpleName:xmlreader))(SingleVariableDeclaration(SimpleType(SimpleName:XMLEvent))(SimpleName:first))(SimpleType(SimpleName:XMLStreamException))(SimpleType(SimpleName:IOException))(Block(VariableDeclarationStatement(SimpleType(SimpleName:File))(VariableDeclarationFragment(SimpleName:fout)(MethodInvocation(SimpleName:nextFile))))(VariableDeclarationStatement(SimpleType(SimpleName:OutputStream))(VariableDeclarationFragment(SimpleName:fo)(ClassInstanceCreation(SimpleType(SimpleName:FileOutputStream))(SimpleName:fout))))(VariableDeclarationStatement(SimpleType(SimpleName:XMLEventWriter))(VariableDeclarationFragment(SimpleName:w)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:mOutputFactory))(SimpleName:createXMLEventWriter)(METHOD_INVOCATION_ARGUMENTS(SimpleName:fo)))))(EnhancedForStatement(SingleVariableDeclaration(SimpleType(SimpleName:XMLEvent))(SimpleName:e))(SimpleName:mHeader)(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:w))(SimpleName:add)(METHOD_INVOCATION_ARGUMENTS(SimpleName:e)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:w))(SimpleName:add)(METHOD_INVOCATION_ARGUMENTS(SimpleName:first))))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:depth)(NumberLiteral:0)))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:nchild)(NumberLiteral:0)))(WhileStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:xmlreader))(SimpleName:hasNext))(Block(VariableDeclarationStatement(SimpleType(SimpleName:XMLEvent))(VariableDeclarationFragment(SimpleName:e)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:xmlreader))(SimpleName:nextEvent))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:w))(SimpleName:add)(METHOD_INVOCATION_ARGUMENTS(SimpleName:e))))(IfStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:e))(SimpleName:getEventType))(INFIX_EXPRESSION_OPERATOR:==)(QualifiedName:XMLStreamConstants.START_ELEMENT))(ExpressionStatement(PostfixExpression(SimpleName:depth)(POSTFIX_EXPRESSION_OPERATOR:++)))(IfStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:e))(SimpleName:getEventType))(INFIX_EXPRESSION_OPERATOR:==)(QualifiedName:XMLStreamConstants.END_ELEMENT))(Block(IfStatement(InfixExpression(PostfixExpression(SimpleName:depth)(POSTFIX_EXPRESSION_OPERATOR:--))(INFIX_EXPRESSION_OPERATOR:<=)(NumberLiteral:0))(Block(IfStatement(InfixExpression(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:++)(SimpleName:nchild))(INFIX_EXPRESSION_OPERATOR:==)(SimpleName:mNumChildren))(BreakStatement)))))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:w))(SimpleName:add)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:mEventFactory))(SimpleName:createEndElement)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:first))(SimpleName:asStartElement)))(SimpleName:getName))(NullLiteral))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:w))(SimpleName:add)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:mEventFactory))(SimpleName:createEndDocument)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:w))(SimpleName:close)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fo))(SimpleName:close)))))))