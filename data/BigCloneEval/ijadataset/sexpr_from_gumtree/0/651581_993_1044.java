(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:private)(PrimitiveType:void)(SimpleName:writeTdsTEXT)(SingleVariableDeclaration(Modifier:final)(SimpleType(SimpleName:TdsParamInfo))(SimpleName:pi))(SimpleType(SimpleName:IOException))(SimpleType(SimpleName:SQLException))(Block(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:len)))(IfStatement(InfixExpression(QualifiedName:pi.value)(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(ExpressionStatement(Assignment(SimpleName:len)(ASSIGNMENT_OPERATOR:=)(NumberLiteral:0)))(Block(ExpressionStatement(Assignment(SimpleName:len)(ASSIGNMENT_OPERATOR:=)(QualifiedName:pi.length)))(IfStatement(InfixExpression(ParenthesizedExpression(InfixExpression(SimpleName:len)(INFIX_EXPRESSION_OPERATOR:==)(NumberLiteral:0)))(INFIX_EXPRESSION_OPERATOR:&&)(ParenthesizedExpression(InfixExpression(FieldAccess(MethodInvocation(SimpleName:getTdsVersion))(SimpleName:major))(INFIX_EXPRESSION_OPERATOR:<)(NumberLiteral:7))))(Block(ExpressionStatement(Assignment(QualifiedName:pi.value)(ASSIGNMENT_OPERATOR:=)(StringLiteral:<STR>)))(ExpressionStatement(Assignment(SimpleName:len)(ASSIGNMENT_OPERATOR:=)(NumberLiteral:1)))))))(ExpressionStatement(MethodInvocation(SimpleName:writeByte)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:TdsTypes.SYBTEXT))))(IfStatement(InfixExpression(SimpleName:len)(INFIX_EXPRESSION_OPERATOR:>)(NumberLiteral:0))(Block(VariableDeclarationStatement(SimpleType(SimpleName:InputStream))(VariableDeclarationFragment(SimpleName:in)))(IfStatement(InstanceofExpression(QualifiedName:pi.value)(SimpleType(SimpleName:InputStream)))(ExpressionStatement(Assignment(SimpleName:in)(ASSIGNMENT_OPERATOR:=)(CastExpression(SimpleType(SimpleName:InputStream))(QualifiedName:pi.value))))(IfStatement(InstanceofExpression(QualifiedName:pi.value)(SimpleType(SimpleName:Blob)))(ExpressionStatement(Assignment(SimpleName:in)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(ParenthesizedExpression(CastExpression(SimpleType(SimpleName:Blob))(QualifiedName:pi.value))))(SimpleName:getBinaryStream))))(ExpressionStatement(Assignment(SimpleName:in)(ASSIGNMENT_OPERATOR:=)(NullLiteral)))))(IfStatement(InfixExpression(SimpleName:in)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(ExpressionStatement(Assignment(QualifiedName:pi.value)(ASSIGNMENT_OPERATOR:=)(NullLiteral)))(TryStatement(Block(ExpressionStatement(MethodInvocation(SimpleName:writeInt)(METHOD_INVOCATION_ARGUMENTS(SimpleName:len))))(IfStatement(InfixExpression(FieldAccess(MethodInvocation(SimpleName:getTdsVersion))(SimpleName:major))(INFIX_EXPRESSION_OPERATOR:>=)(NumberLiteral:8))(ExpressionStatement(MethodInvocation(SimpleName:writeTdsCollation)(METHOD_INVOCATION_ARGUMENTS(SimpleName:pi)))))(ExpressionStatement(MethodInvocation(SimpleName:writeInt)(METHOD_INVOCATION_ARGUMENTS(SimpleName:len))))(ExpressionStatement(MethodInvocation(SimpleName:transferFrom)(METHOD_INVOCATION_ARGUMENTS(SimpleName:in)(SimpleName:len))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:in))(SimpleName:close)))(ExpressionStatement(Assignment(SimpleName:in)(ASSIGNMENT_OPERATOR:=)(NullLiteral))))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:IO))(SimpleName:tryClose)(METHOD_INVOCATION_ARGUMENTS(SimpleName:in)))))))(IfStatement(InfixExpression(ParenthesizedExpression(InstanceofExpression(QualifiedName:pi.value)(SimpleType(SimpleName:Readable))))(INFIX_EXPRESSION_OPERATOR:&&)(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(QualifiedName:pi.charsetInfo.wideChars)))(Block(VariableDeclarationStatement(SimpleType(SimpleName:Readable))(VariableDeclarationFragment(SimpleName:reader)(CastExpression(SimpleType(SimpleName:Reader))(QualifiedName:pi.value))))(TryStatement(Block(ExpressionStatement(Assignment(QualifiedName:pi.value)(ASSIGNMENT_OPERATOR:=)(NullLiteral)))(ExpressionStatement(MethodInvocation(SimpleName:writeInt)(METHOD_INVOCATION_ARGUMENTS(SimpleName:len))))(IfStatement(InfixExpression(FieldAccess(MethodInvocation(SimpleName:getTdsVersion))(SimpleName:major))(INFIX_EXPRESSION_OPERATOR:>=)(NumberLiteral:8))(ExpressionStatement(MethodInvocation(SimpleName:writeTdsCollation)(METHOD_INVOCATION_ARGUMENTS(SimpleName:pi)))))(ExpressionStatement(MethodInvocation(SimpleName:writeInt)(METHOD_INVOCATION_ARGUMENTS(SimpleName:len))))(ExpressionStatement(MethodInvocation(SimpleName:transferCharsFromEncoded)(METHOD_INVOCATION_ARGUMENTS(SimpleName:reader)(SimpleName:len))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:IO))(SimpleName:closeIfCloseable)(METHOD_INVOCATION_ARGUMENTS(SimpleName:reader))))(ExpressionStatement(Assignment(SimpleName:reader)(ASSIGNMENT_OPERATOR:=)(NullLiteral))))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:IO))(SimpleName:tryCloseIfCloseable)(METHOD_INVOCATION_ARGUMENTS(SimpleName:reader)))))))(Block(VariableDeclarationStatement(Modifier:final)(SimpleType(SimpleName:ByteBuffer))(VariableDeclarationFragment(SimpleName:buf)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:pi))(SimpleName:getOutputBytes)(METHOD_INVOCATION_ARGUMENTS(ThisExpression)))))(ExpressionStatement(Assignment(QualifiedName:pi.value)(ASSIGNMENT_OPERATOR:=)(NullLiteral)))(ExpressionStatement(MethodInvocation(SimpleName:writeInt)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:buf))(SimpleName:remaining)))))(IfStatement(InfixExpression(FieldAccess(MethodInvocation(SimpleName:getTdsVersion))(SimpleName:major))(INFIX_EXPRESSION_OPERATOR:>=)(NumberLiteral:8))(ExpressionStatement(MethodInvocation(SimpleName:writeTdsCollation)(METHOD_INVOCATION_ARGUMENTS(SimpleName:pi)))))(ExpressionStatement(MethodInvocation(SimpleName:writeInt)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:buf))(SimpleName:remaining)))))(ExpressionStatement(MethodInvocation(SimpleName:write)(METHOD_INVOCATION_ARGUMENTS(SimpleName:buf))))))))(Block(ExpressionStatement(MethodInvocation(SimpleName:writeInt)(METHOD_INVOCATION_ARGUMENTS(SimpleName:len))))(IfStatement(InfixExpression(FieldAccess(MethodInvocation(SimpleName:getTdsVersion))(SimpleName:major))(INFIX_EXPRESSION_OPERATOR:>=)(NumberLiteral:8))(ExpressionStatement(MethodInvocation(SimpleName:writeTdsCollation)(METHOD_INVOCATION_ARGUMENTS(SimpleName:pi)))))(ExpressionStatement(MethodInvocation(SimpleName:writeInt)(METHOD_INVOCATION_ARGUMENTS(SimpleName:len))))))))))