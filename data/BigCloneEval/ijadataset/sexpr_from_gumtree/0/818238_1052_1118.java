(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:protected)(Modifier:synchronized)(PrimitiveType:void)(SimpleName:_uploadFile)(SingleVariableDeclaration(SimpleType(SimpleName:String))(SimpleName:file_path))(Block(VariableDeclarationStatement(SimpleType(SimpleName:File))(VariableDeclarationFragment(SimpleName:upload_file)(NullLiteral)))(VariableDeclarationStatement(SimpleType(SimpleName:TransferStatus))(VariableDeclarationFragment(SimpleName:ts)(NullLiteral)))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(SimpleName:getUploadMode)))(SimpleName:equals)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:UploadMode.FILE_LIST_UL)))(Block(ExpressionStatement(MethodInvocation(SimpleName:_debug)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:file_path))(SimpleName:equals)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))(Block(ExpressionStatement(Assignment(SimpleName:upload_file)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Configuration))(SimpleName:instance)))(SimpleName:getUser)))(SimpleName:getShareStorage)))(SimpleName:getMyBZipCompressedList)))))(Block(ExpressionStatement(Assignment(SimpleName:upload_file)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Configuration))(SimpleName:instance)))(SimpleName:getUser)))(SimpleName:getShareStorage)))(SimpleName:getMyCompressedList)))))))(Block(ExpressionStatement(MethodInvocation(SimpleName:_debug)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:file_path)(StringLiteral:<STR>)))))(ExpressionStatement(Assignment(SimpleName:upload_file)(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(SimpleType(SimpleName:File))(SimpleName:file_path))))))(IfStatement(InfixExpression(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:upload_file))(SimpleName:canRead)))(INFIX_EXPRESSION_OPERATOR:||)(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:upload_file))(SimpleName:exists)))(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:upload_file))(SimpleName:isFile)))(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:upload_file))(SimpleName:length))(INFIX_EXPRESSION_OPERATOR:==)(NumberLiteral:0L)))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:libLogger))(SimpleName:error)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:upload_file))(SimpleName:canRead))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:libLogger))(SimpleName:error)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:upload_file))(SimpleName:exists))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:libLogger))(SimpleName:error)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:upload_file))(SimpleName:isFile))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:libLogger))(SimpleName:error)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:upload_file))(SimpleName:length))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:libLogger))(SimpleName:error)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))(ExpressionStatement(MethodInvocation(SimpleName:disconnect)))(ReturnStatement)))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:sendBufferSize)(CastExpression(PrimitiveType:int)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Configuration))(SimpleName:instance)))(SimpleName:getSendBufferSize)))))(SynchronizedStatement(SimpleName:_socket)(Block(VariableDeclarationStatement(PrimitiveType:byte)(VariableDeclarationFragment(SimpleName:byte_arr)(Dimension)(ArrayCreation(ArrayType(PrimitiveType:byte)(Dimension(SimpleName:sendBufferSize))))))(VariableDeclarationStatement(PrimitiveType:long)(VariableDeclarationFragment(SimpleName:uploaded_so_far)(NumberLiteral:0)))(VariableDeclarationStatement(PrimitiveType:long)(VariableDeclarationFragment(SimpleName:file_size)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:upload_file))(SimpleName:length))))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:nr_of_chars_read)(NumberLiteral:0)))(VariableDeclarationStatement(SimpleType(SimpleName:UploadListEntry))(VariableDeclarationFragment(SimpleName:ull_entry)(ClassInstanceCreation(SimpleType(SimpleName:UploadListEntry))(SimpleName:_connected_to)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:upload_file))(SimpleName:getName)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:UploadList))(SimpleName:instance)))(SimpleName:put)(METHOD_INVOCATION_ARGUMENTS(SimpleName:ull_entry))))(ExpressionStatement(Assignment(SimpleName:ts)(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(SimpleType(SimpleName:TransferStatus))(SimpleName:_connected_to)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:upload_file))(SimpleName:getName))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ull_entry))(SimpleName:id))(QualifiedName:TransferStatus._WAITING)(QualifiedName:TransferStatus._UPLOAD)(SimpleName:file_size)(NumberLiteral:0))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:_user_cb_handler))(SimpleName:execute)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:UserConnectionHandler.TRANSFER_STATUS_CREATED_CB)(SimpleName:ts))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ts))(SimpleName:setStatus_Progress)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:TransferStatus._RUNNING)(SimpleName:uploaded_so_far))))(TryStatement(Block(VariableDeclarationStatement(SimpleType(SimpleName:OutputStream))(VariableDeclarationFragment(SimpleName:out)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:_socket))(SimpleName:getOutputStream))))(VariableDeclarationStatement(SimpleType(SimpleName:FileInputStream))(VariableDeclarationFragment(SimpleName:in)(ClassInstanceCreation(SimpleType(SimpleName:FileInputStream))(SimpleName:upload_file))))(WhileStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ull_entry))(SimpleName:active))(INFIX_EXPRESSION_OPERATOR:&&)(InfixExpression(SimpleName:uploaded_so_far)(INFIX_EXPRESSION_OPERATOR:<)(SimpleName:file_size)))(Block(ExpressionStatement(Assignment(SimpleName:nr_of_chars_read)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:in))(SimpleName:read)(METHOD_INVOCATION_ARGUMENTS(SimpleName:byte_arr)(NumberLiteral:0)(SimpleName:sendBufferSize)))))(IfStatement(InfixExpression(SimpleName:nr_of_chars_read)(INFIX_EXPRESSION_OPERATOR:==)(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:-)(NumberLiteral:1)))(BreakStatement))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:out))(SimpleName:write)(METHOD_INVOCATION_ARGUMENTS(SimpleName:byte_arr)(NumberLiteral:0)(SimpleName:nr_of_chars_read))))(ExpressionStatement(Assignment(SimpleName:uploaded_so_far)(ASSIGNMENT_OPERATOR:+=)(SimpleName:nr_of_chars_read)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ts))(SimpleName:setProgress)(METHOD_INVOCATION_ARGUMENTS(SimpleName:uploaded_so_far))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:_user_cb_handler))(SimpleName:execute)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:UserConnectionHandler.FILE_UPLOAD_PROGRESS_CB)(SimpleName:ts))))))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ull_entry))(SimpleName:active))(Block(ExpressionStatement(MethodInvocation(SimpleName:_debug)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ts))(SimpleName:setStatus_Progress)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:TransferStatus._FINISHED)(SimpleName:uploaded_so_far))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:_cb_handler))(SimpleName:execute)(METHOD_INVOCATION_ARGUMENTS(SimpleName:FILE_UPLOAD_DONE_CB)(SimpleName:ull_entry)))))(Block(ExpressionStatement(MethodInvocation(SimpleName:_debug)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ts))(SimpleName:setStatus_Progress)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:TransferStatus._ABORTED)(SimpleName:uploaded_so_far))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:_cb_handler))(SimpleName:execute)(METHOD_INVOCATION_ARGUMENTS(SimpleName:FILE_UPLOAD_ABORTED_CB)(SimpleName:ull_entry))))(ExpressionStatement(MethodInvocation(SimpleName:disconnect))))))(CatchClause(SingleVariableDeclaration(SimpleType(QualifiedName:java.io.IOException))(SimpleName:e))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ts))(SimpleName:setStatus_Progress)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:TransferStatus._FAILURE)(SimpleName:uploaded_so_far))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:_user_cb_handler))(SimpleName:execute)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:UserConnectionHandler.FILE_UPLOAD_PROGRESS_CB)(SimpleName:ts))))(ExpressionStatement(MethodInvocation(SimpleName:_debug)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:libLogger))(SimpleName:error)(METHOD_INVOCATION_ARGUMENTS(SimpleName:e))))))(Block(VariableDeclarationStatement(SimpleType(SimpleName:checkTime))(VariableDeclarationFragment(SimpleName:cleaner)(ClassInstanceCreation(SimpleType(SimpleName:checkTime))(NumberLiteral:5)(SimpleName:ts)(StringLiteral:<STR>))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:UploadList))(SimpleName:instance)))(SimpleName:remove)(METHOD_INVOCATION_ARGUMENTS(SimpleName:ull_entry))))(ExpressionStatement(MethodInvocation(SimpleName:_releaseSlot)))))))))))