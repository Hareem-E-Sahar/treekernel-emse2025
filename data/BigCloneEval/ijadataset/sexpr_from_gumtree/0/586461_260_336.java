(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:public)(PrimitiveType:void)(SimpleName:saveAnchorsToFiles)(Block(VariableDeclarationStatement(Modifier:final)(SimpleType(SimpleName:JComponent))(VariableDeclarationFragment(SimpleName:jc)(ThisExpression)))(VariableDeclarationStatement(Modifier:final)(ParameterizedType(SimpleType(SimpleName:HashSet))(SimpleType(SimpleName:String)))(VariableDeclarationFragment(SimpleName:fls)(FieldAccess(ThisExpression)(SimpleName:files))))(VariableDeclarationStatement(Modifier:final)(ParameterizedType(SimpleType(SimpleName:HashMap))(SimpleType(SimpleName:String))(SimpleType(SimpleName:DefaultTableModel)))(VariableDeclarationFragment(SimpleName:fta)(FieldAccess(ThisExpression)(SimpleName:fileToAnchorsMap))))(VariableDeclarationStatement(SimpleType(SimpleName:Runnable))(VariableDeclarationFragment(SimpleName:r)(ClassInstanceCreation(SimpleType(SimpleName:Runnable))(AnonymousClassDeclaration(MethodDeclaration(Modifier:public)(PrimitiveType:void)(SimpleName:run)(Block(IfStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:jTable1))(SimpleName:getModel)))(SimpleName:getRowCount))(INFIX_EXPRESSION_OPERATOR:>)(NumberLiteral:0))(Block(IfStatement(MethodInvocation(SimpleName:checkAnchors)(METHOD_INVOCATION_ARGUMENTS(SimpleName:fls)(SimpleName:fta)))(Block(VariableDeclarationStatement(SimpleType(SimpleName:JFileChooser))(VariableDeclarationFragment(SimpleName:jfc)(ClassInstanceCreation(SimpleType(SimpleName:JFileChooser))(SimpleName:cwd))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:jfc))(SimpleName:setDialogTitle)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:jfc))(SimpleName:setFileSelectionMode)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:JFileChooser.DIRECTORIES_ONLY))))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:save)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:jfc))(SimpleName:showSaveDialog)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:SwingUtilities))(SimpleName:getRoot)(METHOD_INVOCATION_ARGUMENTS(SimpleName:jc)))))))(IfStatement(InfixExpression(SimpleName:save)(INFIX_EXPRESSION_OPERATOR:==)(QualifiedName:JFileChooser.APPROVE_OPTION))(Block(ExpressionStatement(MethodInvocation(SimpleName:setEnabled)(METHOD_INVOCATION_ARGUMENTS(BooleanLiteral:false))))(VariableDeclarationStatement(SimpleType(SimpleName:File))(VariableDeclarationFragment(SimpleName:outputDir)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:jfc))(SimpleName:getSelectedFile))))(VariableDeclarationStatement(ParameterizedType(SimpleType(SimpleName:ArrayList))(SimpleType(SimpleName:String)))(VariableDeclarationFragment(SimpleName:anchorFiles)(ClassInstanceCreation(ParameterizedType(SimpleType(SimpleName:ArrayList))(SimpleType(SimpleName:String))))))(EnhancedForStatement(SingleVariableDeclaration(SimpleType(SimpleName:String))(SimpleName:key))(SimpleName:fls)(Block(VariableDeclarationStatement(SimpleType(SimpleName:File))(VariableDeclarationFragment(SimpleName:output)(ClassInstanceCreation(SimpleType(SimpleName:File))(SimpleName:outputDir)(MethodInvocation(METHOD_INVOCATION_RECEIVER(ClassInstanceCreation(SimpleType(SimpleName:File))(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:StringTools))(SimpleName:removeFileExt)(METHOD_INVOCATION_ARGUMENTS(SimpleName:key)))(INFIX_EXPRESSION_OPERATOR:+)(StringLiteral:<STR>))))(SimpleName:getName)))))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:output))(SimpleName:exists))(Block(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:ret)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:JOptionPane))(SimpleName:showOptionDialog)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:SwingUtilities))(SimpleName:getRoot)(METHOD_INVOCATION_ARGUMENTS(SimpleName:jc)))(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:output)(StringLiteral:<STR>))(StringLiteral:<STR>)(QualifiedName:JOptionPane.YES_NO_OPTION)(QualifiedName:JOptionPane.QUESTION_MESSAGE)(NullLiteral)(NullLiteral)(NullLiteral)))))(IfStatement(InfixExpression(SimpleName:ret)(INFIX_EXPRESSION_OPERATOR:==)(QualifiedName:JOptionPane.NO_OPTION))(Block(ExpressionStatement(Assignment(SimpleName:hasSaved)(ASSIGNMENT_OPERATOR:=)(BooleanLiteral:false)))(ReturnStatement)))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:fileName)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:output))(SimpleName:getName))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:fnameNoSuffix)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fileName))(SimpleName:substring)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:0)(ParenthesizedExpression(ConditionalExpression(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fileName))(SimpleName:lastIndexOf)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))(INFIX_EXPRESSION_OPERATOR:<)(NumberLiteral:0))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fileName))(SimpleName:length))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fileName))(SimpleName:lastIndexOf)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))))))))(VariableDeclarationStatement(SimpleType(SimpleName:StringBuffer))(VariableDeclarationFragment(SimpleName:sb)(ClassInstanceCreation(SimpleType(SimpleName:StringBuffer)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:sb))(SimpleName:append)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:key)(StringLiteral:<STR>)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:sb))(SimpleName:append)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))(VariableDeclarationStatement(SimpleType(SimpleName:DefaultTableModel))(VariableDeclarationFragment(SimpleName:dtm)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fta))(SimpleName:get)(METHOD_INVOCATION_ARGUMENTS(SimpleName:key)))))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:lastIndex)(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:-)(NumberLiteral:1))))(ForStatement(VariableDeclarationExpression(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:i)(NumberLiteral:0)))(InfixExpression(SimpleName:i)(INFIX_EXPRESSION_OPERATOR:<)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:dtm))(SimpleName:getRowCount)))(PostfixExpression(SimpleName:i)(POSTFIX_EXPRESSION_OPERATOR:++))(Block(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:o)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:dtm))(SimpleName:getValueAt)(METHOD_INVOCATION_ARGUMENTS(SimpleName:i)(NumberLiteral:1))))(SimpleName:toString))))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:value)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Integer))(SimpleName:parseInt)(METHOD_INVOCATION_ARGUMENTS(SimpleName:o)))))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:o))(SimpleName:equals)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:sb))(SimpleName:append)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:dtm))(SimpleName:getValueAt)(METHOD_INVOCATION_ARGUMENTS(SimpleName:i)(NumberLiteral:0)))(INFIX_EXPRESSION_OPERATOR:+)(StringLiteral:<STR>)(StringLiteral:<STR>)(StringLiteral:<STR>))))))(Block(IfStatement(InfixExpression(SimpleName:value)(INFIX_EXPRESSION_OPERATOR:>)(SimpleName:lastIndex))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:sb))(SimpleName:append)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:dtm))(SimpleName:getValueAt)(METHOD_INVOCATION_ARGUMENTS(SimpleName:i)(NumberLiteral:0)))(INFIX_EXPRESSION_OPERATOR:+)(StringLiteral:<STR>)(SimpleName:o)(StringLiteral:<STR>)))))(ExpressionStatement(Assignment(SimpleName:lastIndex)(ASSIGNMENT_OPERATOR:=)(SimpleName:value))))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:jComboBox1))(SimpleName:setSelectedItem)(METHOD_INVOCATION_ARGUMENTS(SimpleName:key))))(ExpressionStatement(MethodInvocation(SimpleName:editAnchorsForFile)(METHOD_INVOCATION_ARGUMENTS(ClassInstanceCreation(SimpleType(SimpleName:ActionEvent))(SimpleName:jTable1)(NumberLiteral:1)(StringLiteral:<STR>)))))(ExpressionStatement(MethodInvocation(SimpleName:setEnabled)(METHOD_INVOCATION_ARGUMENTS(BooleanLiteral:true))))(ExpressionStatement(MethodInvocation(SimpleName:setProblem)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:dtm))(SimpleName:getValueAt)(METHOD_INVOCATION_ARGUMENTS(SimpleName:i)(NumberLiteral:0)))(StringLiteral:<STR>)))))(ReturnStatement)))))))(ExpressionStatement(Assignment(SimpleName:cwd)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:output))(SimpleName:getParentFile))))(TryStatement(Block(VariableDeclarationStatement(SimpleType(SimpleName:PrintWriter))(VariableDeclarationFragment(SimpleName:bw)(ClassInstanceCreation(SimpleType(SimpleName:PrintWriter))(ClassInstanceCreation(SimpleType(SimpleName:BufferedWriter))(ClassInstanceCreation(SimpleType(SimpleName:FileWriter))(SimpleName:output))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:bw))(SimpleName:append)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:sb))(SimpleName:toString)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:bw))(SimpleName:flush)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:bw))(SimpleName:close)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:anchorFiles))(SimpleName:add)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:output))(SimpleName:getAbsolutePath))))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:IOException))(SimpleName:e))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(QualifiedName:System.err))(SimpleName:println)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:e))(SimpleName:getLocalizedMessage))))))))(VariableDeclarationStatement(SimpleType(SimpleName:StringBuffer))(VariableDeclarationFragment(SimpleName:sb2)(ClassInstanceCreation(SimpleType(SimpleName:StringBuffer)))))(ForStatement(VariableDeclarationExpression(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:i)(NumberLiteral:0)))(InfixExpression(SimpleName:i)(INFIX_EXPRESSION_OPERATOR:<)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:anchorFiles))(SimpleName:size)))(PostfixExpression(SimpleName:i)(POSTFIX_EXPRESSION_OPERATOR:++))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:sb2))(SimpleName:append)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:anchorFiles))(SimpleName:get)(METHOD_INVOCATION_ARGUMENTS(SimpleName:i)))(INFIX_EXPRESSION_OPERATOR:+)(ParenthesizedExpression(ConditionalExpression(ParenthesizedExpression(InfixExpression(SimpleName:i)(INFIX_EXPRESSION_OPERATOR:<)(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:anchorFiles))(SimpleName:size))(INFIX_EXPRESSION_OPERATOR:-)(NumberLiteral:1))))(ParenthesizedExpression(StringLiteral:<STR>))(ParenthesizedExpression(StringLiteral:<STR>))))))))))(ExpressionStatement(Assignment(SimpleName:hasSaved)(ASSIGNMENT_OPERATOR:=)(BooleanLiteral:true)))(ExpressionStatement(MethodInvocation(SimpleName:putWizardData)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:sb2))(SimpleName:toString)))))(ExpressionStatement(MethodInvocation(SimpleName:putWizardData)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(ClassInstanceCreation(SimpleType(SimpleName:Boolean))(BooleanLiteral:true)))))))(ExpressionStatement(MethodInvocation(SimpleName:setEnabled)(METHOD_INVOCATION_ARGUMENTS(BooleanLiteral:true))))))))))))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:SwingUtilities))(SimpleName:invokeLater)(METHOD_INVOCATION_ARGUMENTS(SimpleName:r))))))))