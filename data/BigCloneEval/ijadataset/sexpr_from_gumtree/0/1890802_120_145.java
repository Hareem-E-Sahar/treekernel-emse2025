(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:public)(SimpleType(SimpleName:LocalCompilation))(SimpleName:writeSuccessor)(SingleVariableDeclaration(ParameterizedType(SimpleType(SimpleName:HashSet))(SimpleType(SimpleName:String)))(SimpleName:obsolete))(SingleVariableDeclaration(ParameterizedType(SimpleType(SimpleName:Collection))(SimpleType(SimpleName:ItemData)))(SimpleName:newItems))(SingleVariableDeclaration(PrimitiveType:int)(SimpleName:version))(SimpleType(SimpleName:IOException))(Block(VariableDeclarationStatement(SimpleType(SimpleName:File))(VariableDeclarationFragment(SimpleName:path)(MethodInvocation(SimpleName:getPath))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:path))(SimpleName:mkdirs)))(VariableDeclarationStatement(SimpleType(SimpleName:File))(VariableDeclarationFragment(SimpleName:tempFile)(ClassInstanceCreation(SimpleType(SimpleName:File))(SimpleName:path)(SimpleName:TEMP_FILE))))(VariableDeclarationStatement(SimpleType(SimpleName:ZipOutputStream))(VariableDeclarationFragment(SimpleName:zipOut)(ClassInstanceCreation(SimpleType(SimpleName:ZipOutputStream))(ClassInstanceCreation(SimpleType(SimpleName:BufferedOutputStream))(ClassInstanceCreation(SimpleType(SimpleName:FileOutputStream))(SimpleName:tempFile))(SimpleName:BUFFER)))))(TryStatement(Block(IfStatement(InfixExpression(SimpleName:obsolete)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(ExpressionStatement(MethodInvocation(SimpleName:writeExistings)(METHOD_INVOCATION_ARGUMENTS(SimpleName:obsolete)(SimpleName:zipOut))))))(EnhancedForStatement(SingleVariableDeclaration(SimpleType(SimpleName:ItemData))(SimpleName:item))(SimpleName:newItems)(Block(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:item))(SimpleName:isExisting))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:zipOut))(SimpleName:putNextEntry)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:item))(SimpleName:createZipEntry)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:zipOut))(SimpleName:write)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:item))(SimpleName:getBytes)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:zipOut))(SimpleName:closeEntry))))))))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:zipOut))(SimpleName:close)))))(VariableDeclarationStatement(SimpleType(SimpleName:File))(VariableDeclarationFragment(SimpleName:next)(ClassInstanceCreation(SimpleType(SimpleName:File))(MethodInvocation(SimpleName:getPath))(InfixExpression(SimpleName:PREFIX)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:version)))))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:next))(SimpleName:exists))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:next))(SimpleName:delete)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:tempFile))(SimpleName:renameTo)(METHOD_INVOCATION_ARGUMENTS(SimpleName:next))))(ReturnStatement(ClassInstanceCreation(SimpleType(SimpleName:LocalCompilation))(SimpleName:next)(MethodInvocation(SimpleName:getCompilationType))))))))