(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:public)(Modifier:static)(PrimitiveType:void)(SimpleName:main)(SingleVariableDeclaration(ArrayType(SimpleType(SimpleName:String))(Dimension))(SimpleName:args))(SimpleType(SimpleName:IOException))(Block(VariableDeclarationStatement(Modifier:final)(SimpleType(SimpleName:File))(VariableDeclarationFragment(SimpleName:moduleDir)(ClassInstanceCreation(SimpleType(SimpleName:File))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:System))(SimpleName:getProperty)(METHOD_INVOCATION_ARGUMENTS(SimpleName:MODULE_DIR_PROP))))))(VariableDeclarationStatement(Modifier:final)(SimpleType(SimpleName:File))(VariableDeclarationFragment(SimpleName:propsFile)(ClassInstanceCreation(SimpleType(SimpleName:File))(SimpleName:moduleDir)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:System))(SimpleName:getProperty)(METHOD_INVOCATION_ARGUMENTS(SimpleName:MODULE_PROPS_FILE_PROP)(StringLiteral:<STR>))))))(VariableDeclarationStatement(Modifier:final)(PrimitiveType:boolean)(VariableDeclarationFragment(SimpleName:launchFromPackage)(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Boolean))(SimpleName:getBoolean)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))))(VariableDeclarationStatement(Modifier:final)(SimpleType(SimpleName:File))(VariableDeclarationFragment(SimpleName:classes)(ClassInstanceCreation(SimpleType(SimpleName:File))(SimpleName:moduleDir)(StringLiteral:<STR>))))(VariableDeclarationStatement(Modifier:final)(SimpleType(SimpleName:File))(VariableDeclarationFragment(SimpleName:distDir)(ClassInstanceCreation(SimpleType(SimpleName:File))(SimpleName:moduleDir)(StringLiteral:<STR>))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:FileUtils))(SimpleName:mkdir_p)(METHOD_INVOCATION_ARGUMENTS(SimpleName:distDir))))(VariableDeclarationStatement(Modifier:final)(SimpleType(SimpleName:File))(VariableDeclarationFragment(SimpleName:jar)(MethodInvocation(METHOD_INVOCATION_RECEIVER(ClassInstanceCreation(SimpleType(SimpleName:ModulePackager))(SimpleName:propsFile)(SimpleName:classes)))(SimpleName:writeToDir)(METHOD_INVOCATION_ARGUMENTS(SimpleName:distDir)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:FileUtils))(SimpleName:mkdir_p)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:Gestion.MODULES_DIR))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:FileUtils))(SimpleName:copyFile)(METHOD_INVOCATION_ARGUMENTS(SimpleName:jar)(ClassInstanceCreation(SimpleType(SimpleName:File))(QualifiedName:Gestion.MODULES_DIR)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:jar))(SimpleName:getName))))))(VariableDeclarationStatement(Modifier:final)(SimpleType(SimpleName:ModuleFactory))(VariableDeclarationFragment(SimpleName:factory)))(IfStatement(SimpleName:launchFromPackage)(Block(ExpressionStatement(Assignment(SimpleName:factory)(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(SimpleType(SimpleName:JarModuleFactory))(SimpleName:jar)))))(Block(ExpressionStatement(Assignment(SimpleName:factory)(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(SimpleType(SimpleName:RuntimeModuleFactory))(SimpleName:propsFile))))(TryStatement(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Class))(SimpleName:forName)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:factory))(SimpleName:getMainClass))))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:ClassNotFoundException))(SimpleName:e))(Block(ThrowStatement(ClassInstanceCreation(SimpleType(SimpleName:IllegalStateException))(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:classes)(StringLiteral:<STR>))(SimpleName:e))))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Gestion))(SimpleName:main)(METHOD_INVOCATION_ARGUMENTS(SimpleName:args))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ModuleManager))(SimpleName:getInstance)))(SimpleName:addFactoryAndStart)(METHOD_INVOCATION_ARGUMENTS(SimpleName:factory)(BooleanLiteral:false))))))))