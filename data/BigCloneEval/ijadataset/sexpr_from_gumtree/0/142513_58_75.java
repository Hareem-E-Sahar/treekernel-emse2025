(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:public)(SimpleType(SimpleName:Color))(SimpleName:getShade)(SingleVariableDeclaration(Modifier:final)(SimpleType(SimpleName:Color))(SimpleName:lightColor))(SingleVariableDeclaration(Modifier:final)(SimpleType(SimpleName:Matrix))(SimpleName:lightSource))(Block(VariableDeclarationStatement(Modifier:final)(SimpleType(SimpleName:Matrix))(VariableDeclarationFragment(SimpleName:normal)(MethodInvocation(SimpleName:getNormal)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(SimpleName:getCoordinates))))))(IfStatement(InfixExpression(SimpleName:normal)(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(Block(ReturnStatement(MethodInvocation(SimpleName:boundsColor)))))(VariableDeclarationStatement(PrimitiveType:double)(VariableDeclarationFragment(SimpleName:cosang)(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:lightSource))(SimpleName:dot)(METHOD_INVOCATION_ARGUMENTS(SimpleName:normal)))(INFIX_EXPRESSION_OPERATOR:/)(ParenthesizedExpression(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:MatrixUtil))(SimpleName:normF)(METHOD_INVOCATION_ARGUMENTS(SimpleName:lightSource)))(INFIX_EXPRESSION_OPERATOR:*)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:MatrixUtil))(SimpleName:normF)(METHOD_INVOCATION_ARGUMENTS(SimpleName:normal))))))))(IfStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:normal))(SimpleName:get)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:1)(NumberLiteral:0)))(INFIX_EXPRESSION_OPERATOR:<)(NumberLiteral:0))(Block(ExpressionStatement(Assignment(SimpleName:cosang)(ASSIGNMENT_OPERATOR:=)(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:-)(SimpleName:cosang))))))(VariableDeclarationStatement(Modifier:final)(PrimitiveType:double)(VariableDeclarationFragment(SimpleName:intensity)(InfixExpression(ParenthesizedExpression(InfixExpression(SimpleName:cosang)(INFIX_EXPRESSION_OPERATOR:+)(NumberLiteral:1)))(INFIX_EXPRESSION_OPERATOR:/)(NumberLiteral:2))))(VariableDeclarationStatement(Modifier:final)(PrimitiveType:double)(VariableDeclarationFragment(SimpleName:red)(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:lightColor))(SimpleName:getRed))(INFIX_EXPRESSION_OPERATOR:*)(SimpleName:intensity))))(VariableDeclarationStatement(Modifier:final)(PrimitiveType:double)(VariableDeclarationFragment(SimpleName:green)(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:lightColor))(SimpleName:getGreen))(INFIX_EXPRESSION_OPERATOR:*)(SimpleName:intensity))))(VariableDeclarationStatement(Modifier:final)(PrimitiveType:double)(VariableDeclarationFragment(SimpleName:blue)(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:lightColor))(SimpleName:getBlue))(INFIX_EXPRESSION_OPERATOR:*)(SimpleName:intensity))))(VariableDeclarationStatement(Modifier:final)(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:iRed)(CastExpression(PrimitiveType:int)(SimpleName:red))))(VariableDeclarationStatement(Modifier:final)(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:iGreen)(CastExpression(PrimitiveType:int)(SimpleName:green))))(VariableDeclarationStatement(Modifier:final)(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:iBlue)(CastExpression(PrimitiveType:int)(SimpleName:blue))))(ReturnStatement(ClassInstanceCreation(SimpleType(SimpleName:Color))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Math))(SimpleName:max)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Math))(SimpleName:min)(METHOD_INVOCATION_ARGUMENTS(SimpleName:iRed)(NumberLiteral:255)))(NumberLiteral:0)))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Math))(SimpleName:max)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Math))(SimpleName:min)(METHOD_INVOCATION_ARGUMENTS(SimpleName:iGreen)(NumberLiteral:255)))(NumberLiteral:0)))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Math))(SimpleName:max)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Math))(SimpleName:min)(METHOD_INVOCATION_ARGUMENTS(SimpleName:iBlue)(NumberLiteral:255)))(NumberLiteral:0)))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:lightColor))(SimpleName:getAlpha))))))))