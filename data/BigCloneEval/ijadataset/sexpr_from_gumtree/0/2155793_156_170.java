(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:public)(Modifier:synchronized)(SimpleType(SimpleName:ISheet))(SimpleName:addNewSheet)(SingleVariableDeclaration(SimpleType(SimpleName:String))(SimpleName:sheetName))(SingleVariableDeclaration(SimpleType(SimpleName:SheetType))(SimpleName:type))(SimpleType(SimpleName:AlreadyExistsException))(SimpleType(SimpleName:StorageException))(SimpleType(SimpleName:NotFoundException))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(SimpleName:getAclService)))(SimpleName:checkPermission)(METHOD_INVOCATION_ARGUMENTS(SimpleName:id)(QualifiedName:Permission.write))))(IfStatement(InfixExpression(ParenthesizedExpression(InfixExpression(SimpleName:sheetName)(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral)))(INFIX_EXPRESSION_OPERATOR:||)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:sheetName))(SimpleName:isEmpty)))(Block(ThrowStatement(ClassInstanceCreation(SimpleType(SimpleName:IllegalArgumentException))(StringLiteral:<STR>)))))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:sheetsByName))(SimpleName:containsKey)(METHOD_INVOCATION_ARGUMENTS(SimpleName:sheetName)))(Block(ThrowStatement(ClassInstanceCreation(SimpleType(SimpleName:AlreadyExistsException))(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:sheetName)(StringLiteral:<STR>))))))(VariableDeclarationStatement(SimpleType(SimpleName:SheetData))(VariableDeclarationFragment(SimpleName:sheetData)(ClassInstanceCreation(SimpleType(SimpleName:SheetData))(ClassInstanceCreation(SimpleType(SimpleName:SheetFullName))(SimpleName:id)(SimpleName:sheetName))(SimpleName:type))))(VariableDeclarationStatement(SimpleType(SimpleName:ISheet))(VariableDeclarationFragment(SimpleName:sheet)(MethodInvocation(SimpleName:createSheetActorRef)(METHOD_INVOCATION_ARGUMENTS(SimpleName:sheetData)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:sheetsByName))(SimpleName:put)(METHOD_INVOCATION_ARGUMENTS(SimpleName:sheetName)(SimpleName:sheet))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(SimpleName:getAclService)))(SimpleName:setPermissions)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:sheetData))(SimpleName:getFullName))(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(SimpleName:getUserService)))(SimpleName:getCurrentUser))(QualifiedName:Permission.read)(QualifiedName:Permission.write))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:eventSupport))(SimpleName:fireEvent)(METHOD_INVOCATION_ARGUMENTS(ClassInstanceCreation(SimpleType(SimpleName:SheetEvent))(QualifiedName:SheetEventType.inserted)(SimpleName:sheetData)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Collections))(SimpleName:emptyList))))))(ReturnStatement(SimpleName:sheet))))))