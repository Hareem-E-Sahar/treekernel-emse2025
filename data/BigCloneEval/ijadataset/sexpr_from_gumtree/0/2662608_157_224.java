(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:public)(SimpleType(SimpleName:Representation))(SimpleName:getResponseEntity)(Block(VariableDeclarationStatement(SimpleType(SimpleName:Representation))(VariableDeclarationFragment(SimpleName:result)(NullLiteral)))(IfStatement(InfixExpression(MethodInvocation(SimpleName:getResponseStream))(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(ExpressionStatement(Assignment(SimpleName:result)(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(SimpleType(SimpleName:InputRepresentation))(MethodInvocation(SimpleName:getResponseStream))(NullLiteral)))))(IfStatement(InfixExpression(MethodInvocation(SimpleName:getResponseChannel))(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(ExpressionStatement(Assignment(SimpleName:result)(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(SimpleType(SimpleName:ReadableRepresentation))(MethodInvocation(SimpleName:getResponseChannel))(NullLiteral)))))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(SimpleName:getMethod)))(SimpleName:equals)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(QualifiedName:Method.HEAD))(SimpleName:getName))))(Block(ExpressionStatement(Assignment(SimpleName:result)(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(SimpleType(SimpleName:Representation))(AnonymousClassDeclaration(MethodDeclaration(MarkerAnnotation(SimpleName:Override))(Modifier:public)(SimpleType(SimpleName:ReadableByteChannel))(SimpleName:getChannel)(SimpleType(SimpleName:IOException))(Block(ReturnStatement(NullLiteral))))(MethodDeclaration(MarkerAnnotation(SimpleName:Override))(Modifier:public)(SimpleType(SimpleName:InputStream))(SimpleName:getStream)(SimpleType(SimpleName:IOException))(Block(ReturnStatement(NullLiteral))))(MethodDeclaration(MarkerAnnotation(SimpleName:Override))(Modifier:public)(PrimitiveType:void)(SimpleName:write)(SingleVariableDeclaration(SimpleType(SimpleName:OutputStream))(SimpleName:outputStream))(SimpleType(SimpleName:IOException))(Block))(MethodDeclaration(MarkerAnnotation(SimpleName:Override))(Modifier:public)(PrimitiveType:void)(SimpleName:write)(SingleVariableDeclaration(SimpleType(SimpleName:WritableByteChannel))(SimpleName:writableChannel))(SimpleType(SimpleName:IOException))(Block))))))))))(IfStatement(InfixExpression(SimpleName:result)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(EnhancedForStatement(SingleVariableDeclaration(SimpleType(SimpleName:Parameter))(SimpleName:header))(MethodInvocation(SimpleName:getResponseHeaders))(Block(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:header))(SimpleName:getName)))(SimpleName:equalsIgnoreCase)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:HttpConstants.HEADER_CONTENT_TYPE)))(Block(VariableDeclarationStatement(SimpleType(SimpleName:ContentType))(VariableDeclarationFragment(SimpleName:contentType)(ClassInstanceCreation(SimpleType(SimpleName:ContentType))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:header))(SimpleName:getValue)))))(IfStatement(InfixExpression(SimpleName:contentType)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:result))(SimpleName:setMediaType)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:contentType))(SimpleName:getMediaType)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:result))(SimpleName:setCharacterSet)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:contentType))(SimpleName:getCharacterSet))))))))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:header))(SimpleName:getName)))(SimpleName:equalsIgnoreCase)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:HttpConstants.HEADER_CONTENT_LENGTH)))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:result))(SimpleName:setSize)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Long))(SimpleName:parseLong)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:header))(SimpleName:getValue))))))))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:header))(SimpleName:getName)))(SimpleName:equalsIgnoreCase)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:HttpConstants.HEADER_EXPIRES)))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:result))(SimpleName:setExpirationDate)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(SimpleName:parseDate)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:header))(SimpleName:getValue))(BooleanLiteral:false)))))))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:header))(SimpleName:getName)))(SimpleName:equalsIgnoreCase)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:HttpConstants.HEADER_CONTENT_ENCODING)))(Block(VariableDeclarationStatement(SimpleType(SimpleName:HeaderReader))(VariableDeclarationFragment(SimpleName:hr)(ClassInstanceCreation(SimpleType(SimpleName:HeaderReader))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:header))(SimpleName:getValue)))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:value)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:hr))(SimpleName:readValue))))(WhileStatement(InfixExpression(SimpleName:value)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(VariableDeclarationStatement(SimpleType(SimpleName:Encoding))(VariableDeclarationFragment(SimpleName:encoding)(ClassInstanceCreation(SimpleType(SimpleName:Encoding))(SimpleName:value))))(IfStatement(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:encoding))(SimpleName:equals)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:Encoding.IDENTITY))))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:result))(SimpleName:getEncodings)))(SimpleName:add)(METHOD_INVOCATION_ARGUMENTS(SimpleName:encoding))))))(ExpressionStatement(Assignment(SimpleName:value)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:hr))(SimpleName:readValue)))))))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:header))(SimpleName:getName)))(SimpleName:equalsIgnoreCase)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:HttpConstants.HEADER_CONTENT_LANGUAGE)))(Block(VariableDeclarationStatement(SimpleType(SimpleName:HeaderReader))(VariableDeclarationFragment(SimpleName:hr)(ClassInstanceCreation(SimpleType(SimpleName:HeaderReader))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:header))(SimpleName:getValue)))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:value)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:hr))(SimpleName:readValue))))(WhileStatement(InfixExpression(SimpleName:value)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:result))(SimpleName:getLanguages)))(SimpleName:add)(METHOD_INVOCATION_ARGUMENTS(ClassInstanceCreation(SimpleType(SimpleName:Language))(SimpleName:value)))))(ExpressionStatement(Assignment(SimpleName:value)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:hr))(SimpleName:readValue)))))))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:header))(SimpleName:getName)))(SimpleName:equalsIgnoreCase)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:HttpConstants.HEADER_LAST_MODIFIED)))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:result))(SimpleName:setModificationDate)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(SimpleName:parseDate)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:header))(SimpleName:getValue))(BooleanLiteral:false)))))))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:header))(SimpleName:getName)))(SimpleName:equalsIgnoreCase)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:HttpConstants.HEADER_ETAG)))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:result))(SimpleName:setTag)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Tag))(SimpleName:parse)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:header))(SimpleName:getValue))))))))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:header))(SimpleName:getName)))(SimpleName:equalsIgnoreCase)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:HttpConstants.HEADER_CONTENT_LOCATION)))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:result))(SimpleName:setIdentifier)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:header))(SimpleName:getValue))))))))))))))))))(ReturnStatement(SimpleName:result))))))