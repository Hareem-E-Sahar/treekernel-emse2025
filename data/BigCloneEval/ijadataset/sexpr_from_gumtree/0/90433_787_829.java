(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(PrimitiveType:boolean)(SimpleName:saveWithName)(Block(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:fin)))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:din)))(IfStatement(QualifiedName:Globals.useNativeFileDialogs)(Block(VariableDeclarationStatement(SimpleType(SimpleName:FileDialog))(VariableDeclarationFragment(SimpleName:fd)(ClassInstanceCreation(SimpleType(SimpleName:FileDialog))(ThisExpression)(MethodInvocation(METHOD_INVOCATION_RECEIVER(QualifiedName:Globals.messages))(SimpleName:getString)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))(QualifiedName:FileDialog.SAVE))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fd))(SimpleName:setDirectory)(METHOD_INVOCATION_ARGUMENTS(SimpleName:openFileDirectory))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fd))(SimpleName:setFilenameFilter)(METHOD_INVOCATION_ARGUMENTS(ClassInstanceCreation(SimpleType(SimpleName:FilenameFilter))(AnonymousClassDeclaration(MethodDeclaration(Modifier:public)(PrimitiveType:boolean)(SimpleName:accept)(SingleVariableDeclaration(SimpleType(SimpleName:File))(SimpleName:dir))(SingleVariableDeclaration(SimpleType(SimpleName:String))(SimpleName:name))(Block(ReturnStatement(ParenthesizedExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:name))(SimpleName:toLowerCase)))(SimpleName:endsWith)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))))))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fd))(SimpleName:setVisible)(METHOD_INVOCATION_ARGUMENTS(BooleanLiteral:true))))(ExpressionStatement(Assignment(SimpleName:fin)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fd))(SimpleName:getFile))))(ExpressionStatement(Assignment(SimpleName:din)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fd))(SimpleName:getDirectory)))))(Block(VariableDeclarationStatement(SimpleType(SimpleName:JFileChooser))(VariableDeclarationFragment(SimpleName:fc)(ClassInstanceCreation(SimpleType(SimpleName:JFileChooser)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fc))(SimpleName:setFileFilter)(METHOD_INVOCATION_ARGUMENTS(ClassInstanceCreation(SimpleType(QualifiedName:javax.swing.filechooser.FileFilter))(AnonymousClassDeclaration(MethodDeclaration(Modifier:public)(PrimitiveType:boolean)(SimpleName:accept)(SingleVariableDeclaration(SimpleType(SimpleName:File))(SimpleName:f))(Block(ReturnStatement(ParenthesizedExpression(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:f))(SimpleName:getName)))(SimpleName:toLowerCase)))(SimpleName:endsWith)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))(INFIX_EXPRESSION_OPERATOR:||)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:f))(SimpleName:isDirectory)))))))(MethodDeclaration(Modifier:public)(SimpleType(SimpleName:String))(SimpleName:getDescription)(Block(ReturnStatement(StringLiteral:<STR>)))))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fc))(SimpleName:setCurrentDirectory)(METHOD_INVOCATION_ARGUMENTS(ClassInstanceCreation(SimpleType(SimpleName:File))(SimpleName:openFileDirectory)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fc))(SimpleName:setDialogTitle)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(QualifiedName:Globals.messages))(SimpleName:getString)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))))(IfStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fc))(SimpleName:showSaveDialog)(METHOD_INVOCATION_ARGUMENTS(ThisExpression)))(INFIX_EXPRESSION_OPERATOR:!=)(QualifiedName:JFileChooser.APPROVE_OPTION))(ReturnStatement(BooleanLiteral:false)))(ExpressionStatement(Assignment(SimpleName:fin)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fc))(SimpleName:getSelectedFile)))(SimpleName:getName))))(ExpressionStatement(Assignment(SimpleName:din)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fc))(SimpleName:getSelectedFile)))(SimpleName:getParentFile)))(SimpleName:getPath))))))(IfStatement(InfixExpression(SimpleName:fin)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(ExpressionStatement(Assignment(QualifiedName:CC.P.openFileName)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Globals))(SimpleName:createCompleteFileName)(METHOD_INVOCATION_ARGUMENTS(SimpleName:din)(SimpleName:fin)))))(ExpressionStatement(Assignment(QualifiedName:CC.P.openFileName)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Globals))(SimpleName:adjustExtension)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:CC.P.openFileName)(QualifiedName:Globals.DEFAULT_EXTENSION)))))(IfStatement(SimpleName:runsAsApplication)(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:prefs))(SimpleName:put)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(SimpleName:din)))))(ExpressionStatement(Assignment(SimpleName:openFileDirectory)(ASSIGNMENT_OPERATOR:=)(SimpleName:din)))(ReturnStatement(MethodInvocation(SimpleName:save))))(Block(ReturnStatement(BooleanLiteral:false))))))))