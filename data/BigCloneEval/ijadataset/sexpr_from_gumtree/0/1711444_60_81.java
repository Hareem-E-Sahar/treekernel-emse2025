(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:public)(PrimitiveType:void)(SimpleName:testAppendToExistingFile)(SimpleType(SimpleName:IOException))(SimpleType(SimpleName:TaskQueueException))(SimpleType(SimpleName:InterruptedException))(Block(ExpressionStatement(MethodInvocation(SimpleName:testWrite)))(ExpressionStatement(MethodInvocation(SimpleName:assertTrue)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:writeFile))(SimpleName:exists)))))(VariableDeclarationStatement(Modifier:final)(SimpleType(SimpleName:ReadFileTask))(VariableDeclarationFragment(SimpleName:readTask1)(ClassInstanceCreation(SimpleType(SimpleName:ReadFileTask))(SimpleName:writeFile)(NullLiteral)(StringLiteral:<STR>))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:io))(SimpleName:getTaskQueue)))(SimpleName:enqueue)(METHOD_INVOCATION_ARGUMENTS(SimpleName:readTask1))))(VariableDeclarationStatement(Modifier:final)(SimpleType(SimpleName:ReadFileEvent))(VariableDeclarationFragment(SimpleName:readEvent1)(CastExpression(SimpleType(SimpleName:ReadFileEvent))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:testChannel))(SimpleName:take)))))(VariableDeclarationStatement(Modifier:final)(ArrayType(PrimitiveType:byte)(Dimension))(VariableDeclarationFragment(SimpleName:data1)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:readEvent1))(SimpleName:getData))))(ExpressionStatement(MethodInvocation(SimpleName:assertEquals)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:14)(QualifiedName:data1.length))))(ExpressionStatement(MethodInvocation(SimpleName:assertTrue)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(StringLiteral:<STR>))(SimpleName:equals)(METHOD_INVOCATION_ARGUMENTS(ClassInstanceCreation(SimpleType(SimpleName:String))(SimpleName:data1)))))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:appendString)(StringLiteral:<STR>)))(VariableDeclarationStatement(SimpleType(SimpleName:WriteFileTask))(VariableDeclarationFragment(SimpleName:task)(ClassInstanceCreation(SimpleType(SimpleName:WriteFileTask))(SimpleName:writeFile)(NullLiteral)(StringLiteral:<STR>)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:appendString))(SimpleName:getBytes)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:task))(SimpleName:setAppend)(METHOD_INVOCATION_ARGUMENTS(BooleanLiteral:true))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:io))(SimpleName:getTaskQueue)))(SimpleName:enqueue)(METHOD_INVOCATION_ARGUMENTS(SimpleName:task))))(VariableDeclarationStatement(SimpleType(SimpleName:WriteFileEvent))(VariableDeclarationFragment(SimpleName:event)(CastExpression(SimpleType(SimpleName:WriteFileEvent))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:testChannel))(SimpleName:take)))))(ExpressionStatement(MethodInvocation(SimpleName:assertTrue)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:event))(SimpleName:isSuccesful)))))(VariableDeclarationStatement(Modifier:final)(SimpleType(SimpleName:ReadFileTask))(VariableDeclarationFragment(SimpleName:readTask2)(ClassInstanceCreation(SimpleType(SimpleName:ReadFileTask))(SimpleName:writeFile)(NullLiteral)(StringLiteral:<STR>))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:io))(SimpleName:getTaskQueue)))(SimpleName:enqueue)(METHOD_INVOCATION_ARGUMENTS(SimpleName:readTask2))))(VariableDeclarationStatement(Modifier:final)(SimpleType(SimpleName:ReadFileEvent))(VariableDeclarationFragment(SimpleName:readEvent2)(CastExpression(SimpleType(SimpleName:ReadFileEvent))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:testChannel))(SimpleName:take)))))(VariableDeclarationStatement(Modifier:final)(ArrayType(PrimitiveType:byte)(Dimension))(VariableDeclarationFragment(SimpleName:data2)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:readEvent2))(SimpleName:getData))))(ExpressionStatement(MethodInvocation(SimpleName:assertEquals)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:20)(QualifiedName:data2.length))))(ExpressionStatement(MethodInvocation(SimpleName:assertTrue)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(StringLiteral:<STR>))(SimpleName:equals)(METHOD_INVOCATION_ARGUMENTS(ClassInstanceCreation(SimpleType(SimpleName:String))(SimpleName:data2)))))))))))