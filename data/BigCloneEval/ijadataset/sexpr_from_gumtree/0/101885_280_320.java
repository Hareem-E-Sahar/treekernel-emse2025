(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(MarkerAnnotation(SimpleName:Override))(Modifier:public)(PrimitiveType:void)(SimpleName:handle)(SingleVariableDeclaration(SimpleType(SimpleName:DecodeResponse))(SimpleName:event))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:logger))(SimpleName:debug)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(SimpleName:storageIndex)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:common))(SimpleName:getCurrentSegmentNum)))))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:k)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:event))(SimpleName:getK))))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:pad)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:common))(SimpleName:getPaddingValue))))(VariableDeclarationStatement(SimpleType(SimpleName:SHA256d))(VariableDeclarationFragment(SimpleName:crypttextSegmentHasher)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Hasher))(SimpleName:getCrypttextSegmenthasher))))(VariableDeclarationStatement(ParameterizedType(SimpleType(SimpleName:List))(ArrayType(PrimitiveType:byte)(Dimension)))(VariableDeclarationFragment(SimpleName:segment)(ClassInstanceCreation(ParameterizedType(SimpleType(SimpleName:ArrayList))(ArrayType(PrimitiveType:byte)(Dimension))))))(ForStatement(VariableDeclarationExpression(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:i)(NumberLiteral:0)))(InfixExpression(SimpleName:i)(INFIX_EXPRESSION_OPERATOR:<)(SimpleName:k))(PostfixExpression(SimpleName:i)(POSTFIX_EXPRESSION_OPERATOR:++))(Block(VariableDeclarationStatement(ArrayType(PrimitiveType:byte)(Dimension))(VariableDeclarationFragment(SimpleName:chunk)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:event))(SimpleName:getBuffer)(METHOD_INVOCATION_ARGUMENTS(SimpleName:i)))))(IfStatement(InfixExpression(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:common))(SimpleName:isTailSegmentReached))(INFIX_EXPRESSION_OPERATOR:&&)(InfixExpression(SimpleName:i)(INFIX_EXPRESSION_OPERATOR:==)(InfixExpression(SimpleName:k)(INFIX_EXPRESSION_OPERATOR:-)(NumberLiteral:1))))(INFIX_EXPRESSION_OPERATOR:&&)(InfixExpression(SimpleName:pad)(INFIX_EXPRESSION_OPERATOR:>)(NumberLiteral:0)))(Block(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:newlen)(InfixExpression(QualifiedName:chunk.length)(INFIX_EXPRESSION_OPERATOR:-)(SimpleName:pad))))(ExpressionStatement(Assignment(SimpleName:chunk)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Arrays))(SimpleName:copyOf)(METHOD_INVOCATION_ARGUMENTS(SimpleName:chunk)(SimpleName:newlen)))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:crypttextSegmentHasher))(SimpleName:update)(METHOD_INVOCATION_ARGUMENTS(SimpleName:chunk))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:segment))(SimpleName:add)(METHOD_INVOCATION_ARGUMENTS(SimpleName:chunk))))))(VariableDeclarationStatement(ArrayType(PrimitiveType:byte)(Dimension))(VariableDeclarationFragment(SimpleName:segmentHash)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:crypttextSegmentHasher))(SimpleName:digest))))(TryStatement(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:common))(SimpleName:getCiphertextHashTree)))(SimpleName:setLeafHash)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:common))(SimpleName:getCurrentSegmentNum))(SimpleName:segmentHash))))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:index)(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:common))(SimpleName:getCurrentSegmentNum))(INFIX_EXPRESSION_OPERATOR:+)(NumberLiteral:1))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:logger))(SimpleName:debug)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(SimpleName:storageIndex))))(ExpressionStatement(MethodInvocation(SimpleName:trigger)(METHOD_INVOCATION_ARGUMENTS(ClassInstanceCreation(SimpleType(SimpleName:GotValidatedSegment))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:DataUtils))(SimpleName:join)(METHOD_INVOCATION_ARGUMENTS(SimpleName:segment)))(SimpleName:index)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:common))(SimpleName:getNumSegments)))(SimpleName:downloadnode))))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:common))(SimpleName:nextSegment))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:logger))(SimpleName:debug)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(SimpleName:storageIndex)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:common))(SimpleName:getCurrentSegmentNum)))))(ExpressionStatement(MethodInvocation(SimpleName:trigger)(METHOD_INVOCATION_ARGUMENTS(ClassInstanceCreation(SimpleType(SimpleName:GetSegment))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:common))(SimpleName:getCurrentSegmentNum)))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:segmentfetcher))(SimpleName:provided)(METHOD_INVOCATION_ARGUMENTS(TypeLiteral(SimpleType(SimpleName:SegmentFetcher)))))))))(Block(ExpressionStatement(Assignment(SimpleName:end)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:System))(SimpleName:currentTimeMillis))))(VariableDeclarationStatement(PrimitiveType:long)(VariableDeclarationFragment(SimpleName:elapsed)(InfixExpression(SimpleName:end)(INFIX_EXPRESSION_OPERATOR:-)(SimpleName:start))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:logger))(SimpleName:debug)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(SimpleName:storageIndex)(SimpleName:elapsed))))(IfStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:System))(SimpleName:getProperty)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(ExpressionStatement(MethodInvocation(SimpleName:debugWriteTimeStats)(METHOD_INVOCATION_ARGUMENTS(SimpleName:elapsed)(SimpleName:storageIndex))))))(ExpressionStatement(MethodInvocation(SimpleName:destroyAll)))(ExpressionStatement(MethodInvocation(SimpleName:trigger)(METHOD_INVOCATION_ARGUMENTS(ClassInstanceCreation(SimpleType(SimpleName:DownloadingDone))(ClassInstanceCreation(SimpleType(SimpleName:StatusMsg))(QualifiedName:Status.Succeeded)(StringLiteral:<STR>))(SimpleName:storageIndex))(SimpleName:downloadnode)))))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:BadHashError))(SimpleName:e))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:e))(SimpleName:printStackTrace)))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:NotEnoughHashesError))(SimpleName:e))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:e))(SimpleName:printStackTrace))))))))))