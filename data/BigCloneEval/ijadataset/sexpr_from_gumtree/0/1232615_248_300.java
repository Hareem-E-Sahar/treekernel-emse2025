(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:private)(SimpleType(SimpleName:ChannelTree))(SimpleName:getChannelTree)(SingleVariableDeclaration(SimpleType(SimpleName:Sink))(SimpleName:sink))(SingleVariableDeclaration(SimpleType(SimpleName:String))(SimpleName:path))(SingleVariableDeclaration(ParameterizedType(SimpleType(SimpleName:Map))(SimpleType(SimpleName:String))(SimpleType(SimpleName:Channel)))(SimpleName:channels))(SingleVariableDeclaration(PrimitiveType:int)(SimpleName:depth))(SimpleType(SimpleName:SAPIException))(Block(ExpressionStatement(PostfixExpression(SimpleName:depth)(POSTFIX_EXPRESSION_OPERATOR:++)))(VariableDeclarationStatement(SimpleType(SimpleName:ChannelTree))(VariableDeclarationFragment(SimpleName:ctree)(QualifiedName:ChannelTree.EMPTY_TREE)))(VariableDeclarationStatement(SimpleType(SimpleName:ChannelMap))(VariableDeclarationFragment(SimpleName:markerChannelMap)(ClassInstanceCreation(SimpleType(SimpleName:ChannelMap)))))(VariableDeclarationStatement(SimpleType(SimpleName:ChannelMap))(VariableDeclarationFragment(SimpleName:cmap)(ClassInstanceCreation(SimpleType(SimpleName:ChannelMap)))))(IfStatement(InfixExpression(SimpleName:path)(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(Block(ExpressionStatement(Assignment(SimpleName:path)(ASSIGNMENT_OPERATOR:=)(StringLiteral:<STR>)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:cmap))(SimpleName:Add)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:cmap))(SimpleName:Add)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(SimpleName:path)(INFIX_EXPRESSION_OPERATOR:+)(StringLiteral:<STR>)))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:sink))(SimpleName:RequestRegistration)(METHOD_INVOCATION_ARGUMENTS(SimpleName:cmap))))(ExpressionStatement(Assignment(SimpleName:cmap)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:sink))(SimpleName:Fetch)(METHOD_INVOCATION_ARGUMENTS(SimpleName:FETCH_TIMEOUT)(SimpleName:cmap)))))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:cmap))(SimpleName:GetIfFetchTimedOut))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:log))(SimpleName:error)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))(ReturnStatement(SimpleName:ctree))))(ExpressionStatement(Assignment(SimpleName:ctree)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ChannelTree))(SimpleName:createFromChannelMap)(METHOD_INVOCATION_ARGUMENTS(SimpleName:cmap)))))(VariableDeclarationStatement(ArrayType(SimpleType(SimpleName:String))(Dimension))(VariableDeclarationFragment(SimpleName:channelList)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:cmap))(SimpleName:GetChannelList))))(ForStatement(VariableDeclarationExpression(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:i)(NumberLiteral:0)))(InfixExpression(SimpleName:i)(INFIX_EXPRESSION_OPERATOR:<)(QualifiedName:channelList.length))(PostfixExpression(SimpleName:i)(POSTFIX_EXPRESSION_OPERATOR:++))(Block(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:channelIndex)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:cmap))(SimpleName:GetIndex)(METHOD_INVOCATION_ARGUMENTS(ArrayAccess(SimpleName:channelList)(SimpleName:i))))))(IfStatement(InfixExpression(SimpleName:channelIndex)(INFIX_EXPRESSION_OPERATOR:!=)(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:-)(NumberLiteral:1)))(Block(VariableDeclarationStatement(SimpleType(QualifiedName:ChannelTree.Node))(VariableDeclarationFragment(SimpleName:node)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ctree))(SimpleName:findNode)(METHOD_INVOCATION_ARGUMENTS(ArrayAccess(SimpleName:channelList)(SimpleName:i))))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:userMetadata)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:cmap))(SimpleName:GetUserInfo)(METHOD_INVOCATION_ARGUMENTS(SimpleName:channelIndex)))))(VariableDeclarationStatement(SimpleType(SimpleName:Channel))(VariableDeclarationFragment(SimpleName:channel)(ClassInstanceCreation(SimpleType(SimpleName:Channel))(SimpleName:node)(SimpleName:userMetadata))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:channels))(SimpleName:put)(METHOD_INVOCATION_ARGUMENTS(ArrayAccess(SimpleName:channelList)(SimpleName:i))(SimpleName:channel))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:mimeType)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:channel))(SimpleName:getMetadata)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))))(IfStatement(InfixExpression(InfixExpression(SimpleName:mimeType)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(INFIX_EXPRESSION_OPERATOR:&&)(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:mimeType))(SimpleName:compareToIgnoreCase)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:EventMarker.MIME_TYPE)))(INFIX_EXPRESSION_OPERATOR:==)(NumberLiteral:0)))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:markerChannelMap))(SimpleName:Add)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:node))(SimpleName:getFullName)))))))))))(VariableDeclarationStatement(SimpleType(SimpleName:Iterator))(VariableDeclarationFragment(SimpleName:it)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ctree))(SimpleName:iterator))))(WhileStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:it))(SimpleName:hasNext))(Block(VariableDeclarationStatement(SimpleType(QualifiedName:ChannelTree.Node))(VariableDeclarationFragment(SimpleName:node)(CastExpression(SimpleType(QualifiedName:ChannelTree.Node))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:it))(SimpleName:next)))))(VariableDeclarationStatement(SimpleType(SimpleName:NodeTypeEnum))(VariableDeclarationFragment(SimpleName:type)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:node))(SimpleName:getType))))(IfStatement(InfixExpression(ParenthesizedExpression(InfixExpression(InfixExpression(SimpleName:type)(INFIX_EXPRESSION_OPERATOR:==)(QualifiedName:ChannelTree.SERVER))(INFIX_EXPRESSION_OPERATOR:||)(InfixExpression(SimpleName:type)(INFIX_EXPRESSION_OPERATOR:==)(QualifiedName:ChannelTree.PLUGIN))))(INFIX_EXPRESSION_OPERATOR:&&)(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:path))(SimpleName:startsWith)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:node))(SimpleName:getFullName)))))(InfixExpression(SimpleName:depth)(INFIX_EXPRESSION_OPERATOR:<)(SimpleName:MAX_REQUEST_DEPTH)))(Block(VariableDeclarationStatement(SimpleType(SimpleName:ChannelTree))(VariableDeclarationFragment(SimpleName:childChannelTree)(MethodInvocation(SimpleName:getChannelTree)(METHOD_INVOCATION_ARGUMENTS(SimpleName:sink)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:node))(SimpleName:getFullName))(SimpleName:channels)(SimpleName:depth)))))(ExpressionStatement(Assignment(SimpleName:ctree)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:childChannelTree))(SimpleName:merge)(METHOD_INVOCATION_ARGUMENTS(SimpleName:ctree)))))))))(IfStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:markerChannelMap))(SimpleName:NumberOfChannels))(INFIX_EXPRESSION_OPERATOR:>)(NumberLiteral:0))(Block(VariableDeclarationStatement(PrimitiveType:double)(VariableDeclarationFragment(SimpleName:markersDuration)(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:System))(SimpleName:currentTimeMillis))(INFIX_EXPRESSION_OPERATOR:/)(NumberLiteral:1000d))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:sink))(SimpleName:Request)(METHOD_INVOCATION_ARGUMENTS(SimpleName:markerChannelMap)(NumberLiteral:0)(SimpleName:markersDuration)(StringLiteral:<STR>))))(ExpressionStatement(Assignment(SimpleName:markerChannelMap)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:sink))(SimpleName:Fetch)(METHOD_INVOCATION_ARGUMENTS(SimpleName:FETCH_TIMEOUT)(SimpleName:markerChannelMap)))))(IfStatement(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:markerChannelMap))(SimpleName:GetIfFetchTimedOut)))(Block(ExpressionStatement(MethodInvocation(SimpleName:fireMarkersUpdated)(METHOD_INVOCATION_ARGUMENTS(SimpleName:markerChannelMap)))))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:log))(SimpleName:error)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))))))(ReturnStatement(SimpleName:ctree))))))