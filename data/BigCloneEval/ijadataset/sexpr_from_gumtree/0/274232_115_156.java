(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:private)(PrimitiveType:void)(SimpleName:writeToSQL)(SingleVariableDeclaration(SimpleType(SimpleName:Long))(SimpleName:parentRowID))(SingleVariableDeclaration(SimpleType(SimpleName:ThreadTraceData))(SimpleName:data))(SingleVariableDeclaration(SimpleType(SimpleName:Connection))(SimpleName:conn))(SingleVariableDeclaration(SimpleType(SimpleName:String))(SimpleName:schema))(SingleVariableDeclaration(SimpleType(SimpleName:Map))(SimpleName:categoryNameCache))(SimpleType(SimpleName:SQLException))(Block(VariableDeclarationStatement(SimpleType(SimpleName:Long))(VariableDeclarationFragment(SimpleName:myRowID)(NullLiteral)))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:s)(ConditionalExpression(ParenthesizedExpression(InfixExpression(SimpleName:schema)(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral)))(StringLiteral:<STR>)(ParenthesizedExpression(InfixExpression(SimpleName:schema)(INFIX_EXPRESSION_OPERATOR:+)(StringLiteral:<STR>))))))(VariableDeclarationStatement(Modifier:final)(PrimitiveType:boolean)(VariableDeclarationFragment(SimpleName:oracleConnection)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:JDBCHelper))(SimpleName:isOracleConnection)(METHOD_INVOCATION_ARGUMENTS(SimpleName:conn)))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:categoryName)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:data))(SimpleName:getName))))(VariableDeclarationStatement(SimpleType(SimpleName:Long))(VariableDeclarationFragment(SimpleName:categoryID)(CastExpression(SimpleType(SimpleName:Long))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:categoryNameCache))(SimpleName:get)(METHOD_INVOCATION_ARGUMENTS(SimpleName:categoryName))))))(IfStatement(InfixExpression(SimpleName:categoryID)(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(Block(ExpressionStatement(Assignment(SimpleName:categoryID)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:JDBCHelper))(SimpleName:simpleGetOrCreate)(METHOD_INVOCATION_ARGUMENTS(SimpleName:conn)(InfixExpression(SimpleName:s)(INFIX_EXPRESSION_OPERATOR:+)(StringLiteral:<STR>))(StringLiteral:<STR>)(StringLiteral:<STR>)(SimpleName:categoryName)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:categoryNameCache))(SimpleName:put)(METHOD_INVOCATION_ARGUMENTS(SimpleName:categoryID)(SimpleName:categoryName))))))(VariableDeclarationStatement(SimpleType(SimpleName:PreparedStatement))(VariableDeclarationFragment(SimpleName:stmtInsert)(NullLiteral)))(VariableDeclarationStatement(SimpleType(SimpleName:ResultSet))(VariableDeclarationFragment(SimpleName:rs)(NullLiteral)))(TryStatement(Block(VariableDeclarationStatement(Modifier:final)(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:sql)(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:s)(StringLiteral:<STR>)(StringLiteral:<STR>)(StringLiteral:<STR>))))(IfStatement(SimpleName:oracleConnection)(Block(ExpressionStatement(Assignment(SimpleName:stmtInsert)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:conn))(SimpleName:prepareStatement)(METHOD_INVOCATION_ARGUMENTS(SimpleName:sql)(ArrayCreation(ArrayType(PrimitiveType:int)(Dimension))(ArrayInitializer(NumberLiteral:1))))))))(Block(ExpressionStatement(Assignment(SimpleName:stmtInsert)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:conn))(SimpleName:prepareStatement)(METHOD_INVOCATION_ARGUMENTS(SimpleName:sql)(QualifiedName:Statement.RETURN_GENERATED_KEYS)))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:stmtInsert))(SimpleName:setObject)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:1)(SimpleName:parentRowID)(QualifiedName:Types.INTEGER))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:stmtInsert))(SimpleName:setLong)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:2)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:categoryID))(SimpleName:longValue)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:stmtInsert))(SimpleName:setTimestamp)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:3)(ClassInstanceCreation(SimpleType(SimpleName:Timestamp))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:data))(SimpleName:getStartTime))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:stmtInsert))(SimpleName:setTimestamp)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:4)(ClassInstanceCreation(SimpleType(SimpleName:Timestamp))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:data))(SimpleName:getEndTime))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:stmtInsert))(SimpleName:setLong)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:5)(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:data))(SimpleName:getEndTime))(INFIX_EXPRESSION_OPERATOR:-)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:data))(SimpleName:getStartTime))))))(VariableDeclarationStatement(SimpleType(SimpleName:Long))(VariableDeclarationFragment(SimpleName:sqlTimeVal)(NullLiteral)))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:SQLTime))(SimpleName:isEnabled))(Block(ExpressionStatement(Assignment(SimpleName:sqlTimeVal)(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(SimpleType(SimpleName:Long))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Math))(SimpleName:max)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:0)(InfixExpression(SimpleName:sqlEndTime)(INFIX_EXPRESSION_OPERATOR:-)(SimpleName:sqlStartTime)))))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:stmtInsert))(SimpleName:setObject)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:6)(SimpleName:sqlTimeVal)(QualifiedName:Types.INTEGER))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:stmtInsert))(SimpleName:execute)))(ExpressionStatement(Assignment(SimpleName:rs)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:stmtInsert))(SimpleName:getGeneratedKeys))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:rs))(SimpleName:next)))(ExpressionStatement(Assignment(SimpleName:myRowID)(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(SimpleType(SimpleName:Long))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:rs))(SimpleName:getLong)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:1)))))))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:JDBCHelper))(SimpleName:closeNoThrow)(METHOD_INVOCATION_ARGUMENTS(SimpleName:rs))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:JDBCHelper))(SimpleName:closeNoThrow)(METHOD_INVOCATION_ARGUMENTS(SimpleName:stmtInsert))))))(VariableDeclarationStatement(SimpleType(SimpleName:ThreadTraceData))(VariableDeclarationFragment(SimpleName:children)(Dimension)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:data))(SimpleName:getChildren))))(ForStatement(VariableDeclarationExpression(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:i)(NumberLiteral:0)))(InfixExpression(SimpleName:i)(INFIX_EXPRESSION_OPERATOR:<)(QualifiedName:children.length))(PostfixExpression(SimpleName:i)(POSTFIX_EXPRESSION_OPERATOR:++))(Block(ExpressionStatement(MethodInvocation(SimpleName:writeToSQL)(METHOD_INVOCATION_ARGUMENTS(SimpleName:myRowID)(ArrayAccess(SimpleName:children)(SimpleName:i))(SimpleName:conn)(SimpleName:schema)(SimpleName:categoryNameCache))))))))))