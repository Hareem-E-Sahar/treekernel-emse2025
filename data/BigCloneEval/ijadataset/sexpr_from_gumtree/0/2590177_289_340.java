(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:public)(PrimitiveType:boolean)(SimpleName:onDisconnect)(SingleVariableDeclaration(SimpleType(SimpleName:INonBlockingConnection))(SimpleName:conn))(SimpleType(SimpleName:IOException))(Block(TryStatement(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Log))(SimpleName:info)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:conn))(SimpleName:getAttachment))))))(VariableDeclarationStatement(Modifier:final)(SimpleType(SimpleName:ClientHandle))(VariableDeclarationFragment(SimpleName:cs)(MethodInvocation(SimpleName:remove)(METHOD_INVOCATION_ARGUMENTS(SimpleName:conn)))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:identity)))(IfStatement(InfixExpression(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:cs))(SimpleName:getEmail))(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(INFIX_EXPRESSION_OPERATOR:||)(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:cs))(SimpleName:getEmail)))(SimpleName:length))(INFIX_EXPRESSION_OPERATOR:<=)(NumberLiteral:0)))(Block(ExpressionStatement(Assignment(SimpleName:identity)(ASSIGNMENT_OPERATOR:=)(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:conn))(SimpleName:getAttachment))))))(Block(ExpressionStatement(Assignment(SimpleName:identity)(ASSIGNMENT_OPERATOR:=)(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:cs))(SimpleName:getEmail))(INFIX_EXPRESSION_OPERATOR:+)(StringLiteral:<STR>)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:conn))(SimpleName:getAttachment)))))))(IfStatement(InfixExpression(SimpleName:cs)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Log))(SimpleName:info)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:identity)))))(VariableDeclarationStatement(SimpleType(SimpleName:KillPeerMessage))(VariableDeclarationFragment(SimpleName:killPeer)(ClassInstanceCreation(SimpleType(SimpleName:KillPeerMessage)))))(ExpressionStatement(Assignment(QualifiedName:killPeer.id)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:cs))(SimpleName:getId))))(EnhancedForStatement(SingleVariableDeclaration(SimpleType(SimpleName:Integer))(SimpleName:id))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:cs))(SimpleName:getIds))(Block(VariableDeclarationStatement(SimpleType(SimpleName:ClientHandle))(VariableDeclarationFragment(SimpleName:ses)(MethodInvocation(SimpleName:get)(METHOD_INVOCATION_ARGUMENTS(SimpleName:id)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ses))(SimpleName:getIds)))(SimpleName:remove)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Integer))(SimpleName:valueOf)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:cs))(SimpleName:getId)))))))(ExpressionStatement(MethodInvocation(SimpleName:send)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ses))(SimpleName:connection))(SimpleName:killPeer))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:cs))(SimpleName:getIds)))(SimpleName:clear)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Log))(SimpleName:info)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:identity)))))(IfStatement(InfixExpression(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:cs))(SimpleName:getEmail))(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(INFIX_EXPRESSION_OPERATOR:&&)(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:cs))(SimpleName:getEmail)))(SimpleName:length))(INFIX_EXPRESSION_OPERATOR:>)(NumberLiteral:0)))(Block(VariableDeclarationStatement(SimpleType(SimpleName:Session))(VariableDeclarationFragment(SimpleName:s)(NullLiteral)))(TryStatement(Block(ExpressionStatement(Assignment(SimpleName:s)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:DB))(SimpleName:begin))))(VariableDeclarationStatement(SimpleType(SimpleName:Account))(VariableDeclarationFragment(SimpleName:acc)(CastExpression(SimpleType(SimpleName:Account))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:DB))(SimpleName:queryOne)(METHOD_INVOCATION_ARGUMENTS(SimpleName:s)(TypeLiteral(SimpleType(SimpleName:Account)))(QualifiedName:Account.F_ACC_EMAIL)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:cs))(SimpleName:getEmail)))))))(IfStatement(InfixExpression(SimpleName:acc)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:acc))(SimpleName:setAccOnline)(METHOD_INVOCATION_ARGUMENTS(BooleanLiteral:false))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:s))(SimpleName:update)(METHOD_INVOCATION_ARGUMENTS(SimpleName:acc))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:DB))(SimpleName:commit)(METHOD_INVOCATION_ARGUMENTS(SimpleName:s))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Log))(SimpleName:info)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:identity)(StringLiteral:<STR>))))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:Exception))(SimpleName:ex))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ex))(SimpleName:printStackTrace)))(IfStatement(InfixExpression(SimpleName:s)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(TryStatement(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:DB))(SimpleName:rollback)(METHOD_INVOCATION_ARGUMENTS(SimpleName:s)))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:Exception))(SimpleName:e))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:e))(SimpleName:printStackTrace)))))))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Persister))(SimpleName:getInstance)))(SimpleName:execute)(METHOD_INVOCATION_ARGUMENTS(ClassInstanceCreation(SimpleType(SimpleName:Offline))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:cs))(SimpleName:getChannel))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:cs))(SimpleName:getEmail))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Log))(SimpleName:info)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:identity)(StringLiteral:<STR>)))))))))(ExpressionStatement(MethodInvocation(SimpleName:fireOnDisconnected)(METHOD_INVOCATION_ARGUMENTS(SimpleName:conn)))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:Exception))(SimpleName:ex))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ex))(SimpleName:printStackTrace))))))(ReturnStatement(BooleanLiteral:true))))))