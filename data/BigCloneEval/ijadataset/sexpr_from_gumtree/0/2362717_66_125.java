(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:protected)(PrimitiveType:long)(SimpleName:incrementInDatabase)(SingleVariableDeclaration(SimpleType(SimpleName:Object))(SimpleName:type))(Block(VariableDeclarationStatement(PrimitiveType:long)(VariableDeclarationFragment(SimpleName:current_value)))(VariableDeclarationStatement(PrimitiveType:long)(VariableDeclarationFragment(SimpleName:new_value)))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:entry)))(IfStatement(InfixExpression(SimpleName:global_entry)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(ExpressionStatement(Assignment(SimpleName:entry)(ASSIGNMENT_OPERATOR:=)(SimpleName:global_entry)))(ThrowStatement(ClassInstanceCreation(SimpleType(SimpleName:UnsupportedOperationException))(StringLiteral:<STR>))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:lkw)(CastExpression(SimpleType(SimpleName:String))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:properties))(SimpleName:get)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:sql_select)))(IfStatement(InfixExpression(InfixExpression(SimpleName:lkw)(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(INFIX_EXPRESSION_OPERATOR:&&)(ParenthesizedExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:database))(SimpleName:equals)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))))(Block(ExpressionStatement(Assignment(SimpleName:sql_select)(ASSIGNMENT_OPERATOR:=)(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:valcol)(StringLiteral:<STR>)(SimpleName:table)(StringLiteral:<STR>)(SimpleName:keycol)(StringLiteral:<STR>)))))(Block(IfStatement(InfixExpression(SimpleName:lkw)(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(Block(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:database))(SimpleName:equals)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))(ExpressionStatement(Assignment(SimpleName:lkw)(ASSIGNMENT_OPERATOR:=)(StringLiteral:<STR>)))(ExpressionStatement(Assignment(SimpleName:lkw)(ASSIGNMENT_OPERATOR:=)(StringLiteral:<STR>))))))(ExpressionStatement(Assignment(SimpleName:sql_select)(ASSIGNMENT_OPERATOR:=)(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:valcol)(StringLiteral:<STR>)(SimpleName:table)(StringLiteral:<STR>)(SimpleName:keycol)(StringLiteral:<STR>)(SimpleName:lkw))))))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:log))(SimpleName:isDebugEnabled))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:log))(SimpleName:debug)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:sql_select))))))(VariableDeclarationStatement(SimpleType(SimpleName:Connection))(VariableDeclarationFragment(SimpleName:conn)(NullLiteral)))(TryStatement(Block(ExpressionStatement(Assignment(SimpleName:conn)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:connfactory))(SimpleName:requestConnection))))(VariableDeclarationStatement(SimpleType(SimpleName:PreparedStatement))(VariableDeclarationFragment(SimpleName:stm1)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:conn))(SimpleName:prepareStatement)(METHOD_INVOCATION_ARGUMENTS(SimpleName:sql_select)))))(TryStatement(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:stm1))(SimpleName:setString)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:1)(SimpleName:entry))))(VariableDeclarationStatement(SimpleType(SimpleName:ResultSet))(VariableDeclarationFragment(SimpleName:rs)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:stm1))(SimpleName:executeQuery))))(IfStatement(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:rs))(SimpleName:next)))(ThrowStatement(ClassInstanceCreation(SimpleType(SimpleName:OntopiaRuntimeException))(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:table)(StringLiteral:<STR>)))))(ExpressionStatement(Assignment(SimpleName:current_value)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:rs))(SimpleName:getLong)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:1)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:rs))(SimpleName:close))))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:stm1))(SimpleName:close)))))(ExpressionStatement(Assignment(SimpleName:new_value)(ASSIGNMENT_OPERATOR:=)(InfixExpression(SimpleName:current_value)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:grabsize))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:sql_update)(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:table)(StringLiteral:<STR>)(SimpleName:valcol)(StringLiteral:<STR>)(SimpleName:keycol)(StringLiteral:<STR>))))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:log))(SimpleName:isDebugEnabled))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:log))(SimpleName:debug)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:sql_update))))))(VariableDeclarationStatement(SimpleType(SimpleName:PreparedStatement))(VariableDeclarationFragment(SimpleName:stm2)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:conn))(SimpleName:prepareStatement)(METHOD_INVOCATION_ARGUMENTS(SimpleName:sql_update)))))(TryStatement(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:stm2))(SimpleName:setLong)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:1)(SimpleName:new_value))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:stm2))(SimpleName:setString)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:2)(SimpleName:entry))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:stm2))(SimpleName:executeUpdate))))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:stm2))(SimpleName:close)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:conn))(SimpleName:commit))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:SQLException))(SimpleName:e))(Block(TryStatement(Block(IfStatement(InfixExpression(SimpleName:conn)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:conn))(SimpleName:rollback)))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:SQLException))(SimpleName:e2))(Block)))(ThrowStatement(ClassInstanceCreation(SimpleType(SimpleName:OntopiaRuntimeException))(SimpleName:e)))))(Block(IfStatement(InfixExpression(SimpleName:conn)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(TryStatement(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:conn))(SimpleName:close))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:Exception))(SimpleName:e))(Block(ThrowStatement(ClassInstanceCreation(SimpleType(SimpleName:OntopiaRuntimeException))(SimpleName:e))))))))))(ExpressionStatement(Assignment(SimpleName:value)(ASSIGNMENT_OPERATOR:=)(InfixExpression(SimpleName:current_value)(INFIX_EXPRESSION_OPERATOR:+)(NumberLiteral:1))))(ExpressionStatement(Assignment(SimpleName:max_value)(ASSIGNMENT_OPERATOR:=)(SimpleName:new_value)))(ReturnStatement(SimpleName:value))))))