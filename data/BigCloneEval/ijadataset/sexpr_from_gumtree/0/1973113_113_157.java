(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:public)(SimpleType(QualifiedName:DocumentsWriter.DocWriter))(SimpleName:processDocument)(SimpleType(SimpleName:IOException))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:consumer))(SimpleName:startDocument)))(VariableDeclarationStatement(Modifier:final)(SimpleType(SimpleName:Document))(VariableDeclarationFragment(SimpleName:doc)(QualifiedName:docState.doc)))(AssertStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(QualifiedName:docFieldProcessor.docWriter.writer))(SimpleName:testPoint)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))(ExpressionStatement(Assignment(SimpleName:fieldCount)(ASSIGNMENT_OPERATOR:=)(NumberLiteral:0)))(VariableDeclarationStatement(Modifier:final)(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:thisFieldGen)(PostfixExpression(SimpleName:fieldGen)(POSTFIX_EXPRESSION_OPERATOR:++))))(VariableDeclarationStatement(Modifier:final)(SimpleType(SimpleName:List))(VariableDeclarationFragment(SimpleName:docFields)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:doc))(SimpleName:getFields))))(VariableDeclarationStatement(Modifier:final)(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:numDocFields)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:docFields))(SimpleName:size))))(ForStatement(VariableDeclarationExpression(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:i)(NumberLiteral:0)))(InfixExpression(SimpleName:i)(INFIX_EXPRESSION_OPERATOR:<)(SimpleName:numDocFields))(PostfixExpression(SimpleName:i)(POSTFIX_EXPRESSION_OPERATOR:++))(Block(VariableDeclarationStatement(SimpleType(SimpleName:Fieldable))(VariableDeclarationFragment(SimpleName:field)(CastExpression(SimpleType(SimpleName:Fieldable))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:docFields))(SimpleName:get)(METHOD_INVOCATION_ARGUMENTS(SimpleName:i))))))(VariableDeclarationStatement(Modifier:final)(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:fieldName)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:field))(SimpleName:name))))(VariableDeclarationStatement(Modifier:final)(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:hashPos)(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fieldName))(SimpleName:hashCode))(INFIX_EXPRESSION_OPERATOR:&)(SimpleName:hashMask))))(VariableDeclarationStatement(SimpleType(SimpleName:DocFieldProcessorPerField))(VariableDeclarationFragment(SimpleName:fp)(ArrayAccess(SimpleName:fieldHash)(SimpleName:hashPos))))(WhileStatement(InfixExpression(InfixExpression(SimpleName:fp)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(INFIX_EXPRESSION_OPERATOR:&&)(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(MethodInvocation(METHOD_INVOCATION_RECEIVER(QualifiedName:fp.fieldInfo.name))(SimpleName:equals)(METHOD_INVOCATION_ARGUMENTS(SimpleName:fieldName)))))(ExpressionStatement(Assignment(SimpleName:fp)(ASSIGNMENT_OPERATOR:=)(QualifiedName:fp.next))))(IfStatement(InfixExpression(SimpleName:fp)(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(Block(VariableDeclarationStatement(SimpleType(SimpleName:FieldInfo))(VariableDeclarationFragment(SimpleName:fi)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fieldInfos))(SimpleName:add)(METHOD_INVOCATION_ARGUMENTS(SimpleName:fieldName)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:field))(SimpleName:isIndexed))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:field))(SimpleName:isTermVectorStored))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:field))(SimpleName:isStorePositionWithTermVector))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:field))(SimpleName:isStoreOffsetWithTermVector))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:field))(SimpleName:getOmitNorms))(BooleanLiteral:false)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:field))(SimpleName:getOmitTf))))))(ExpressionStatement(Assignment(SimpleName:fp)(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(SimpleType(SimpleName:DocFieldProcessorPerField))(ThisExpression)(SimpleName:fi))))(ExpressionStatement(Assignment(QualifiedName:fp.next)(ASSIGNMENT_OPERATOR:=)(ArrayAccess(SimpleName:fieldHash)(SimpleName:hashPos))))(ExpressionStatement(Assignment(ArrayAccess(SimpleName:fieldHash)(SimpleName:hashPos))(ASSIGNMENT_OPERATOR:=)(SimpleName:fp)))(ExpressionStatement(PostfixExpression(SimpleName:totalFieldCount)(POSTFIX_EXPRESSION_OPERATOR:++)))(IfStatement(InfixExpression(SimpleName:totalFieldCount)(INFIX_EXPRESSION_OPERATOR:>=)(InfixExpression(QualifiedName:fieldHash.length)(INFIX_EXPRESSION_OPERATOR:/)(NumberLiteral:2)))(ExpressionStatement(MethodInvocation(SimpleName:rehash)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(QualifiedName:fp.fieldInfo))(SimpleName:update)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:field))(SimpleName:isIndexed))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:field))(SimpleName:isTermVectorStored))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:field))(SimpleName:isStorePositionWithTermVector))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:field))(SimpleName:isStoreOffsetWithTermVector))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:field))(SimpleName:getOmitNorms))(BooleanLiteral:false)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:field))(SimpleName:getOmitTf))))))(IfStatement(InfixExpression(SimpleName:thisFieldGen)(INFIX_EXPRESSION_OPERATOR:!=)(QualifiedName:fp.lastGen))(Block(ExpressionStatement(Assignment(QualifiedName:fp.fieldCount)(ASSIGNMENT_OPERATOR:=)(NumberLiteral:0)))(IfStatement(InfixExpression(SimpleName:fieldCount)(INFIX_EXPRESSION_OPERATOR:==)(QualifiedName:fields.length))(Block(VariableDeclarationStatement(Modifier:final)(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:newSize)(InfixExpression(QualifiedName:fields.length)(INFIX_EXPRESSION_OPERATOR:*)(NumberLiteral:2))))(VariableDeclarationStatement(SimpleType(SimpleName:DocFieldProcessorPerField))(VariableDeclarationFragment(SimpleName:newArray)(Dimension)(ArrayCreation(ArrayType(SimpleType(SimpleName:DocFieldProcessorPerField))(Dimension(SimpleName:newSize))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:System))(SimpleName:arraycopy)(METHOD_INVOCATION_ARGUMENTS(SimpleName:fields)(NumberLiteral:0)(SimpleName:newArray)(NumberLiteral:0)(SimpleName:fieldCount))))(ExpressionStatement(Assignment(SimpleName:fields)(ASSIGNMENT_OPERATOR:=)(SimpleName:newArray)))))(ExpressionStatement(Assignment(ArrayAccess(SimpleName:fields)(PostfixExpression(SimpleName:fieldCount)(POSTFIX_EXPRESSION_OPERATOR:++)))(ASSIGNMENT_OPERATOR:=)(SimpleName:fp)))(ExpressionStatement(Assignment(QualifiedName:fp.lastGen)(ASSIGNMENT_OPERATOR:=)(SimpleName:thisFieldGen)))))(IfStatement(InfixExpression(QualifiedName:fp.fieldCount)(INFIX_EXPRESSION_OPERATOR:==)(QualifiedName:fp.fields.length))(Block(VariableDeclarationStatement(ArrayType(SimpleType(SimpleName:Fieldable))(Dimension))(VariableDeclarationFragment(SimpleName:newArray)(ArrayCreation(ArrayType(SimpleType(SimpleName:Fieldable))(Dimension(InfixExpression(QualifiedName:fp.fields.length)(INFIX_EXPRESSION_OPERATOR:*)(NumberLiteral:2)))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:System))(SimpleName:arraycopy)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:fp.fields)(NumberLiteral:0)(SimpleName:newArray)(NumberLiteral:0)(QualifiedName:fp.fieldCount))))(ExpressionStatement(Assignment(QualifiedName:fp.fields)(ASSIGNMENT_OPERATOR:=)(SimpleName:newArray)))))(ExpressionStatement(Assignment(ArrayAccess(QualifiedName:fp.fields)(PostfixExpression(QualifiedName:fp.fieldCount)(POSTFIX_EXPRESSION_OPERATOR:++)))(ASSIGNMENT_OPERATOR:=)(SimpleName:field)))))(ExpressionStatement(MethodInvocation(SimpleName:quickSort)(METHOD_INVOCATION_ARGUMENTS(SimpleName:fields)(NumberLiteral:0)(InfixExpression(SimpleName:fieldCount)(INFIX_EXPRESSION_OPERATOR:-)(NumberLiteral:1)))))(ForStatement(VariableDeclarationExpression(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:i)(NumberLiteral:0)))(InfixExpression(SimpleName:i)(INFIX_EXPRESSION_OPERATOR:<)(SimpleName:fieldCount))(PostfixExpression(SimpleName:i)(POSTFIX_EXPRESSION_OPERATOR:++))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(FieldAccess(ArrayAccess(SimpleName:fields)(SimpleName:i))(SimpleName:consumer)))(SimpleName:processFields)(METHOD_INVOCATION_ARGUMENTS(FieldAccess(ArrayAccess(SimpleName:fields)(SimpleName:i))(SimpleName:fields))(FieldAccess(ArrayAccess(SimpleName:fields)(SimpleName:i))(SimpleName:fieldCount))))))(IfStatement(InfixExpression(InfixExpression(QualifiedName:docState.maxTermPrefix)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(INFIX_EXPRESSION_OPERATOR:&&)(InfixExpression(QualifiedName:docState.infoStream)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(QualifiedName:docState.infoStream))(SimpleName:println)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(QualifiedName:DocumentsWriter.MAX_TERM_LENGTH)(StringLiteral:<STR>)(QualifiedName:docState.maxTermPrefix)(StringLiteral:<STR>))))))(ReturnStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:consumer))(SimpleName:finishDocument)))))))