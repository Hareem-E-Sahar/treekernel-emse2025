(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:public)(Modifier:static)(SimpleType(SimpleName:PhotoInfo))(SimpleName:addToDB)(SingleVariableDeclaration(SimpleType(SimpleName:File))(SimpleName:imgFile))(SimpleType(SimpleName:PhotoNotFoundException))(Block(VariableDeclarationStatement(SimpleType(SimpleName:VolumeBase))(VariableDeclarationFragment(SimpleName:vol)(NullLiteral)))(TryStatement(Block(ExpressionStatement(Assignment(SimpleName:vol)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:VolumeBase))(SimpleName:getVolumeOfFile)(METHOD_INVOCATION_ARGUMENTS(SimpleName:imgFile))))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:IOException))(SimpleName:ex))(Block(ThrowStatement(ClassInstanceCreation(SimpleType(SimpleName:PhotoNotFoundException)))))))(VariableDeclarationStatement(SimpleType(SimpleName:File))(VariableDeclarationFragment(SimpleName:instanceFile)(NullLiteral)))(IfStatement(InfixExpression(SimpleName:vol)(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(Block(ExpressionStatement(Assignment(SimpleName:vol)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:VolumeBase))(SimpleName:getDefaultVolume))))(ExpressionStatement(Assignment(SimpleName:instanceFile)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:vol))(SimpleName:getFilingFname)(METHOD_INVOCATION_ARGUMENTS(SimpleName:imgFile)))))(TryStatement(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:FileUtils))(SimpleName:copyFile)(METHOD_INVOCATION_ARGUMENTS(SimpleName:imgFile)(SimpleName:instanceFile)))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:IOException))(SimpleName:ex))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:log))(SimpleName:warn)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ex))(SimpleName:getMessage))))))(ThrowStatement(ClassInstanceCreation(SimpleType(SimpleName:PhotoNotFoundException))))))))(IfStatement(InstanceofExpression(SimpleName:vol)(SimpleType(SimpleName:ExternalVolume)))(Block(ExpressionStatement(Assignment(SimpleName:instanceFile)(ASSIGNMENT_OPERATOR:=)(SimpleName:imgFile))))(IfStatement(InstanceofExpression(SimpleName:vol)(SimpleType(SimpleName:Volume)))(Block(ThrowStatement(ClassInstanceCreation(SimpleType(SimpleName:PhotoNotFoundException)))))(Block(ThrowStatement(ClassInstanceCreation(SimpleType(QualifiedName:java.lang.Error))(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:vol))(SimpleName:getClass)))(SimpleName:getName)))))))))(VariableDeclarationStatement(SimpleType(SimpleName:ODMGXAWrapper))(VariableDeclarationFragment(SimpleName:txw)(ClassInstanceCreation(SimpleType(SimpleName:ODMGXAWrapper)))))(VariableDeclarationStatement(SimpleType(SimpleName:PhotoInfo))(VariableDeclarationFragment(SimpleName:photo)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:PhotoInfo))(SimpleName:create))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:txw))(SimpleName:lock)(METHOD_INVOCATION_ARGUMENTS(SimpleName:photo)(QualifiedName:Transaction.WRITE))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:photo))(SimpleName:addInstance)(METHOD_INVOCATION_ARGUMENTS(SimpleName:vol)(SimpleName:instanceFile)(QualifiedName:ImageInstance.INSTANCE_TYPE_ORIGINAL))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:photo))(SimpleName:setCropBounds)(METHOD_INVOCATION_ARGUMENTS(ClassInstanceCreation(SimpleType(QualifiedName:Rectangle2D.Float))(NumberLiteral:0.0F)(NumberLiteral:0.0F)(NumberLiteral:1.0F)(NumberLiteral:1.0F)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:photo))(SimpleName:updateFromOriginalFile)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:txw))(SimpleName:commit)))(ReturnStatement(SimpleName:photo))))))