(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:private)(PrimitiveType:void)(SimpleName:saveKwantuModelUncommitted)(SingleVariableDeclaration(SimpleType(SimpleName:KwantuModel))(SimpleName:model))(SingleVariableDeclaration(PrimitiveType:boolean)(SimpleName:overwrite))(SingleVariableDeclaration(SimpleType(SimpleName:Session))(SimpleName:session))(Block(TryStatement(Block(VariableDeclarationStatement(SimpleType(SimpleName:Query))(VariableDeclarationFragment(SimpleName:query)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:session))(SimpleName:createQuery)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:query))(SimpleName:setString)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:model))(SimpleName:getName)))))(VariableDeclarationStatement(SimpleType(SimpleName:KwantuModel))(VariableDeclarationFragment(SimpleName:existingModel)(CastExpression(SimpleType(SimpleName:KwantuModel))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:query))(SimpleName:uniqueResult)))))(IfStatement(InfixExpression(SimpleName:existingModel)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(IfStatement(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(SimpleName:overwrite))(Block(ThrowStatement(ClassInstanceCreation(SimpleType(SimpleName:KwantuFaultException))(StringLiteral:<STR>)))))(ExpressionStatement(MethodInvocation(SimpleName:emptyKwantuModel)(METHOD_INVOCATION_ARGUMENTS(SimpleName:existingModel)(SimpleName:session))))(VariableDeclarationStatement(SimpleType(SimpleName:KwantuBusinessObjectModel))(VariableDeclarationFragment(SimpleName:bom)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:model))(SimpleName:getKwantuBusinessObjectModel))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:bom))(SimpleName:setOwningKwantuModel)(METHOD_INVOCATION_ARGUMENTS(SimpleName:existingModel))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:existingModel))(SimpleName:setKwantuBusinessObjectModel)(METHOD_INVOCATION_ARGUMENTS(SimpleName:bom))))(EnhancedForStatement(SingleVariableDeclaration(SimpleType(SimpleName:KwantuPanel))(SimpleName:p))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:model))(SimpleName:getUiPanels))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:p))(SimpleName:setOwningKwantuModel)(METHOD_INVOCATION_ARGUMENTS(SimpleName:existingModel))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:existingModel))(SimpleName:getUiPanels)))(SimpleName:add)(METHOD_INVOCATION_ARGUMENTS(SimpleName:p))))))(ExpressionStatement(Assignment(SimpleName:model)(ASSIGNMENT_OPERATOR:=)(SimpleName:existingModel)))))(EnhancedForStatement(SingleVariableDeclaration(SimpleType(SimpleName:KwantuClass))(SimpleName:c))(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:model))(SimpleName:getKwantuBusinessObjectModel)))(SimpleName:getKwantuClasses))(Block(EnhancedForStatement(SingleVariableDeclaration(SimpleType(SimpleName:KwantuRelationship))(SimpleName:rel))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:c))(SimpleName:getDeclaredKwantuRelationships))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:session))(SimpleName:save)(METHOD_INVOCATION_ARGUMENTS(SimpleName:rel))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:session))(SimpleName:save)(METHOD_INVOCATION_ARGUMENTS(SimpleName:c))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:session))(SimpleName:save)(METHOD_INVOCATION_ARGUMENTS(SimpleName:model)))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:HibernateException))(SimpleName:ex))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:session))(SimpleName:getTransaction)))(SimpleName:rollback)))(ThrowStatement(ClassInstanceCreation(SimpleType(SimpleName:KwantuFaultException))(StringLiteral:<STR>)(SimpleName:ex))))))))))