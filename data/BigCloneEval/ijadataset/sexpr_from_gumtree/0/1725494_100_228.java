(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:public)(PrimitiveType:void)(SimpleName:doTestJabber)(SingleVariableDeclaration(SimpleType(SimpleName:TestType))(SimpleName:testType))(SimpleType(SimpleName:Exception))(Block(VariableDeclarationStatement(SimpleType(SimpleName:ConnectionConfiguration))(VariableDeclarationFragment(SimpleName:config)(ClassInstanceCreation(SimpleType(SimpleName:ConnectionConfiguration))(SimpleName:JABBER_SERVER)(SimpleName:JABBER_PORT)(SimpleName:JABBER_SERVICE))))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:config))(SimpleName:setSASLAuthenticationEnabled)(METHOD_INVOCATION_ARGUMENTS(SimpleName:JABBER_SASL_AUTHENTICATION_ENABLED)))))(VariableDeclarationStatement(Modifier:final)(SimpleType(SimpleName:XMPPConnection))(VariableDeclarationFragment(SimpleName:conn)(ClassInstanceCreation(SimpleType(SimpleName:XMPPConnection))(SimpleName:config))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:conn))(SimpleName:connect)))(ExpressionStatement(Assignment(SimpleName:discoManager)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ServiceDiscoveryManager))(SimpleName:getInstanceFor)(METHOD_INVOCATION_ARGUMENTS(SimpleName:conn)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:conn))(SimpleName:addConnectionListener)(METHOD_INVOCATION_ARGUMENTS(ClassInstanceCreation(SimpleType(SimpleName:ConnectionListener))(AnonymousClassDeclaration(MethodDeclaration(Modifier:public)(PrimitiveType:void)(SimpleName:connectionClosed)(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:log))(SimpleName:info)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))))(MethodDeclaration(Modifier:public)(PrimitiveType:void)(SimpleName:connectionClosedOnError)(SingleVariableDeclaration(SimpleType(SimpleName:Exception))(SimpleName:e))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:log))(SimpleName:info)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(SimpleName:e))))))(MethodDeclaration(Modifier:public)(PrimitiveType:void)(SimpleName:reconnectingIn)(SingleVariableDeclaration(PrimitiveType:int)(SimpleName:seconds))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:log))(SimpleName:info)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))))(MethodDeclaration(Modifier:public)(PrimitiveType:void)(SimpleName:reconnectionSuccessful)(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:log))(SimpleName:info)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))))(MethodDeclaration(Modifier:public)(PrimitiveType:void)(SimpleName:reconnectionFailed)(SingleVariableDeclaration(SimpleType(SimpleName:Exception))(SimpleName:e))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:log))(SimpleName:info)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(SimpleName:e)))))))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:conn))(SimpleName:addPacketListener)(METHOD_INVOCATION_ARGUMENTS(ClassInstanceCreation(SimpleType(SimpleName:PacketListener))(AnonymousClassDeclaration(MethodDeclaration(Modifier:public)(PrimitiveType:void)(SimpleName:processPacket)(SingleVariableDeclaration(SimpleType(SimpleName:Packet))(SimpleName:packet))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:log))(SimpleName:trace)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:packet))(SimpleName:getClass))(StringLiteral:<STR>)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:packet))(SimpleName:toXML))))))(IfStatement(InstanceofExpression(SimpleName:packet)(SimpleType(SimpleName:Presence)))(Block(VariableDeclarationStatement(SimpleType(SimpleName:Presence))(VariableDeclarationFragment(SimpleName:presence)(CastExpression(SimpleType(SimpleName:Presence))(SimpleName:packet))))(IfStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:presence))(SimpleName:getType))(INFIX_EXPRESSION_OPERATOR:==)(QualifiedName:Presence.Type.subscribe))(Block(VariableDeclarationStatement(SimpleType(SimpleName:Presence))(VariableDeclarationFragment(SimpleName:response)(ClassInstanceCreation(SimpleType(SimpleName:Presence))(QualifiedName:Presence.Type.subscribed))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:response))(SimpleName:setTo)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:presence))(SimpleName:getFrom)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:conn))(SimpleName:sendPacket)(METHOD_INVOCATION_ARGUMENTS(SimpleName:response))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:log))(SimpleName:info)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:presence))(SimpleName:getFrom)))))))(IfStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:presence))(SimpleName:getType))(INFIX_EXPRESSION_OPERATOR:==)(QualifiedName:Presence.Type.unsubscribe))(Block(VariableDeclarationStatement(SimpleType(SimpleName:Presence))(VariableDeclarationFragment(SimpleName:response)(ClassInstanceCreation(SimpleType(SimpleName:Presence))(QualifiedName:Presence.Type.unsubscribed))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:response))(SimpleName:setTo)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:presence))(SimpleName:getFrom)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:conn))(SimpleName:sendPacket)(METHOD_INVOCATION_ARGUMENTS(SimpleName:response))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:log))(SimpleName:info)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:presence))(SimpleName:getFrom)))))))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:log))(SimpleName:debug)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:presence))))))))))))))(NullLiteral))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:conn))(SimpleName:addPacketWriterListener)(METHOD_INVOCATION_ARGUMENTS(ClassInstanceCreation(SimpleType(SimpleName:PacketListener))(AnonymousClassDeclaration(MethodDeclaration(Modifier:public)(PrimitiveType:void)(SimpleName:processPacket)(SingleVariableDeclaration(SimpleType(SimpleName:Packet))(SimpleName:packet))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:log))(SimpleName:trace)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:packet))(SimpleName:toXML))))))))))(NullLiteral))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:conn))(SimpleName:login)(METHOD_INVOCATION_ARGUMENTS(SimpleName:JABBER_LOGIN)(SimpleName:JABBER_PASSWORD)(SimpleName:JABBER_CLIENT))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:log))(SimpleName:info)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:log))(SimpleName:info)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:conn))(SimpleName:getUser))))))(VariableDeclarationStatement(SimpleType(SimpleName:Roster))(VariableDeclarationFragment(SimpleName:roster)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:conn))(SimpleName:getRoster))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:roster))(SimpleName:addRosterListener)(METHOD_INVOCATION_ARGUMENTS(ClassInstanceCreation(SimpleType(SimpleName:RosterListener))(AnonymousClassDeclaration(MethodDeclaration(Modifier:public)(PrimitiveType:void)(SimpleName:entriesAdded)(SingleVariableDeclaration(ParameterizedType(SimpleType(SimpleName:Collection))(SimpleType(SimpleName:String)))(SimpleName:addresses))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:log))(SimpleName:info)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:addresses)))))))(MethodDeclaration(Modifier:public)(PrimitiveType:void)(SimpleName:entriesDeleted)(SingleVariableDeclaration(ParameterizedType(SimpleType(SimpleName:Collection))(SimpleType(SimpleName:String)))(SimpleName:addresses))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:log))(SimpleName:info)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:addresses)))))))(MethodDeclaration(Modifier:public)(PrimitiveType:void)(SimpleName:entriesUpdated)(SingleVariableDeclaration(ParameterizedType(SimpleType(SimpleName:Collection))(SimpleType(SimpleName:String)))(SimpleName:addresses))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:log))(SimpleName:info)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:addresses)))))))(MethodDeclaration(Modifier:public)(PrimitiveType:void)(SimpleName:presenceChanged)(SingleVariableDeclaration(SimpleType(SimpleName:Presence))(SimpleName:presence))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:log))(SimpleName:info)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:presence))(SimpleName:getFrom))(StringLiteral:<STR>)(SimpleName:presence))))))))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:roster))(SimpleName:setSubscriptionMode)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:Roster.SubscriptionMode.manual))))(Block(VariableDeclarationStatement(SimpleType(SimpleName:Presence))(VariableDeclarationFragment(SimpleName:presence)(ClassInstanceCreation(SimpleType(SimpleName:Presence))(QualifiedName:Presence.Type.available))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:presence))(SimpleName:setStatus)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:conn))(SimpleName:sendPacket)(METHOD_INVOCATION_ARGUMENTS(SimpleName:presence)))))(IfStatement(BooleanLiteral:false)(Block(ExpressionStatement(MethodInvocation(SimpleName:showRosterInfo)(METHOD_INVOCATION_ARGUMENTS(SimpleName:roster))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:log))(SimpleName:info)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))(VariableDeclarationStatement(SimpleType(SimpleName:Presence))(VariableDeclarationFragment(SimpleName:response)(ClassInstanceCreation(SimpleType(SimpleName:Presence))(QualifiedName:Presence.Type.subscribe))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:response))(SimpleName:setTo)(METHOD_INVOCATION_ARGUMENTS(SimpleName:JABBER_LOGIN))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:conn))(SimpleName:sendPacket)(METHOD_INVOCATION_ARGUMENTS(SimpleName:response))))(Block(VariableDeclarationStatement(SimpleType(SimpleName:Chat))(VariableDeclarationFragment(SimpleName:chatLocalUser)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:conn))(SimpleName:getChatManager)))(SimpleName:createChat)(METHOD_INVOCATION_ARGUMENTS(SimpleName:JABBER_LOGIN)(ClassInstanceCreation(SimpleType(SimpleName:SimpleMessageListener)))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:chatLocalUser))(SimpleName:sendMessage)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:chatLocalUser))(SimpleName:sendMessage)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))))(Block(VariableDeclarationStatement(SimpleType(SimpleName:Chat))(VariableDeclarationFragment(SimpleName:chatLocalUser)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:conn))(SimpleName:getChatManager)))(SimpleName:createChat)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(ClassInstanceCreation(SimpleType(SimpleName:SimpleMessageListener)))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:chatLocalUser))(SimpleName:sendMessage)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:chatLocalUser))(SimpleName:sendMessage)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))))))(IfStatement(BooleanLiteral:true)(Block(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:gatewayJid)(StringLiteral:<STR>)))(ExpressionStatement(MethodInvocation(SimpleName:discoverItems)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(NullLiteral))))(ExpressionStatement(MethodInvocation(SimpleName:discoverIdentities)(METHOD_INVOCATION_ARGUMENTS(SimpleName:gatewayJid)(NullLiteral))))(IfStatement(BooleanLiteral:true)(ReturnStatement))(ExpressionStatement(MethodInvocation(SimpleName:discoverItems)(METHOD_INVOCATION_ARGUMENTS(SimpleName:JABBER_LOGIN)(NullLiteral))))(ExpressionStatement(MethodInvocation(SimpleName:logoutFromGateway)(METHOD_INVOCATION_ARGUMENTS(SimpleName:conn)(StringLiteral:<STR>))))(ExpressionStatement(MethodInvocation(SimpleName:unregisterOnGateway)(METHOD_INVOCATION_ARGUMENTS(SimpleName:conn)(StringLiteral:<STR>))))(ExpressionStatement(MethodInvocation(SimpleName:logoutFromGateway)(METHOD_INVOCATION_ARGUMENTS(SimpleName:conn)(SimpleName:gatewayJid))))(ExpressionStatement(MethodInvocation(SimpleName:unregisterOnGateway)(METHOD_INVOCATION_ARGUMENTS(SimpleName:conn)(SimpleName:gatewayJid))))))(IfStatement(InfixExpression(SimpleName:testType)(INFIX_EXPRESSION_OPERATOR:==)(QualifiedName:TestType.allServers))(Block(EnhancedForStatement(SingleVariableDeclaration(SimpleType(SimpleName:String))(SimpleName:icqGateway))(SimpleName:ICQ_GATEWAYS)(Block(TryStatement(Block(ExpressionStatement(MethodInvocation(SimpleName:testAllIcqServers)(METHOD_INVOCATION_ARGUMENTS(SimpleName:conn)(SimpleName:icqGateway)))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:Exception))(SimpleName:e))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:log))(SimpleName:error)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:icqGateway))(SimpleName:e))))))))))(Block(ExpressionStatement(MethodInvocation(SimpleName:testCaseIcqMain)(METHOD_INVOCATION_ARGUMENTS(SimpleName:testType)(SimpleName:conn)(SimpleName:ICQ_GATEWAY))))))(ExpressionStatement(MethodInvocation(SimpleName:waitPressKey)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:conn))(SimpleName:disconnect)))(ExpressionStatement(MethodInvocation(SimpleName:waitPressKey)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))))))