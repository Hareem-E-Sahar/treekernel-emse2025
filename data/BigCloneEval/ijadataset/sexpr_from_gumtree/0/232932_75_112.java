(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:protected)(PrimitiveType:void)(SimpleName:serializeNode)(SingleVariableDeclaration(SimpleType(SimpleName:XMLStreamReader))(SimpleName:reader))(SingleVariableDeclaration(SimpleType(SimpleName:XMLStreamWriter))(SimpleName:writer))(SingleVariableDeclaration(PrimitiveType:boolean)(SimpleName:startAtNext))(SimpleType(SimpleName:XMLStreamException))(Block(VariableDeclarationStatement(PrimitiveType:boolean)(VariableDeclarationFragment(SimpleName:useCurrentEvent)(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(SimpleName:startAtNext))))(WhileStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:reader))(SimpleName:hasNext))(INFIX_EXPRESSION_OPERATOR:||)(SimpleName:useCurrentEvent))(Block(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:event)(NumberLiteral:0)))(IfStatement(SimpleName:useCurrentEvent)(Block(ExpressionStatement(Assignment(SimpleName:event)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:reader))(SimpleName:getEventType))))(ExpressionStatement(Assignment(SimpleName:useCurrentEvent)(ASSIGNMENT_OPERATOR:=)(BooleanLiteral:false))))(Block(ExpressionStatement(Assignment(SimpleName:event)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:reader))(SimpleName:next))))))(IfStatement(InfixExpression(SimpleName:event)(INFIX_EXPRESSION_OPERATOR:==)(SimpleName:START_ELEMENT))(Block(ExpressionStatement(MethodInvocation(SimpleName:serializeElement)(METHOD_INVOCATION_ARGUMENTS(SimpleName:reader)(SimpleName:writer))))(ExpressionStatement(PostfixExpression(SimpleName:depth)(POSTFIX_EXPRESSION_OPERATOR:++))))(IfStatement(InfixExpression(SimpleName:event)(INFIX_EXPRESSION_OPERATOR:==)(SimpleName:ATTRIBUTE))(Block(ExpressionStatement(MethodInvocation(SimpleName:serializeAttributes)(METHOD_INVOCATION_ARGUMENTS(SimpleName:reader)(SimpleName:writer)))))(IfStatement(InfixExpression(SimpleName:event)(INFIX_EXPRESSION_OPERATOR:==)(SimpleName:CHARACTERS))(Block(ExpressionStatement(MethodInvocation(SimpleName:serializeText)(METHOD_INVOCATION_ARGUMENTS(SimpleName:reader)(SimpleName:writer)))))(IfStatement(InfixExpression(SimpleName:event)(INFIX_EXPRESSION_OPERATOR:==)(SimpleName:COMMENT))(Block(ExpressionStatement(MethodInvocation(SimpleName:serializeComment)(METHOD_INVOCATION_ARGUMENTS(SimpleName:reader)(SimpleName:writer)))))(IfStatement(InfixExpression(SimpleName:event)(INFIX_EXPRESSION_OPERATOR:==)(SimpleName:CDATA))(Block(ExpressionStatement(MethodInvocation(SimpleName:serializeCData)(METHOD_INVOCATION_ARGUMENTS(SimpleName:reader)(SimpleName:writer)))))(IfStatement(InfixExpression(SimpleName:event)(INFIX_EXPRESSION_OPERATOR:==)(SimpleName:END_ELEMENT))(Block(ExpressionStatement(MethodInvocation(SimpleName:serializeEndElement)(METHOD_INVOCATION_ARGUMENTS(SimpleName:writer))))(ExpressionStatement(PostfixExpression(SimpleName:depth)(POSTFIX_EXPRESSION_OPERATOR:--))))(IfStatement(InfixExpression(SimpleName:event)(INFIX_EXPRESSION_OPERATOR:==)(SimpleName:START_DOCUMENT))(Block(ExpressionStatement(PostfixExpression(SimpleName:depth)(POSTFIX_EXPRESSION_OPERATOR:++))))(IfStatement(InfixExpression(SimpleName:event)(INFIX_EXPRESSION_OPERATOR:==)(SimpleName:END_DOCUMENT))(Block(IfStatement(InfixExpression(SimpleName:depth)(INFIX_EXPRESSION_OPERATOR:!=)(NumberLiteral:0))(ExpressionStatement(PostfixExpression(SimpleName:depth)(POSTFIX_EXPRESSION_OPERATOR:--))))(TryStatement(Block(ExpressionStatement(MethodInvocation(SimpleName:serializeEndElement)(METHOD_INVOCATION_ARGUMENTS(SimpleName:writer)))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:Exception))(SimpleName:e))(Block))))))))))))(IfStatement(InfixExpression(SimpleName:depth)(INFIX_EXPRESSION_OPERATOR:==)(NumberLiteral:0))(Block(BreakStatement)))))))))