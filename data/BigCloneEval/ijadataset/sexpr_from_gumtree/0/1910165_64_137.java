(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:public)(PrimitiveType:void)(SimpleName:onMessage)(SingleVariableDeclaration(SimpleType(SimpleName:Message))(SimpleName:message))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:LOG))(SimpleName:debug)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))(VariableDeclarationStatement(SimpleType(SimpleName:DownloadMessage))(VariableDeclarationFragment(SimpleName:downloadMessage)))(TryStatement(Block(ExpressionStatement(Assignment(SimpleName:downloadMessage)(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(SimpleType(SimpleName:DownloadMessage))(SimpleName:message)))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:JMSException))(SimpleName:e))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:LOG))(SimpleName:error)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:e))(SimpleName:getMessage)))(SimpleName:e))))(ReturnStatement))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:caName)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:downloadMessage))(SimpleName:getCaName))))(VariableDeclarationStatement(PrimitiveType:boolean)(VariableDeclarationFragment(SimpleName:update)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:downloadMessage))(SimpleName:isUpdate))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:LOG))(SimpleName:debug)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:caName)))))(VariableDeclarationStatement(SimpleType(SimpleName:CertificateAuthorityEntity))(VariableDeclarationFragment(SimpleName:certificateAuthority)(MethodInvocation(METHOD_INVOCATION_RECEIVER(FieldAccess(ThisExpression)(SimpleName:certificateAuthorityDAO)))(SimpleName:findCertificateAuthority)(METHOD_INVOCATION_ARGUMENTS(SimpleName:caName)))))(IfStatement(InfixExpression(NullLiteral)(INFIX_EXPRESSION_OPERATOR:==)(SimpleName:certificateAuthority))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:LOG))(SimpleName:error)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:caName)))))(ReturnStatement)))(IfStatement(InfixExpression(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(SimpleName:update))(INFIX_EXPRESSION_OPERATOR:&&)(InfixExpression(QualifiedName:Status.PROCESSING)(INFIX_EXPRESSION_OPERATOR:!=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:certificateAuthority))(SimpleName:getStatus))))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:LOG))(SimpleName:debug)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))(ReturnStatement)))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:crlUrl)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:certificateAuthority))(SimpleName:getCrlUrl))))(IfStatement(InfixExpression(NullLiteral)(INFIX_EXPRESSION_OPERATOR:==)(SimpleName:crlUrl))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:LOG))(SimpleName:warn)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:certificateAuthority))(SimpleName:getName))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:certificateAuthority))(SimpleName:setStatus)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:Status.NONE))))(ReturnStatement)))(VariableDeclarationStatement(SimpleType(SimpleName:NetworkConfig))(VariableDeclarationFragment(SimpleName:networkConfig)(MethodInvocation(METHOD_INVOCATION_RECEIVER(FieldAccess(ThisExpression)(SimpleName:configurationDAO)))(SimpleName:getNetworkConfig))))(VariableDeclarationStatement(SimpleType(SimpleName:HttpClient))(VariableDeclarationFragment(SimpleName:httpClient)(ClassInstanceCreation(SimpleType(SimpleName:HttpClient)))))(IfStatement(InfixExpression(NullLiteral)(INFIX_EXPRESSION_OPERATOR:!=)(SimpleName:networkConfig))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:httpClient))(SimpleName:getHostConfiguration)))(SimpleName:setProxy)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:networkConfig))(SimpleName:getProxyHost))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:networkConfig))(SimpleName:getProxyPort)))))))(VariableDeclarationStatement(SimpleType(SimpleName:HttpClientParams))(VariableDeclarationFragment(SimpleName:httpClientParams)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:httpClient))(SimpleName:getParams))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:httpClientParams))(SimpleName:setParameter)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(ClassInstanceCreation(SimpleType(SimpleName:Integer))(InfixExpression(NumberLiteral:1000)(INFIX_EXPRESSION_OPERATOR:*)(NumberLiteral:20))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:LOG))(SimpleName:debug)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:crlUrl)))))(VariableDeclarationStatement(SimpleType(SimpleName:GetMethod))(VariableDeclarationFragment(SimpleName:getMethod)(ClassInstanceCreation(SimpleType(SimpleName:GetMethod))(SimpleName:crlUrl))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:getMethod))(SimpleName:addRequestHeader)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(StringLiteral:<STR>))))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:statusCode)))(TryStatement(Block(ExpressionStatement(Assignment(SimpleName:statusCode)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:httpClient))(SimpleName:executeMethod)(METHOD_INVOCATION_ARGUMENTS(SimpleName:getMethod))))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:Exception))(SimpleName:e))(Block(ExpressionStatement(MethodInvocation(SimpleName:downloadFailed)(METHOD_INVOCATION_ARGUMENTS(SimpleName:caName)(SimpleName:crlUrl))))(ThrowStatement(ClassInstanceCreation(SimpleType(SimpleName:RuntimeException)))))))(IfStatement(InfixExpression(QualifiedName:HttpURLConnection.HTTP_OK)(INFIX_EXPRESSION_OPERATOR:!=)(SimpleName:statusCode))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:LOG))(SimpleName:debug)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:statusCode)))))(ExpressionStatement(MethodInvocation(SimpleName:downloadFailed)(METHOD_INVOCATION_ARGUMENTS(SimpleName:caName)(SimpleName:crlUrl))))(ThrowStatement(ClassInstanceCreation(SimpleType(SimpleName:RuntimeException))))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:crlFilePath)))(VariableDeclarationStatement(SimpleType(SimpleName:File))(VariableDeclarationFragment(SimpleName:crlFile)(NullLiteral)))(TryStatement(Block(ExpressionStatement(Assignment(SimpleName:crlFile)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:File))(SimpleName:createTempFile)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(StringLiteral:<STR>)))))(VariableDeclarationStatement(SimpleType(SimpleName:InputStream))(VariableDeclarationFragment(SimpleName:crlInputStream)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:getMethod))(SimpleName:getResponseBodyAsStream))))(VariableDeclarationStatement(SimpleType(SimpleName:OutputStream))(VariableDeclarationFragment(SimpleName:crlOutputStream)(ClassInstanceCreation(SimpleType(SimpleName:FileOutputStream))(SimpleName:crlFile))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:IOUtils))(SimpleName:copy)(METHOD_INVOCATION_ARGUMENTS(SimpleName:crlInputStream)(SimpleName:crlOutputStream))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:IOUtils))(SimpleName:closeQuietly)(METHOD_INVOCATION_ARGUMENTS(SimpleName:crlInputStream))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:IOUtils))(SimpleName:closeQuietly)(METHOD_INVOCATION_ARGUMENTS(SimpleName:crlOutputStream))))(ExpressionStatement(Assignment(SimpleName:crlFilePath)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:crlFile))(SimpleName:getAbsolutePath))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:LOG))(SimpleName:debug)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:crlFilePath))))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:IOException))(SimpleName:e))(Block(ExpressionStatement(MethodInvocation(SimpleName:downloadFailed)(METHOD_INVOCATION_ARGUMENTS(SimpleName:caName)(SimpleName:crlUrl))))(IfStatement(InfixExpression(NullLiteral)(INFIX_EXPRESSION_OPERATOR:!=)(SimpleName:crlFile))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:crlFile))(SimpleName:delete)))))(ThrowStatement(ClassInstanceCreation(SimpleType(SimpleName:RuntimeException))(SimpleName:e))))))(TryStatement(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(FieldAccess(ThisExpression)(SimpleName:notificationService)))(SimpleName:notifyHarvester)(METHOD_INVOCATION_ARGUMENTS(SimpleName:caName)(SimpleName:crlFilePath)(SimpleName:update)))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:JMSException))(SimpleName:e))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:crlFile))(SimpleName:delete)))(ThrowStatement(ClassInstanceCreation(SimpleType(SimpleName:RuntimeException))(SimpleName:e))))))))))