(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:public)(SimpleName:BusGroupImpl)(SingleVariableDeclaration(SimpleType(SimpleName:BundleContext))(SimpleName:context))(SingleVariableDeclaration(Modifier:final)(SimpleType(SimpleName:Dictionary))(SimpleName:properties))(SimpleType(SimpleName:ChannelException))(Block(ExpressionStatement(Assignment(SimpleName:topic)(ASSIGNMENT_OPERATOR:=)(CastExpression(SimpleType(SimpleName:String))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:properties))(SimpleName:get)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:Group.TOPIC))))))(ExpressionStatement(Assignment(SimpleName:registration)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:context))(SimpleName:registerService)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(TypeLiteral(SimpleType(SimpleName:Group))))(SimpleName:getName))(ThisExpression)(SimpleName:properties)))))(VariableDeclarationStatement(SimpleType(SimpleName:ServiceReference))(VariableDeclarationFragment(SimpleName:reference)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:context))(SimpleName:getServiceReference)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(TypeLiteral(SimpleType(SimpleName:PeerAdmin))))(SimpleName:getName))))))(ExpressionStatement(Assignment(SimpleName:peerAdmin)(ASSIGNMENT_OPERATOR:=)(CastExpression(SimpleType(SimpleName:PeerAdmin))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:context))(SimpleName:getService)(METHOD_INVOCATION_ARGUMENTS(SimpleName:reference))))))(ExpressionStatement(Assignment(SimpleName:reference)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:context))(SimpleName:getServiceReference)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(TypeLiteral(SimpleType(SimpleName:LogService))))(SimpleName:getName))))))(ExpressionStatement(Assignment(SimpleName:log)(ASSIGNMENT_OPERATOR:=)(CastExpression(SimpleType(SimpleName:LogService))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:context))(SimpleName:getService)(METHOD_INVOCATION_ARGUMENTS(SimpleName:reference))))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:nameString)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:context))(SimpleName:getProperty)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:PeerAdmin.KEY_LOCALNAME)))))(IfStatement(InfixExpression(SimpleName:nameString)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:localProperties))(SimpleName:put)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:Peer.NAME)(SimpleName:nameString)))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:hostString)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:context))(SimpleName:getProperty)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:PeerAdmin.KEY_LOCALHOSTNAME)))))(IfStatement(InfixExpression(SimpleName:hostString)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:localProperties))(SimpleName:put)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:Peer.HOST)(SimpleName:hostString)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:localProperties))(SimpleName:put)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:Peer.PROTOCOL)(QualifiedName:JGroupsConstants.PROTOCOL_JGROUPS))))(ExpressionStatement(Assignment(FieldAccess(ThisExpression)(SimpleName:consumer))(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(SimpleType(SimpleName:Consumer))(AnonymousClassDeclaration(MethodDeclaration(Modifier:public)(SimpleType(SimpleName:Serializable))(SimpleName:getCache)(Block(ReturnStatement(CastExpression(SimpleType(SimpleName:Serializable))(SimpleName:localProperties)))))(MethodDeclaration(Modifier:public)(PrimitiveType:void)(SimpleName:handleNotification)(SingleVariableDeclaration(SimpleType(SimpleName:Serializable))(SimpleName:n))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:log))(SimpleName:log)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:LogService.LOG_DEBUG)(StringLiteral:<STR>))))(VariableDeclarationStatement(SimpleType(SimpleName:Dictionary))(VariableDeclarationFragment(SimpleName:d)(CastExpression(SimpleType(SimpleName:Dictionary))(SimpleName:n))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:type)(CastExpression(SimpleType(SimpleName:String))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:d))(SimpleName:get)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:PeerEvent.EVENT_TYPE))))))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(QualifiedName:PeerEvent.EVENT_STATUS))(SimpleName:equals)(METHOD_INVOCATION_ARGUMENTS(SimpleName:type)))(Block(ExpressionStatement(MethodInvocation(SimpleName:handleStatusEvent)(METHOD_INVOCATION_ARGUMENTS(SimpleName:d)))))(Block(ExpressionStatement(MethodInvocation(SimpleName:sendEvent)(METHOD_INVOCATION_ARGUMENTS(SimpleName:type)(SimpleName:d))))))))(MethodDeclaration(Modifier:public)(PrimitiveType:void)(SimpleName:memberJoined)(SingleVariableDeclaration(SimpleType(SimpleName:Address))(SimpleName:mbr))(Block(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:bus))(SimpleName:getLocalAddress)))(SimpleName:equals)(METHOD_INVOCATION_ARGUMENTS(SimpleName:mbr)))(Block(ExpressionStatement(MethodInvocation(SimpleName:addPeer)(METHOD_INVOCATION_ARGUMENTS(SimpleName:localPeer))))(ReturnStatement)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:log))(SimpleName:log)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:LogService.LOG_DEBUG)(StringLiteral:<STR>))))(VariableDeclarationStatement(SimpleType(SimpleName:Peer))(VariableDeclarationFragment(SimpleName:peer)(ClassInstanceCreation(SimpleType(SimpleName:BusPeerImpl))(SimpleName:mbr)(ThisExpression(SimpleName:BusGroupImpl)))))(ExpressionStatement(MethodInvocation(SimpleName:addPeer)(METHOD_INVOCATION_ARGUMENTS(SimpleName:peer))))(ExpressionStatement(MethodInvocation(SimpleName:sendStatusEvent)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:PeerEvent.STATUS_GROUPUPDATED))))))(MethodDeclaration(Modifier:public)(PrimitiveType:void)(SimpleName:memberLeft)(SingleVariableDeclaration(SimpleType(SimpleName:Address))(SimpleName:mbr))(Block(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:bus))(SimpleName:getLocalAddress)))(SimpleName:equals)(METHOD_INVOCATION_ARGUMENTS(SimpleName:mbr)))(Block(ExpressionStatement(MethodInvocation(SimpleName:removePeer)(METHOD_INVOCATION_ARGUMENTS(SimpleName:localPeer))))(ReturnStatement)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:log))(SimpleName:log)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:LogService.LOG_DEBUG)(StringLiteral:<STR>))))(VariableDeclarationStatement(SimpleType(SimpleName:Peer))(VariableDeclarationFragment(SimpleName:peer)(ClassInstanceCreation(SimpleType(SimpleName:BusPeerImpl))(SimpleName:mbr)(ThisExpression(SimpleName:BusGroupImpl)))))(ExpressionStatement(MethodInvocation(SimpleName:removePeer)(METHOD_INVOCATION_ARGUMENTS(SimpleName:peer))))(ExpressionStatement(MethodInvocation(SimpleName:sendStatusEvent)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:PeerEvent.STATUS_GROUPUPDATED))))))))))(ExpressionStatement(Assignment(FieldAccess(ThisExpression)(SimpleName:listener))(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(SimpleType(SimpleName:ChannelListener))(AnonymousClassDeclaration(MethodDeclaration(Modifier:public)(PrimitiveType:void)(SimpleName:channelClosed)(SingleVariableDeclaration(SimpleType(SimpleName:Channel))(SimpleName:channel))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:log))(SimpleName:log)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:LogService.LOG_INFO)(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:topic)))))))(MethodDeclaration(Modifier:public)(PrimitiveType:void)(SimpleName:channelConnected)(SingleVariableDeclaration(SimpleType(SimpleName:Channel))(SimpleName:channel))(Block(IfStatement(MethodInvocation(SimpleName:isOwner))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:log))(SimpleName:log)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:LogService.LOG_INFO)(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:topic))))))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:log))(SimpleName:log)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:LogService.LOG_INFO)(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:topic)))))))(VariableDeclarationStatement(SimpleType(SimpleName:Vector))(VariableDeclarationFragment(SimpleName:membership)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:bus))(SimpleName:getMembership))))(ForStatement(VariableDeclarationExpression(SimpleType(SimpleName:Iterator))(VariableDeclarationFragment(SimpleName:iter)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:membership))(SimpleName:iterator))))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:iter))(SimpleName:hasNext))(Block(VariableDeclarationStatement(SimpleType(SimpleName:Address))(VariableDeclarationFragment(SimpleName:address)(CastExpression(SimpleType(SimpleName:Address))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:iter))(SimpleName:next)))))(IfStatement(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:bus))(SimpleName:getLocalAddress)))(SimpleName:equals)(METHOD_INVOCATION_ARGUMENTS(SimpleName:address))))(ExpressionStatement(MethodInvocation(SimpleName:addPeer)(METHOD_INVOCATION_ARGUMENTS(ClassInstanceCreation(SimpleType(SimpleName:BusPeerImpl))(SimpleName:address)(ThisExpression(SimpleName:BusGroupImpl)))))))))))(MethodDeclaration(Modifier:public)(PrimitiveType:void)(SimpleName:channelDisconnected)(SingleVariableDeclaration(SimpleType(SimpleName:Channel))(SimpleName:channel))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:log))(SimpleName:log)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:LogService.LOG_INFO)(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:topic)))))))(MethodDeclaration(Modifier:public)(PrimitiveType:void)(SimpleName:channelReconnected)(SingleVariableDeclaration(SimpleType(SimpleName:Address))(SimpleName:addr))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:log))(SimpleName:log)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:LogService.LOG_INFO)(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:topic)))))))(MethodDeclaration(Modifier:public)(PrimitiveType:void)(SimpleName:channelShunned)(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:log))(SimpleName:log)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:LogService.LOG_INFO)(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:topic)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:bus))(SimpleName:getChannel)))(SimpleName:disconnect)))(TryStatement(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:bus))(SimpleName:getChannel)))(SimpleName:connect)(METHOD_INVOCATION_ARGUMENTS(SimpleName:topic)))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:ChannelClosedException))(SimpleName:e))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:log))(SimpleName:log)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:LogService.LOG_ERROR)(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:topic))(SimpleName:e))))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:ChannelException))(SimpleName:e))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:log))(SimpleName:log)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:LogService.LOG_ERROR)(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:topic))(SimpleName:e)))))))))))))))))