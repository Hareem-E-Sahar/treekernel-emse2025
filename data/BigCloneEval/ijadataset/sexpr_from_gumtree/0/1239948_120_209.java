(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:private)(PrimitiveType:void)(SimpleName:flush)(Block(ExpressionStatement(MethodInvocation(SimpleName:setInit)(METHOD_INVOCATION_ARGUMENTS(BooleanLiteral:true))))(VariableDeclarationStatement(SimpleType(SimpleName:SessionFactory))(VariableDeclarationFragment(SimpleName:hfactory)(NullLiteral)))(VariableDeclarationStatement(SimpleType(SimpleName:Session))(VariableDeclarationFragment(SimpleName:hsession)(NullLiteral)))(VariableDeclarationStatement(SimpleType(QualifiedName:javax.mail.Session))(VariableDeclarationFragment(SimpleName:msession)(NullLiteral)))(TryStatement(Block(ExpressionStatement(Assignment(SimpleName:hfactory)(ASSIGNMENT_OPERATOR:=)(CastExpression(SimpleType(SimpleName:SessionFactory))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ctx))(SimpleName:lookup)(METHOD_INVOCATION_ARGUMENTS(SimpleName:hibernateSessionFactory))))))(ExpressionStatement(Assignment(SimpleName:hsession)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:hfactory))(SimpleName:openSession))))(ExpressionStatement(Assignment(SimpleName:msession)(ASSIGNMENT_OPERATOR:=)(CastExpression(SimpleType(QualifiedName:javax.mail.Session))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ctx))(SimpleName:lookup)(METHOD_INVOCATION_ARGUMENTS(SimpleName:durotyMailFactory))))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:pop3Host)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:msession))(SimpleName:getProperty)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:port)(NumberLiteral:0)))(TryStatement(Block(ExpressionStatement(Assignment(SimpleName:port)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Integer))(SimpleName:parseInt)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:msession))(SimpleName:getProperty)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:Exception))(SimpleName:ex))(Block(ExpressionStatement(Assignment(SimpleName:port)(ASSIGNMENT_OPERATOR:=)(NumberLiteral:0))))))(VariableDeclarationStatement(SimpleType(SimpleName:Query))(VariableDeclarationFragment(SimpleName:query)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:hsession))(SimpleName:getNamedQuery)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:query))(SimpleName:setBoolean)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(BooleanLiteral:true))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:query))(SimpleName:setString)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(StringLiteral:<STR>))))(VariableDeclarationStatement(SimpleType(SimpleName:ScrollableResults))(VariableDeclarationFragment(SimpleName:scroll)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:query))(SimpleName:scroll))))(WhileStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:scroll))(SimpleName:next))(Block(VariableDeclarationStatement(SimpleType(SimpleName:POP3Client))(VariableDeclarationFragment(SimpleName:client)(ClassInstanceCreation(SimpleType(SimpleName:POP3Client)))))(TryStatement(Block(IfStatement(InfixExpression(SimpleName:port)(INFIX_EXPRESSION_OPERATOR:>)(NumberLiteral:0))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:client))(SimpleName:connect)(METHOD_INVOCATION_ARGUMENTS(SimpleName:pop3Host)(SimpleName:port)))))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:client))(SimpleName:connect)(METHOD_INVOCATION_ARGUMENTS(SimpleName:pop3Host))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:client))(SimpleName:setState)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:POP3Client.AUTHORIZATION_STATE))))(VariableDeclarationStatement(SimpleType(SimpleName:Users))(VariableDeclarationFragment(SimpleName:user)(CastExpression(SimpleType(SimpleName:Users))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:scroll))(SimpleName:get)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:0))))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:repositoryName)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:user))(SimpleName:getUseUsername))))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:client))(SimpleName:login)(METHOD_INVOCATION_ARGUMENTS(SimpleName:repositoryName)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:user))(SimpleName:getUsePassword))))(Block(VariableDeclarationStatement(ArrayType(SimpleType(SimpleName:POP3MessageInfo))(Dimension))(VariableDeclarationFragment(SimpleName:info)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:client))(SimpleName:listUniqueIdentifiers))))(IfStatement(InfixExpression(ParenthesizedExpression(InfixExpression(SimpleName:info)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral)))(INFIX_EXPRESSION_OPERATOR:&&)(ParenthesizedExpression(InfixExpression(QualifiedName:info.length)(INFIX_EXPRESSION_OPERATOR:>)(NumberLiteral:0))))(Block(ForStatement(VariableDeclarationExpression(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:i)(NumberLiteral:0)))(InfixExpression(SimpleName:i)(INFIX_EXPRESSION_OPERATOR:<)(QualifiedName:info.length))(PostfixExpression(SimpleName:i)(POSTFIX_EXPRESSION_OPERATOR:++))(Block(IfStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:pool))(SimpleName:size))(INFIX_EXPRESSION_OPERATOR:>=)(SimpleName:poolSize))(Block(BreakStatement)))(VariableDeclarationStatement(SimpleType(SimpleName:Reader))(VariableDeclarationFragment(SimpleName:reader)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:client))(SimpleName:retrieveMessage)(METHOD_INVOCATION_ARGUMENTS(FieldAccess(ArrayAccess(SimpleName:info)(SimpleName:i))(SimpleName:number))))))(VariableDeclarationStatement(PrimitiveType:boolean)(VariableDeclarationFragment(SimpleName:existMessage)(MethodInvocation(SimpleName:existMessageName)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:hfactory))(SimpleName:openSession))(SimpleName:user)(FieldAccess(ArrayAccess(SimpleName:info)(SimpleName:i))(SimpleName:identifier))))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:key)(InfixExpression(FieldAccess(ArrayAccess(SimpleName:info)(SimpleName:i))(SimpleName:identifier))(INFIX_EXPRESSION_OPERATOR:+)(StringLiteral:<STR>)(SimpleName:repositoryName))))(IfStatement(SimpleName:existMessage)(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:client))(SimpleName:deleteMessage)(METHOD_INVOCATION_ARGUMENTS(FieldAccess(ArrayAccess(SimpleName:info)(SimpleName:i))(SimpleName:number))))))(Block(IfStatement(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(MethodInvocation(SimpleName:poolContains)(METHOD_INVOCATION_ARGUMENTS(SimpleName:key))))(Block(ExpressionStatement(MethodInvocation(SimpleName:addPool)(METHOD_INVOCATION_ARGUMENTS(SimpleName:key))))(VariableDeclarationStatement(SimpleType(SimpleName:MimeMessage))(VariableDeclarationFragment(SimpleName:mime)(MethodInvocation(SimpleName:buildMimeMessage)(METHOD_INVOCATION_ARGUMENTS(FieldAccess(ArrayAccess(SimpleName:info)(SimpleName:i))(SimpleName:identifier))(SimpleName:reader)(SimpleName:user)))))(IfStatement(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(MethodInvocation(SimpleName:isSpam)(METHOD_INVOCATION_ARGUMENTS(SimpleName:user)(SimpleName:mime))))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:client))(SimpleName:deleteMessage)(METHOD_INVOCATION_ARGUMENTS(FieldAccess(ArrayAccess(SimpleName:info)(SimpleName:i))(SimpleName:number)))))(VariableDeclarationStatement(SimpleType(SimpleName:Mailet))(VariableDeclarationFragment(SimpleName:mailet)(ClassInstanceCreation(SimpleType(SimpleName:Mailet))(ThisExpression)(FieldAccess(ArrayAccess(SimpleName:info)(SimpleName:i))(SimpleName:identifier))(SimpleName:repositoryName)(SimpleName:mime))))(VariableDeclarationStatement(SimpleType(SimpleName:Thread))(VariableDeclarationFragment(SimpleName:thread)(ClassInstanceCreation(SimpleType(SimpleName:Thread))(SimpleName:mailet)(SimpleName:key))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:thread))(SimpleName:start))))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:client))(SimpleName:deleteMessage)(METHOD_INVOCATION_ARGUMENTS(FieldAccess(ArrayAccess(SimpleName:info)(SimpleName:i))(SimpleName:number)))))))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Thread))(SimpleName:sleep)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:100)))))))))(Block)))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:Exception))(SimpleName:e))(Block))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:System))(SimpleName:gc)))(TryStatement(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:client))(SimpleName:logout)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:client))(SimpleName:disconnect))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:Exception))(SimpleName:e))(Block))))))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:Exception))(SimpleName:e))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:System))(SimpleName:gc)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:pool))(SimpleName:clear)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:DLog))(SimpleName:log)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:DLog.ERROR)(MethodInvocation(METHOD_INVOCATION_RECEIVER(ThisExpression))(SimpleName:getClass))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:e))(SimpleName:getMessage)))))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:OutOfMemoryError))(SimpleName:e))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:System))(SimpleName:gc)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:pool))(SimpleName:clear)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:DLog))(SimpleName:log)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:DLog.ERROR)(MethodInvocation(METHOD_INVOCATION_RECEIVER(ThisExpression))(SimpleName:getClass))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:e))(SimpleName:getMessage)))))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:Throwable))(SimpleName:e))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:System))(SimpleName:gc)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:pool))(SimpleName:clear)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:DLog))(SimpleName:log)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:DLog.ERROR)(MethodInvocation(METHOD_INVOCATION_RECEIVER(ThisExpression))(SimpleName:getClass))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:e))(SimpleName:getMessage)))))))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:System))(SimpleName:gc)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:GeneralOperations))(SimpleName:closeHibernateSession)(METHOD_INVOCATION_ARGUMENTS(SimpleName:hsession))))(ExpressionStatement(MethodInvocation(SimpleName:setInit)(METHOD_INVOCATION_ARGUMENTS(BooleanLiteral:false))))))))))