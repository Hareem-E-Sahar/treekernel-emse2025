(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(MarkerAnnotation(SimpleName:Override))(Modifier:public)(PrimitiveType:void)(SimpleName:run)(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:logger))(SimpleName:debug)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))(VariableDeclarationStatement(SimpleType(SimpleName:File))(VariableDeclarationFragment(SimpleName:siteDir)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:PoPathInfo))(SimpleName:getSiteDirectory)(METHOD_INVOCATION_ARGUMENTS(FieldAccess(ThisExpression)(SimpleName:site))))))(IfStatement(InfixExpression(SimpleName:monitor)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:monitor))(SimpleName:beginTask)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:String))(SimpleName:format)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:LabelHolder))(SimpleName:get)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))(MethodInvocation(METHOD_INVOCATION_RECEIVER(FieldAccess(ThisExpression)(SimpleName:renderableObjects)))(SimpleName:size))))(MethodInvocation(METHOD_INVOCATION_RECEIVER(FieldAccess(ThisExpression)(SimpleName:renderableObjects)))(SimpleName:size))))))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:CollectionUtils))(SimpleName:isEmpty)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:site))(SimpleName:getPages))))(ExpressionStatement(MethodInvocation(SimpleName:renderRedirector))))(TryStatement(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:FileUtils))(SimpleName:cleanDirectory)(METHOD_INVOCATION_ARGUMENTS(SimpleName:exportDir))))(EnhancedForStatement(SingleVariableDeclaration(SimpleType(SimpleName:IRenderable))(SimpleName:ro))(SimpleName:renderableObjects)(Block(VariableDeclarationStatement(SimpleType(SimpleName:File))(VariableDeclarationFragment(SimpleName:dir)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:PathTool))(SimpleName:getExportFile)(METHOD_INVOCATION_ARGUMENTS(SimpleName:ro)(SimpleName:poExtension))))(SimpleName:getParentFile))))(IfStatement(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:dir))(SimpleName:exists)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:dir))(SimpleName:mkdirs))))))(ExpressionStatement(MethodInvocation(SimpleName:renderRenderables)))(IfStatement(InfixExpression(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:exportController))(SimpleName:isError)))(INFIX_EXPRESSION_OPERATOR:&&)(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(SimpleName:isInterruptByUser)))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:logger))(SimpleName:debug)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))(VariableDeclarationStatement(ParameterizedType(SimpleType(SimpleName:Set))(SimpleType(SimpleName:File)))(VariableDeclarationFragment(SimpleName:filesToCopy)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:renderData))(SimpleName:getFilesToCopy))))(EnhancedForStatement(SingleVariableDeclaration(SimpleType(SimpleName:File))(SimpleName:srcFile))(SimpleName:filesToCopy)(Block(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:exportPathPart)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:srcFile))(SimpleName:getAbsolutePath)))(SimpleName:substring)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:siteDir))(SimpleName:getAbsolutePath)))(SimpleName:length))(INFIX_EXPRESSION_OPERATOR:+)(NumberLiteral:1))))))(VariableDeclarationStatement(SimpleType(SimpleName:File))(VariableDeclarationFragment(SimpleName:destFile)(ClassInstanceCreation(SimpleType(SimpleName:File))(SimpleName:exportDir)(SimpleName:exportPathPart))))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:srcFile))(SimpleName:isFile))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:FileUtils))(SimpleName:copyFile)(METHOD_INVOCATION_ARGUMENTS(SimpleName:srcFile)(SimpleName:destFile))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:FileUtils))(SimpleName:copyDirectoryToDirectory)(METHOD_INVOCATION_ARGUMENTS(SimpleName:srcFile)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:destFile))(SimpleName:getParentFile))))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:logger))(SimpleName:debug)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))(VariableDeclarationStatement(ParameterizedType(SimpleType(SimpleName:Collection))(SimpleType(SimpleName:File)))(VariableDeclarationFragment(SimpleName:exportedFiles)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:FileTool))(SimpleName:collectFiles)(METHOD_INVOCATION_ARGUMENTS(SimpleName:exportDir)))))(IfStatement(InfixExpression(SimpleName:monitor)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:monitor))(SimpleName:done)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:monitor))(SimpleName:beginTask)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:exportedFiles))(SimpleName:size)))))))(VariableDeclarationStatement(SimpleType(SimpleName:Document))(VariableDeclarationFragment(SimpleName:dom)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ChecksumTool))(SimpleName:getDomChecksums)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ChecksumTool))(SimpleName:get)(METHOD_INVOCATION_ARGUMENTS(SimpleName:exportedFiles)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:exportDir))(SimpleName:getAbsolutePath))(SimpleName:monitor)))))))(VariableDeclarationStatement(SimpleType(SimpleName:ByteArrayOutputStream))(VariableDeclarationFragment(SimpleName:out)(ClassInstanceCreation(SimpleType(SimpleName:ByteArrayOutputStream)))))(VariableDeclarationStatement(SimpleType(SimpleName:OutputFormat))(VariableDeclarationFragment(SimpleName:outformat)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:OutputFormat))(SimpleName:createPrettyPrint))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:outformat))(SimpleName:setEncoding)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:Constants.STANDARD_ENCODING))))(VariableDeclarationStatement(SimpleType(SimpleName:XMLWriter))(VariableDeclarationFragment(SimpleName:writer)(ClassInstanceCreation(SimpleType(SimpleName:XMLWriter))(SimpleName:out)(SimpleName:outformat))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:writer))(SimpleName:write)(METHOD_INVOCATION_ARGUMENTS(SimpleName:dom))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:writer))(SimpleName:flush)))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:formatedDomString)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:out))(SimpleName:toString))))(VariableDeclarationStatement(SimpleType(SimpleName:InputStream))(VariableDeclarationFragment(SimpleName:in)(ClassInstanceCreation(SimpleType(SimpleName:ByteArrayInputStream))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:formatedDomString))(SimpleName:getBytes)))))(VariableDeclarationStatement(ParameterizedType(SimpleType(SimpleName:Map))(SimpleType(SimpleName:InputStream))(SimpleType(SimpleName:String)))(VariableDeclarationFragment(SimpleName:toCompress)(ClassInstanceCreation(ParameterizedType(SimpleType(SimpleName:HashMap))(SimpleType(SimpleName:InputStream))(SimpleType(SimpleName:String))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:toCompress))(SimpleName:put)(METHOD_INVOCATION_ARGUMENTS(SimpleName:in)(SimpleName:checksumFilename))))(VariableDeclarationStatement(SimpleType(SimpleName:File))(VariableDeclarationFragment(SimpleName:zipFile)(ClassInstanceCreation(SimpleType(SimpleName:File))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:PoPathInfo))(SimpleName:getSiteExportDirectory)(METHOD_INVOCATION_ARGUMENTS(SimpleName:site)))(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:FilenameUtils))(SimpleName:getBaseName)(METHOD_INVOCATION_ARGUMENTS(SimpleName:checksumFilename)))(INFIX_EXPRESSION_OPERATOR:+)(StringLiteral:<STR>)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Zip))(SimpleName:compress)(METHOD_INVOCATION_ARGUMENTS(SimpleName:zipFile)(SimpleName:toCompress))))(ExpressionStatement(Assignment(SimpleName:zipFile)(ASSIGNMENT_OPERATOR:=)(NullLiteral))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:FileUtils))(SimpleName:cleanDirectory)(METHOD_INVOCATION_ARGUMENTS(SimpleName:exportDir))))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:Exception))(SimpleName:e))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:logger))(SimpleName:error)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:e))(SimpleName:getMessage)))(SimpleName:e))))(ThrowStatement(ClassInstanceCreation(SimpleType(SimpleName:FatalException))(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(MethodInvocation(METHOD_INVOCATION_RECEIVER(FieldAccess(ThisExpression)(SimpleName:site)))(SimpleName:getUrl))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:e))(SimpleName:getMessage)))(SimpleName:e)))))(Block(IfStatement(InfixExpression(SimpleName:monitor)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:monitor))(SimpleName:done))))))))))