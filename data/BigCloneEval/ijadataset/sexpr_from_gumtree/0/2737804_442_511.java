(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:private)(PrimitiveType:void)(SimpleName:serveCGI)(SingleVariableDeclaration(SimpleType(SimpleName:TinyCGI))(SimpleName:script))(SimpleType(SimpleName:IOException))(SimpleType(SimpleName:TinyWebThreadException))(Block(ExpressionStatement(MethodInvocation(SimpleName:parseHTTPHeaders)))(VariableDeclarationStatement(SimpleType(SimpleName:OutputStream))(VariableDeclarationFragment(SimpleName:cgiOut)(NullLiteral)))(VariableDeclarationStatement(SimpleType(SimpleName:File))(VariableDeclarationFragment(SimpleName:tempFile)(NullLiteral)))(TryStatement(Block(IfStatement(InfixExpression(SimpleName:script)(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(ExpressionStatement(MethodInvocation(SimpleName:sendError)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:500)(StringLiteral:<STR>)(StringLiteral:<STR>)))))(IfStatement(InstanceofExpression(SimpleName:script)(SimpleType(SimpleName:TinyCGIHighVolume)))(Block(ExpressionStatement(Assignment(SimpleName:tempFile)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:File))(SimpleName:createTempFile)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(NullLiteral)))))(ExpressionStatement(Assignment(SimpleName:cgiOut)(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(SimpleType(SimpleName:FileOutputStream))(SimpleName:tempFile)))))(Block(ExpressionStatement(Assignment(SimpleName:cgiOut)(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(SimpleType(SimpleName:ByteArrayOutputStream)))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:script))(SimpleName:service)(METHOD_INVOCATION_ARGUMENTS(SimpleName:inputStream)(SimpleName:cgiOut)(SimpleName:env)))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:Exception))(SimpleName:cgie))(Block(ExpressionStatement(Assignment(FieldAccess(ThisExpression)(SimpleName:exceptionEncountered))(ASSIGNMENT_OPERATOR:=)(SimpleName:cgie)))(IfStatement(InfixExpression(SimpleName:tempFile)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:tempFile))(SimpleName:delete))))(IfStatement(InfixExpression(SimpleName:clientSocket)(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(Block(ReturnStatement))(IfStatement(InstanceofExpression(SimpleName:cgie)(SimpleType(SimpleName:TinyCGIException)))(Block(VariableDeclarationStatement(SimpleType(SimpleName:TinyCGIException))(VariableDeclarationFragment(SimpleName:tce)(CastExpression(SimpleType(SimpleName:TinyCGIException))(SimpleName:cgie))))(ExpressionStatement(MethodInvocation(SimpleName:sendError)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:tce))(SimpleName:getStatus))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:tce))(SimpleName:getTitle))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:tce))(SimpleName:getText))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:tce))(SimpleName:getOtherHeaders))))))(Block(VariableDeclarationStatement(SimpleType(SimpleName:StringWriter))(VariableDeclarationFragment(SimpleName:w)(ClassInstanceCreation(SimpleType(SimpleName:StringWriter)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:cgie))(SimpleName:printStackTrace)(METHOD_INVOCATION_ARGUMENTS(ClassInstanceCreation(SimpleType(SimpleName:PrintWriter))(SimpleName:w)))))(ExpressionStatement(MethodInvocation(SimpleName:sendError)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:500)(StringLiteral:<STR>)(InfixExpression(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(StringLiteral:<STR>))(INFIX_EXPRESSION_OPERATOR:+)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:w))(SimpleName:toString))(StringLiteral:<STR>))))))))))(Block(IfStatement(InfixExpression(SimpleName:script)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(ExpressionStatement(MethodInvocation(SimpleName:doneWithScript)(METHOD_INVOCATION_ARGUMENTS(SimpleName:script)))))))(VariableDeclarationStatement(SimpleType(SimpleName:InputStream))(VariableDeclarationFragment(SimpleName:cgiResults)(NullLiteral)))(VariableDeclarationStatement(PrimitiveType:long)(VariableDeclarationFragment(SimpleName:totalSize)(NumberLiteral:0)))(IfStatement(InfixExpression(SimpleName:tempFile)(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(Block(VariableDeclarationStatement(ArrayType(PrimitiveType:byte)(Dimension))(VariableDeclarationFragment(SimpleName:results)(MethodInvocation(METHOD_INVOCATION_RECEIVER(ParenthesizedExpression(CastExpression(SimpleType(SimpleName:ByteArrayOutputStream))(SimpleName:cgiOut))))(SimpleName:toByteArray))))(ExpressionStatement(Assignment(SimpleName:totalSize)(ASSIGNMENT_OPERATOR:=)(QualifiedName:results.length)))(ExpressionStatement(Assignment(SimpleName:cgiResults)(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(SimpleType(SimpleName:ByteArrayInputStream))(SimpleName:results)))))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:cgiOut))(SimpleName:close)))(ExpressionStatement(Assignment(SimpleName:totalSize)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:tempFile))(SimpleName:length))))(ExpressionStatement(Assignment(SimpleName:cgiResults)(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(SimpleType(SimpleName:FileInputStream))(SimpleName:tempFile))))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:contentType)(NullLiteral))(VariableDeclarationFragment(SimpleName:statusString)(StringLiteral:<STR>))(VariableDeclarationFragment(SimpleName:line))(VariableDeclarationFragment(SimpleName:header)))(VariableDeclarationStatement(SimpleType(SimpleName:StringBuffer))(VariableDeclarationFragment(SimpleName:otherHeaders)(ClassInstanceCreation(SimpleType(SimpleName:StringBuffer)))))(VariableDeclarationStatement(SimpleType(SimpleName:StringBuffer))(VariableDeclarationFragment(SimpleName:text)(ClassInstanceCreation(SimpleType(SimpleName:StringBuffer)))))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:status)(NumberLiteral:200)))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:headerLength)(NumberLiteral:0)))(WhileStatement(BooleanLiteral:true)(Block(ExpressionStatement(Assignment(SimpleName:line)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(SimpleName:readLine)(METHOD_INVOCATION_ARGUMENTS(SimpleName:cgiResults)(BooleanLiteral:true)))))(ExpressionStatement(Assignment(SimpleName:headerLength)(ASSIGNMENT_OPERATOR:+=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:line))(SimpleName:length))))(IfStatement(InfixExpression(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:line))(SimpleName:charAt)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:0)))(INFIX_EXPRESSION_OPERATOR:==)(CharacterLiteral:<STR>))(INFIX_EXPRESSION_OPERATOR:||)(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:line))(SimpleName:charAt)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:0)))(INFIX_EXPRESSION_OPERATOR:==)(CharacterLiteral:<STR>)))(BreakStatement))(ExpressionStatement(Assignment(SimpleName:header)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(SimpleName:parseHeader)(METHOD_INVOCATION_ARGUMENTS(SimpleName:line)(SimpleName:text)))))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:header))(SimpleName:toUpperCase)))(SimpleName:equals)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))(Block(ExpressionStatement(Assignment(SimpleName:statusString)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:text))(SimpleName:toString))))(ExpressionStatement(Assignment(SimpleName:status)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Integer))(SimpleName:parseInt)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:statusString))(SimpleName:substring)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:0)(NumberLiteral:3)))))))(ExpressionStatement(Assignment(SimpleName:statusString)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:statusString))(SimpleName:substring)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:4))))))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:header))(SimpleName:toUpperCase)))(SimpleName:equals)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))(ExpressionStatement(Assignment(SimpleName:contentType)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:text))(SimpleName:toString))))(Block(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:header))(SimpleName:toUpperCase)))(SimpleName:equals)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))(ExpressionStatement(Assignment(SimpleName:status)(ASSIGNMENT_OPERATOR:=)(NumberLiteral:302))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:otherHeaders))(SimpleName:append)(METHOD_INVOCATION_ARGUMENTS(SimpleName:header))))(SimpleName:append)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))(SimpleName:append)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:text))(SimpleName:toString)))))(SimpleName:append)(METHOD_INVOCATION_ARGUMENTS(SimpleName:CRLF)))))))))(ExpressionStatement(MethodInvocation(SimpleName:sendHeaders)(METHOD_INVOCATION_ARGUMENTS(SimpleName:status)(SimpleName:statusString)(SimpleName:contentType)(InfixExpression(SimpleName:totalSize)(INFIX_EXPRESSION_OPERATOR:-)(SimpleName:headerLength))(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:-)(NumberLiteral:1))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:otherHeaders))(SimpleName:toString)))))(VariableDeclarationStatement(ArrayType(PrimitiveType:byte)(Dimension))(VariableDeclarationFragment(SimpleName:buf)(ArrayCreation(ArrayType(PrimitiveType:byte)(Dimension(NumberLiteral:2048))))))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:bytesRead)))(WhileStatement(InfixExpression(ParenthesizedExpression(Assignment(SimpleName:bytesRead)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:cgiResults))(SimpleName:read)(METHOD_INVOCATION_ARGUMENTS(SimpleName:buf)))))(INFIX_EXPRESSION_OPERATOR:!=)(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:-)(NumberLiteral:1)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:outputStream))(SimpleName:write)(METHOD_INVOCATION_ARGUMENTS(SimpleName:buf)(NumberLiteral:0)(SimpleName:bytesRead)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:outputStream))(SimpleName:flush)))(TryStatement(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:cgiResults))(SimpleName:close)))(IfStatement(InfixExpression(SimpleName:tempFile)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:tempFile))(SimpleName:delete)))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:IOException))(SimpleName:ioe))(Block)))))))