(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:private)(SimpleType(SimpleName:String))(SimpleName:createShapeFile)(SingleVariableDeclaration(SimpleType(SimpleName:String))(SimpleName:fileName))(SingleVariableDeclaration(SimpleType(SimpleName:FeatureSource))(SimpleName:layer))(SimpleType(SimpleName:IOException))(SimpleType(SimpleName:Exception))(Block(VariableDeclarationStatement(SimpleType(SimpleName:FeatureCollection))(VariableDeclarationFragment(SimpleName:featureCollection)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:layer))(SimpleName:getFeatures))))(VariableDeclarationStatement(SimpleType(SimpleName:File))(VariableDeclarationFragment(SimpleName:shapeFile)(ClassInstanceCreation(SimpleType(SimpleName:File))(SimpleName:fileName))))(VariableDeclarationStatement(SimpleType(SimpleName:ShapefileDataStoreFactory))(VariableDeclarationFragment(SimpleName:dataStoreFactory)(ClassInstanceCreation(SimpleType(SimpleName:ShapefileDataStoreFactory)))))(VariableDeclarationStatement(ParameterizedType(SimpleType(SimpleName:Map))(SimpleType(SimpleName:String))(SimpleType(SimpleName:Serializable)))(VariableDeclarationFragment(SimpleName:params)(ClassInstanceCreation(ParameterizedType(SimpleType(SimpleName:HashMap))(SimpleType(SimpleName:String))(SimpleType(SimpleName:Serializable))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:params))(SimpleName:put)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:shapeFile))(SimpleName:toURI)))(SimpleName:toURL)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:params))(SimpleName:put)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(QualifiedName:Boolean.TRUE))))(VariableDeclarationStatement(SimpleType(SimpleName:ShapefileDataStore))(VariableDeclarationFragment(SimpleName:newDataStore)(CastExpression(SimpleType(SimpleName:ShapefileDataStore))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:dataStoreFactory))(SimpleName:createNewDataStore)(METHOD_INVOCATION_ARGUMENTS(SimpleName:params))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:newDataStore))(SimpleName:createSchema)(METHOD_INVOCATION_ARGUMENTS(CastExpression(SimpleType(SimpleName:SimpleFeatureType))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:layer))(SimpleName:getSchema))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:newDataStore))(SimpleName:forceSchemaCRS)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:DefaultGeographicCRS.WGS84))))(VariableDeclarationStatement(SimpleType(SimpleName:Transaction))(VariableDeclarationFragment(SimpleName:transaction)(ClassInstanceCreation(SimpleType(SimpleName:DefaultTransaction))(StringLiteral:<STR>))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:typeName)(ArrayAccess(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:newDataStore))(SimpleName:getTypeNames))(NumberLiteral:0))))(VariableDeclarationStatement(SimpleType(SimpleName:FeatureSource))(VariableDeclarationFragment(SimpleName:shapeSource)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:newDataStore))(SimpleName:getFeatureSource)(METHOD_INVOCATION_ARGUMENTS(SimpleName:typeName)))))(IfStatement(InstanceofExpression(SimpleName:shapeSource)(SimpleType(SimpleName:FeatureStore)))(Block(VariableDeclarationStatement(SimpleType(SimpleName:FeatureStore))(VariableDeclarationFragment(SimpleName:shapeStore)(CastExpression(SimpleType(SimpleName:FeatureStore))(SimpleName:shapeSource))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:shapeStore))(SimpleName:setTransaction)(METHOD_INVOCATION_ARGUMENTS(SimpleName:transaction))))(TryStatement(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:shapeStore))(SimpleName:addFeatures)(METHOD_INVOCATION_ARGUMENTS(SimpleName:featureCollection))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:transaction))(SimpleName:commit))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:Exception))(SimpleName:e))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:logger))(SimpleName:severe)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:e))(SimpleName:getMessage))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:transaction))(SimpleName:rollback)))))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:transaction))(SimpleName:close))))))(Block(ThrowStatement(ClassInstanceCreation(SimpleType(SimpleName:Exception))(InfixExpression(SimpleName:typeName)(INFIX_EXPRESSION_OPERATOR:+)(StringLiteral:<STR>))))))(ReturnStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:shapeFile))(SimpleName:getAbsolutePath)))(SimpleName:replace)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(StringLiteral:<STR>))))))))