(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:public)(Modifier:static)(SimpleType(SimpleName:String))(SimpleName:harvestForUser)(SingleVariableDeclaration(SimpleType(SimpleName:Node))(SimpleName:userNode))(SingleVariableDeclaration(SimpleType(SimpleName:String))(SimpleName:alias))(SingleVariableDeclaration(SimpleType(SimpleName:Boolean))(SimpleName:all))(Block(VariableDeclarationStatement(SimpleType(SimpleName:FTPClient))(VariableDeclarationFragment(SimpleName:client)(ClassInstanceCreation(SimpleType(SimpleName:FTPClient)))))(VariableDeclarationStatement(SimpleType(SimpleName:OutputStream))(VariableDeclarationFragment(SimpleName:outStream)(NullLiteral)))(VariableDeclarationStatement(SimpleType(SimpleName:Calendar))(VariableDeclarationFragment(SimpleName:filterCal)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Calendar))(SimpleName:getInstance))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:filterCal))(SimpleName:set)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:Calendar.DAY_OF_MONTH)(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:filterCal))(SimpleName:get)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:Calendar.DAY_OF_MONTH)))(INFIX_EXPRESSION_OPERATOR:-)(NumberLiteral:1)))))(VariableDeclarationStatement(SimpleType(SimpleName:Date))(VariableDeclarationFragment(SimpleName:aDayAgo)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:filterCal))(SimpleName:getTime))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:outputRecord)(StringLiteral:<STR>)))(TryStatement(Block(VariableDeclarationStatement(SimpleType(SimpleName:Session))(VariableDeclarationFragment(SimpleName:session)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:CustomSystemSession))(SimpleName:create)(METHOD_INVOCATION_ARGUMENTS(SimpleName:r)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:client))(SimpleName:connect)(METHOD_INVOCATION_ARGUMENTS(SimpleName:ftpHostname))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:client))(SimpleName:login)(METHOD_INVOCATION_ARGUMENTS(SimpleName:ftpUsername)(SimpleName:ftpPassword))))(VariableDeclarationStatement(ArrayType(SimpleType(SimpleName:FTPFile))(Dimension))(VariableDeclarationFragment(SimpleName:users)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:client))(SimpleName:listFiles))))(IfStatement(InfixExpression(SimpleName:users)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(EnhancedForStatement(SingleVariableDeclaration(SimpleType(SimpleName:FTPFile))(SimpleName:user))(SimpleName:users)(Block(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:userName)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:user))(SimpleName:getName))))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:alias))(SimpleName:equals)(METHOD_INVOCATION_ARGUMENTS(SimpleName:userName)))(Block(ExpressionStatement(Assignment(SimpleName:outputRecord)(ASSIGNMENT_OPERATOR:+=)(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:userName)(StringLiteral:<STR>))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:client))(SimpleName:changeWorkingDirectory)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:userName)(StringLiteral:<STR>)))))(VariableDeclarationStatement(ArrayType(SimpleType(SimpleName:FTPFile))(Dimension))(VariableDeclarationFragment(SimpleName:experiments)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:client))(SimpleName:listFiles))))(IfStatement(InfixExpression(InfixExpression(SimpleName:experiments)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(INFIX_EXPRESSION_OPERATOR:&&)(InfixExpression(SimpleName:userNode)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral)))(Block(EnhancedForStatement(SingleVariableDeclaration(SimpleType(SimpleName:FTPFile))(SimpleName:experiment))(SimpleName:experiments)(Block(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:experimentName)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:experiment))(SimpleName:getName))))(ExpressionStatement(Assignment(SimpleName:outputRecord)(ASSIGNMENT_OPERATOR:+=)(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:userName)(StringLiteral:<STR>)(SimpleName:experimentName)(StringLiteral:<STR>))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:client))(SimpleName:changeWorkingDirectory)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:userName)(StringLiteral:<STR>)(SimpleName:experimentName)(StringLiteral:<STR>)))))(VariableDeclarationStatement(ArrayType(SimpleType(SimpleName:FTPFile))(Dimension))(VariableDeclarationFragment(SimpleName:datasets)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:client))(SimpleName:listFiles))))(IfStatement(InfixExpression(SimpleName:datasets)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(EnhancedForStatement(SingleVariableDeclaration(SimpleType(SimpleName:FTPFile))(SimpleName:dataset))(SimpleName:datasets)(Block(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:datasetName)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:dataset))(SimpleName:getName))))(ExpressionStatement(Assignment(SimpleName:outputRecord)(ASSIGNMENT_OPERATOR:+=)(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:userName)(StringLiteral:<STR>)(SimpleName:experimentName)(StringLiteral:<STR>)(SimpleName:datasetName)(StringLiteral:<STR>))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:client))(SimpleName:changeWorkingDirectory)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:userName)(StringLiteral:<STR>)(SimpleName:experimentName)(StringLiteral:<STR>)(SimpleName:datasetName)(StringLiteral:<STR>)))))(VariableDeclarationStatement(SimpleType(SimpleName:Date))(VariableDeclarationFragment(SimpleName:collectionDate)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:dataset))(SimpleName:getTimestamp)))(SimpleName:getTime))))(IfStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:collectionDate))(SimpleName:after)(METHOD_INVOCATION_ARGUMENTS(SimpleName:aDayAgo)))(INFIX_EXPRESSION_OPERATOR:||)(SimpleName:all))(Block(VariableDeclarationStatement(ArrayType(SimpleType(SimpleName:FTPFile))(Dimension))(VariableDeclarationFragment(SimpleName:images)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:client))(SimpleName:listFiles))))(IfStatement(InfixExpression(SimpleName:images)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(EnhancedForStatement(SingleVariableDeclaration(SimpleType(SimpleName:FTPFile))(SimpleName:image))(SimpleName:images)(Block(ExpressionStatement(Assignment(SimpleName:outputRecord)(ASSIGNMENT_OPERATOR:+=)(MethodInvocation(SimpleName:processImage)(METHOD_INVOCATION_ARGUMENTS(SimpleName:userName)(SimpleName:experimentName)(SimpleName:datasetName)(SimpleName:collectionDate)(SimpleName:image)(SimpleName:client)(SimpleName:userNode)(SimpleName:session)))))))))))))))))))))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:client))(SimpleName:logout))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:IOException))(SimpleName:ioe))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:log))(SimpleName:info)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:log))(SimpleName:error)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(SimpleName:ioe))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ioe))(SimpleName:printStackTrace)))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:RepositoryException))(SimpleName:ioe))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:log))(SimpleName:info)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:log))(SimpleName:error)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(SimpleName:ioe))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ioe))(SimpleName:printStackTrace)))))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:IOUtils))(SimpleName:closeQuietly)(METHOD_INVOCATION_ARGUMENTS(SimpleName:outStream))))(TryStatement(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:client))(SimpleName:disconnect))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:IOException))(SimpleName:e))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:log))(SimpleName:error)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(SimpleName:e)))))))))(ReturnStatement(SimpleName:outputRecord))))))