(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:public)(Modifier:static)(SimpleType(SimpleName:File))(SimpleName:saveAsDialog)(SingleVariableDeclaration(SimpleType(SimpleName:Component))(SimpleName:parent))(Block(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:exportPath)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Preference))(SimpleName:getXmlExportDir))))(VariableDeclarationStatement(PrimitiveType:boolean)(VariableDeclarationFragment(SimpleName:retry)(BooleanLiteral:false)))(DoStatement(Block(VariableDeclarationStatement(SimpleType(SimpleName:JFileChooser))(VariableDeclarationFragment(SimpleName:fc)(ParenthesizedExpression(ConditionalExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Utils))(SimpleName:isBlank)(METHOD_INVOCATION_ARGUMENTS(SimpleName:exportPath)))(ClassInstanceCreation(SimpleType(SimpleName:JFileChooser)))(ClassInstanceCreation(SimpleType(SimpleName:JFileChooser))(SimpleName:exportPath))))))(VariableDeclarationStatement(SimpleType(SimpleName:FileFilter))(VariableDeclarationFragment(SimpleName:filter)(ClassInstanceCreation(SimpleType(SimpleName:XMLFileFilter)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fc))(SimpleName:setFileFilter)(METHOD_INVOCATION_ARGUMENTS(SimpleName:filter))))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:retval)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fc))(SimpleName:showSaveDialog)(METHOD_INVOCATION_ARGUMENTS(SimpleName:parent)))))(IfStatement(InfixExpression(SimpleName:retval)(INFIX_EXPRESSION_OPERATOR:==)(QualifiedName:JFileChooser.APPROVE_OPTION))(Block(VariableDeclarationStatement(SimpleType(SimpleName:File))(VariableDeclarationFragment(SimpleName:selectedFile)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fc))(SimpleName:getSelectedFile))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:fName)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:selectedFile))(SimpleName:getName))))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:i)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fName))(SimpleName:lastIndexOf)(METHOD_INVOCATION_ARGUMENTS(CharacterLiteral:<STR>)))))(IfStatement(InfixExpression(SimpleName:i)(INFIX_EXPRESSION_OPERATOR:==)(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:-)(NumberLiteral:1)))(Block(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:path)(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:selectedFile))(SimpleName:getAbsolutePath))(INFIX_EXPRESSION_OPERATOR:+)(StringLiteral:<STR>))))(ExpressionStatement(Assignment(SimpleName:selectedFile)(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(SimpleType(SimpleName:File))(SimpleName:path)))))(Block(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:extension)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:XMLFileFilter))(SimpleName:getExtension)(METHOD_INVOCATION_ARGUMENTS(SimpleName:selectedFile)))))(IfStatement(InfixExpression(InfixExpression(SimpleName:extension)(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(INFIX_EXPRESSION_OPERATOR:||)(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:extension))(SimpleName:equals)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:XMLFileFilter.XML)))))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:JOptionPane))(SimpleName:showMessageDialog)(METHOD_INVOCATION_ARGUMENTS(SimpleName:parent)(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:fName)(StringLiteral:<STR>))(StringLiteral:<STR>)(QualifiedName:JOptionPane.ERROR_MESSAGE))))(ExpressionStatement(Assignment(SimpleName:retry)(ASSIGNMENT_OPERATOR:=)(BooleanLiteral:true)))(ContinueStatement)))))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:selectedFile))(SimpleName:exists))(Block(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:n)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:JOptionPane))(SimpleName:showOptionDialog)(METHOD_INVOCATION_ARGUMENTS(SimpleName:parent)(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:selectedFile))(SimpleName:getName))(StringLiteral:<STR>))(StringLiteral:<STR>)(QualifiedName:JOptionPane.YES_NO_CANCEL_OPTION)(QualifiedName:JOptionPane.QUESTION_MESSAGE)(NullLiteral)(NullLiteral)(NullLiteral)))))(IfStatement(InfixExpression(SimpleName:n)(INFIX_EXPRESSION_OPERATOR:==)(QualifiedName:JOptionPane.CANCEL_OPTION))(Block(ReturnStatement(NullLiteral)))(IfStatement(InfixExpression(SimpleName:n)(INFIX_EXPRESSION_OPERATOR:==)(QualifiedName:JOptionPane.NO_OPTION))(Block(ExpressionStatement(Assignment(SimpleName:retry)(ASSIGNMENT_OPERATOR:=)(BooleanLiteral:true))))(IfStatement(InfixExpression(SimpleName:n)(INFIX_EXPRESSION_OPERATOR:==)(QualifiedName:JOptionPane.YES_OPTION))(Block(ReturnStatement(SimpleName:selectedFile)))))))(Block(ReturnStatement(SimpleName:selectedFile)))))(Block(ReturnStatement(NullLiteral)))))(SimpleName:retry))(ReturnStatement(NullLiteral))))))