(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:public)(PrimitiveType:int)(SimpleName:next)(SingleVariableDeclaration(SimpleType(SimpleName:OctetSeqHolder))(SimpleName:buf))(SingleVariableDeclaration(SimpleType(SimpleName:IntHolder))(SimpleName:off))(SingleVariableDeclaration(SimpleType(SimpleName:IntHolder))(SimpleName:len))(Block(IfStatement(InfixExpression(SimpleName:m_head)(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(Block(ExpressionStatement(Assignment(QualifiedName:buf.value)(ASSIGNMENT_OPERATOR:=)(NullLiteral)))(ExpressionStatement(Assignment(QualifiedName:off.value)(ASSIGNMENT_OPERATOR:=)(NumberLiteral:0)))(ReturnStatement(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:-)(NumberLiteral:1)))))(IfStatement(InfixExpression(QualifiedName:len.value)(INFIX_EXPRESSION_OPERATOR:<)(NumberLiteral:0))(Block(ThrowStatement(ClassInstanceCreation(SimpleType(SimpleName:IndexOutOfBoundsException))))))(IfStatement(InfixExpression(SimpleName:m_read_write_mode)(INFIX_EXPRESSION_OPERATOR:&&)(InfixExpression(QualifiedName:m_head.m_fMode)(INFIX_EXPRESSION_OPERATOR:==)(QualifiedName:Scrap.SCRAP_MODE_READONLY)))(Block(VariableDeclarationStatement(ArrayType(PrimitiveType:byte)(Dimension))(VariableDeclarationFragment(SimpleName:copy)(ArrayCreation(ArrayType(PrimitiveType:byte)(Dimension(QualifiedName:m_head.m_fLength))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:System))(SimpleName:arraycopy)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:m_head.m_fBuffer)(QualifiedName:m_head.m_fOffset)(SimpleName:copy)(NumberLiteral:0)(QualifiedName:m_head.m_fLength))))(ExpressionStatement(Assignment(QualifiedName:m_head.m_fBuffer)(ASSIGNMENT_OPERATOR:=)(SimpleName:copy)))(ExpressionStatement(Assignment(QualifiedName:m_head.m_fOffset)(ASSIGNMENT_OPERATOR:=)(NumberLiteral:0)))(ExpressionStatement(Assignment(QualifiedName:m_head.m_fMode)(ASSIGNMENT_OPERATOR:=)(QualifiedName:Scrap.SCRAP_MODE_NORMAL)))))(ExpressionStatement(Assignment(QualifiedName:buf.value)(ASSIGNMENT_OPERATOR:=)(QualifiedName:m_head.m_fBuffer)))(ExpressionStatement(Assignment(QualifiedName:off.value)(ASSIGNMENT_OPERATOR:=)(QualifiedName:m_head.m_fOffset)))(IfStatement(InfixExpression(QualifiedName:len.value)(INFIX_EXPRESSION_OPERATOR:<)(QualifiedName:m_head.m_fLength))(Block(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:olen)(QualifiedName:len.value)))(ExpressionStatement(Assignment(QualifiedName:len.value)(ASSIGNMENT_OPERATOR:=)(NumberLiteral:0)))(IfStatement(InfixExpression(ParenthesizedExpression(InfixExpression(InfixExpression(SimpleName:m_mark)(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(INFIX_EXPRESSION_OPERATOR:&&)(InfixExpression(SimpleName:m_tail)(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))))(INFIX_EXPRESSION_OPERATOR:||)(InfixExpression(SimpleName:m_head)(INFIX_EXPRESSION_OPERATOR:==)(SimpleName:m_temp_head)))(Block(ExpressionStatement(Assignment(QualifiedName:m_head.m_fOffset)(ASSIGNMENT_OPERATOR:+=)(SimpleName:olen)))(ExpressionStatement(Assignment(QualifiedName:m_head.m_fLength)(ASSIGNMENT_OPERATOR:-=)(SimpleName:olen))))(Block(ExpressionStatement(Assignment(QualifiedName:m_temp_head.m_fBuffer)(ASSIGNMENT_OPERATOR:=)(QualifiedName:m_head.m_fBuffer)))(ExpressionStatement(Assignment(QualifiedName:m_temp_head.m_fOffset)(ASSIGNMENT_OPERATOR:=)(InfixExpression(QualifiedName:m_head.m_fOffset)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:olen))))(ExpressionStatement(Assignment(QualifiedName:m_temp_head.m_fLength)(ASSIGNMENT_OPERATOR:=)(InfixExpression(QualifiedName:m_head.m_fLength)(INFIX_EXPRESSION_OPERATOR:-)(SimpleName:olen))))(ExpressionStatement(Assignment(QualifiedName:m_temp_head.m_fMode)(ASSIGNMENT_OPERATOR:=)(InfixExpression(QualifiedName:m_head.m_fMode)(INFIX_EXPRESSION_OPERATOR:|)(QualifiedName:Scrap.SCRAP_MODE_SHARED))))(ExpressionStatement(Assignment(QualifiedName:m_temp_head.m_fPosition)(ASSIGNMENT_OPERATOR:=)(QualifiedName:m_head.m_fPosition)))(ExpressionStatement(Assignment(QualifiedName:m_temp_head.m_fNext)(ASSIGNMENT_OPERATOR:=)(QualifiedName:m_head.m_fNext)))(ExpressionStatement(Assignment(SimpleName:m_head)(ASSIGNMENT_OPERATOR:=)(SimpleName:m_temp_head)))))(ExpressionStatement(Assignment(SimpleName:m_avail)(ASSIGNMENT_OPERATOR:-=)(SimpleName:olen)))(ReturnStatement(SimpleName:olen)))(Block(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:olen)(QualifiedName:m_head.m_fLength)))(ExpressionStatement(Assignment(QualifiedName:len.value)(ASSIGNMENT_OPERATOR:-=)(SimpleName:olen)))(IfStatement(InfixExpression(ParenthesizedExpression(Assignment(SimpleName:m_head)(ASSIGNMENT_OPERATOR:=)(QualifiedName:m_head.m_fNext)))(INFIX_EXPRESSION_OPERATOR:==)(SimpleName:m_tail))(Block(ExpressionStatement(Assignment(SimpleName:m_head)(ASSIGNMENT_OPERATOR:=)(NullLiteral)))))(ExpressionStatement(Assignment(SimpleName:m_avail)(ASSIGNMENT_OPERATOR:-=)(SimpleName:olen)))(ReturnStatement(SimpleName:olen))))))))