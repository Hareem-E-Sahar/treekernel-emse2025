(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:public)(PrimitiveType:void)(SimpleName:testSignedGetRequest)(SimpleType(SimpleName:Exception))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(SimpleName:expect)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:request))(SimpleName:getAttribute)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(QualifiedName:AuthInfo.Attribute.SECURITY_TOKEN))(SimpleName:getId)))))))(SimpleName:andReturn)(METHOD_INVOCATION_ARGUMENTS(SimpleName:DUMMY_TOKEN))))(SimpleName:atLeastOnce)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(SimpleName:expect)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:request))(SimpleName:getParameter)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:MakeRequestHandler.AUTHZ_PARAM))))))(SimpleName:andReturn)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(QualifiedName:AuthType.SIGNED))(SimpleName:toString)))))(SimpleName:atLeastOnce)))(VariableDeclarationStatement(SimpleType(SimpleName:HttpRequest))(VariableDeclarationFragment(SimpleName:expected)(MethodInvocation(METHOD_INVOCATION_RECEIVER(ClassInstanceCreation(SimpleType(SimpleName:HttpRequest))(SimpleName:REQUEST_URL)))(SimpleName:setAuthType)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:AuthType.SIGNED)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(SimpleName:expect)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:pipeline))(SimpleName:execute)(METHOD_INVOCATION_ARGUMENTS(SimpleName:expected))))))(SimpleName:andReturn)(METHOD_INVOCATION_ARGUMENTS(ClassInstanceCreation(SimpleType(SimpleName:HttpResponse))(SimpleName:RESPONSE_BODY)))))(ExpressionStatement(MethodInvocation(SimpleName:expectParameters)(METHOD_INVOCATION_ARGUMENTS(SimpleName:request)(QualifiedName:MakeRequestHandler.AUTHZ_PARAM))))(ExpressionStatement(MethodInvocation(SimpleName:replay)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:handler))(SimpleName:fetch)(METHOD_INVOCATION_ARGUMENTS(SimpleName:request)(SimpleName:recorder))))(VariableDeclarationStatement(SimpleType(SimpleName:JSONObject))(VariableDeclarationFragment(SimpleName:results)(MethodInvocation(SimpleName:extractJsonFromResponse))))(ExpressionStatement(MethodInvocation(SimpleName:assertEquals)(METHOD_INVOCATION_ARGUMENTS(SimpleName:RESPONSE_BODY)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:results))(SimpleName:get)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))))(ExpressionStatement(MethodInvocation(SimpleName:assertTrue)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:rewriter))(SimpleName:responseWasRewritten)))))))))