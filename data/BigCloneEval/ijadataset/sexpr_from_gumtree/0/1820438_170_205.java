(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:public)(SimpleType(SimpleName:HttpURLConnection))(SimpleName:execute)(SingleVariableDeclaration(SimpleType(SimpleName:Method))(SimpleName:method))(SingleVariableDeclaration(ParameterizedType(SimpleType(SimpleName:List))(SimpleType(SimpleName:String)))(SimpleName:vars))(SingleVariableDeclaration(SimpleType(SimpleName:File))(SimpleName:payload))(SimpleType(SimpleName:Exception))(Block(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:url)(MethodInvocation(SimpleName:toString))))(VariableDeclarationStatement(SimpleType(SimpleName:StringBuilder))(VariableDeclarationFragment(SimpleName:queryString)(ClassInstanceCreation(SimpleType(SimpleName:StringBuilder)))))(VariableDeclarationStatement(ParameterizedType(SimpleType(SimpleName:Map))(SimpleType(SimpleName:String))(ParameterizedType(SimpleType(SimpleName:List))(SimpleType(SimpleName:String))))(VariableDeclarationFragment(SimpleName:queryMap)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Util))(SimpleName:toMap)(METHOD_INVOCATION_ARGUMENTS(SimpleName:vars)(CharacterLiteral:<STR>)))))(EnhancedForStatement(SingleVariableDeclaration(ParameterizedType(SimpleType(QualifiedName:Map.Entry))(SimpleType(SimpleName:String))(ParameterizedType(SimpleType(SimpleName:List))(SimpleType(SimpleName:String))))(SimpleName:entry))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:queryMap))(SimpleName:entrySet))(Block(EnhancedForStatement(SingleVariableDeclaration(SimpleType(SimpleName:String))(SimpleName:value))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:entry))(SimpleName:getValue))(Block(IfStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:queryString))(SimpleName:length))(INFIX_EXPRESSION_OPERATOR:>)(NumberLiteral:0))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:queryString))(SimpleName:append)(METHOD_INVOCATION_ARGUMENTS(CharacterLiteral:<STR>)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:queryString))(SimpleName:append)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:entry))(SimpleName:getKey)))))(SimpleName:append)(METHOD_INVOCATION_ARGUMENTS(CharacterLiteral:<STR>))))(SimpleName:append)(METHOD_INVOCATION_ARGUMENTS(SimpleName:value))))))))(ExpressionStatement(MethodInvocation(SimpleName:populate)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:ParamStyle.QUERY)(NullLiteral)(SimpleName:queryString)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:resource))(SimpleName:getParam))(SimpleName:queryMap))))(VariableDeclarationStatement(SimpleType(SimpleName:Request))(VariableDeclarationFragment(SimpleName:request)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:method))(SimpleName:getRequest))))(IfStatement(InfixExpression(SimpleName:request)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(ExpressionStatement(MethodInvocation(SimpleName:populate)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:ParamStyle.QUERY)(NullLiteral)(SimpleName:queryString)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:request))(SimpleName:getParam))(SimpleName:queryMap)))))(IfStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:queryString))(SimpleName:length))(INFIX_EXPRESSION_OPERATOR:>)(NumberLiteral:0))(ExpressionStatement(Assignment(SimpleName:url)(ASSIGNMENT_OPERATOR:+=)(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:queryString)))))(VariableDeclarationStatement(SimpleType(SimpleName:HttpURLConnection))(VariableDeclarationFragment(SimpleName:con)(CastExpression(SimpleType(SimpleName:HttpURLConnection))(MethodInvocation(METHOD_INVOCATION_RECEIVER(ClassInstanceCreation(SimpleType(SimpleName:URL))(SimpleName:url)))(SimpleName:openConnection)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:con))(SimpleName:setRequestMethod)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:method))(SimpleName:getName)))))(VariableDeclarationStatement(ParameterizedType(SimpleType(SimpleName:Map))(SimpleType(SimpleName:String))(ParameterizedType(SimpleType(SimpleName:List))(SimpleType(SimpleName:String))))(VariableDeclarationFragment(SimpleName:headerMap)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Util))(SimpleName:toMap)(METHOD_INVOCATION_ARGUMENTS(SimpleName:vars)(CharacterLiteral:<STR>)))))(EnhancedForStatement(SingleVariableDeclaration(ParameterizedType(SimpleType(QualifiedName:Map.Entry))(SimpleType(SimpleName:String))(ParameterizedType(SimpleType(SimpleName:List))(SimpleType(SimpleName:String))))(SimpleName:entry))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:headerMap))(SimpleName:entrySet))(Block(EnhancedForStatement(SingleVariableDeclaration(SimpleType(SimpleName:String))(SimpleName:value))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:entry))(SimpleName:getValue))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:con))(SimpleName:addRequestProperty)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:entry))(SimpleName:getKey))(SimpleName:value)))))))(ExpressionStatement(MethodInvocation(SimpleName:populate)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:ParamStyle.HEADER)(SimpleName:con)(NullLiteral)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:resource))(SimpleName:getParam))(SimpleName:headerMap))))(IfStatement(InfixExpression(SimpleName:request)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(ExpressionStatement(MethodInvocation(SimpleName:populate)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:ParamStyle.HEADER)(SimpleName:con)(NullLiteral)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:request))(SimpleName:getParam))(SimpleName:headerMap))))(IfStatement(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:request))(SimpleName:getRepresentation)))(SimpleName:isEmpty)))(Block(VariableDeclarationStatement(SimpleType(SimpleName:Representation))(VariableDeclarationFragment(SimpleName:rep)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:request))(SimpleName:getRepresentation)))(SimpleName:get)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:RandomUtil))(SimpleName:random)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:0)(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:request))(SimpleName:getRepresentation)))(SimpleName:size))(INFIX_EXPRESSION_OPERATOR:-)(NumberLiteral:1))))))))(IfStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:rep))(SimpleName:getMediaType))(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:con))(SimpleName:addRequestProperty)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:rep))(SimpleName:getMediaType))))))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:con))(SimpleName:addRequestProperty)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(StringLiteral:<STR>))))(VariableDeclarationStatement(SimpleType(SimpleName:Authenticator))(VariableDeclarationFragment(SimpleName:authenticator)(MethodInvocation(SimpleName:getAuthenticator))))(IfStatement(InfixExpression(SimpleName:authenticator)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:authenticator))(SimpleName:authenticate)(METHOD_INVOCATION_ARGUMENTS(SimpleName:con)))))(IfStatement(InfixExpression(SimpleName:payload)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:con))(SimpleName:setDoOutput)(METHOD_INVOCATION_ARGUMENTS(BooleanLiteral:true)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:con))(SimpleName:connect)))(IfStatement(InfixExpression(SimpleName:payload)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:IOUtil))(SimpleName:pump)(METHOD_INVOCATION_ARGUMENTS(ClassInstanceCreation(SimpleType(SimpleName:FileInputStream))(SimpleName:payload))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:con))(SimpleName:getOutputStream))(BooleanLiteral:true)(BooleanLiteral:false)))))(ReturnStatement(SimpleName:con))))))