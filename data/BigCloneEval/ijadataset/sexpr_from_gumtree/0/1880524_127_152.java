(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:public)(Modifier:static)(PrimitiveType:void)(SimpleName:writeData)(SingleVariableDeclaration(SimpleType(SimpleName:DataOutput))(SimpleName:out))(SingleVariableDeclaration(ArrayType(PrimitiveType:byte)(Dimension))(SimpleName:data))(SingleVariableDeclaration(PrimitiveType:int)(SimpleName:off))(SingleVariableDeclaration(PrimitiveType:int)(SimpleName:len))(SimpleType(SimpleName:IOException))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:CheckBounds))(SimpleName:offset)(METHOD_INVOCATION_ARGUMENTS(SimpleName:data)(SimpleName:off)(SimpleName:len))))(IfStatement(InstanceofExpression(SimpleName:out)(SimpleType(SimpleName:XOutputStream)))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(ParenthesizedExpression(CastExpression(SimpleType(SimpleName:XOutputStream))(SimpleName:out))))(SimpleName:writeSecurely)(METHOD_INVOCATION_ARGUMENTS(SimpleName:data)(SimpleName:off)(SimpleName:len)))))(IfStatement(InfixExpression(SimpleName:len)(INFIX_EXPRESSION_OPERATOR:<=)(SimpleName:WRAP_LIMIT))(Block(ForStatement(VariableDeclarationExpression(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:hi)(InfixExpression(SimpleName:off)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:len))))(InfixExpression(SimpleName:off)(INFIX_EXPRESSION_OPERATOR:<)(SimpleName:hi))(PostfixExpression(SimpleName:off)(POSTFIX_EXPRESSION_OPERATOR:++))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:out))(SimpleName:write)(METHOD_INVOCATION_ARGUMENTS(ArrayAccess(SimpleName:data)(SimpleName:off)))))))(IfStatement(MethodInvocation(SimpleName:trustClass)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:out))(SimpleName:getClass))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:out))(SimpleName:write)(METHOD_INVOCATION_ARGUMENTS(SimpleName:data)(SimpleName:off)(SimpleName:len))))(IfStatement(InstanceofExpression(SimpleName:out)(SimpleType(SimpleName:FileOutputStream)))(Block(VariableDeclarationStatement(SimpleType(SimpleName:ByteBuffer))(VariableDeclarationFragment(SimpleName:buf)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ByteBuffer))(SimpleName:wrap)(METHOD_INVOCATION_ARGUMENTS(SimpleName:data)(SimpleName:off)(SimpleName:len))))(SimpleName:asReadOnlyBuffer))))(VariableDeclarationStatement(SimpleType(SimpleName:WritableByteChannel))(VariableDeclarationFragment(SimpleName:ch)(MethodInvocation(METHOD_INVOCATION_RECEIVER(ParenthesizedExpression(CastExpression(SimpleType(SimpleName:FileOutputStream))(SimpleName:out))))(SimpleName:getChannel))))(WhileStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:buf))(SimpleName:hasRemaining))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ch))(SimpleName:write)(METHOD_INVOCATION_ARGUMENTS(SimpleName:buf))))))(IfStatement(InstanceofExpression(SimpleName:out)(SimpleType(SimpleName:WritableByteChannel)))(Block(VariableDeclarationStatement(SimpleType(SimpleName:ByteBuffer))(VariableDeclarationFragment(SimpleName:buf)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ByteBuffer))(SimpleName:wrap)(METHOD_INVOCATION_ARGUMENTS(SimpleName:data)(SimpleName:off)(SimpleName:len))))(SimpleName:asReadOnlyBuffer))))(VariableDeclarationStatement(SimpleType(SimpleName:WritableByteChannel))(VariableDeclarationFragment(SimpleName:ch)(CastExpression(SimpleType(SimpleName:WritableByteChannel))(SimpleName:out))))(WhileStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:buf))(SimpleName:hasRemaining))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ch))(SimpleName:write)(METHOD_INVOCATION_ARGUMENTS(SimpleName:buf))))))(Block(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:capacity)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Math))(SimpleName:min)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:2048)(SimpleName:len)))))(VariableDeclarationStatement(ArrayType(PrimitiveType:byte)(Dimension))(VariableDeclarationFragment(SimpleName:a)(ArrayCreation(ArrayType(PrimitiveType:byte)(Dimension(SimpleName:capacity))))))(WhileStatement(InfixExpression(SimpleName:len)(INFIX_EXPRESSION_OPERATOR:>)(NumberLiteral:0))(Block(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:step)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Math))(SimpleName:min)(METHOD_INVOCATION_ARGUMENTS(SimpleName:capacity)(SimpleName:len)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:System))(SimpleName:arraycopy)(METHOD_INVOCATION_ARGUMENTS(SimpleName:data)(SimpleName:off)(SimpleName:a)(NumberLiteral:0)(SimpleName:step))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:out))(SimpleName:write)(METHOD_INVOCATION_ARGUMENTS(SimpleName:a)(NumberLiteral:0)(SimpleName:step))))(ExpressionStatement(Assignment(SimpleName:len)(ASSIGNMENT_OPERATOR:-=)(SimpleName:step)))(ExpressionStatement(Assignment(SimpleName:off)(ASSIGNMENT_OPERATOR:+=)(SimpleName:step)))))))))))))))