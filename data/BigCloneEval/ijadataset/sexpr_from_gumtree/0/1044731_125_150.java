(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(MarkerAnnotation(SimpleName:Override))(Modifier:public)(SimpleType(SimpleName:String))(SimpleName:writeToString)(SimpleType(SimpleName:ConditionThrowable))(Block(VariableDeclarationStatement(Modifier:final)(SimpleType(SimpleName:LispThread))(VariableDeclarationFragment(SimpleName:thread)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:LispThread))(SimpleName:currentThread))))(IfStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(QualifiedName:SymbolConstants.PRINT_ESCAPE))(SimpleName:symbolValue)(METHOD_INVOCATION_ARGUMENTS(SimpleName:thread)))(INFIX_EXPRESSION_OPERATOR:==)(SimpleName:NIL))(Block(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:s)(MethodInvocation(SimpleName:getMessage))))(IfStatement(InfixExpression(SimpleName:s)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(ReturnStatement(SimpleName:s)))(VariableDeclarationStatement(SimpleType(SimpleName:LispObject))(VariableDeclarationFragment(SimpleName:formatControl)(MethodInvocation(SimpleName:getFormatControl))))(IfStatement(InstanceofExpression(SimpleName:formatControl)(SimpleType(SimpleName:Function)))(Block(VariableDeclarationStatement(SimpleType(SimpleName:StringOutputStream))(VariableDeclarationFragment(SimpleName:stream)(ClassInstanceCreation(SimpleType(SimpleName:StringOutputStream)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(QualifiedName:SymbolConstants.APPLY))(SimpleName:execute)(METHOD_INVOCATION_ARGUMENTS(SimpleName:formatControl)(SimpleName:stream)(MethodInvocation(SimpleName:getFormatArguments)))))(ReturnStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:stream))(SimpleName:getStringOutputString)))(SimpleName:getStringValue)))))(IfStatement(InstanceofExpression(SimpleName:formatControl)(SimpleType(SimpleName:AbstractString)))(Block(VariableDeclarationStatement(SimpleType(SimpleName:LispObject))(VariableDeclarationFragment(SimpleName:f)(MethodInvocation(METHOD_INVOCATION_RECEIVER(QualifiedName:SymbolConstants.FORMAT))(SimpleName:getSymbolFunction))))(IfStatement(InfixExpression(InfixExpression(SimpleName:f)(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(INFIX_EXPRESSION_OPERATOR:||)(InstanceofExpression(SimpleName:f)(SimpleType(SimpleName:Autoload))))(ReturnStatement(MethodInvocation(SimpleName:format)(METHOD_INVOCATION_ARGUMENTS(SimpleName:formatControl)(MethodInvocation(SimpleName:getFormatArguments))))))(ReturnStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(QualifiedName:SymbolConstants.APPLY))(SimpleName:execute)(METHOD_INVOCATION_ARGUMENTS(SimpleName:f)(SimpleName:NIL)(SimpleName:formatControl)(MethodInvocation(SimpleName:getFormatArguments)))))(SimpleName:getStringValue)))))))(VariableDeclarationStatement(Modifier:final)(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:maxLevel)))(VariableDeclarationStatement(SimpleType(SimpleName:LispObject))(VariableDeclarationFragment(SimpleName:printLevel)(MethodInvocation(METHOD_INVOCATION_RECEIVER(QualifiedName:SymbolConstants.PRINT_LEVEL))(SimpleName:symbolValue)(METHOD_INVOCATION_ARGUMENTS(SimpleName:thread)))))(IfStatement(InstanceofExpression(SimpleName:printLevel)(SimpleType(SimpleName:Fixnum)))(ExpressionStatement(Assignment(SimpleName:maxLevel)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:printLevel))(SimpleName:intValue))))(ExpressionStatement(Assignment(SimpleName:maxLevel)(ASSIGNMENT_OPERATOR:=)(QualifiedName:Integer.MAX_VALUE))))(VariableDeclarationStatement(SimpleType(SimpleName:LispObject))(VariableDeclarationFragment(SimpleName:currentPrintLevel)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:_CURRENT_PRINT_LEVEL_))(SimpleName:symbolValue)(METHOD_INVOCATION_ARGUMENTS(SimpleName:thread)))))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:currentLevel)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:currentPrintLevel))(SimpleName:intValue))))(IfStatement(InfixExpression(SimpleName:currentLevel)(INFIX_EXPRESSION_OPERATOR:>=)(SimpleName:maxLevel))(ReturnStatement(StringLiteral:<STR>)))(ReturnStatement(MethodInvocation(SimpleName:unreadableString)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(SimpleName:typeOf)))(SimpleName:writeToString)))))))))