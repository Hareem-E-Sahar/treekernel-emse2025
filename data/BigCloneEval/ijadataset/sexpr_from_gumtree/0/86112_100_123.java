(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(MarkerAnnotation(SimpleName:Override))(Modifier:public)(SimpleType(SimpleName:SpiResult))(SimpleName:writeReadAsync)(SingleVariableDeclaration(PrimitiveType:int)(SimpleName:slave))(SingleVariableDeclaration(ArrayType(PrimitiveType:byte)(Dimension))(SimpleName:writeData))(SingleVariableDeclaration(PrimitiveType:int)(SimpleName:writeSize))(SingleVariableDeclaration(PrimitiveType:int)(SimpleName:totalSize))(SingleVariableDeclaration(ArrayType(PrimitiveType:byte)(Dimension))(SimpleName:readData))(SingleVariableDeclaration(PrimitiveType:int)(SimpleName:readSize))(SimpleType(SimpleName:ConnectionLostException))(Block(ExpressionStatement(MethodInvocation(SimpleName:checkState)))(VariableDeclarationStatement(SimpleType(SimpleName:SpiResult))(VariableDeclarationFragment(SimpleName:result)(ClassInstanceCreation(SimpleType(SimpleName:SpiResult))(SimpleName:readData))))(VariableDeclarationStatement(SimpleType(SimpleName:OutgoingPacket))(VariableDeclarationFragment(SimpleName:p)(ClassInstanceCreation(SimpleType(SimpleName:OutgoingPacket)))))(ExpressionStatement(Assignment(QualifiedName:p.writeSize_)(ASSIGNMENT_OPERATOR:=)(SimpleName:writeSize)))(ExpressionStatement(Assignment(QualifiedName:p.writeData_)(ASSIGNMENT_OPERATOR:=)(SimpleName:writeData)))(ExpressionStatement(Assignment(QualifiedName:p.readSize_)(ASSIGNMENT_OPERATOR:=)(SimpleName:readSize)))(ExpressionStatement(Assignment(QualifiedName:p.ssPin_)(ASSIGNMENT_OPERATOR:=)(ArrayAccess(SimpleName:indexToSsPin_)(SimpleName:slave))))(ExpressionStatement(Assignment(QualifiedName:p.totalSize_)(ASSIGNMENT_OPERATOR:=)(SimpleName:totalSize)))(IfStatement(InfixExpression(QualifiedName:p.readSize_)(INFIX_EXPRESSION_OPERATOR:>)(NumberLiteral:0))(Block(SynchronizedStatement(ThisExpression)(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:pendingRequests_))(SimpleName:add)(METHOD_INVOCATION_ARGUMENTS(SimpleName:result)))))))(Block(ExpressionStatement(Assignment(QualifiedName:result.ready_)(ASSIGNMENT_OPERATOR:=)(BooleanLiteral:true)))))(TryStatement(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:outgoing_))(SimpleName:write)(METHOD_INVOCATION_ARGUMENTS(SimpleName:p)))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:IOException))(SimpleName:e))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Log))(SimpleName:e)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(StringLiteral:<STR>)(SimpleName:e)))))))(ReturnStatement(SimpleName:result))))))