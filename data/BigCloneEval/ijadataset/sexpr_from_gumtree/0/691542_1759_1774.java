(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:public)(Modifier:static)(SimpleType(SimpleName:Map))(SimpleName:filterSupportedFileFormats)(SingleVariableDeclaration(SimpleType(SimpleName:Map))(SimpleName:requestedFormats))(SingleVariableDeclaration(PrimitiveType:boolean)(SimpleName:read))(SingleVariableDeclaration(PrimitiveType:boolean)(SimpleName:write))(Block(VariableDeclarationStatement(SimpleType(SimpleName:Map))(VariableDeclarationFragment(SimpleName:resultFormats)(ClassInstanceCreation(SimpleType(SimpleName:HashMap)))))(VariableDeclarationStatement(SimpleType(SimpleName:Set))(VariableDeclarationFragment(SimpleName:formats)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:requestedFormats))(SimpleName:keySet))))(VariableDeclarationStatement(SimpleType(SimpleName:Iterator))(VariableDeclarationFragment(SimpleName:iterator)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:formats))(SimpleName:iterator))))(WhileStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:iterator))(SimpleName:hasNext))(Block(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:format)(CastExpression(SimpleType(SimpleName:String))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:iterator))(SimpleName:next)))))(VariableDeclarationStatement(SimpleType(SimpleName:Iterator))(VariableDeclarationFragment(SimpleName:writer)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ImageIO))(SimpleName:getImageWritersByFormatName)(METHOD_INVOCATION_ARGUMENTS(SimpleName:format)))))(VariableDeclarationStatement(SimpleType(SimpleName:Iterator))(VariableDeclarationFragment(SimpleName:reader)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ImageIO))(SimpleName:getImageReadersByFormatName)(METHOD_INVOCATION_ARGUMENTS(SimpleName:format)))))(IfStatement(InfixExpression(ParenthesizedExpression(InfixExpression(SimpleName:write)(INFIX_EXPRESSION_OPERATOR:&&)(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:writer))(SimpleName:hasNext)))))(INFIX_EXPRESSION_OPERATOR:||)(ParenthesizedExpression(InfixExpression(SimpleName:read)(INFIX_EXPRESSION_OPERATOR:&&)(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:reader))(SimpleName:hasNext))))))(Block(ContinueStatement))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:resultFormats))(SimpleName:put)(METHOD_INVOCATION_ARGUMENTS(SimpleName:format)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:requestedFormats))(SimpleName:get)(METHOD_INVOCATION_ARGUMENTS(SimpleName:format))))))))))(ReturnStatement(SimpleName:resultFormats))))))