(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:private)(SimpleType(SimpleName:InputStream))(SimpleName:getImageStream)(SingleVariableDeclaration(SimpleType(SimpleName:File))(SimpleName:f))(Block(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:COPY))(SimpleName:equals)(METHOD_INVOCATION_ARGUMENTS(SimpleName:importMode)))(Block(ReturnStatement(MethodInvocation(SimpleName:createFileInputStream)(METHOD_INVOCATION_ARGUMENTS(SimpleName:f))))))(IfStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:f))(SimpleName:length))(INFIX_EXPRESSION_OPERATOR:<)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ThumbIO))(SimpleName:getMinimalThumbSize)))(Block(ReturnStatement(MethodInvocation(SimpleName:createFileInputStream)(METHOD_INVOCATION_ARGUMENTS(SimpleName:f))))))(VariableDeclarationStatement(Modifier:final)(SimpleType(SimpleName:Image))(VariableDeclarationFragment(SimpleName:img)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:IO))(SimpleName:loadImage)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:f))(SimpleName:getAbsolutePath))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Display))(SimpleName:getCurrent))(BooleanLiteral:false)(BooleanLiteral:true)))))(IfStatement(InfixExpression(SimpleName:img)(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(Block(ReturnStatement(NullLiteral))))(VariableDeclarationStatement(Modifier:final)(SimpleType(SimpleName:Rectangle))(VariableDeclarationFragment(SimpleName:bounds)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:img))(SimpleName:getBounds))))(VariableDeclarationStatement(SimpleType(SimpleName:Image))(VariableDeclarationFragment(SimpleName:thumb)(NullLiteral)))(VariableDeclarationStatement(SimpleType(SimpleName:Point))(VariableDeclarationFragment(SimpleName:thumbSize)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ThumbIO))(SimpleName:getThumbSize)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:bounds.width)(QualifiedName:bounds.height)))))(IfStatement(InfixExpression(SimpleName:thumbSize)(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:img))(SimpleName:dispose)))(ReturnStatement(MethodInvocation(SimpleName:createFileInputStream)(METHOD_INVOCATION_ARGUMENTS(SimpleName:f))))))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:SMALL))(SimpleName:equals)(METHOD_INVOCATION_ARGUMENTS(SimpleName:importMode)))(Block(IfStatement(InfixExpression(InfixExpression(InfixExpression(QualifiedName:bounds.width)(INFIX_EXPRESSION_OPERATOR:/)(NumberLiteral:4))(INFIX_EXPRESSION_OPERATOR:<)(QualifiedName:thumbSize.x))(INFIX_EXPRESSION_OPERATOR:&&)(InfixExpression(InfixExpression(QualifiedName:bounds.height)(INFIX_EXPRESSION_OPERATOR:/)(NumberLiteral:4))(INFIX_EXPRESSION_OPERATOR:<)(QualifiedName:thumbSize.y)))(Block(ExpressionStatement(Assignment(SimpleName:thumb)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ImageConversion))(SimpleName:createQualityThumbImage)(METHOD_INVOCATION_ARGUMENTS(SimpleName:img)(QualifiedName:thumbSize.x)(QualifiedName:thumbSize.y)(QualifiedName:SWT.HIGH))))))(Block(ExpressionStatement(Assignment(SimpleName:thumb)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ImageConversion))(SimpleName:createQualityResizedImage)(METHOD_INVOCATION_ARGUMENTS(SimpleName:img)(InfixExpression(QualifiedName:bounds.width)(INFIX_EXPRESSION_OPERATOR:/)(NumberLiteral:4))(InfixExpression(QualifiedName:bounds.height)(INFIX_EXPRESSION_OPERATOR:/)(NumberLiteral:4))(QualifiedName:SWT.HIGH))))))))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:MEDIUM))(SimpleName:equals)(METHOD_INVOCATION_ARGUMENTS(SimpleName:importMode)))(Block(ExpressionStatement(Assignment(SimpleName:thumb)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ImageConversion))(SimpleName:createQualityResizedImage)(METHOD_INVOCATION_ARGUMENTS(SimpleName:img)(InfixExpression(QualifiedName:bounds.width)(INFIX_EXPRESSION_OPERATOR:/)(NumberLiteral:2))(InfixExpression(QualifiedName:bounds.height)(INFIX_EXPRESSION_OPERATOR:/)(NumberLiteral:2))(QualifiedName:SWT.HIGH))))))(Block(ExpressionStatement(Assignment(SimpleName:thumb)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ImageConversion))(SimpleName:createQualityThumbImage)(METHOD_INVOCATION_ARGUMENTS(SimpleName:img)(QualifiedName:thumbSize.x)(QualifiedName:thumbSize.y)(QualifiedName:SWT.HIGH))))))))(IfStatement(InfixExpression(SimpleName:thumb)(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:img))(SimpleName:dispose)))(ReturnStatement(NullLiteral))))(VariableDeclarationStatement(SimpleType(SimpleName:ByteArrayOutputStream))(VariableDeclarationFragment(SimpleName:outstream)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ImageConversion))(SimpleName:saveToOutputStream)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:thumb))(SimpleName:getImageData))(QualifiedName:SWT.IMAGE_JPEG)(NumberLiteral:85)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:img))(SimpleName:dispose)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:thumb))(SimpleName:dispose)))(IfStatement(InfixExpression(SimpleName:outstream)(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(Block(ReturnStatement(NullLiteral))))(ReturnStatement(ClassInstanceCreation(SimpleType(SimpleName:ByteArrayInputStream))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:outstream))(SimpleName:toByteArray))))))))