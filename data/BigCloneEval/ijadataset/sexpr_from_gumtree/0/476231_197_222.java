(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(MarkerAnnotation(SimpleName:Test))(Modifier:public)(PrimitiveType:void)(SimpleName:testWriteUsingSocketTransport)(SimpleType(SimpleName:Exception))(Block(VariableDeclarationStatement(SimpleType(SimpleName:NioSocketAcceptor))(VariableDeclarationFragment(SimpleName:acceptor)(ClassInstanceCreation(SimpleType(SimpleName:NioSocketAcceptor)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:acceptor))(SimpleName:setReuseAddress)(METHOD_INVOCATION_ARGUMENTS(BooleanLiteral:true))))(VariableDeclarationStatement(SimpleType(SimpleName:SocketAddress))(VariableDeclarationFragment(SimpleName:address)(ClassInstanceCreation(SimpleType(SimpleName:InetSocketAddress))(StringLiteral:<STR>)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:AvailablePortFinder))(SimpleName:getNextAvailable)))))(VariableDeclarationStatement(SimpleType(SimpleName:NioSocketConnector))(VariableDeclarationFragment(SimpleName:connector)(ClassInstanceCreation(SimpleType(SimpleName:NioSocketConnector)))))(VariableDeclarationStatement(ArrayType(PrimitiveType:byte)(Dimension))(VariableDeclarationFragment(SimpleName:data)(ArrayCreation(ArrayType(PrimitiveType:byte)(Dimension(InfixExpression(NumberLiteral:4)(INFIX_EXPRESSION_OPERATOR:*)(NumberLiteral:1024)(NumberLiteral:1024)))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(ClassInstanceCreation(SimpleType(SimpleName:Random))))(SimpleName:nextBytes)(METHOD_INVOCATION_ARGUMENTS(SimpleName:data))))(VariableDeclarationStatement(ArrayType(PrimitiveType:byte)(Dimension))(VariableDeclarationFragment(SimpleName:expectedMd5)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:MessageDigest))(SimpleName:getInstance)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))(SimpleName:digest)(METHOD_INVOCATION_ARGUMENTS(SimpleName:data)))))(VariableDeclarationStatement(SimpleType(SimpleName:M))(VariableDeclarationFragment(SimpleName:message)(MethodInvocation(SimpleName:createMessage)(METHOD_INVOCATION_ARGUMENTS(SimpleName:data)))))(VariableDeclarationStatement(SimpleType(SimpleName:SenderHandler))(VariableDeclarationFragment(SimpleName:sender)(ClassInstanceCreation(SimpleType(SimpleName:SenderHandler))(SimpleName:message))))(VariableDeclarationStatement(SimpleType(SimpleName:ReceiverHandler))(VariableDeclarationFragment(SimpleName:receiver)(ClassInstanceCreation(SimpleType(SimpleName:ReceiverHandler))(QualifiedName:data.length))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:acceptor))(SimpleName:setHandler)(METHOD_INVOCATION_ARGUMENTS(SimpleName:sender))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:connector))(SimpleName:setHandler)(METHOD_INVOCATION_ARGUMENTS(SimpleName:receiver))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:acceptor))(SimpleName:bind)(METHOD_INVOCATION_ARGUMENTS(SimpleName:address))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:connector))(SimpleName:connect)(METHOD_INVOCATION_ARGUMENTS(SimpleName:address))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(QualifiedName:sender.latch))(SimpleName:await)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(QualifiedName:receiver.latch))(SimpleName:await)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:acceptor))(SimpleName:dispose)))(ExpressionStatement(MethodInvocation(SimpleName:assertEquals)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:data.length)(QualifiedName:receiver.bytesRead))))(VariableDeclarationStatement(ArrayType(PrimitiveType:byte)(Dimension))(VariableDeclarationFragment(SimpleName:actualMd5)(MethodInvocation(METHOD_INVOCATION_RECEIVER(QualifiedName:receiver.digest))(SimpleName:digest))))(ExpressionStatement(MethodInvocation(SimpleName:assertEquals)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:expectedMd5.length)(QualifiedName:actualMd5.length))))(ForStatement(VariableDeclarationExpression(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:i)(NumberLiteral:0)))(InfixExpression(SimpleName:i)(INFIX_EXPRESSION_OPERATOR:<)(QualifiedName:expectedMd5.length))(PostfixExpression(SimpleName:i)(POSTFIX_EXPRESSION_OPERATOR:++))(Block(ExpressionStatement(MethodInvocation(SimpleName:assertEquals)(METHOD_INVOCATION_ARGUMENTS(ArrayAccess(SimpleName:expectedMd5)(SimpleName:i))(ArrayAccess(SimpleName:actualMd5)(SimpleName:i)))))))))))