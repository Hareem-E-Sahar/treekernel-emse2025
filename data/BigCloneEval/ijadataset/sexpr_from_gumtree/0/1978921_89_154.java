(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(MarkerAnnotation(SimpleName:Override))(Modifier:protected)(PrimitiveType:void)(SimpleName:createTiles)(SimpleType(SimpleName:InterruptedException))(SimpleType(SimpleName:MapCreationException))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:atlasProgress))(SimpleName:initMapCreation)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(ParenthesizedExpression(InfixExpression(InfixExpression(SimpleName:xMax)(INFIX_EXPRESSION_OPERATOR:-)(SimpleName:xMin))(INFIX_EXPRESSION_OPERATOR:+)(NumberLiteral:1)))(INFIX_EXPRESSION_OPERATOR:*)(ParenthesizedExpression(InfixExpression(InfixExpression(SimpleName:yMax)(INFIX_EXPRESSION_OPERATOR:-)(SimpleName:yMin))(INFIX_EXPRESSION_OPERATOR:+)(NumberLiteral:1)))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ImageIO))(SimpleName:setUseCache)(METHOD_INVOCATION_ARGUMENTS(BooleanLiteral:false))))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:mapWidth)(InfixExpression(ParenthesizedExpression(InfixExpression(InfixExpression(SimpleName:xMax)(INFIX_EXPRESSION_OPERATOR:-)(SimpleName:xMin))(INFIX_EXPRESSION_OPERATOR:+)(NumberLiteral:1)))(INFIX_EXPRESSION_OPERATOR:*)(SimpleName:tileSize))))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:mapHeight)(InfixExpression(ParenthesizedExpression(InfixExpression(InfixExpression(SimpleName:yMax)(INFIX_EXPRESSION_OPERATOR:-)(SimpleName:yMin))(INFIX_EXPRESSION_OPERATOR:+)(NumberLiteral:1)))(INFIX_EXPRESSION_OPERATOR:*)(SimpleName:tileSize))))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:imageWidth)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Math))(SimpleName:min)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:1024)(SimpleName:mapWidth)))))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:imageHeight)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Math))(SimpleName:min)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:1024)(SimpleName:mapHeight)))))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:len)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Math))(SimpleName:max)(METHOD_INVOCATION_ARGUMENTS(SimpleName:mapWidth)(SimpleName:mapHeight)))))(VariableDeclarationStatement(PrimitiveType:double)(VariableDeclarationFragment(SimpleName:scaleFactor)(NumberLiteral:1.0)))(IfStatement(InfixExpression(SimpleName:len)(INFIX_EXPRESSION_OPERATOR:>)(NumberLiteral:1024))(Block(ExpressionStatement(Assignment(SimpleName:scaleFactor)(ASSIGNMENT_OPERATOR:=)(InfixExpression(NumberLiteral:1024d)(INFIX_EXPRESSION_OPERATOR:/)(SimpleName:len))))(IfStatement(InfixExpression(SimpleName:imageWidth)(INFIX_EXPRESSION_OPERATOR:!=)(SimpleName:imageHeight))(Block(IfStatement(InfixExpression(SimpleName:imageWidth)(INFIX_EXPRESSION_OPERATOR:>)(SimpleName:imageHeight))(ExpressionStatement(Assignment(SimpleName:imageHeight)(ASSIGNMENT_OPERATOR:=)(CastExpression(PrimitiveType:int)(ParenthesizedExpression(InfixExpression(SimpleName:scaleFactor)(INFIX_EXPRESSION_OPERATOR:*)(SimpleName:mapHeight))))))(ExpressionStatement(Assignment(SimpleName:imageWidth)(ASSIGNMENT_OPERATOR:=)(CastExpression(PrimitiveType:int)(ParenthesizedExpression(InfixExpression(SimpleName:scaleFactor)(INFIX_EXPRESSION_OPERATOR:*)(SimpleName:mapWidth)))))))))))(VariableDeclarationStatement(SimpleType(SimpleName:BufferedImage))(VariableDeclarationFragment(SimpleName:tileImage)(ClassInstanceCreation(SimpleType(SimpleName:BufferedImage))(SimpleName:imageWidth)(SimpleName:imageHeight)(QualifiedName:BufferedImage.TYPE_3BYTE_BGR))))(VariableDeclarationStatement(SimpleType(SimpleName:Graphics2D))(VariableDeclarationFragment(SimpleName:graphics)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:tileImage))(SimpleName:createGraphics))))(TryStatement(Block(IfStatement(InfixExpression(SimpleName:len)(INFIX_EXPRESSION_OPERATOR:>)(NumberLiteral:1024))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:graphics))(SimpleName:setTransform)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:AffineTransform))(SimpleName:getScaleInstance)(METHOD_INVOCATION_ARGUMENTS(SimpleName:scaleFactor)(SimpleName:scaleFactor)))))))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:lineY)(NumberLiteral:0)))(ForStatement(VariableDeclarationExpression(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:y)(SimpleName:yMin)))(InfixExpression(SimpleName:y)(INFIX_EXPRESSION_OPERATOR:<=)(SimpleName:yMax))(PostfixExpression(SimpleName:y)(POSTFIX_EXPRESSION_OPERATOR:++))(Block(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:lineX)(NumberLiteral:0)))(ForStatement(VariableDeclarationExpression(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:x)(SimpleName:xMin)))(InfixExpression(SimpleName:x)(INFIX_EXPRESSION_OPERATOR:<=)(SimpleName:xMax))(PostfixExpression(SimpleName:x)(POSTFIX_EXPRESSION_OPERATOR:++))(Block(ExpressionStatement(MethodInvocation(SimpleName:checkUserAbort)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:atlasProgress))(SimpleName:incMapCreationProgress)))(TryStatement(Block(VariableDeclarationStatement(ArrayType(PrimitiveType:byte)(Dimension))(VariableDeclarationFragment(SimpleName:sourceTileData)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:mapDlTileProvider))(SimpleName:getTileData)(METHOD_INVOCATION_ARGUMENTS(SimpleName:x)(SimpleName:y)))))(IfStatement(InfixExpression(SimpleName:sourceTileData)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(VariableDeclarationStatement(SimpleType(SimpleName:BufferedImage))(VariableDeclarationFragment(SimpleName:tile)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ImageIO))(SimpleName:read)(METHOD_INVOCATION_ARGUMENTS(ClassInstanceCreation(SimpleType(SimpleName:ByteArrayInputStream))(SimpleName:sourceTileData))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:graphics))(SimpleName:drawImage)(METHOD_INVOCATION_ARGUMENTS(SimpleName:tile)(SimpleName:lineX)(SimpleName:lineY)(QualifiedName:Color.WHITE)(NullLiteral)))))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:IOException))(SimpleName:e))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:log))(SimpleName:error)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(SimpleName:e)))))))(ExpressionStatement(Assignment(SimpleName:lineX)(ASSIGNMENT_OPERATOR:+=)(SimpleName:tileSize)))))(ExpressionStatement(Assignment(SimpleName:lineY)(ASSIGNMENT_OPERATOR:+=)(SimpleName:tileSize))))))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:graphics))(SimpleName:dispose)))))(TryStatement(Block(VariableDeclarationStatement(SimpleType(SimpleName:TileImageJpegDataWriter))(VariableDeclarationFragment(SimpleName:writer)(ClassInstanceCreation(SimpleType(SimpleName:TileImageJpegDataWriter))(NumberLiteral:1.0))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:writer))(SimpleName:initialize)))(VariableDeclarationStatement(SimpleType(SimpleName:ArrayOutputStream))(VariableDeclarationFragment(SimpleName:buf)(ClassInstanceCreation(SimpleType(SimpleName:ArrayOutputStream))(SimpleName:MAX_FILE_SIZE))))(VariableDeclarationStatement(ArrayType(PrimitiveType:byte)(Dimension))(VariableDeclarationFragment(SimpleName:data)(NullLiteral)))(ForStatement(VariableDeclarationExpression(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:c)(NumberLiteral:99)))(InfixExpression(SimpleName:c)(INFIX_EXPRESSION_OPERATOR:>)(NumberLiteral:50))(Assignment(SimpleName:c)(ASSIGNMENT_OPERATOR:-=)(NumberLiteral:5))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:buf))(SimpleName:reset)))(TryStatement(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:writer))(SimpleName:processImage)(METHOD_INVOCATION_ARGUMENTS(SimpleName:tileImage)(SimpleName:buf))))(ExpressionStatement(Assignment(SimpleName:data)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:buf))(SimpleName:toByteArray))))(BreakStatement))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:IOException))(SimpleName:e))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:log))(SimpleName:trace)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:c))))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:writer))(SimpleName:setJpegCompressionLevel)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(SimpleName:c)(INFIX_EXPRESSION_OPERATOR:/)(NumberLiteral:100f)))))))(IfStatement(InfixExpression(SimpleName:data)(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(ThrowStatement(ClassInstanceCreation(SimpleType(SimpleName:MapCreationException))(StringLiteral:<STR>))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:kmzOutputStream))(SimpleName:putNextEntry)(METHOD_INVOCATION_ARGUMENTS(ClassInstanceCreation(SimpleType(SimpleName:ZipEntry))(SimpleName:imageFileName)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:kmzOutputStream))(SimpleName:write)(METHOD_INVOCATION_ARGUMENTS(SimpleName:data))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:kmzOutputStream))(SimpleName:closeEntry))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:IOException))(SimpleName:e))(Block(ThrowStatement(ClassInstanceCreation(SimpleType(SimpleName:MapCreationException))(SimpleName:e))))))))))