(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:public)(PrimitiveType:void)(SimpleName:run)(Block(TryStatement(Block(VariableDeclarationStatement(SimpleType(SimpleName:OutputStream))(VariableDeclarationFragment(SimpleName:outputStream)(ClassInstanceCreation(SimpleType(SimpleName:BufferedOutputStream))(ClassInstanceCreation(SimpleType(SimpleName:FileOutputStream))(SimpleName:snapshotFile)))))(TryStatement(Block(VariableDeclarationStatement(SimpleType(SimpleName:ProgressManager))(VariableDeclarationFragment(SimpleName:progressManager)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ProgressManager))(SimpleName:getInstance))))(VariableDeclarationStatement(SimpleType(SimpleName:ProgressIndicator))(VariableDeclarationFragment(SimpleName:indicator)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:progressManager))(SimpleName:getProgressIndicator))))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fileType))(SimpleName:equals)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:StdFileTypes.ARCHIVE)))(Block(ExpressionStatement(Assignment(SimpleName:outputStream)(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(SimpleType(SimpleName:ZipOutputStream))(SimpleName:outputStream))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(ParenthesizedExpression(CastExpression(SimpleType(SimpleName:ZipOutputStream))(SimpleName:outputStream))))(SimpleName:putNextEntry)(METHOD_INVOCATION_ARGUMENTS(ClassInstanceCreation(SimpleType(SimpleName:ZipEntry))(StringLiteral:<STR>)))))))(VariableDeclarationStatement(SimpleType(SimpleName:TreeItemModel))(VariableDeclarationFragment(SimpleName:model)(CastExpression(SimpleType(SimpleName:TreeItemModel))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:tree))(SimpleName:getModel)))))(VariableDeclarationStatement(SimpleType(SimpleName:TreeItem))(VariableDeclarationFragment(SimpleName:item)(CastExpression(SimpleType(SimpleName:TreeItem))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:model))(SimpleName:getRoot)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:indicator))(SimpleName:setText)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:APIComparatorBundle))(SimpleName:message)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))))(VariableDeclarationStatement(Modifier:final)(SimpleType(SimpleName:Element))(VariableDeclarationFragment(SimpleName:state)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:item))(SimpleName:getState))))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:indicator))(SimpleName:isCanceled))(Block(ThrowStatement(ClassInstanceCreation(SimpleType(SimpleName:ProcessCanceledException))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:indicator))(SimpleName:setText)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:APIComparatorBundle))(SimpleName:message)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:snapshotFile))(SimpleName:getPath)))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:JDOMUtil))(SimpleName:writeDocument)(METHOD_INVOCATION_ARGUMENTS(ClassInstanceCreation(SimpleType(SimpleName:Document))(SimpleName:state))(SimpleName:outputStream)(StringLiteral:<STR>)))))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:outputStream))(SimpleName:close))))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:Exception))(SimpleName:e))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(QualifiedName:Plugin.LOG))(SimpleName:error)(METHOD_INVOCATION_ARGUMENTS(SimpleName:e))))(ThrowStatement(ClassInstanceCreation(SimpleType(SimpleName:ProcessCanceledException)))))))))))