(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:public)(ArrayType(SimpleType(SimpleName:String))(Dimension))(SimpleName:login)(SingleVariableDeclaration(SimpleType(SimpleName:HttpServletRequest))(SimpleName:req))(SingleVariableDeclaration(SimpleType(SimpleName:HttpServletResponse))(SimpleName:res))(SimpleType(SimpleName:AutoLoginException))(Block(VariableDeclarationStatement(ArrayType(SimpleType(SimpleName:String))(Dimension))(VariableDeclarationFragment(SimpleName:credentials)(NullLiteral)))(TryStatement(Block(VariableDeclarationStatement(PrimitiveType:long)(VariableDeclarationFragment(SimpleName:companyId)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:PortalUtil))(SimpleName:getCompanyId)(METHOD_INVOCATION_ARGUMENTS(SimpleName:req)))))(IfStatement(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:PrefsPropsUtil))(SimpleName:getBoolean)(METHOD_INVOCATION_ARGUMENTS(SimpleName:companyId)(QualifiedName:PropsUtil.OPEN_SSO_AUTH_ENABLED))))(Block(ReturnStatement(SimpleName:credentials))))(VariableDeclarationStatement(SimpleType(SimpleName:HttpSession))(VariableDeclarationFragment(SimpleName:ses)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:req))(SimpleName:getSession))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:subjectId)(CastExpression(SimpleType(SimpleName:String))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ses))(SimpleName:getAttribute)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:WebKeys.OPEN_SSO_LOGIN))))))(IfStatement(InfixExpression(SimpleName:subjectId)(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(Block(ReturnStatement(SimpleName:credentials))))(VariableDeclarationStatement(SimpleType(SimpleName:Map))(VariableDeclarationFragment(SimpleName:nameValues)(ClassInstanceCreation(SimpleType(SimpleName:HashMap)))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:serviceUrl)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:PrefsPropsUtil))(SimpleName:getString)(METHOD_INVOCATION_ARGUMENTS(SimpleName:companyId)(QualifiedName:PropsUtil.OPEN_SSO_SERVICE_URL)))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:url)(InfixExpression(SimpleName:serviceUrl)(INFIX_EXPRESSION_OPERATOR:+)(StringLiteral:<STR>)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:HttpUtil))(SimpleName:encodeURL)(METHOD_INVOCATION_ARGUMENTS(SimpleName:subjectId))))))(VariableDeclarationStatement(SimpleType(SimpleName:URL))(VariableDeclarationFragment(SimpleName:urlObj)(ClassInstanceCreation(SimpleType(SimpleName:URL))(SimpleName:url))))(VariableDeclarationStatement(SimpleType(SimpleName:URLConnection))(VariableDeclarationFragment(SimpleName:con)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:urlObj))(SimpleName:openConnection))))(VariableDeclarationStatement(SimpleType(SimpleName:BufferedReader))(VariableDeclarationFragment(SimpleName:reader)(ClassInstanceCreation(SimpleType(SimpleName:BufferedReader))(ClassInstanceCreation(SimpleType(SimpleName:InputStreamReader))(CastExpression(SimpleType(SimpleName:InputStream))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:con))(SimpleName:getContent)))))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:line)(NullLiteral)))(WhileStatement(InfixExpression(ParenthesizedExpression(Assignment(SimpleName:line)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:reader))(SimpleName:readLine))))(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(VariableDeclarationStatement(ArrayType(SimpleType(SimpleName:String))(Dimension))(VariableDeclarationFragment(SimpleName:parts)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:line))(SimpleName:split)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))))(IfStatement(InfixExpression(ParenthesizedExpression(InfixExpression(SimpleName:parts)(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral)))(INFIX_EXPRESSION_OPERATOR:||)(ParenthesizedExpression(InfixExpression(QualifiedName:parts.length)(INFIX_EXPRESSION_OPERATOR:!=)(NumberLiteral:2))))(Block(ContinueStatement)))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:attrName)(NullLiteral)))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:attrValue)(NullLiteral)))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(ArrayAccess(SimpleName:parts)(NumberLiteral:0)))(SimpleName:endsWith)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))(Block(ExpressionStatement(Assignment(SimpleName:attrName)(ASSIGNMENT_OPERATOR:=)(ArrayAccess(SimpleName:parts)(NumberLiteral:1))))(ExpressionStatement(Assignment(SimpleName:line)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:reader))(SimpleName:readLine))))(IfStatement(InfixExpression(SimpleName:line)(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(Block(ThrowStatement(ClassInstanceCreation(SimpleType(SimpleName:AutoLoginException))(StringLiteral:<STR>)))))(ExpressionStatement(Assignment(SimpleName:parts)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:line))(SimpleName:split)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))))(IfStatement(InfixExpression(ParenthesizedExpression(InfixExpression(SimpleName:parts)(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral)))(INFIX_EXPRESSION_OPERATOR:||)(ParenthesizedExpression(InfixExpression(QualifiedName:parts.length)(INFIX_EXPRESSION_OPERATOR:!=)(NumberLiteral:2)))(ParenthesizedExpression(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(MethodInvocation(METHOD_INVOCATION_RECEIVER(ArrayAccess(SimpleName:parts)(NumberLiteral:0)))(SimpleName:endsWith)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))))(Block(ExpressionStatement(Assignment(SimpleName:attrValue)(ASSIGNMENT_OPERATOR:=)(NullLiteral))))(Block(ExpressionStatement(Assignment(SimpleName:attrValue)(ASSIGNMENT_OPERATOR:=)(ArrayAccess(SimpleName:parts)(NumberLiteral:1))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:nameValues))(SimpleName:put)(METHOD_INVOCATION_ARGUMENTS(SimpleName:attrName)(SimpleName:attrValue))))))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:firstName)(CastExpression(SimpleType(SimpleName:String))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:nameValues))(SimpleName:get)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:lastName)(CastExpression(SimpleType(SimpleName:String))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:nameValues))(SimpleName:get)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:screenName)(CastExpression(SimpleType(SimpleName:String))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:nameValues))(SimpleName:get)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:emailAddress)(CastExpression(SimpleType(SimpleName:String))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:nameValues))(SimpleName:get)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))))(VariableDeclarationStatement(SimpleType(SimpleName:User))(VariableDeclarationFragment(SimpleName:user)(NullLiteral)))(TryStatement(Block(ExpressionStatement(Assignment(SimpleName:user)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:UserLocalServiceUtil))(SimpleName:getUserByEmailAddress)(METHOD_INVOCATION_ARGUMENTS(SimpleName:companyId)(SimpleName:emailAddress))))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:NoSuchUserException))(SimpleName:nsue))(Block(VariableDeclarationStatement(SimpleType(SimpleName:ThemeDisplay))(VariableDeclarationFragment(SimpleName:themeDisplay)(CastExpression(SimpleType(SimpleName:ThemeDisplay))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:req))(SimpleName:getAttribute)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:WebKeys.THEME_DISPLAY))))))(ExpressionStatement(Assignment(SimpleName:user)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(SimpleName:addUser)(METHOD_INVOCATION_ARGUMENTS(SimpleName:companyId)(SimpleName:firstName)(SimpleName:lastName)(SimpleName:emailAddress)(SimpleName:screenName)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:themeDisplay))(SimpleName:getLocale)))))))))(ExpressionStatement(Assignment(SimpleName:credentials)(ASSIGNMENT_OPERATOR:=)(ArrayCreation(ArrayType(SimpleType(SimpleName:String))(Dimension(NumberLiteral:3))))))(ExpressionStatement(Assignment(ArrayAccess(SimpleName:credentials)(NumberLiteral:0))(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:String))(SimpleName:valueOf)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:user))(SimpleName:getUserId))))))(ExpressionStatement(Assignment(ArrayAccess(SimpleName:credentials)(NumberLiteral:1))(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:user))(SimpleName:getPassword))))(ExpressionStatement(Assignment(ArrayAccess(SimpleName:credentials)(NumberLiteral:2))(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(QualifiedName:Boolean.TRUE))(SimpleName:toString)))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:Exception))(SimpleName:e))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:_log))(SimpleName:error)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:e))(SimpleName:getMessage))))))))(ReturnStatement(SimpleName:credentials))))))