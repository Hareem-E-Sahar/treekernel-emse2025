(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:protected)(SimpleType(SimpleName:TransformerHandler))(SimpleName:getTransformerHandler)(SingleVariableDeclaration(SimpleType(SimpleName:OutputStream))(SimpleName:inOutputStream))(SimpleType(SimpleName:Exception))(Block(VariableDeclarationStatement(PrimitiveType:long)(VariableDeclarationFragment(SimpleName:time0)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:System))(SimpleName:currentTimeMillis))))(VariableDeclarationStatement(SimpleType(SimpleName:TransformerFactory))(VariableDeclarationFragment(SimpleName:transformerFactory)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:TransformerFactory))(SimpleName:newInstance))))(IfStatement(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:transformerFactory))(SimpleName:getFeature)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:javax.xml.transform.sax.SAXResult.FEATURE))))(Block(ThrowStatement(ClassInstanceCreation(SimpleType(SimpleName:UnsupportedOperationException))(StringLiteral:<STR>)))))(IfStatement(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:transformerFactory))(SimpleName:getFeature)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:javax.xml.transform.sax.SAXSource.FEATURE))))(Block(ThrowStatement(ClassInstanceCreation(SimpleType(SimpleName:UnsupportedOperationException))(StringLiteral:<STR>)))))(VariableDeclarationStatement(SimpleType(SimpleName:SAXTransformerFactory))(VariableDeclarationFragment(SimpleName:saxTransformerFactory)(CastExpression(SimpleType(SimpleName:SAXTransformerFactory))(SimpleName:transformerFactory))))(VariableDeclarationStatement(SimpleType(SimpleName:TransformerHandler))(VariableDeclarationFragment(SimpleName:transformerHandler)(NullLiteral)))(IfStatement(InfixExpression(MethodInvocation(SimpleName:getXslURI))(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(Block(ExpressionStatement(Assignment(SimpleName:transformerHandler)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:saxTransformerFactory))(SimpleName:newTransformerHandler)))))(Block(VariableDeclarationStatement(SimpleType(SimpleName:Object))(VariableDeclarationFragment(SimpleName:o)))(SynchronizedStatement(SimpleName:templateCache)(Block(ExpressionStatement(Assignment(SimpleName:o)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:templateCache))(SimpleName:get)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(SimpleName:getXslURI))))))))(VariableDeclarationStatement(SimpleType(SimpleName:Templates))(VariableDeclarationFragment(SimpleName:template)(NullLiteral)))(IfStatement(InfixExpression(SimpleName:o)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(IfStatement(QualifiedName:Debug.ON)(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Debug))(SimpleName:assertTrue)(METHOD_INVOCATION_ARGUMENTS(InstanceofExpression(SimpleName:o)(SimpleType(SimpleName:Templates))))))))(ExpressionStatement(Assignment(SimpleName:template)(ASSIGNMENT_OPERATOR:=)(CastExpression(SimpleType(SimpleName:Templates))(SimpleName:o)))))(Block(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:urlPath)(InfixExpression(MethodInvocation(SimpleName:getSystemID))(INFIX_EXPRESSION_OPERATOR:+)(MethodInvocation(SimpleName:getXslURI)))))(VariableDeclarationStatement(SimpleType(SimpleName:URL))(VariableDeclarationFragment(SimpleName:url)(ClassInstanceCreation(SimpleType(SimpleName:URL))(SimpleName:urlPath))))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:LOG))(SimpleName:isInfoEnabled))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:LOG))(SimpleName:info)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:url)))))))(VariableDeclarationStatement(SimpleType(SimpleName:InputStream))(VariableDeclarationFragment(SimpleName:stream)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:url))(SimpleName:openStream))))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:fileIndex)(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:urlPath))(SimpleName:lastIndexOf)(METHOD_INVOCATION_ARGUMENTS(CharacterLiteral:<STR>)))(INFIX_EXPRESSION_OPERATOR:+)(NumberLiteral:1))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:baseURI)(StringLiteral:<STR>)))(IfStatement(InfixExpression(SimpleName:fileIndex)(INFIX_EXPRESSION_OPERATOR:>=)(NumberLiteral:0))(Block(ExpressionStatement(Assignment(SimpleName:baseURI)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:urlPath))(SimpleName:substring)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:0)(SimpleName:fileIndex)))))))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:LOG))(SimpleName:isDebugEnabled))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:LOG))(SimpleName:debug)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:baseURI)(StringLiteral:<STR>)(SimpleName:urlPath)))))))(VariableDeclarationStatement(SimpleType(SimpleName:StreamSource))(VariableDeclarationFragment(SimpleName:source)(ClassInstanceCreation(SimpleType(SimpleName:StreamSource))(SimpleName:stream)(SimpleName:baseURI))))(ExpressionStatement(Assignment(SimpleName:template)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:saxTransformerFactory))(SimpleName:newTemplates)(METHOD_INVOCATION_ARGUMENTS(SimpleName:source)))))(IfStatement(SimpleName:shouldCacheTemplates)(Block(SynchronizedStatement(SimpleName:templateCache)(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:templateCache))(SimpleName:put)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(SimpleName:getXslURI))(SimpleName:template))))))))))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:LOG))(SimpleName:isInfoEnabled))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:LOG))(SimpleName:info)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(ParenthesizedExpression(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:System))(SimpleName:currentTimeMillis))(INFIX_EXPRESSION_OPERATOR:-)(SimpleName:time0)))))))))(IfStatement(QualifiedName:Debug.ON)(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Debug))(SimpleName:assertTrue)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(SimpleName:template)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(StringLiteral:<STR>))))))(ExpressionStatement(Assignment(SimpleName:transformerHandler)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:saxTransformerFactory))(SimpleName:newTransformerHandler)(METHOD_INVOCATION_ARGUMENTS(SimpleName:template)))))))(IfStatement(QualifiedName:Debug.ON)(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Debug))(SimpleName:assertTrue)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(SimpleName:inOutputStream)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(StringLiteral:<STR>))))))(VariableDeclarationStatement(SimpleType(SimpleName:ContentHandler))(VariableDeclarationFragment(SimpleName:contentHandler)))(IfStatement(InfixExpression(MethodInvocation(SimpleName:getXslURI))(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(Block(ExpressionStatement(Assignment(SimpleName:contentHandler)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(SimpleName:makeSerializer)(METHOD_INVOCATION_ARGUMENTS(SimpleName:inOutputStream)(MethodInvocation(SimpleName:getXMLOutputProperties)))))))(Block(ExpressionStatement(Assignment(SimpleName:contentHandler)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(SimpleName:makeSerializer)(METHOD_INVOCATION_ARGUMENTS(SimpleName:inOutputStream)(MethodInvocation(SimpleName:getHTMLOutputProperties))))))))(VariableDeclarationStatement(SimpleType(SimpleName:Result))(VariableDeclarationFragment(SimpleName:result)(ClassInstanceCreation(SimpleType(SimpleName:SAXResult))(SimpleName:contentHandler))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:transformerHandler))(SimpleName:setResult)(METHOD_INVOCATION_ARGUMENTS(SimpleName:result))))(ReturnStatement(SimpleName:transformerHandler))))))