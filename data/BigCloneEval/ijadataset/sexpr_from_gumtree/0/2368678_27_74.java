(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:public)(SimpleType(SimpleName:ActionForward))(SimpleName:execute)(SingleVariableDeclaration(SimpleType(SimpleName:ActionMapping))(SimpleName:mapping))(SingleVariableDeclaration(SimpleType(SimpleName:ActionForm))(SimpleName:form))(SingleVariableDeclaration(SimpleType(SimpleName:HttpServletRequest))(SimpleName:request))(SingleVariableDeclaration(SimpleType(SimpleName:HttpServletResponse))(SimpleName:response))(Block(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:users)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:request))(SimpleName:getParameter)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:treePath)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:request))(SimpleName:getParameter)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))))(TryStatement(Block(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:resID)(StringLiteral:<STR>)))(VariableDeclarationStatement(SimpleType(SimpleName:TreeNode))(VariableDeclarationFragment(SimpleName:tn)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:TreeNode))(SimpleName:getInstance)(METHOD_INVOCATION_ARGUMENTS(SimpleName:treePath)))))(IfStatement(InfixExpression(SimpleName:tn)(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(Block(ThrowStatement(ClassInstanceCreation(SimpleType(SimpleName:Exception))(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:treePath)(StringLiteral:<STR>))))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:resName)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:tn))(SimpleName:getTitle))))(IfStatement(InfixExpression(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:tn))(SimpleName:getType))(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(INFIX_EXPRESSION_OPERATOR:&&)(ParenthesizedExpression(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:tn))(SimpleName:getType)))(SimpleName:trim)))(SimpleName:equalsIgnoreCase)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))(INFIX_EXPRESSION_OPERATOR:||)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:tn))(SimpleName:getType)))(SimpleName:trim)))(SimpleName:equalsIgnoreCase)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))))(Block(VariableDeclarationStatement(SimpleType(SimpleName:Channel))(VariableDeclarationFragment(SimpleName:channel)(CastExpression(SimpleType(SimpleName:Channel))(SimpleName:tn))))(ExpressionStatement(Assignment(SimpleName:resID)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Integer))(SimpleName:toString)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:channel))(SimpleName:getChannelID))(INFIX_EXPRESSION_OPERATOR:+)(QualifiedName:Const.CHANNEL_TYPE_RES)))))))(Block(VariableDeclarationStatement(SimpleType(SimpleName:Site))(VariableDeclarationFragment(SimpleName:site)(CastExpression(SimpleType(SimpleName:Site))(SimpleName:tn))))(ExpressionStatement(Assignment(SimpleName:resID)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Integer))(SimpleName:toString)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:site))(SimpleName:getSiteID))(INFIX_EXPRESSION_OPERATOR:+)(QualifiedName:Const.SITE_TYPE_RES))))))))(VariableDeclarationStatement(SimpleType(SimpleName:AuthorityManager))(VariableDeclarationFragment(SimpleName:am)(ClassInstanceCreation(SimpleType(SimpleName:AuthorityManager)))))(VariableDeclarationStatement(PrimitiveType:boolean)(VariableDeclarationFragment(SimpleName:hasResource)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:am))(SimpleName:hasSysResource)(METHOD_INVOCATION_ARGUMENTS(SimpleName:resID)(QualifiedName:Const.OPERATE_TYPE_ID)))))(IfStatement(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(SimpleName:hasResource))(Block(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:operateTypeID)(QualifiedName:Const.OPERATE_TYPE_ID)))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:resTypeID)(QualifiedName:Const.RES_TYPE_ID)))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:remark)(StringLiteral:<STR>)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:am))(SimpleName:createExtResource)(METHOD_INVOCATION_ARGUMENTS(SimpleName:resID)(SimpleName:resName)(SimpleName:resTypeID)(SimpleName:operateTypeID)(SimpleName:remark))))))(VariableDeclarationStatement(ArrayType(PrimitiveType:int)(Dimension))(VariableDeclarationFragment(SimpleName:userIds)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Function))(SimpleName:strArray2intArray)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Function))(SimpleName:stringToArray)(METHOD_INVOCATION_ARGUMENTS(SimpleName:users)))))))(VariableDeclarationStatement(SimpleType(SimpleName:LoginUser))(VariableDeclarationFragment(SimpleName:lu)(ClassInstanceCreation(SimpleType(SimpleName:LoginUser)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:lu))(SimpleName:setRequest)(METHOD_INVOCATION_ARGUMENTS(SimpleName:request))))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:loginUserId)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Integer))(SimpleName:parseInt)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:lu))(SimpleName:getDefaultValue))))))(VariableDeclarationStatement(SimpleType(SimpleName:Pepodom))(VariableDeclarationFragment(SimpleName:addActor)(ClassInstanceCreation(SimpleType(SimpleName:Pepodom)))))(ForStatement(VariableDeclarationExpression(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:i)(NumberLiteral:0)))(InfixExpression(SimpleName:i)(INFIX_EXPRESSION_OPERATOR:<)(QualifiedName:userIds.length))(PostfixExpression(SimpleName:i)(POSTFIX_EXPRESSION_OPERATOR:++))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:addActor))(SimpleName:setLoginProvider)(METHOD_INVOCATION_ARGUMENTS(SimpleName:loginUserId))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:addActor))(SimpleName:setResID)(METHOD_INVOCATION_ARGUMENTS(SimpleName:resID))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:addActor))(SimpleName:setUserID)(METHOD_INVOCATION_ARGUMENTS(ArrayAccess(SimpleName:userIds)(SimpleName:i)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:addActor))(SimpleName:setResTypeID)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:Const.RES_TYPE_ID))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:addActor))(SimpleName:setOperateID)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:Const.OPERATE_ID_SITECHANNEL))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:addActor))(SimpleName:setOperateTypeID)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:Const.OPERATE_TYPE_ID))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:log))(SimpleName:debug)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:loginUserId)(StringLiteral:<STR>)(SimpleName:resID)(StringLiteral:<STR>)(ArrayAccess(SimpleName:userIds)(SimpleName:i))(StringLiteral:<STR>)(QualifiedName:Const.RES_TYPE_ID)(StringLiteral:<STR>)(QualifiedName:Const.OPERATE_ID_SITECHANNEL)(StringLiteral:<STR>)(QualifiedName:Const.OPERATE_TYPE_ID)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:addActor))(SimpleName:addNewActor))))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:Exception))(SimpleName:ex))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:log))(SimpleName:error)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(SimpleName:ex))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:request))(SimpleName:setAttribute)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:Const.ERROR_MESSAGE_NAME)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ex))(SimpleName:toString)))))(ReturnStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:mapping))(SimpleName:findForward)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:request))(SimpleName:setAttribute)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:Const.SUCCESS_MESSAGE_NAME)(StringLiteral:<STR>))))(ReturnStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:mapping))(SimpleName:findForward)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))))))