(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(MarkerAnnotation(SimpleName:Override))(Modifier:public)(PrimitiveType:void)(SimpleName:handlePacket)(SingleVariableDeclaration(SimpleType(SimpleName:SeekableLittleEndianAccessor))(SimpleName:slea))(SingleVariableDeclaration(SimpleType(SimpleName:MapleClient))(SimpleName:c))(Block(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:petId)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:slea))(SimpleName:readInt))))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:petIndex)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:c))(SimpleName:getPlayer)))(SimpleName:getPetIndex)(METHOD_INVOCATION_ARGUMENTS(SimpleName:petId)))))(VariableDeclarationStatement(SimpleType(SimpleName:MaplePet))(VariableDeclarationFragment(SimpleName:pet)(NullLiteral)))(IfStatement(InfixExpression(SimpleName:petIndex)(INFIX_EXPRESSION_OPERATOR:==)(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:-)(NumberLiteral:1)))(Block(ReturnStatement))(Block(ExpressionStatement(Assignment(SimpleName:pet)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:c))(SimpleName:getPlayer)))(SimpleName:getPet)(METHOD_INVOCATION_ARGUMENTS(SimpleName:petIndex)))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:slea))(SimpleName:readInt)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:slea))(SimpleName:readByte)))(VariableDeclarationStatement(PrimitiveType:byte)(VariableDeclarationFragment(SimpleName:command)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:slea))(SimpleName:readByte))))(VariableDeclarationStatement(SimpleType(SimpleName:PetCommand))(VariableDeclarationFragment(SimpleName:petCommand)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:PetDataFactory))(SimpleName:getPetCommand)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:pet))(SimpleName:getItemId))(CastExpression(PrimitiveType:int)(SimpleName:command))))))(VariableDeclarationStatement(PrimitiveType:boolean)(VariableDeclarationFragment(SimpleName:success)(BooleanLiteral:false)))(VariableDeclarationStatement(SimpleType(SimpleName:Random))(VariableDeclarationFragment(SimpleName:rand)(ClassInstanceCreation(SimpleType(SimpleName:Random)))))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:random)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:rand))(SimpleName:nextInt)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:101)))))(IfStatement(InfixExpression(SimpleName:random)(INFIX_EXPRESSION_OPERATOR:<=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:petCommand))(SimpleName:getProbability)))(Block(ExpressionStatement(Assignment(SimpleName:success)(ASSIGNMENT_OPERATOR:=)(BooleanLiteral:true)))(IfStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:pet))(SimpleName:getCloseness))(INFIX_EXPRESSION_OPERATOR:<)(NumberLiteral:30000))(Block(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:newCloseness)(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:pet))(SimpleName:getCloseness))(INFIX_EXPRESSION_OPERATOR:+)(ParenthesizedExpression(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:petCommand))(SimpleName:getIncrease))(INFIX_EXPRESSION_OPERATOR:*)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:c))(SimpleName:getChannelServer)))(SimpleName:getPetExpRate)))))))(IfStatement(InfixExpression(SimpleName:newCloseness)(INFIX_EXPRESSION_OPERATOR:>)(NumberLiteral:30000))(Block(ExpressionStatement(Assignment(SimpleName:newCloseness)(ASSIGNMENT_OPERATOR:=)(NumberLiteral:30000)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:pet))(SimpleName:setCloseness)(METHOD_INVOCATION_ARGUMENTS(SimpleName:newCloseness))))(IfStatement(InfixExpression(SimpleName:newCloseness)(INFIX_EXPRESSION_OPERATOR:>=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ExpTable))(SimpleName:getClosenessNeededForLevel)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:pet))(SimpleName:getLevel))(INFIX_EXPRESSION_OPERATOR:+)(NumberLiteral:1)))))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:pet))(SimpleName:setLevel)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:pet))(SimpleName:getLevel))(INFIX_EXPRESSION_OPERATOR:+)(NumberLiteral:1)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:c))(SimpleName:getSession)))(SimpleName:write)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:MaplePacketCreator))(SimpleName:showOwnPetLevelUp)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:c))(SimpleName:getPlayer)))(SimpleName:getPetIndex)(METHOD_INVOCATION_ARGUMENTS(SimpleName:pet))))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:c))(SimpleName:getPlayer)))(SimpleName:getMap)))(SimpleName:broadcastMessage)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:MaplePacketCreator))(SimpleName:showPetLevelUp)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:c))(SimpleName:getPlayer))(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:c))(SimpleName:getPlayer)))(SimpleName:getPetIndex)(METHOD_INVOCATION_ARGUMENTS(SimpleName:pet))))))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:c))(SimpleName:getSession)))(SimpleName:write)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:MaplePacketCreator))(SimpleName:updatePet)(METHOD_INVOCATION_ARGUMENTS(SimpleName:pet)(BooleanLiteral:true))))))))))(VariableDeclarationStatement(SimpleType(SimpleName:MapleCharacter))(VariableDeclarationFragment(SimpleName:player)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:c))(SimpleName:getPlayer))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:player))(SimpleName:getMap)))(SimpleName:broadcastMessage)(METHOD_INVOCATION_ARGUMENTS(SimpleName:player)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:MaplePacketCreator))(SimpleName:commandResponse)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:player))(SimpleName:getId))(SimpleName:command)(SimpleName:petIndex)(SimpleName:success)(BooleanLiteral:false)))(BooleanLiteral:true))))))))