(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:public)(PrimitiveType:void)(SimpleName:messageIncoming)(SingleVariableDeclaration(SimpleType(SimpleName:BusMessage))(SimpleName:busMessage))(Block(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:eventState)(CastExpression(SimpleType(SimpleName:String))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:busMessage))(SimpleName:getAttribute)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:ChannelEvent.event))))))(VariableDeclarationStatement(SimpleType(SimpleName:Object))(VariableDeclarationFragment(SimpleName:event)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:XMLUtilities))(SimpleName:unmarshal)(METHOD_INVOCATION_ARGUMENTS(SimpleName:eventState)))))(IfStatement(InstanceofExpression(SimpleName:event)(SimpleType(SimpleName:ChannelEvent)))(Block(VariableDeclarationStatement(SimpleType(SimpleName:CometService))(VariableDeclarationFragment(SimpleName:cometService)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:CometService))(SimpleName:getInstance))))(VariableDeclarationStatement(SimpleType(SimpleName:ChannelEvent))(VariableDeclarationFragment(SimpleName:channelEvent)(CastExpression(SimpleType(SimpleName:ChannelEvent))(SimpleName:event))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:cometService))(SimpleName:broadcastChannelEvent)(METHOD_INVOCATION_ARGUMENTS(SimpleName:channelEvent))))(VariableDeclarationStatement(ParameterizedType(SimpleType(SimpleName:List))(SimpleType(SimpleName:String)))(VariableDeclarationFragment(SimpleName:updatedChannels)(ClassInstanceCreation(ParameterizedType(SimpleType(SimpleName:ArrayList))(SimpleType(SimpleName:String))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:updatedChannels))(SimpleName:add)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:channelEvent))(SimpleName:getChannel)))))(VariableDeclarationStatement(SimpleType(SimpleName:NetworkEvent))(VariableDeclarationFragment(SimpleName:networkEvent)(ClassInstanceCreation(SimpleType(SimpleName:NetworkEvent)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:networkEvent))(SimpleName:setUpdatedChannels)(METHOD_INVOCATION_ARGUMENTS(SimpleName:updatedChannels))))(VariableDeclarationStatement(ParameterizedType(SimpleType(SimpleName:List))(SimpleType(SimpleName:ChannelBeanMetaData)))(VariableDeclarationFragment(SimpleName:channelMetaData)(CastExpression(ParameterizedType(SimpleType(SimpleName:List))(SimpleType(SimpleName:ChannelBeanMetaData)))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:channelEvent))(SimpleName:getAttribute)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:ChannelEvent.metadata))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:networkEvent))(SimpleName:setAttribute)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:ChannelEvent.metadata)(SimpleName:channelMetaData))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:cometService))(SimpleName:broadcastNetworkEvent)(METHOD_INVOCATION_ARGUMENTS(SimpleName:networkEvent))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:busMessage))(SimpleName:acknowledge)))))))