(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:private)(ArrayType(SimpleType(SimpleName:Object))(Dimension))(SimpleName:toArray)(SingleVariableDeclaration(ArrayType(SimpleType(SimpleName:Object))(Dimension))(SimpleName:dest))(SingleVariableDeclaration(PrimitiveType:boolean)(SimpleName:copied))(Block(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:destIndex)(NumberLiteral:0)))(EnhancedForStatement(SingleVariableDeclaration(ParameterizedType(SimpleType(QualifiedName:ConcurrentWeakKeyHashMap.Segment))(SimpleType(SimpleName:E))(WildcardType))(SimpleName:segment))(FieldAccess(FieldAccess(ThisExpression)(SimpleName:map))(SimpleName:segments))(Block(VariableDeclarationStatement(ArrayType(ParameterizedType(SimpleType(QualifiedName:ConcurrentWeakKeyHashMap.HashEntry))(SimpleType(SimpleName:E))(WildcardType))(Dimension))(VariableDeclarationFragment(SimpleName:table)(QualifiedName:segment.table)))(EnhancedForStatement(SingleVariableDeclaration(ParameterizedType(SimpleType(QualifiedName:ConcurrentWeakKeyHashMap.HashEntry))(SimpleType(SimpleName:E))(WildcardType))(SimpleName:e))(SimpleName:table)(Block(WhileStatement(InfixExpression(SimpleName:e)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(VariableDeclarationStatement(SimpleType(SimpleName:E))(VariableDeclarationFragment(SimpleName:key)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:e))(SimpleName:get))))(IfStatement(InfixExpression(SimpleName:key)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(IfStatement(InfixExpression(SimpleName:destIndex)(INFIX_EXPRESSION_OPERATOR:==)(QualifiedName:dest.length))(Block(VariableDeclarationStatement(ArrayType(SimpleType(SimpleName:Object))(Dimension))(VariableDeclarationFragment(SimpleName:newDest)(CastExpression(ArrayType(SimpleType(SimpleName:Object))(Dimension))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Array))(SimpleName:newInstance)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:dest))(SimpleName:getClass)))(SimpleName:getComponentType))(ConditionalExpression(ParenthesizedExpression(InfixExpression(SimpleName:destIndex)(INFIX_EXPRESSION_OPERATOR:==)(NumberLiteral:0)))(NumberLiteral:16)(ParenthesizedExpression(InfixExpression(SimpleName:destIndex)(INFIX_EXPRESSION_OPERATOR:<<)(NumberLiteral:1)))))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:System))(SimpleName:arraycopy)(METHOD_INVOCATION_ARGUMENTS(SimpleName:dest)(NumberLiteral:0)(SimpleName:newDest)(NumberLiteral:0)(SimpleName:destIndex))))(ExpressionStatement(Assignment(SimpleName:dest)(ASSIGNMENT_OPERATOR:=)(SimpleName:newDest)))(ExpressionStatement(Assignment(SimpleName:copied)(ASSIGNMENT_OPERATOR:=)(BooleanLiteral:true)))))(ExpressionStatement(Assignment(ArrayAccess(SimpleName:dest)(PostfixExpression(SimpleName:destIndex)(POSTFIX_EXPRESSION_OPERATOR:++)))(ASSIGNMENT_OPERATOR:=)(SimpleName:key))))(Block(ExpressionStatement(Assignment(QualifiedName:e.value)(ASSIGNMENT_OPERATOR:=)(NullLiteral)))))(ExpressionStatement(Assignment(SimpleName:e)(ASSIGNMENT_OPERATOR:=)(QualifiedName:e.next)))))))(ExpressionStatement(Assignment(SimpleName:table)(ASSIGNMENT_OPERATOR:=)(NullLiteral)))))(IfStatement(InfixExpression(SimpleName:destIndex)(INFIX_EXPRESSION_OPERATOR:<)(QualifiedName:dest.length))(Block(IfStatement(SimpleName:copied)(Block(VariableDeclarationStatement(ArrayType(SimpleType(SimpleName:Object))(Dimension))(VariableDeclarationFragment(SimpleName:newDest)(ArrayCreation(ArrayType(SimpleType(SimpleName:Object))(Dimension(SimpleName:destIndex))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:System))(SimpleName:arraycopy)(METHOD_INVOCATION_ARGUMENTS(SimpleName:dest)(NumberLiteral:0)(SimpleName:newDest)(NumberLiteral:0)(SimpleName:destIndex))))(ExpressionStatement(Assignment(SimpleName:dest)(ASSIGNMENT_OPERATOR:=)(SimpleName:newDest))))(Block(ExpressionStatement(Assignment(ArrayAccess(SimpleName:dest)(SimpleName:destIndex))(ASSIGNMENT_OPERATOR:=)(NullLiteral)))))))(ReturnStatement(SimpleName:dest))))))