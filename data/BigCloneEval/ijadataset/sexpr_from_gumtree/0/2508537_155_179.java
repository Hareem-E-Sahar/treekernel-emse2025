(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(SingleMemberAnnotation(SimpleName:SuppressWarnings)(StringLiteral:<STR>))(MarkerAnnotation(SimpleName:Test))(Modifier:public)(PrimitiveType:void)(SimpleName:testErrorChannel)(Block(VariableDeclarationStatement(SimpleType(SimpleName:IConfigurationService))(VariableDeclarationFragment(SimpleName:configService)(CastExpression(SimpleType(SimpleName:IConfigurationService))(MethodInvocation(SimpleName:find)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:Constants.CONFIG_SERVICE))))))(VariableDeclarationStatement(ParameterizedType(SimpleType(SimpleName:List))(SimpleType(SimpleName:NodeChannel)))(VariableDeclarationFragment(SimpleName:channels)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:configService))(SimpleName:getChannels))))(ExpressionStatement(MethodInvocation(SimpleName:cleanSlate)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(QualifiedName:TestConstants.TEST_PREFIX)(INFIX_EXPRESSION_OPERATOR:+)(StringLiteral:<STR>))(InfixExpression(QualifiedName:TestConstants.TEST_PREFIX)(INFIX_EXPRESSION_OPERATOR:+)(StringLiteral:<STR>))(InfixExpression(QualifiedName:TestConstants.TEST_PREFIX)(INFIX_EXPRESSION_OPERATOR:+)(StringLiteral:<STR>)))))(ExpressionStatement(MethodInvocation(SimpleName:createDataEvent)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(SimpleName:triggerHistId)(StringLiteral:<STR>)(QualifiedName:DataEventType.INSERT)(QualifiedName:TestConstants.TEST_CLIENT_EXTERNAL_ID))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:batchService))(SimpleName:buildOutgoingBatches)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:TestConstants.TEST_CLIENT_EXTERNAL_ID)(SimpleName:channels))))(ExpressionStatement(MethodInvocation(SimpleName:createDataEvent)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(SimpleName:triggerHistId)(StringLiteral:<STR>)(QualifiedName:DataEventType.INSERT)(QualifiedName:TestConstants.TEST_CLIENT_EXTERNAL_ID))))(ExpressionStatement(MethodInvocation(SimpleName:createDataEvent)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(SimpleName:triggerHistId)(StringLiteral:<STR>)(QualifiedName:DataEventType.INSERT)(QualifiedName:TestConstants.TEST_CLIENT_EXTERNAL_ID))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:batchService))(SimpleName:buildOutgoingBatches)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:TestConstants.TEST_CLIENT_EXTERNAL_ID)(SimpleName:channels))))(VariableDeclarationStatement(ParameterizedType(SimpleType(SimpleName:List))(SimpleType(SimpleName:OutgoingBatch)))(VariableDeclarationFragment(SimpleName:batches)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:batchService))(SimpleName:getOutgoingBatches)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:TestConstants.TEST_CLIENT_EXTERNAL_ID)))))(ExpressionStatement(MethodInvocation(SimpleName:assertNotNull)(METHOD_INVOCATION_ARGUMENTS(SimpleName:batches))))(ExpressionStatement(MethodInvocation(SimpleName:assertEquals)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:batches))(SimpleName:size))(NumberLiteral:3))))(VariableDeclarationStatement(PrimitiveType:long)(VariableDeclarationFragment(SimpleName:firstBatchId)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:batches))(SimpleName:get)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:0))))(SimpleName:getBatchId))))(VariableDeclarationStatement(PrimitiveType:long)(VariableDeclarationFragment(SimpleName:secondBatchId)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:batches))(SimpleName:get)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:1))))(SimpleName:getBatchId))))(VariableDeclarationStatement(PrimitiveType:long)(VariableDeclarationFragment(SimpleName:thirdBatchId)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:batches))(SimpleName:get)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:2))))(SimpleName:getBatchId))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ackService))(SimpleName:ack)(METHOD_INVOCATION_ARGUMENTS(ClassInstanceCreation(SimpleType(SimpleName:BatchInfo))(SimpleName:firstBatchId)(NumberLiteral:1)))))(ExpressionStatement(Assignment(SimpleName:batches)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:batchService))(SimpleName:getOutgoingBatches)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:TestConstants.TEST_CLIENT_EXTERNAL_ID)))))(ExpressionStatement(MethodInvocation(SimpleName:assertNotNull)(METHOD_INVOCATION_ARGUMENTS(SimpleName:batches))))(ExpressionStatement(MethodInvocation(SimpleName:assertEquals)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:batches))(SimpleName:size))(NumberLiteral:3))))(ExpressionStatement(MethodInvocation(SimpleName:assertEquals)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:batches))(SimpleName:get)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:0))))(SimpleName:getBatchId))(SimpleName:secondBatchId)(StringLiteral:<STR>))))(ExpressionStatement(MethodInvocation(SimpleName:assertEquals)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:batches))(SimpleName:get)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:1))))(SimpleName:getBatchId))(SimpleName:thirdBatchId)(StringLiteral:<STR>))))(ExpressionStatement(MethodInvocation(SimpleName:assertEquals)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:batches))(SimpleName:get)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:2))))(SimpleName:getBatchId))(SimpleName:firstBatchId)(StringLiteral:<STR>))))))))