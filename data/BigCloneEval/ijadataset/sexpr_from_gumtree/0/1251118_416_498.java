(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(PrimitiveType:void)(SimpleName:selectorThreadBody)(Block(ExpressionStatement(Assignment(SimpleName:fRunning)(ASSIGNMENT_OPERATOR:=)(BooleanLiteral:true)))(WhileStatement(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(MethodInvocation(METHOD_INVOCATION_RECEIVER(ThisExpression))(SimpleName:isStopRequested)))(Block(SynchronizedStatement(SimpleName:fChangeRequests)(Block(EnhancedForStatement(SingleVariableDeclaration(Modifier:final)(SimpleType(SimpleName:ChangeRequest))(SimpleName:change))(SimpleName:fChangeRequests)(Block(TryStatement(Block(SwitchStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:change))(SimpleName:getType))(SwitchCase(SimpleName:CHANGE_OPS))(Block(VariableDeclarationStatement(Modifier:final)(SimpleType(SimpleName:ConnectionInfo))(VariableDeclarationFragment(SimpleName:connInfo)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:change))(SimpleName:getConnectionInfo))))(VariableDeclarationStatement(Modifier:final)(SimpleType(SimpleName:SelectionKey))(VariableDeclarationFragment(SimpleName:key)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:connInfo))(SimpleName:getSelectionKey))))(IfStatement(InfixExpression(SimpleName:key)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:key))(SimpleName:interestOps)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:change))(SimpleName:getOps))))))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:logger))(SimpleName:warn)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(QualifiedName:AbstractInSimNioClient.FORMAT_UTILS))(SimpleName:format)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:LogMessages))(SimpleName:getString)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))(SimpleName:change))))))))(BreakStatement))(SwitchCase(SimpleName:REGISTER))(Block(VariableDeclarationStatement(Modifier:final)(SimpleType(SimpleName:ConnectionInfo))(VariableDeclarationFragment(SimpleName:connInfo)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:change))(SimpleName:getConnectionInfo))))(VariableDeclarationStatement(Modifier:final)(SimpleType(SimpleName:SelectableChannel))(VariableDeclarationFragment(SimpleName:channel)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:connInfo))(SimpleName:getChannel))))(VariableDeclarationStatement(Modifier:final)(SimpleType(SimpleName:SelectionKey))(VariableDeclarationFragment(SimpleName:key)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:channel))(SimpleName:register)(METHOD_INVOCATION_ARGUMENTS(SimpleName:fSelector)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:change))(SimpleName:getOps))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:key))(SimpleName:attach)(METHOD_INVOCATION_ARGUMENTS(SimpleName:connInfo))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:connInfo))(SimpleName:setSelectionKey)(METHOD_INVOCATION_ARGUMENTS(SimpleName:key))))(BreakStatement))(SwitchCase(SimpleName:CANCEL))(Block(VariableDeclarationStatement(Modifier:final)(SimpleType(SimpleName:ConnectionInfo))(VariableDeclarationFragment(SimpleName:connInfo)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:change))(SimpleName:getConnectionInfo))))(VariableDeclarationStatement(Modifier:final)(SimpleType(SimpleName:SelectionKey))(VariableDeclarationFragment(SimpleName:key)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:connInfo))(SimpleName:getSelectionKey))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:key))(SimpleName:cancel)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:key))(SimpleName:channel)))(SimpleName:close)))(BreakStatement))))(CatchClause(SingleVariableDeclaration(Modifier:final)(SimpleType(SimpleName:ClosedChannelException))(SimpleName:cche))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:logger))(SimpleName:warn)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(SimpleName:cche))))))(CatchClause(SingleVariableDeclaration(Modifier:final)(SimpleType(SimpleName:IOException))(SimpleName:ioe))(Block(ThrowStatement(ClassInstanceCreation(SimpleType(SimpleName:RuntimeException))(SimpleName:ioe))))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fChangeRequests))(SimpleName:clear)))))(TryStatement(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fSelector))(SimpleName:select)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:AbstractInSimNioClient.SELECTOR_TIMEOUT)))))(CatchClause(SingleVariableDeclaration(Modifier:final)(SimpleType(SimpleName:IOException))(SimpleName:ioe))(Block(ThrowStatement(ClassInstanceCreation(SimpleType(SimpleName:RuntimeException))(SimpleName:ioe))))))(VariableDeclarationStatement(Modifier:final)(ParameterizedType(SimpleType(SimpleName:Iterator))(SimpleType(SimpleName:SelectionKey)))(VariableDeclarationFragment(SimpleName:selectedKeys)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fSelector))(SimpleName:selectedKeys)))(SimpleName:iterator))))(WhileStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:selectedKeys))(SimpleName:hasNext))(Block(VariableDeclarationStatement(Modifier:final)(SimpleType(SimpleName:SelectionKey))(VariableDeclarationFragment(SimpleName:key)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:selectedKeys))(SimpleName:next))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:selectedKeys))(SimpleName:remove)))(IfStatement(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:key))(SimpleName:isValid)))(Block(ContinueStatement)))(TryStatement(Block(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:key))(SimpleName:isConnectable))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(ThisExpression))(SimpleName:finishConnection)(METHOD_INVOCATION_ARGUMENTS(SimpleName:key)))))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:key))(SimpleName:isReadable))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(ThisExpression))(SimpleName:read)(METHOD_INVOCATION_ARGUMENTS(SimpleName:key))))(VariableDeclarationStatement(Modifier:final)(SimpleType(SimpleName:ConnectionInfo))(VariableDeclarationFragment(SimpleName:connInfo)(CastExpression(SimpleType(SimpleName:ConnectionInfo))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:key))(SimpleName:attachment)))))(VariableDeclarationStatement(Modifier:final)(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:size)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fReadBuffer))(SimpleName:position))))(IfStatement(InfixExpression(SimpleName:size)(INFIX_EXPRESSION_OPERATOR:==)(NumberLiteral:0))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:logger))(SimpleName:warn)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:connInfo))(SimpleName:getHost))))))(ContinueStatement)))(VariableDeclarationStatement(Modifier:final)(ArrayType(PrimitiveType:byte)(Dimension))(VariableDeclarationFragment(SimpleName:data)(ArrayCreation(ArrayType(PrimitiveType:byte)(Dimension(SimpleName:size))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:System))(SimpleName:arraycopy)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fReadBuffer))(SimpleName:array))(NumberLiteral:0)(SimpleName:data)(NumberLiteral:0)(QualifiedName:data.length))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(ThisExpression))(SimpleName:handleResponse)(METHOD_INVOCATION_ARGUMENTS(SimpleName:connInfo)(SimpleName:data)))))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:key))(SimpleName:isWritable))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(ThisExpression))(SimpleName:write)(METHOD_INVOCATION_ARGUMENTS(SimpleName:key)))))))))(CatchClause(SingleVariableDeclaration(Modifier:final)(SimpleType(SimpleName:IOException))(SimpleName:ioe))(Block(VariableDeclarationStatement(Modifier:final)(SimpleType(SimpleName:ConnectionInfo))(VariableDeclarationFragment(SimpleName:connInfo)(CastExpression(SimpleType(SimpleName:ConnectionInfo))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:key))(SimpleName:attachment)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:logger))(SimpleName:debug)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(QualifiedName:AbstractInSimNioClient.FORMAT_UTILS))(SimpleName:format)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ExceptionMessages))(SimpleName:getString)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:key))(SimpleName:channel))(SimpleName:ioe))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(ThisExpression))(SimpleName:handleException)(METHOD_INVOCATION_ARGUMENTS(SimpleName:connInfo)(SimpleName:ioe)))))))))))(ExpressionStatement(Assignment(SimpleName:fRunning)(ASSIGNMENT_OPERATOR:=)(BooleanLiteral:false)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(ThisExpression))(SimpleName:notifyStateListeners)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:InSimClientState.STOPPED))))))))