(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:private)(PrimitiveType:void)(SimpleName:saveModel)(SingleVariableDeclaration(SimpleType(SimpleName:File))(SimpleName:targetFile))(Block(VariableDeclarationStatement(SimpleType(SimpleName:BpmoModel))(VariableDeclarationFragment(SimpleName:model)(CastExpression(SimpleType(SimpleName:BpmoModel))(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(SimpleName:getGraphicalViewer)))(SimpleName:getContents)))(SimpleName:getModel)))))(IfStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:model))(SimpleName:getNSHolder)))(SimpleName:getDefaultNamespace))(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(VariableDeclarationStatement(ParameterizedType(SimpleType(SimpleName:Map))(SimpleType(SimpleName:String))(SimpleType(SimpleName:Object)))(VariableDeclarationFragment(SimpleName:newConfig)(ClassInstanceCreation(ParameterizedType(SimpleType(SimpleName:HashMap))(SimpleType(SimpleName:String))(SimpleType(SimpleName:Object))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:newConfig))(SimpleName:put)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:BpmoSerializer.RESULT_NAMESPACE)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:model))(SimpleName:getNSHolder)))(SimpleName:getDefaultNamespace)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Activator))(SimpleName:getBpmoFactory)))(SimpleName:configure)(METHOD_INVOCATION_ARGUMENTS(SimpleName:newConfig))))))(VariableDeclarationStatement(ParameterizedType(SimpleType(SimpleName:Map))(SimpleType(SimpleName:WorkflowEntityNode))(SimpleType(SimpleName:String)))(VariableDeclarationFragment(SimpleName:errors)(ClassInstanceCreation(ParameterizedType(SimpleType(SimpleName:HashMap))(SimpleType(SimpleName:WorkflowEntityNode))(SimpleType(SimpleName:String))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:UIModelValidator))(SimpleName:validateModelConsistency)(METHOD_INVOCATION_ARGUMENTS(SimpleName:model)(SimpleName:errors))))(IfStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:errors))(SimpleName:size))(INFIX_EXPRESSION_OPERATOR:>)(NumberLiteral:0))(Block(VariableDeclarationStatement(SimpleType(SimpleName:WorkflowEntityNode))(VariableDeclarationFragment(SimpleName:errorNode)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:errors))(SimpleName:keySet)))(SimpleName:iterator)))(SimpleName:next))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Utils))(SimpleName:expandPathFromRoot)(METHOD_INVOCATION_ARGUMENTS(SimpleName:errorNode))))(VariableDeclarationStatement(SimpleType(SimpleName:EditPart))(VariableDeclarationFragment(SimpleName:errorEditpart)(CastExpression(SimpleType(SimpleName:EditPart))(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(SimpleName:getEditPartViewer)))(SimpleName:getEditPartRegistry)))(SimpleName:get)(METHOD_INVOCATION_ARGUMENTS(SimpleName:errorNode))))))(IfStatement(InfixExpression(SimpleName:errorEditpart)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(SimpleName:getEditPartViewer)))(SimpleName:select)(METHOD_INVOCATION_ARGUMENTS(SimpleName:errorEditpart))))))(IfStatement(InfixExpression(BooleanLiteral:false)(INFIX_EXPRESSION_OPERATOR:==)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:MessageDialog))(SimpleName:openConfirm)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(SimpleName:getSite)))(SimpleName:getShell))(StringLiteral:<STR>)(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:errors))(SimpleName:get)(METHOD_INVOCATION_ARGUMENTS(SimpleName:errorNode)))(ParenthesizedExpression(ConditionalExpression(ParenthesizedExpression(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:errors))(SimpleName:size))(INFIX_EXPRESSION_OPERATOR:>)(NumberLiteral:1)))(ParenthesizedExpression(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(ParenthesizedExpression(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:errors))(SimpleName:size))(INFIX_EXPRESSION_OPERATOR:-)(NumberLiteral:1)))(StringLiteral:<STR>)))(StringLiteral:<STR>)))(StringLiteral:<STR>)))))(Block(ReturnStatement)))))(IfStatement(InfixExpression(SimpleName:targetFile)(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(Block(ExpressionStatement(MethodInvocation(SimpleName:doSaveAs)))(ReturnStatement)))(VariableDeclarationStatement(SimpleType(SimpleName:BPMOExporter))(VariableDeclarationFragment(SimpleName:uiExporter)(ClassInstanceCreation(SimpleType(SimpleName:BPMOExporter)))))(VariableDeclarationStatement(ArrayType(SimpleType(SimpleName:Identifiable))(Dimension))(VariableDeclarationFragment(SimpleName:bpmoModel)(NullLiteral)))(TryStatement(Block(ExpressionStatement(Assignment(SimpleName:bpmoModel)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:uiExporter))(SimpleName:convertVisualModel)(METHOD_INVOCATION_ARGUMENTS(SimpleName:model))))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:Exception))(SimpleName:ex))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:MessageDialog))(SimpleName:openError)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(SimpleName:getSite)))(SimpleName:getShell))(StringLiteral:<STR>)(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ex))(SimpleName:getMessage))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:LogManager))(SimpleName:logError)(METHOD_INVOCATION_ARGUMENTS(SimpleName:ex))))(ReturnStatement))))(VariableDeclarationStatement(ParameterizedType(SimpleType(SimpleName:Map))(SimpleType(SimpleName:String))(SimpleType(SimpleName:Object)))(VariableDeclarationFragment(SimpleName:props)(ClassInstanceCreation(ParameterizedType(SimpleType(SimpleName:HashMap))(SimpleType(SimpleName:String))(SimpleType(SimpleName:Object))))))(IfStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:model))(SimpleName:getNSHolder)))(SimpleName:getDefaultNamespace))(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:props))(SimpleName:put)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:BpmoSerializer.RESULT_NAMESPACE)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:model))(SimpleName:getNSHolder)))(SimpleName:getDefaultNamespace)))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:props))(SimpleName:put)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:BpmoSerializer.RESULT_ONTOLOGY_ID)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:model))(SimpleName:getNSHolder)))(SimpleName:getIdentifier)))))(VariableDeclarationStatement(SimpleType(SimpleName:BpmoSerializer))(VariableDeclarationFragment(SimpleName:bpmoSerializer)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Factory))(SimpleName:createSerializer)(METHOD_INVOCATION_ARGUMENTS(SimpleName:props)))))(VariableDeclarationStatement(SimpleType(SimpleName:Ontology))(VariableDeclarationFragment(SimpleName:instOntology)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:bpmoSerializer))(SimpleName:serialize)(METHOD_INVOCATION_ARGUMENTS(SimpleName:bpmoModel)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Utils))(SimpleName:recoverNonBPMOData)(METHOD_INVOCATION_ARGUMENTS(SimpleName:instOntology)(FieldAccess(ThisExpression)(SimpleName:nonBpmoWsmlData))(FieldAccess(ThisExpression)(SimpleName:nonBpmoAttributes)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(QualifiedName:org.wsmostudio.runtime.io.Utils))(SimpleName:updateStudioNFP)(METHOD_INVOCATION_ARGUMENTS(SimpleName:instOntology))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:model))(SimpleName:updateNamespacesTo)(METHOD_INVOCATION_ARGUMENTS(SimpleName:instOntology))))(VariableDeclarationStatement(SimpleType(SimpleName:Serializer))(VariableDeclarationFragment(SimpleName:wsmlSerializar)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:WSMORuntime))(SimpleName:getRuntime)))(SimpleName:getWsmlSerializer))))(VariableDeclarationStatement(SimpleType(SimpleName:StringBuffer))(VariableDeclarationFragment(SimpleName:str)(ClassInstanceCreation(SimpleType(SimpleName:StringBuffer)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:wsmlSerializar))(SimpleName:serialize)(METHOD_INVOCATION_ARGUMENTS(ArrayCreation(ArrayType(SimpleType(SimpleName:TopEntity))(Dimension))(ArrayInitializer(SimpleName:instOntology)))(SimpleName:str))))(TryStatement(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:WSMORuntime))(SimpleName:getIOManager)))(SimpleName:saveContent)(METHOD_INVOCATION_ARGUMENTS(SimpleName:instOntology)(ClassInstanceCreation(SimpleType(SimpleName:Path))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:targetFile))(SimpleName:getAbsolutePath))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(ThisExpression))(SimpleName:getEditDomain)))(SimpleName:getCommandStack)))(SimpleName:markSaveLocation)))(ExpressionStatement(Assignment(FieldAccess(ThisExpression)(SimpleName:dirty))(ASSIGNMENT_OPERATOR:=)(BooleanLiteral:false))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:Exception))(SimpleName:e))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:LogManager))(SimpleName:logError)(METHOD_INVOCATION_ARGUMENTS(SimpleName:e)))))))(VariableDeclarationStatement(SimpleType(SimpleName:File))(VariableDeclarationFragment(SimpleName:layoutFile)(ClassInstanceCreation(SimpleType(SimpleName:File))(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:targetFile))(SimpleName:getAbsolutePath))(INFIX_EXPRESSION_OPERATOR:+)(StringLiteral:<STR>)))))(TryStatement(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:uiExporter))(SimpleName:exportLayout)(METHOD_INVOCATION_ARGUMENTS(SimpleName:layoutFile)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:instOntology))(SimpleName:getIdentifier)))))(VariableDeclarationStatement(SimpleType(SimpleName:IFile))(VariableDeclarationFragment(SimpleName:iResource)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ResourcesPlugin))(SimpleName:getWorkspace)))(SimpleName:getRoot)))(SimpleName:getFileForLocation)(METHOD_INVOCATION_ARGUMENTS(ClassInstanceCreation(SimpleType(SimpleName:Path))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:layoutFile))(SimpleName:getAbsolutePath)))))))(IfStatement(InfixExpression(SimpleName:iResource)(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(Block(ReturnStatement)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:iResource))(SimpleName:refreshLocal)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:IResource.DEPTH_ONE)(NullLiteral)))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:Exception))(SimpleName:ex))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:MessageDialog))(SimpleName:openWarning)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(SimpleName:getSite)))(SimpleName:getShell))(StringLiteral:<STR>)(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ex))(SimpleName:getMessage))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:LogManager))(SimpleName:logError)(METHOD_INVOCATION_ARGUMENTS(SimpleName:ex)))))))(ExpressionStatement(MethodInvocation(SimpleName:firePropertyChange)(METHOD_INVOCATION_ARGUMENTS(SimpleName:PROP_DIRTY))))))))