(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:private)(PrimitiveType:void)(SimpleName:service)(SingleVariableDeclaration(SimpleType(SimpleName:Node))(SimpleName:service))(Block(ExpressionStatement(MethodInvocation(SimpleName:requiredAttributesOrElements)(METHOD_INVOCATION_ARGUMENTS(SimpleName:service)(SimpleName:SERVICE_REQ_CHILDREN))))(ExpressionStatement(MethodInvocation(SimpleName:allowedAttributesOrElements)(METHOD_INVOCATION_ARGUMENTS(SimpleName:service)(SimpleName:SERVICE_CHILDREN))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:id)(MethodInvocation(SimpleName:getAttributeOrChildElement)(METHOD_INVOCATION_ARGUMENTS(SimpleName:service)(SimpleName:ID_ATTR)))))(IfStatement(MethodInvocation(SimpleName:isValidID)(METHOD_INVOCATION_ARGUMENTS(SimpleName:id)))(Block(VariableDeclarationStatement(SimpleType(SimpleName:ServiceSettings))(VariableDeclarationFragment(SimpleName:serviceSettings)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:config))(SimpleName:getServiceSettings)(METHOD_INVOCATION_ARGUMENTS(SimpleName:id)))))(IfStatement(InfixExpression(SimpleName:serviceSettings)(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(Block(ExpressionStatement(Assignment(SimpleName:serviceSettings)(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(SimpleType(SimpleName:ServiceSettings))(SimpleName:id))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:serviceSettings))(SimpleName:setSourceFile)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(SimpleName:getSourceFileOf)(METHOD_INVOCATION_ARGUMENTS(SimpleName:service))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:config))(SimpleName:addServiceSettings)(METHOD_INVOCATION_ARGUMENTS(SimpleName:serviceSettings)))))(Block(VariableDeclarationStatement(SimpleType(SimpleName:ConfigurationException))(VariableDeclarationFragment(SimpleName:e)(ClassInstanceCreation(SimpleType(SimpleName:ConfigurationException)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:e))(SimpleName:setMessage)(METHOD_INVOCATION_ARGUMENTS(SimpleName:DUPLICATE_SERVICE_ERROR)(ArrayCreation(ArrayType(SimpleType(SimpleName:Object))(Dimension))(ArrayInitializer(SimpleName:id))))))(ThrowStatement(SimpleName:e))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:className)(MethodInvocation(SimpleName:getAttributeOrChildElement)(METHOD_INVOCATION_ARGUMENTS(SimpleName:service)(SimpleName:CLASS_ATTR)))))(IfStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:className))(SimpleName:length))(INFIX_EXPRESSION_OPERATOR:>)(NumberLiteral:0))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:serviceSettings))(SimpleName:setClassName)(METHOD_INVOCATION_ARGUMENTS(SimpleName:className))))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:className))(SimpleName:equals)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))(ExpressionStatement(Assignment(SimpleName:advancedMessagingSupportRegistered)(ASSIGNMENT_OPERATOR:=)(BooleanLiteral:true)))))(Block(VariableDeclarationStatement(SimpleType(SimpleName:ConfigurationException))(VariableDeclarationFragment(SimpleName:ex)(ClassInstanceCreation(SimpleType(SimpleName:ConfigurationException)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ex))(SimpleName:setMessage)(METHOD_INVOCATION_ARGUMENTS(SimpleName:CLASS_NOT_SPECIFIED)(ArrayCreation(ArrayType(SimpleType(SimpleName:Object))(Dimension))(ArrayInitializer(SimpleName:SERVICE_ELEMENT)(SimpleName:id))))))(ThrowStatement(SimpleName:ex))))(VariableDeclarationStatement(SimpleType(SimpleName:NodeList))(VariableDeclarationFragment(SimpleName:properties)(MethodInvocation(SimpleName:selectNodeList)(METHOD_INVOCATION_ARGUMENTS(SimpleName:service)(InfixExpression(SimpleName:PROPERTIES_ELEMENT)(INFIX_EXPRESSION_OPERATOR:+)(StringLiteral:<STR>))))))(IfStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:properties))(SimpleName:getLength))(INFIX_EXPRESSION_OPERATOR:>)(NumberLiteral:0))(Block(VariableDeclarationStatement(SimpleType(SimpleName:ConfigMap))(VariableDeclarationFragment(SimpleName:map)(MethodInvocation(SimpleName:properties)(METHOD_INVOCATION_ARGUMENTS(SimpleName:properties)(MethodInvocation(SimpleName:getSourceFileOf)(METHOD_INVOCATION_ARGUMENTS(SimpleName:service)))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:serviceSettings))(SimpleName:addProperties)(METHOD_INVOCATION_ARGUMENTS(SimpleName:map))))))(VariableDeclarationStatement(SimpleType(SimpleName:Node))(VariableDeclarationFragment(SimpleName:defaultChannels)(MethodInvocation(SimpleName:selectSingleNode)(METHOD_INVOCATION_ARGUMENTS(SimpleName:service)(SimpleName:DEFAULT_CHANNELS_ELEMENT)))))(IfStatement(InfixExpression(SimpleName:defaultChannels)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(ExpressionStatement(MethodInvocation(SimpleName:allowedChildElements)(METHOD_INVOCATION_ARGUMENTS(SimpleName:defaultChannels)(SimpleName:DEFAULT_CHANNELS_CHILDREN))))(VariableDeclarationStatement(SimpleType(SimpleName:NodeList))(VariableDeclarationFragment(SimpleName:channels)(MethodInvocation(SimpleName:selectNodeList)(METHOD_INVOCATION_ARGUMENTS(SimpleName:defaultChannels)(SimpleName:CHANNEL_ELEMENT)))))(ForStatement(VariableDeclarationExpression(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:c)(NumberLiteral:0)))(InfixExpression(SimpleName:c)(INFIX_EXPRESSION_OPERATOR:<)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:channels))(SimpleName:getLength)))(PostfixExpression(SimpleName:c)(POSTFIX_EXPRESSION_OPERATOR:++))(Block(VariableDeclarationStatement(SimpleType(SimpleName:Node))(VariableDeclarationFragment(SimpleName:chan)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:channels))(SimpleName:item)(METHOD_INVOCATION_ARGUMENTS(SimpleName:c)))))(ExpressionStatement(MethodInvocation(SimpleName:allowedAttributes)(METHOD_INVOCATION_ARGUMENTS(SimpleName:chan)(ArrayCreation(ArrayType(SimpleType(SimpleName:String))(Dimension))(ArrayInitializer(SimpleName:REF_ATTR))))))(ExpressionStatement(MethodInvocation(SimpleName:defaultChannel)(METHOD_INVOCATION_ARGUMENTS(SimpleName:chan)(SimpleName:serviceSettings)))))))(IfStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:config))(SimpleName:getDefaultChannels)))(SimpleName:size))(INFIX_EXPRESSION_OPERATOR:>)(NumberLiteral:0))(Block(ForStatement(VariableDeclarationExpression(SimpleType(SimpleName:Iterator))(VariableDeclarationFragment(SimpleName:iter)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:config))(SimpleName:getDefaultChannels)))(SimpleName:iterator))))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:iter))(SimpleName:hasNext))(Block(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:channelId)(CastExpression(SimpleType(SimpleName:String))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:iter))(SimpleName:next)))))(VariableDeclarationStatement(SimpleType(SimpleName:ChannelSettings))(VariableDeclarationFragment(SimpleName:channel)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:config))(SimpleName:getChannelSettings)(METHOD_INVOCATION_ARGUMENTS(SimpleName:channelId)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:serviceSettings))(SimpleName:addDefaultChannel)(METHOD_INVOCATION_ARGUMENTS(SimpleName:channel)))))))))(VariableDeclarationStatement(SimpleType(SimpleName:Node))(VariableDeclarationFragment(SimpleName:defaultSecurityConstraint)(MethodInvocation(SimpleName:selectSingleNode)(METHOD_INVOCATION_ARGUMENTS(SimpleName:service)(SimpleName:DEFAULT_SECURITY_CONSTRAINT_ELEMENT)))))(IfStatement(InfixExpression(SimpleName:defaultSecurityConstraint)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(ExpressionStatement(MethodInvocation(SimpleName:requiredAttributesOrElements)(METHOD_INVOCATION_ARGUMENTS(SimpleName:defaultSecurityConstraint)(ArrayCreation(ArrayType(SimpleType(SimpleName:String))(Dimension))(ArrayInitializer(SimpleName:REF_ATTR))))))(ExpressionStatement(MethodInvocation(SimpleName:allowedAttributesOrElements)(METHOD_INVOCATION_ARGUMENTS(SimpleName:defaultSecurityConstraint)(ArrayCreation(ArrayType(SimpleType(SimpleName:String))(Dimension))(ArrayInitializer(SimpleName:REF_ATTR))))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:ref)(MethodInvocation(SimpleName:getAttributeOrChildElement)(METHOD_INVOCATION_ARGUMENTS(SimpleName:defaultSecurityConstraint)(SimpleName:REF_ATTR)))))(IfStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ref))(SimpleName:length))(INFIX_EXPRESSION_OPERATOR:>)(NumberLiteral:0))(Block(VariableDeclarationStatement(SimpleType(SimpleName:SecurityConstraint))(VariableDeclarationFragment(SimpleName:sc)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(ParenthesizedExpression(CastExpression(SimpleType(SimpleName:MessagingConfiguration))(SimpleName:config))))(SimpleName:getSecuritySettings)))(SimpleName:getConstraint)(METHOD_INVOCATION_ARGUMENTS(SimpleName:ref)))))(IfStatement(InfixExpression(SimpleName:sc)(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(Block(VariableDeclarationStatement(SimpleType(SimpleName:ConfigurationException))(VariableDeclarationFragment(SimpleName:e)(ClassInstanceCreation(SimpleType(SimpleName:ConfigurationException)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:e))(SimpleName:setMessage)(METHOD_INVOCATION_ARGUMENTS(SimpleName:REF_NOT_FOUND)(ArrayCreation(ArrayType(SimpleType(SimpleName:Object))(Dimension))(ArrayInitializer(SimpleName:SECURITY_CONSTRAINT_DEFINITION_ELEMENT)(SimpleName:ref))))))(ThrowStatement(SimpleName:e))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:serviceSettings))(SimpleName:setConstraint)(METHOD_INVOCATION_ARGUMENTS(SimpleName:sc)))))(Block(VariableDeclarationStatement(SimpleType(SimpleName:ConfigurationException))(VariableDeclarationFragment(SimpleName:ex)(ClassInstanceCreation(SimpleType(SimpleName:ConfigurationException)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ex))(SimpleName:setMessage)(METHOD_INVOCATION_ARGUMENTS(SimpleName:INVALID_SECURITY_CONSTRAINT_REF)(ArrayCreation(ArrayType(SimpleType(SimpleName:Object))(Dimension))(ArrayInitializer(SimpleName:ref)(SimpleName:id))))))(ThrowStatement(SimpleName:ex))))))(VariableDeclarationStatement(SimpleType(SimpleName:Node))(VariableDeclarationFragment(SimpleName:adapters)(MethodInvocation(SimpleName:selectSingleNode)(METHOD_INVOCATION_ARGUMENTS(SimpleName:service)(SimpleName:ADAPTERS_ELEMENT)))))(IfStatement(InfixExpression(SimpleName:adapters)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(ExpressionStatement(MethodInvocation(SimpleName:allowedChildElements)(METHOD_INVOCATION_ARGUMENTS(SimpleName:adapters)(SimpleName:ADAPTERS_CHILDREN))))(VariableDeclarationStatement(SimpleType(SimpleName:NodeList))(VariableDeclarationFragment(SimpleName:serverAdapters)(MethodInvocation(SimpleName:selectNodeList)(METHOD_INVOCATION_ARGUMENTS(SimpleName:adapters)(SimpleName:ADAPTER_DEFINITION_ELEMENT)))))(ForStatement(VariableDeclarationExpression(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:a)(NumberLiteral:0)))(InfixExpression(SimpleName:a)(INFIX_EXPRESSION_OPERATOR:<)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:serverAdapters))(SimpleName:getLength)))(PostfixExpression(SimpleName:a)(POSTFIX_EXPRESSION_OPERATOR:++))(Block(VariableDeclarationStatement(SimpleType(SimpleName:Node))(VariableDeclarationFragment(SimpleName:adapter)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:serverAdapters))(SimpleName:item)(METHOD_INVOCATION_ARGUMENTS(SimpleName:a)))))(ExpressionStatement(MethodInvocation(SimpleName:adapterDefinition)(METHOD_INVOCATION_ARGUMENTS(SimpleName:adapter)(SimpleName:serviceSettings))))))))(VariableDeclarationStatement(SimpleType(SimpleName:NodeList))(VariableDeclarationFragment(SimpleName:list)(MethodInvocation(SimpleName:selectNodeList)(METHOD_INVOCATION_ARGUMENTS(SimpleName:service)(SimpleName:DESTINATION_ELEMENT)))))(ForStatement(VariableDeclarationExpression(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:i)(NumberLiteral:0)))(InfixExpression(SimpleName:i)(INFIX_EXPRESSION_OPERATOR:<)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:list))(SimpleName:getLength)))(PostfixExpression(SimpleName:i)(POSTFIX_EXPRESSION_OPERATOR:++))(Block(VariableDeclarationStatement(SimpleType(SimpleName:Node))(VariableDeclarationFragment(SimpleName:dest)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:list))(SimpleName:item)(METHOD_INVOCATION_ARGUMENTS(SimpleName:i)))))(ExpressionStatement(MethodInvocation(SimpleName:destination)(METHOD_INVOCATION_ARGUMENTS(SimpleName:dest)(SimpleName:serviceSettings))))))(ExpressionStatement(Assignment(SimpleName:list)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(SimpleName:selectNodeList)(METHOD_INVOCATION_ARGUMENTS(SimpleName:service)(SimpleName:DESTINATION_INCLUDE_ELEMENT)))))(ForStatement(VariableDeclarationExpression(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:i)(NumberLiteral:0)))(InfixExpression(SimpleName:i)(INFIX_EXPRESSION_OPERATOR:<)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:list))(SimpleName:getLength)))(PostfixExpression(SimpleName:i)(POSTFIX_EXPRESSION_OPERATOR:++))(Block(VariableDeclarationStatement(SimpleType(SimpleName:Node))(VariableDeclarationFragment(SimpleName:dest)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:list))(SimpleName:item)(METHOD_INVOCATION_ARGUMENTS(SimpleName:i)))))(ExpressionStatement(MethodInvocation(SimpleName:destinationInclude)(METHOD_INVOCATION_ARGUMENTS(SimpleName:dest)(SimpleName:serviceSettings)))))))(Block(VariableDeclarationStatement(SimpleType(SimpleName:ConfigurationException))(VariableDeclarationFragment(SimpleName:ex)(ClassInstanceCreation(SimpleType(SimpleName:ConfigurationException)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ex))(SimpleName:setMessage)(METHOD_INVOCATION_ARGUMENTS(SimpleName:INVALID_ID)(ArrayCreation(ArrayType(SimpleType(SimpleName:Object))(Dimension))(ArrayInitializer(SimpleName:SERVICE_ELEMENT)(SimpleName:id))))))(ThrowStatement(SimpleName:ex))))))))