(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(MarkerAnnotation(SimpleName:Override))(Modifier:public)(PrimitiveType:void)(SimpleName:messageReceived)(SingleVariableDeclaration(SimpleType(SimpleName:ChannelHandlerContext))(SimpleName:ctx))(SingleVariableDeclaration(SimpleType(SimpleName:MessageEvent))(SimpleName:e))(SimpleType(SimpleName:Exception))(Block(IfStatement(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(ParenthesizedExpression(InstanceofExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:e))(SimpleName:getMessage))(SimpleType(SimpleName:HttpRequest)))))(Block(ThrowStatement(ClassInstanceCreation(SimpleType(SimpleName:Exception))(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:e))(SimpleName:getMessage)))(SimpleName:getClass)))))))(VariableDeclarationStatement(SimpleType(SimpleName:HttpRequest))(VariableDeclarationFragment(SimpleName:req)(CastExpression(SimpleType(SimpleName:HttpRequest))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:e))(SimpleName:getMessage)))))(VariableDeclarationStatement(SimpleType(SimpleName:HttpProxyRequest))(VariableDeclarationFragment(SimpleName:request)(ClassInstanceCreation(SimpleType(SimpleName:HttpProxyRequest))(SimpleName:req))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:remoteAddr)(MethodInvocation(METHOD_INVOCATION_RECEIVER(ParenthesizedExpression(CastExpression(SimpleType(SimpleName:InetSocketAddress))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:e))(SimpleName:getRemoteAddress)))))(SimpleName:getHostName))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:request))(SimpleName:setRemoteAddr)(METHOD_INVOCATION_ARGUMENTS(SimpleName:remoteAddr))))(VariableDeclarationStatement(SimpleType(SimpleName:ServerNode))(VariableDeclarationFragment(SimpleName:sn)(MethodInvocation(METHOD_INVOCATION_RECEIVER(FieldAccess(ThisExpression)(SimpleName:balance)))(SimpleName:getServer)(METHOD_INVOCATION_ARGUMENTS(SimpleName:request)))))(AssertStatement(ParenthesizedExpression(InfixExpression(SimpleName:sn)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))))(VariableDeclarationStatement(SimpleType(SimpleName:HttpResponse))(VariableDeclarationFragment(SimpleName:response)(MethodInvocation(METHOD_INVOCATION_RECEIVER(ClassInstanceCreation(SimpleType(SimpleName:HttpRequestExecutor))))(SimpleName:execute)(METHOD_INVOCATION_ARGUMENTS(SimpleName:sn)(SimpleName:req)(SimpleName:remoteAddr)))))(VariableDeclarationStatement(SimpleType(SimpleName:ChannelFuture))(VariableDeclarationFragment(SimpleName:f)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:e))(SimpleName:getChannel)))(SimpleName:write)(METHOD_INVOCATION_ARGUMENTS(SimpleName:response)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:f))(SimpleName:addListener)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:ChannelFutureListener.CLOSE))))))))