(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:public)(PrimitiveType:void)(SimpleName:writeFeatures)(SingleVariableDeclaration(SimpleType(SimpleName:String))(SimpleName:filename))(SimpleType(SimpleName:IOException))(Block(ExpressionStatement(MethodInvocation(SimpleName:verify)(METHOD_INVOCATION_ARGUMENTS(SimpleName:features))))(VariableDeclarationStatement(SimpleType(SimpleName:File))(VariableDeclarationFragment(SimpleName:newFile)(ClassInstanceCreation(SimpleType(SimpleName:File))(SimpleName:filename))))(VariableDeclarationStatement(SimpleType(SimpleName:ShapefileDataStoreFactory))(VariableDeclarationFragment(SimpleName:dataStoreFactory)(ClassInstanceCreation(SimpleType(SimpleName:ShapefileDataStoreFactory)))))(VariableDeclarationStatement(ParameterizedType(SimpleType(SimpleName:Map))(SimpleType(SimpleName:String))(SimpleType(SimpleName:Serializable)))(VariableDeclarationFragment(SimpleName:params)(ClassInstanceCreation(ParameterizedType(SimpleType(SimpleName:HashMap))(SimpleType(SimpleName:String))(SimpleType(SimpleName:Serializable))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:params))(SimpleName:put)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:newFile))(SimpleName:toURI)))(SimpleName:toURL)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:params))(SimpleName:put)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(QualifiedName:Boolean.TRUE))))(VariableDeclarationStatement(SimpleType(SimpleName:ShapefileDataStore))(VariableDeclarationFragment(SimpleName:newDataStore)(CastExpression(SimpleType(SimpleName:ShapefileDataStore))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:dataStoreFactory))(SimpleName:createNewDataStore)(METHOD_INVOCATION_ARGUMENTS(SimpleName:params))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:newDataStore))(SimpleName:createSchema)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(ParenthesizedExpression(CastExpression(SimpleType(SimpleName:SimpleFeature))(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:features))(SimpleName:iterator)))(SimpleName:next)))))(SimpleName:getFeatureType)))))(VariableDeclarationStatement(SimpleType(SimpleName:Transaction))(VariableDeclarationFragment(SimpleName:transaction)(ClassInstanceCreation(SimpleType(SimpleName:DefaultTransaction))(StringLiteral:<STR>))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:typeName)(ArrayAccess(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:newDataStore))(SimpleName:getTypeNames))(NumberLiteral:0))))(VariableDeclarationStatement(SimpleType(SimpleName:FeatureSource))(VariableDeclarationFragment(SimpleName:featureSource)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:newDataStore))(SimpleName:getFeatureSource)(METHOD_INVOCATION_ARGUMENTS(SimpleName:typeName)))))(IfStatement(InstanceofExpression(SimpleName:featureSource)(SimpleType(SimpleName:FeatureStore)))(Block(VariableDeclarationStatement(SimpleType(SimpleName:FeatureStore))(VariableDeclarationFragment(SimpleName:featureStore)(CastExpression(SimpleType(SimpleName:FeatureStore))(SimpleName:featureSource))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:featureStore))(SimpleName:setTransaction)(METHOD_INVOCATION_ARGUMENTS(SimpleName:transaction))))(TryStatement(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:featureStore))(SimpleName:addFeatures)(METHOD_INVOCATION_ARGUMENTS(SimpleName:features))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:transaction))(SimpleName:commit))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:Exception))(SimpleName:problem))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:problem))(SimpleName:printStackTrace)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:transaction))(SimpleName:rollback)))))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:transaction))(SimpleName:close))))))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(QualifiedName:System.out))(SimpleName:println)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(SimpleName:typeName)(INFIX_EXPRESSION_OPERATOR:+)(StringLiteral:<STR>)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:System))(SimpleName:exit)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:1))))))))))