(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:public)(PrimitiveType:void)(SimpleName:updateClient)(SingleVariableDeclaration(SimpleType(SimpleName:Client))(SimpleName:client))(SimpleType(SimpleName:OldVersionException))(SimpleType(SimpleName:MyHibernateException))(Block(VariableDeclarationStatement(SimpleType(SimpleName:Session))(VariableDeclarationFragment(SimpleName:session)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:HibernateUtil))(SimpleName:getCurrentSession))))(VariableDeclarationStatement(SimpleType(SimpleName:Transaction))(VariableDeclarationFragment(SimpleName:transaction)(NullLiteral)))(TryStatement(Block(ExpressionStatement(Assignment(SimpleName:transaction)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:session))(SimpleName:beginTransaction))))(ForStatement(VariableDeclarationExpression(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:i)(NumberLiteral:0)))(InfixExpression(SimpleName:i)(INFIX_EXPRESSION_OPERATOR:<)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:client))(SimpleName:getPhones)))(SimpleName:size)))(PostfixExpression(SimpleName:i)(POSTFIX_EXPRESSION_OPERATOR:++))(Block(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:client))(SimpleName:getPhones)))(SimpleName:get)(METHOD_INVOCATION_ARGUMENTS(SimpleName:i))))(SimpleName:getNumber)))(SimpleName:equals)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))(Block(VariableDeclarationStatement(SimpleType(SimpleName:SQLQuery))(VariableDeclarationFragment(SimpleName:query)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:session))(SimpleName:createSQLQuery)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:client))(SimpleName:getPhones)))(SimpleName:get)(METHOD_INVOCATION_ARGUMENTS(SimpleName:i))))(SimpleName:getId)))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:query))(SimpleName:executeUpdate)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:client))(SimpleName:getPhones)))(SimpleName:remove)(METHOD_INVOCATION_ARGUMENTS(SimpleName:i))))(ExpressionStatement(PostfixExpression(SimpleName:i)(POSTFIX_EXPRESSION_OPERATOR:--)))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:clientDAO))(SimpleName:update)(METHOD_INVOCATION_ARGUMENTS(SimpleName:session)(SimpleName:client))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:transaction))(SimpleName:commit))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:RuntimeException))(SimpleName:ex))(Block(IfStatement(InfixExpression(SimpleName:transaction)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:transaction))(SimpleName:rollback)))))(IfStatement(InstanceofExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ex))(SimpleName:getCause))(SimpleType(SimpleName:SQLException)))(Block(VariableDeclarationStatement(SimpleType(SimpleName:SQLException))(VariableDeclarationFragment(SimpleName:sqle)(CastExpression(SimpleType(SimpleName:SQLException))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ex))(SimpleName:getCause)))))(SwitchStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:sqle))(SimpleName:getErrorCode))(SwitchCase(NumberLiteral:1062))(ThrowStatement(ClassInstanceCreation(SimpleType(SimpleName:MyHibernateException))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:SQLErrorManager))(SimpleName:extractKey)(METHOD_INVOCATION_ARGUMENTS(SimpleName:TYPE)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:sqle))(SimpleName:getMessage))))))))(IfStatement(InstanceofExpression(SimpleName:ex)(SimpleType(SimpleName:StaleObjectStateException)))(Block(ThrowStatement(ClassInstanceCreation(SimpleType(SimpleName:OldVersionException))(SimpleName:ex))))(IfStatement(InstanceofExpression(SimpleName:ex)(SimpleType(SimpleName:HibernateException)))(Block(ThrowStatement(ClassInstanceCreation(SimpleType(SimpleName:MyHibernateException))(CastExpression(SimpleType(SimpleName:HibernateException))(SimpleName:ex))))))))(ThrowStatement(SimpleName:ex))))(Block(IfStatement(InfixExpression(InfixExpression(SimpleName:session)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(INFIX_EXPRESSION_OPERATOR:&&)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:session))(SimpleName:isOpen)))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:session))(SimpleName:close)))))))))))