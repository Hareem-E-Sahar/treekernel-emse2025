(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:private)(PrimitiveType:void)(SimpleName:handleInternalMessage)(SingleVariableDeclaration(SimpleType(SimpleName:Message))(SimpleName:message))(SimpleType(SimpleName:IOException))(Block(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:message))(SimpleName:isRequest))(Block(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:t)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:message))(SimpleName:getType)))(SimpleName:getTypeName))))(IfStatement(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:t))(SimpleName:equals)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))(Block(ThrowStatement(ClassInstanceCreation(SimpleType(SimpleName:IOException))(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(StringLiteral:<STR>)(SimpleName:t))))))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:fid)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:message))(SimpleName:getMethod)))(SimpleName:getIndex))))(SwitchStatement(SimpleName:fid)(SwitchCase(SimpleName:PROPERTIES_FID_REQUEST_CHANGE))(ExpressionStatement(MethodInvocation(SimpleName:checkSynchronousPropertyRequest)(METHOD_INVOCATION_ARGUMENTS(SimpleName:message))))(SynchronizedStatement(SimpleName:monitor)(Block(SwitchStatement(SimpleName:state)(SwitchCase(SimpleName:STATE_INITIAL0))(SwitchCase(SimpleName:STATE_INITIAL))(ExpressionStatement(MethodInvocation(SimpleName:writeReply)(METHOD_INVOCATION_ARGUMENTS(BooleanLiteral:false)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:message))(SimpleName:getThreadId))(ClassInstanceCreation(SimpleType(SimpleName:Integer))(NumberLiteral:1)))))(ExpressionStatement(Assignment(SimpleName:state)(ASSIGNMENT_OPERATOR:=)(SimpleName:STATE_WAIT)))(BreakStatement)(SwitchCase(SimpleName:STATE_REQUESTED))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:n)(MethodInvocation(METHOD_INVOCATION_RECEIVER(ParenthesizedExpression(CastExpression(SimpleType(SimpleName:Integer))(ArrayAccess(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:message))(SimpleName:getArguments))(NumberLiteral:0)))))(SimpleName:intValue))))(IfStatement(InfixExpression(SimpleName:random)(INFIX_EXPRESSION_OPERATOR:<)(SimpleName:n))(Block(ExpressionStatement(MethodInvocation(SimpleName:writeReply)(METHOD_INVOCATION_ARGUMENTS(BooleanLiteral:false)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:message))(SimpleName:getThreadId))(ClassInstanceCreation(SimpleType(SimpleName:Integer))(NumberLiteral:1)))))(ExpressionStatement(Assignment(SimpleName:state)(ASSIGNMENT_OPERATOR:=)(SimpleName:STATE_WAIT))))(IfStatement(InfixExpression(SimpleName:random)(INFIX_EXPRESSION_OPERATOR:==)(SimpleName:n))(Block(ExpressionStatement(MethodInvocation(SimpleName:writeReply)(METHOD_INVOCATION_ARGUMENTS(BooleanLiteral:false)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:message))(SimpleName:getThreadId))(ClassInstanceCreation(SimpleType(SimpleName:Integer))(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:-)(NumberLiteral:1))))))(ExpressionStatement(Assignment(SimpleName:state)(ASSIGNMENT_OPERATOR:=)(SimpleName:STATE_INITIAL)))(ExpressionStatement(MethodInvocation(SimpleName:sendRequestChange))))(Block(ExpressionStatement(MethodInvocation(SimpleName:writeReply)(METHOD_INVOCATION_ARGUMENTS(BooleanLiteral:false)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:message))(SimpleName:getThreadId))(ClassInstanceCreation(SimpleType(SimpleName:Integer))(NumberLiteral:0))))))))(BreakStatement)(SwitchCase)(ExpressionStatement(MethodInvocation(SimpleName:writeReply)(METHOD_INVOCATION_ARGUMENTS(BooleanLiteral:true)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:message))(SimpleName:getThreadId))(ClassInstanceCreation(SimpleType(QualifiedName:com.sun.star.uno.RuntimeException))(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(StringLiteral:<STR>))))))(BreakStatement))))(BreakStatement)(SwitchCase(SimpleName:PROPERTIES_FID_COMMIT_CHANGE))(ExpressionStatement(MethodInvocation(SimpleName:checkSynchronousPropertyRequest)(METHOD_INVOCATION_ARGUMENTS(SimpleName:message))))(SynchronizedStatement(SimpleName:monitor)(Block(IfStatement(InfixExpression(SimpleName:state)(INFIX_EXPRESSION_OPERATOR:==)(SimpleName:STATE_WAIT))(Block(VariableDeclarationStatement(ArrayType(SimpleType(SimpleName:ProtocolProperty))(Dimension))(VariableDeclarationFragment(SimpleName:p)(CastExpression(ArrayType(SimpleType(SimpleName:ProtocolProperty))(Dimension))(ArrayAccess(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:message))(SimpleName:getArguments))(NumberLiteral:0)))))(VariableDeclarationStatement(PrimitiveType:boolean)(VariableDeclarationFragment(SimpleName:ok)(BooleanLiteral:true)))(VariableDeclarationStatement(PrimitiveType:boolean)(VariableDeclarationFragment(SimpleName:cc)(BooleanLiteral:false)))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:i)(NumberLiteral:0)))(ForStatement(InfixExpression(SimpleName:i)(INFIX_EXPRESSION_OPERATOR:<)(QualifiedName:p.length))(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:++)(SimpleName:i))(Block(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(FieldAccess(ArrayAccess(SimpleName:p)(SimpleName:i))(SimpleName:Name)))(SimpleName:equals)(METHOD_INVOCATION_ARGUMENTS(SimpleName:PROPERTY_CURRENT_CONTEXT)))(Block(ExpressionStatement(Assignment(SimpleName:cc)(ASSIGNMENT_OPERATOR:=)(BooleanLiteral:true))))(Block(ExpressionStatement(Assignment(SimpleName:ok)(ASSIGNMENT_OPERATOR:=)(BooleanLiteral:false)))(BreakStatement)))))(IfStatement(SimpleName:ok)(Block(ExpressionStatement(MethodInvocation(SimpleName:writeReply)(METHOD_INVOCATION_ARGUMENTS(BooleanLiteral:false)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:message))(SimpleName:getThreadId))(NullLiteral)))))(Block(ExpressionStatement(MethodInvocation(SimpleName:writeReply)(METHOD_INVOCATION_ARGUMENTS(BooleanLiteral:true)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:message))(SimpleName:getThreadId))(ClassInstanceCreation(SimpleType(SimpleName:InvalidProtocolChangeException))(StringLiteral:<STR>)(NullLiteral)(ArrayAccess(SimpleName:p)(SimpleName:i))(NumberLiteral:1)))))))(ExpressionStatement(Assignment(SimpleName:state)(ASSIGNMENT_OPERATOR:=)(SimpleName:STATE_INITIAL)))(IfStatement(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(SimpleName:initialized))(Block(IfStatement(SimpleName:cc)(Block(ExpressionStatement(Assignment(SimpleName:currentContext)(ASSIGNMENT_OPERATOR:=)(BooleanLiteral:true)))(ExpressionStatement(Assignment(SimpleName:initialized)(ASSIGNMENT_OPERATOR:=)(BooleanLiteral:true)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:monitor))(SimpleName:notifyAll))))(Block(ExpressionStatement(MethodInvocation(SimpleName:sendRequestChange))))))))(Block(ExpressionStatement(MethodInvocation(SimpleName:writeReply)(METHOD_INVOCATION_ARGUMENTS(BooleanLiteral:true)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:message))(SimpleName:getThreadId))(ClassInstanceCreation(SimpleType(QualifiedName:com.sun.star.uno.RuntimeException))(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(StringLiteral:<STR>))))))))))(BreakStatement)(SwitchCase)(ThrowStatement(ClassInstanceCreation(SimpleType(SimpleName:IOException))(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(StringLiteral:<STR>)(SimpleName:fid))))))(Block(SynchronizedStatement(SimpleName:monitor)(Block(IfStatement(InfixExpression(SimpleName:state)(INFIX_EXPRESSION_OPERATOR:==)(SimpleName:STATE_COMMITTED))(Block(IfStatement(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:message))(SimpleName:isAbnormalTermination)))(Block(ExpressionStatement(Assignment(SimpleName:currentContext)(ASSIGNMENT_OPERATOR:=)(BooleanLiteral:true)))))(ExpressionStatement(Assignment(SimpleName:state)(ASSIGNMENT_OPERATOR:=)(SimpleName:STATE_INITIAL)))(ExpressionStatement(Assignment(SimpleName:initialized)(ASSIGNMENT_OPERATOR:=)(BooleanLiteral:true)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:monitor))(SimpleName:notifyAll))))(Block(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:message))(SimpleName:isAbnormalTermination))(Block(ExpressionStatement(Assignment(SimpleName:state)(ASSIGNMENT_OPERATOR:=)(SimpleName:STATE_INITIAL)))(ExpressionStatement(Assignment(SimpleName:initialized)(ASSIGNMENT_OPERATOR:=)(BooleanLiteral:true)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:monitor))(SimpleName:notifyAll))))(Block(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:n)(MethodInvocation(METHOD_INVOCATION_RECEIVER(ParenthesizedExpression(CastExpression(SimpleType(SimpleName:Integer))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:message))(SimpleName:getResult)))))(SimpleName:intValue))))(SwitchStatement(SimpleName:n)(SwitchCase(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:-)(NumberLiteral:1)))(SwitchCase(NumberLiteral:0))(BreakStatement)(SwitchCase(NumberLiteral:1))(ExpressionStatement(MethodInvocation(SimpleName:writeRequest)(METHOD_INVOCATION_ARGUMENTS(BooleanLiteral:true)(SimpleName:PROPERTIES_OID)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:TypeDescription))(SimpleName:getTypeDescription)(METHOD_INVOCATION_ARGUMENTS(TypeLiteral(SimpleType(SimpleName:XProtocolProperties)))))(SimpleName:PROPERTIES_FUN_COMMIT_CHANGE)(SimpleName:propertiesTid)(ArrayCreation(ArrayType(SimpleType(SimpleName:Object))(Dimension))(ArrayInitializer(ArrayCreation(ArrayType(SimpleType(SimpleName:ProtocolProperty))(Dimension))(ArrayInitializer(ClassInstanceCreation(SimpleType(SimpleName:ProtocolProperty))(SimpleName:PROPERTY_CURRENT_CONTEXT)(QualifiedName:Any.VOID)))))))))(ExpressionStatement(Assignment(SimpleName:state)(ASSIGNMENT_OPERATOR:=)(SimpleName:STATE_COMMITTED)))(BreakStatement)(SwitchCase)(ThrowStatement(ClassInstanceCreation(SimpleType(SimpleName:IOException))(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:PROPERTIES_FUN_REQUEST_CHANGE)(StringLiteral:<STR>)(SimpleName:n)))))))))))))))))