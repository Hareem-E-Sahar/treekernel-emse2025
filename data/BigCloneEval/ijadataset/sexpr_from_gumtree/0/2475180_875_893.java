(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:public)(SimpleType(SimpleName:CacheKey))(SimpleName:putInIdentityMap)(SingleVariableDeclaration(SimpleType(SimpleName:Object))(SimpleName:domainObject))(SingleVariableDeclaration(SimpleType(SimpleName:Vector))(SimpleName:keys))(SingleVariableDeclaration(SimpleType(SimpleName:Object))(SimpleName:writeLockValue))(SingleVariableDeclaration(PrimitiveType:long)(SimpleName:readTime))(SingleVariableDeclaration(SimpleType(SimpleName:ClassDescriptor))(SimpleName:descriptor))(Block(VariableDeclarationStatement(SimpleType(SimpleName:ObjectBuilder))(VariableDeclarationFragment(SimpleName:builder)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:descriptor))(SimpleName:getObjectBuilder))))(VariableDeclarationStatement(SimpleType(SimpleName:Object))(VariableDeclarationFragment(SimpleName:implementation)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:builder))(SimpleName:unwrapObject)(METHOD_INVOCATION_ARGUMENTS(SimpleName:domainObject)(MethodInvocation(SimpleName:getSession))))))(VariableDeclarationStatement(SimpleType(SimpleName:IdentityMap))(VariableDeclarationFragment(SimpleName:map)(MethodInvocation(SimpleName:getIdentityMap)(METHOD_INVOCATION_ARGUMENTS(SimpleName:descriptor)))))(VariableDeclarationStatement(SimpleType(SimpleName:CacheKey))(VariableDeclarationFragment(SimpleName:cacheKey)))(IfStatement(MethodInvocation(SimpleName:isCacheAccessPreCheckRequired))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(SimpleName:getSession)))(SimpleName:startOperationProfile)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:SessionProfiler.CACHE))))(ExpressionStatement(MethodInvocation(SimpleName:acquireReadLock)))(TryStatement(Block(ExpressionStatement(Assignment(SimpleName:cacheKey)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:map))(SimpleName:put)(METHOD_INVOCATION_ARGUMENTS(SimpleName:keys)(SimpleName:implementation)(SimpleName:writeLockValue)(SimpleName:readTime))))))(Block(ExpressionStatement(MethodInvocation(SimpleName:releaseReadLock)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(SimpleName:getSession)))(SimpleName:endOperationProfile)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:SessionProfiler.CACHE)))))(Block(ExpressionStatement(Assignment(SimpleName:cacheKey)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:map))(SimpleName:put)(METHOD_INVOCATION_ARGUMENTS(SimpleName:keys)(SimpleName:implementation)(SimpleName:writeLockValue)(SimpleName:readTime)))))))(ReturnStatement(SimpleName:cacheKey))))))