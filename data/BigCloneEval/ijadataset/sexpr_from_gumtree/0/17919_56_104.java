(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:public)(PrimitiveType:void)(SimpleName:mouseClickedDown)(SingleVariableDeclaration(SimpleType(SimpleName:Point2d))(SimpleName:worldCoord))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:logger))(SimpleName:debug)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))(ExpressionStatement(Assignment(SimpleName:rotationCenter)(ASSIGNMENT_OPERATOR:=)(NullLiteral)))(ExpressionStatement(Assignment(SimpleName:selection)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SuperFieldAccess(SimpleName:chemModelRelay)))(SimpleName:getRenderer)))(SimpleName:getRenderer2DModel)))(SimpleName:getSelection))))(IfStatement(InfixExpression(InfixExpression(InfixExpression(InfixExpression(SimpleName:selection)(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(INFIX_EXPRESSION_OPERATOR:||)(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:selection))(SimpleName:isFilled))))(INFIX_EXPRESSION_OPERATOR:||)(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:selection))(SimpleName:getConnectedAtomContainer))(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral)))(INFIX_EXPRESSION_OPERATOR:||)(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:selection))(SimpleName:getConnectedAtomContainer)))(SimpleName:getAtomCount))(INFIX_EXPRESSION_OPERATOR:==)(NumberLiteral:0)))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:logger))(SimpleName:debug)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))(ExpressionStatement(Assignment(SimpleName:selectionMade)(ASSIGNMENT_OPERATOR:=)(BooleanLiteral:false)))(ReturnStatement))(Block(ExpressionStatement(Assignment(SimpleName:rotationPerformed)(ASSIGNMENT_OPERATOR:=)(BooleanLiteral:false)))(VariableDeclarationStatement(SimpleType(SimpleName:Rectangle2D))(VariableDeclarationFragment(SimpleName:bounds)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:BoundsCalculator))(SimpleName:calculateBounds)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(FieldAccess(ThisExpression)(SimpleName:chemModelRelay)))(SimpleName:getRenderer)))(SimpleName:getRenderer2DModel)))(SimpleName:getSelection)))(SimpleName:getConnectedAtomContainer))))))(ExpressionStatement(Assignment(SimpleName:rotationAngle)(ASSIGNMENT_OPERATOR:=)(NumberLiteral:0.0)))(ExpressionStatement(Assignment(SimpleName:selectionMade)(ASSIGNMENT_OPERATOR:=)(BooleanLiteral:true)))(ExpressionStatement(Assignment(SimpleName:atomCoordsMap)(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(ParameterizedType(SimpleType(SimpleName:HashMap))(SimpleType(SimpleName:IAtom))(ArrayType(SimpleType(SimpleName:Point2d))(Dimension))))))(EnhancedForStatement(SingleVariableDeclaration(SimpleType(SimpleName:IAtom))(SimpleName:atom))(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:selection))(SimpleName:getConnectedAtomContainer)))(SimpleName:atoms))(Block(VariableDeclarationStatement(ArrayType(SimpleType(SimpleName:Point2d))(Dimension))(VariableDeclarationFragment(SimpleName:coordsforatom)(ArrayCreation(ArrayType(SimpleType(SimpleName:Point2d))(Dimension(NumberLiteral:2))))))(ExpressionStatement(Assignment(ArrayAccess(SimpleName:coordsforatom)(NumberLiteral:1))(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:atom))(SimpleName:getPoint2d))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:atomCoordsMap))(SimpleName:put)(METHOD_INVOCATION_ARGUMENTS(SimpleName:atom)(SimpleName:coordsforatom))))))(VariableDeclarationStatement(SimpleType(SimpleName:IAtomContainer))(VariableDeclarationFragment(SimpleName:selectedAtoms)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:selection))(SimpleName:getConnectedAtomContainer))))(VariableDeclarationStatement(SimpleType(SimpleName:Double))(VariableDeclarationFragment(SimpleName:upperX)(NullLiteral))(VariableDeclarationFragment(SimpleName:lowerX)(NullLiteral))(VariableDeclarationFragment(SimpleName:upperY)(NullLiteral))(VariableDeclarationFragment(SimpleName:lowerY)(NullLiteral)))(ForStatement(VariableDeclarationExpression(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:i)(NumberLiteral:0)))(InfixExpression(SimpleName:i)(INFIX_EXPRESSION_OPERATOR:<)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:selectedAtoms))(SimpleName:getAtomCount)))(PostfixExpression(SimpleName:i)(POSTFIX_EXPRESSION_OPERATOR:++))(Block(IfStatement(InfixExpression(SimpleName:upperX)(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(Block(ExpressionStatement(Assignment(SimpleName:upperX)(ASSIGNMENT_OPERATOR:=)(FieldAccess(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:selectedAtoms))(SimpleName:getAtom)(METHOD_INVOCATION_ARGUMENTS(SimpleName:i))))(SimpleName:getPoint2d))(SimpleName:x))))(ExpressionStatement(Assignment(SimpleName:lowerX)(ASSIGNMENT_OPERATOR:=)(SimpleName:upperX)))(ExpressionStatement(Assignment(SimpleName:upperY)(ASSIGNMENT_OPERATOR:=)(FieldAccess(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:selectedAtoms))(SimpleName:getAtom)(METHOD_INVOCATION_ARGUMENTS(SimpleName:i))))(SimpleName:getPoint2d))(SimpleName:y))))(ExpressionStatement(Assignment(SimpleName:lowerY)(ASSIGNMENT_OPERATOR:=)(FieldAccess(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:selectedAtoms))(SimpleName:getAtom)(METHOD_INVOCATION_ARGUMENTS(SimpleName:i))))(SimpleName:getPoint2d))(SimpleName:y)))))(Block(VariableDeclarationStatement(PrimitiveType:double)(VariableDeclarationFragment(SimpleName:currX)(FieldAccess(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:selectedAtoms))(SimpleName:getAtom)(METHOD_INVOCATION_ARGUMENTS(SimpleName:i))))(SimpleName:getPoint2d))(SimpleName:x))))(IfStatement(InfixExpression(SimpleName:currX)(INFIX_EXPRESSION_OPERATOR:>)(SimpleName:upperX))(ExpressionStatement(Assignment(SimpleName:upperX)(ASSIGNMENT_OPERATOR:=)(SimpleName:currX))))(IfStatement(InfixExpression(SimpleName:currX)(INFIX_EXPRESSION_OPERATOR:<)(SimpleName:lowerX))(ExpressionStatement(Assignment(SimpleName:lowerX)(ASSIGNMENT_OPERATOR:=)(SimpleName:currX))))(VariableDeclarationStatement(PrimitiveType:double)(VariableDeclarationFragment(SimpleName:currY)(FieldAccess(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:selectedAtoms))(SimpleName:getAtom)(METHOD_INVOCATION_ARGUMENTS(SimpleName:i))))(SimpleName:getPoint2d))(SimpleName:y))))(IfStatement(InfixExpression(SimpleName:currY)(INFIX_EXPRESSION_OPERATOR:>)(SimpleName:upperY))(ExpressionStatement(Assignment(SimpleName:upperY)(ASSIGNMENT_OPERATOR:=)(SimpleName:currY))))(IfStatement(InfixExpression(SimpleName:currY)(INFIX_EXPRESSION_OPERATOR:<)(SimpleName:lowerY))(ExpressionStatement(Assignment(SimpleName:lowerY)(ASSIGNMENT_OPERATOR:=)(SimpleName:currY))))))))(ExpressionStatement(Assignment(SimpleName:rotationCenter)(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(SimpleType(SimpleName:Point2d)))))(ExpressionStatement(Assignment(QualifiedName:rotationCenter.x)(ASSIGNMENT_OPERATOR:=)(InfixExpression(ParenthesizedExpression(InfixExpression(SimpleName:upperX)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:lowerX)))(INFIX_EXPRESSION_OPERATOR:/)(NumberLiteral:2))))(ExpressionStatement(Assignment(QualifiedName:rotationCenter.y)(ASSIGNMENT_OPERATOR:=)(InfixExpression(ParenthesizedExpression(InfixExpression(SimpleName:upperY)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:lowerY)))(INFIX_EXPRESSION_OPERATOR:/)(NumberLiteral:2))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:logger))(SimpleName:debug)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(QualifiedName:rotationCenter.x)(StringLiteral:<STR>)(QualifiedName:rotationCenter.y)))))(ExpressionStatement(Assignment(SimpleName:startCoordsRelativeToRotationCenter)(ASSIGNMENT_OPERATOR:=)(ArrayCreation(ArrayType(SimpleType(SimpleName:Point2d))(Dimension(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:selectedAtoms))(SimpleName:getAtomCount)))))))(ForStatement(VariableDeclarationExpression(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:i)(NumberLiteral:0)))(InfixExpression(SimpleName:i)(INFIX_EXPRESSION_OPERATOR:<)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:selectedAtoms))(SimpleName:getAtomCount)))(PostfixExpression(SimpleName:i)(POSTFIX_EXPRESSION_OPERATOR:++))(Block(VariableDeclarationStatement(SimpleType(SimpleName:Point2d))(VariableDeclarationFragment(SimpleName:relativeAtomPosition)(ClassInstanceCreation(SimpleType(SimpleName:Point2d)))))(ExpressionStatement(Assignment(QualifiedName:relativeAtomPosition.x)(ASSIGNMENT_OPERATOR:=)(InfixExpression(FieldAccess(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:selectedAtoms))(SimpleName:getAtom)(METHOD_INVOCATION_ARGUMENTS(SimpleName:i))))(SimpleName:getPoint2d))(SimpleName:x))(INFIX_EXPRESSION_OPERATOR:-)(QualifiedName:rotationCenter.x))))(ExpressionStatement(Assignment(QualifiedName:relativeAtomPosition.y)(ASSIGNMENT_OPERATOR:=)(InfixExpression(FieldAccess(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:selectedAtoms))(SimpleName:getAtom)(METHOD_INVOCATION_ARGUMENTS(SimpleName:i))))(SimpleName:getPoint2d))(SimpleName:y))(INFIX_EXPRESSION_OPERATOR:-)(QualifiedName:rotationCenter.y))))(ExpressionStatement(Assignment(ArrayAccess(SimpleName:startCoordsRelativeToRotationCenter)(SimpleName:i))(ASSIGNMENT_OPERATOR:=)(SimpleName:relativeAtomPosition)))))))))))