(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:protected)(SimpleType(SimpleName:IProduction))(SimpleName:addProductionInternal)(SingleVariableDeclaration(SimpleType(SimpleName:IProduction))(SimpleName:production))(Block(VariableDeclarationStatement(SimpleType(SimpleName:ISymbolicProduction))(VariableDeclarationFragment(SimpleName:symProd)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:production))(SimpleName:getSymbolicProduction))))(VariableDeclarationStatement(ParameterizedType(SimpleType(SimpleName:Set))(SimpleType(SimpleName:String)))(VariableDeclarationFragment(SimpleName:bufferNames)(ClassInstanceCreation(ParameterizedType(SimpleType(SimpleName:HashSet))(SimpleType(SimpleName:String))))))(VariableDeclarationStatement(ParameterizedType(SimpleType(SimpleName:Set))(SimpleType(SimpleName:String)))(VariableDeclarationFragment(SimpleName:ambiguousBufferNames)(ClassInstanceCreation(ParameterizedType(SimpleType(SimpleName:HashSet))(SimpleType(SimpleName:String))))))(EnhancedForStatement(SingleVariableDeclaration(SimpleType(SimpleName:ICondition))(SimpleName:condition))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:symProd))(SimpleName:getConditions))(IfStatement(InstanceofExpression(SimpleName:condition)(SimpleType(SimpleName:ChunkTypeCondition)))(Block(VariableDeclarationStatement(SimpleType(SimpleName:ChunkTypeCondition))(VariableDeclarationFragment(SimpleName:ctc)(CastExpression(SimpleType(SimpleName:ChunkTypeCondition))(SimpleName:condition))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ctc))(SimpleName:getChunkType)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:bufferNames))(SimpleName:add)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ctc))(SimpleName:getBufferName))))))(IfStatement(InstanceofExpression(SimpleName:condition)(SimpleType(SimpleName:ChunkCondition)))(Block(VariableDeclarationStatement(SimpleType(SimpleName:ChunkCondition))(VariableDeclarationFragment(SimpleName:cc)(CastExpression(SimpleType(SimpleName:ChunkCondition))(SimpleName:condition))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:cc))(SimpleName:getChunk)))(SimpleName:getSymbolicChunk)))(SimpleName:getChunkType)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:bufferNames))(SimpleName:add)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:cc))(SimpleName:getBufferName))))))(IfStatement(InstanceofExpression(SimpleName:condition)(SimpleType(SimpleName:AbstractBufferCondition)))(Block(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:bufferName)(MethodInvocation(METHOD_INVOCATION_RECEIVER(ParenthesizedExpression(CastExpression(SimpleType(SimpleName:AbstractBufferCondition))(SimpleName:condition))))(SimpleName:getBufferName))))(IfStatement(InstanceofExpression(SimpleName:condition)(SimpleType(SimpleName:VariableCondition)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:bufferNames))(SimpleName:add)(METHOD_INVOCATION_ARGUMENTS(SimpleName:bufferName)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ambiguousBufferNames))(SimpleName:add)(METHOD_INVOCATION_ARGUMENTS(SimpleName:bufferName)))))))))(VariableDeclarationStatement(ParameterizedType(SimpleType(SimpleName:Collection))(SimpleType(SimpleName:IAction)))(VariableDeclarationFragment(SimpleName:actions)(ClassInstanceCreation(ParameterizedType(SimpleType(SimpleName:ArrayList))(SimpleType(SimpleName:IAction)))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:symProd))(SimpleName:getActions)))))(VariableDeclarationStatement(SimpleType(SimpleName:IModel))(VariableDeclarationFragment(SimpleName:model)(MethodInvocation(SimpleName:getModel))))(EnhancedForStatement(SingleVariableDeclaration(SimpleType(SimpleName:String))(SimpleName:bufferName))(SimpleName:bufferNames)(Block(VariableDeclarationStatement(SimpleType(SimpleName:IActivationBuffer))(VariableDeclarationFragment(SimpleName:buffer)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:model))(SimpleName:getActivationBuffer)(METHOD_INVOCATION_ARGUMENTS(SimpleName:bufferName)))))(VariableDeclarationStatement(PrimitiveType:boolean)(VariableDeclarationFragment(SimpleName:actionFound)(BooleanLiteral:false)))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:buffer))(SimpleName:isStrictHarvestingEnabled))(Block(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:LOGGER))(SimpleName:isDebugEnabled))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:LOGGER))(SimpleName:debug)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:bufferName)(StringLiteral:<STR>)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:symProd))(SimpleName:getName)))))))(EnhancedForStatement(SingleVariableDeclaration(SimpleType(SimpleName:IAction))(SimpleName:action))(SimpleName:actions)(IfStatement(InfixExpression(InstanceofExpression(SimpleName:action)(SimpleType(SimpleName:IBufferAction)))(INFIX_EXPRESSION_OPERATOR:&&)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(ParenthesizedExpression(CastExpression(SimpleType(SimpleName:IBufferAction))(SimpleName:action))))(SimpleName:getBufferName)))(SimpleName:equals)(METHOD_INVOCATION_ARGUMENTS(SimpleName:bufferName))))(Block(IfStatement(InfixExpression(InstanceofExpression(SimpleName:action)(SimpleType(SimpleName:ModifyAction)))(INFIX_EXPRESSION_OPERATOR:&&)(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(ParenthesizedExpression(InstanceofExpression(SimpleName:action)(SimpleType(SimpleName:RemoveAction)))))(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(ParenthesizedExpression(CastExpression(SimpleType(SimpleName:ModifyAction))(SimpleName:action))))(SimpleName:getSlots)))(SimpleName:size))(INFIX_EXPRESSION_OPERATOR:==)(NumberLiteral:0)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:symProd))(SimpleName:removeAction)(METHOD_INVOCATION_ARGUMENTS(SimpleName:action)))))(ExpressionStatement(Assignment(SimpleName:actionFound)(ASSIGNMENT_OPERATOR:=)(BooleanLiteral:true)))(BreakStatement))))(IfStatement(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(SimpleName:actionFound))(Block(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:LOGGER))(SimpleName:isDebugEnabled))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:LOGGER))(SimpleName:debug)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(SimpleName:bufferName)(INFIX_EXPRESSION_OPERATOR:+)(StringLiteral:<STR>)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:symProd))(SimpleName:getName))(StringLiteral:<STR>))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:symProd))(SimpleName:addAction)(METHOD_INVOCATION_ARGUMENTS(ClassInstanceCreation(SimpleType(SimpleName:RemoveAction))(SimpleName:bufferName)))))))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:_readWriteLock))(SimpleName:writeLock)))(SimpleName:lock)))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:productionName)(MethodInvocation(SimpleName:getSafeName)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:symProd))(SimpleName:getName))(SimpleName:_allProductionsByName)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:symProd))(SimpleName:setName)(METHOD_INVOCATION_ARGUMENTS(SimpleName:productionName))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:production))(SimpleName:encode)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:_allProductionsByName))(SimpleName:put)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:productionName))(SimpleName:toLowerCase))(SimpleName:production))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:_readWriteLock))(SimpleName:writeLock)))(SimpleName:unlock)))(ExpressionStatement(MethodInvocation(SimpleName:fireProductionAdded)(METHOD_INVOCATION_ARGUMENTS(SimpleName:production))))(ReturnStatement(SimpleName:production))))))