(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:private)(SimpleType(SimpleName:FullUpdateInfo))(SimpleName:getAvailableUpdates)(SimpleType(SimpleName:IOException))(Block(VariableDeclarationStatement(SimpleType(SimpleName:FullUpdateInfo))(VariableDeclarationFragment(SimpleName:retValue)(ClassInstanceCreation(SimpleType(SimpleName:FullUpdateInfo)))))(VariableDeclarationStatement(PrimitiveType:boolean)(VariableDeclarationFragment(SimpleName:romException)(BooleanLiteral:false)))(VariableDeclarationStatement(SimpleType(SimpleName:HttpClient))(VariableDeclarationFragment(SimpleName:romHttpClient)(ClassInstanceCreation(SimpleType(SimpleName:DefaultHttpClient)))))(VariableDeclarationStatement(SimpleType(SimpleName:HttpClient))(VariableDeclarationFragment(SimpleName:themeHttpClient)(ClassInstanceCreation(SimpleType(SimpleName:DefaultHttpClient)))))(VariableDeclarationStatement(SimpleType(SimpleName:HttpEntity))(VariableDeclarationFragment(SimpleName:romResponseEntity)(NullLiteral)))(VariableDeclarationStatement(SimpleType(SimpleName:HttpEntity))(VariableDeclarationFragment(SimpleName:themeResponseEntity)(NullLiteral)))(ExpressionStatement(Assignment(SimpleName:systemRom)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:SysUtils))(SimpleName:getModVersion))))(IfStatement(QualifiedName:Customization.Screenshotsupport)(ExpressionStatement(Assignment(SimpleName:themeInfos)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:mPreferences))(SimpleName:getThemeInformations)))))(ExpressionStatement(Assignment(SimpleName:showExperimentalRomUpdates)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:mPreferences))(SimpleName:showExperimentalRomUpdates))))(ExpressionStatement(Assignment(SimpleName:showAllRomUpdates)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:mPreferences))(SimpleName:showAllRomUpdates))))(VariableDeclarationStatement(PrimitiveType:boolean)(VariableDeclarationFragment(SimpleName:ThemeUpdateUrlSet)(BooleanLiteral:false)))(IfStatement(QualifiedName:Customization.Screenshotsupport)(Block(ExpressionStatement(Assignment(SimpleName:showExperimentalThemeUpdates)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:mPreferences))(SimpleName:showExperimentalThemeUpdates))))(ExpressionStatement(Assignment(SimpleName:showAllThemeUpdates)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:mPreferences))(SimpleName:showAllThemeUpdates))))(ExpressionStatement(Assignment(SimpleName:ThemeUpdateUrlSet)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:mPreferences))(SimpleName:ThemeUpdateUrlSet))))(IfStatement(InfixExpression(InfixExpression(SimpleName:themeInfos)(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(INFIX_EXPRESSION_OPERATOR:||)(MethodInvocation(METHOD_INVOCATION_RECEIVER(QualifiedName:themeInfos.name))(SimpleName:equalsIgnoreCase)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:Constants.UPDATE_INFO_WILDCARD))))(Block(IfStatement(SimpleName:showDebugOutput)(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Log))(SimpleName:d)(METHOD_INVOCATION_ARGUMENTS(SimpleName:TAG)(StringLiteral:<STR>)))))(ExpressionStatement(Assignment(SimpleName:themeInfos)(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(SimpleType(SimpleName:ThemeInfo)))))(ExpressionStatement(Assignment(SimpleName:WildcardUsed)(ASSIGNMENT_OPERATOR:=)(BooleanLiteral:true)))))))(TryStatement(Block(VariableDeclarationStatement(SimpleType(SimpleName:URI))(VariableDeclarationFragment(SimpleName:RomUpdateServerUri)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:URI))(SimpleName:create)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:mPreferences))(SimpleName:getRomUpdateFileURL))))))(VariableDeclarationStatement(SimpleType(SimpleName:HttpUriRequest))(VariableDeclarationFragment(SimpleName:romReq)(ClassInstanceCreation(SimpleType(SimpleName:HttpGet))(SimpleName:RomUpdateServerUri))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:romReq))(SimpleName:addHeader)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(StringLiteral:<STR>))))(VariableDeclarationStatement(SimpleType(SimpleName:HttpResponse))(VariableDeclarationFragment(SimpleName:romResponse)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:romHttpClient))(SimpleName:execute)(METHOD_INVOCATION_ARGUMENTS(SimpleName:romReq)))))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:romServerResponse)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:romResponse))(SimpleName:getStatusLine)))(SimpleName:getStatusCode))))(IfStatement(InfixExpression(SimpleName:romServerResponse)(INFIX_EXPRESSION_OPERATOR:!=)(QualifiedName:HttpStatus.SC_OK))(Block(IfStatement(SimpleName:showDebugOutput)(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Log))(SimpleName:d)(METHOD_INVOCATION_ARGUMENTS(SimpleName:TAG)(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:romServerResponse))))))(ExpressionStatement(Assignment(SimpleName:romException)(ASSIGNMENT_OPERATOR:=)(BooleanLiteral:true)))))(IfStatement(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(SimpleName:romException))(ExpressionStatement(Assignment(SimpleName:romResponseEntity)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:romResponse))(SimpleName:getEntity))))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:IllegalArgumentException))(SimpleName:e))(Block(IfStatement(SimpleName:showDebugOutput)(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Log))(SimpleName:d)(METHOD_INVOCATION_ARGUMENTS(SimpleName:TAG)(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:mPreferences))(SimpleName:getRomUpdateFileURL)))))))(ExpressionStatement(Assignment(SimpleName:romException)(ASSIGNMENT_OPERATOR:=)(BooleanLiteral:true))))))(IfStatement(InfixExpression(QualifiedName:Customization.Screenshotsupport)(INFIX_EXPRESSION_OPERATOR:&&)(SimpleName:ThemeUpdateUrlSet))(Block(TryStatement(Block(VariableDeclarationStatement(ParameterizedType(SimpleType(SimpleName:LinkedList))(SimpleType(SimpleName:ThemeList)))(VariableDeclarationFragment(SimpleName:tl)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:mPreferences))(SimpleName:getThemeUpdateUrls))))(EnhancedForStatement(SingleVariableDeclaration(SimpleType(SimpleName:ThemeList))(SimpleName:t))(SimpleName:tl)(Block(IfStatement(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(QualifiedName:t.enabled))(Block(IfStatement(SimpleName:showDebugOutput)(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Log))(SimpleName:d)(METHOD_INVOCATION_ARGUMENTS(SimpleName:TAG)(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(QualifiedName:t.name)(StringLiteral:<STR>))))))(ContinueStatement)))(ExpressionStatement(Assignment(SimpleName:PrimaryKeyTheme)(ASSIGNMENT_OPERATOR:=)(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:-)(NumberLiteral:1))))(IfStatement(SimpleName:showDebugOutput)(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Log))(SimpleName:d)(METHOD_INVOCATION_ARGUMENTS(SimpleName:TAG)(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(MethodInvocation(METHOD_INVOCATION_RECEIVER(QualifiedName:t.url))(SimpleName:toString)))))))(VariableDeclarationStatement(SimpleType(SimpleName:URI))(VariableDeclarationFragment(SimpleName:ThemeUpdateServerUri)(QualifiedName:t.url)))(VariableDeclarationStatement(SimpleType(SimpleName:HttpUriRequest))(VariableDeclarationFragment(SimpleName:themeReq)(ClassInstanceCreation(SimpleType(SimpleName:HttpGet))(SimpleName:ThemeUpdateServerUri))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:themeReq))(SimpleName:addHeader)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(StringLiteral:<STR>))))(TryStatement(Block(VariableDeclarationStatement(SimpleType(SimpleName:HttpResponse))(VariableDeclarationFragment(SimpleName:themeResponse)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:themeHttpClient))(SimpleName:execute)(METHOD_INVOCATION_ARGUMENTS(SimpleName:themeReq)))))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:themeServerResponse)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:themeResponse))(SimpleName:getStatusLine)))(SimpleName:getStatusCode))))(IfStatement(InfixExpression(SimpleName:themeServerResponse)(INFIX_EXPRESSION_OPERATOR:!=)(QualifiedName:HttpStatus.SC_OK))(Block(IfStatement(SimpleName:showDebugOutput)(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Log))(SimpleName:d)(METHOD_INVOCATION_ARGUMENTS(SimpleName:TAG)(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:themeServerResponse))))))(ExpressionStatement(Assignment(SimpleName:themeResponseEntity)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:themeResponse))(SimpleName:getEntity))))(ContinueStatement)))(ExpressionStatement(Assignment(SimpleName:themeResponseEntity)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:themeResponse))(SimpleName:getEntity)))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:IOException))(SimpleName:ex))(Block(ExpressionStatement(MethodInvocation(SimpleName:DisplayExceptionToast)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(SimpleName:getResources)))(SimpleName:getString)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:R.string.theme_download_exception)))(INFIX_EXPRESSION_OPERATOR:+)(QualifiedName:t.name)(StringLiteral:<STR>)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ex))(SimpleName:getMessage))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Log))(SimpleName:e)(METHOD_INVOCATION_ARGUMENTS(SimpleName:TAG)(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(QualifiedName:t.name)(StringLiteral:<STR>))(SimpleName:ex))))(ContinueStatement))))(VariableDeclarationStatement(SimpleType(SimpleName:BufferedReader))(VariableDeclarationFragment(SimpleName:themeLineReader)(ClassInstanceCreation(SimpleType(SimpleName:BufferedReader))(ClassInstanceCreation(SimpleType(SimpleName:InputStreamReader))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:themeResponseEntity))(SimpleName:getContent)))(InfixExpression(NumberLiteral:2)(INFIX_EXPRESSION_OPERATOR:*)(NumberLiteral:1024)))))(VariableDeclarationStatement(SimpleType(SimpleName:StringBuffer))(VariableDeclarationFragment(SimpleName:themeBuf)(ClassInstanceCreation(SimpleType(SimpleName:StringBuffer)))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:themeLine)))(WhileStatement(InfixExpression(ParenthesizedExpression(Assignment(SimpleName:themeLine)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:themeLineReader))(SimpleName:readLine))))(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:themeBuf))(SimpleName:append)(METHOD_INVOCATION_ARGUMENTS(SimpleName:themeLine))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:themeLineReader))(SimpleName:close)))(IfStatement(InfixExpression(QualifiedName:t.PrimaryKey)(INFIX_EXPRESSION_OPERATOR:>)(NumberLiteral:0))(ExpressionStatement(Assignment(SimpleName:PrimaryKeyTheme)(ASSIGNMENT_OPERATOR:=)(QualifiedName:t.PrimaryKey))))(VariableDeclarationStatement(ParameterizedType(SimpleType(SimpleName:LinkedList))(SimpleType(SimpleName:UpdateInfo)))(VariableDeclarationFragment(SimpleName:themeUpdateInfos)(MethodInvocation(SimpleName:parseJSON)(METHOD_INVOCATION_ARGUMENTS(SimpleName:themeBuf)(QualifiedName:RomType.Update)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(QualifiedName:retValue.themes))(SimpleName:addAll)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(SimpleName:getThemeUpdates)(METHOD_INVOCATION_ARGUMENTS(SimpleName:themeUpdateInfos)))))))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:IllegalArgumentException))(SimpleName:e))(Block(IfStatement(SimpleName:showDebugOutput)(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Log))(SimpleName:d)(METHOD_INVOCATION_ARGUMENTS(SimpleName:TAG)(StringLiteral:<STR>))))))))))(TryStatement(Block(IfStatement(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(SimpleName:romException))(Block(ExpressionStatement(Assignment(SimpleName:PrimaryKeyTheme)(ASSIGNMENT_OPERATOR:=)(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:-)(NumberLiteral:1))))(VariableDeclarationStatement(SimpleType(SimpleName:BufferedReader))(VariableDeclarationFragment(SimpleName:romLineReader)(ClassInstanceCreation(SimpleType(SimpleName:BufferedReader))(ClassInstanceCreation(SimpleType(SimpleName:InputStreamReader))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:romResponseEntity))(SimpleName:getContent)))(InfixExpression(NumberLiteral:2)(INFIX_EXPRESSION_OPERATOR:*)(NumberLiteral:1024)))))(VariableDeclarationStatement(SimpleType(SimpleName:StringBuffer))(VariableDeclarationFragment(SimpleName:romBuf)(ClassInstanceCreation(SimpleType(SimpleName:StringBuffer)))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:romLine)))(WhileStatement(InfixExpression(ParenthesizedExpression(Assignment(SimpleName:romLine)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:romLineReader))(SimpleName:readLine))))(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:romBuf))(SimpleName:append)(METHOD_INVOCATION_ARGUMENTS(SimpleName:romLine))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:romLineReader))(SimpleName:close)))(VariableDeclarationStatement(ParameterizedType(SimpleType(SimpleName:LinkedList))(SimpleType(SimpleName:UpdateInfo)))(VariableDeclarationFragment(SimpleName:romUpdateInfos)(MethodInvocation(SimpleName:parseJSON)(METHOD_INVOCATION_ARGUMENTS(SimpleName:romBuf)(QualifiedName:RomType.Update)))))(ExpressionStatement(Assignment(QualifiedName:retValue.roms)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(SimpleName:getRomUpdates)(METHOD_INVOCATION_ARGUMENTS(SimpleName:romUpdateInfos)))))(VariableDeclarationStatement(ParameterizedType(SimpleType(SimpleName:LinkedList))(SimpleType(SimpleName:UpdateInfo)))(VariableDeclarationFragment(SimpleName:incrementalRomUpdateInfos)(MethodInvocation(SimpleName:parseJSON)(METHOD_INVOCATION_ARGUMENTS(SimpleName:romBuf)(QualifiedName:RomType.IncrementalUpdate)))))(ExpressionStatement(Assignment(QualifiedName:retValue.incrementalRoms)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(SimpleName:getIncrementalRomUpdates)(METHOD_INVOCATION_ARGUMENTS(SimpleName:incrementalRomUpdateInfos))))))(IfStatement(SimpleName:showDebugOutput)(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Log))(SimpleName:d)(METHOD_INVOCATION_ARGUMENTS(SimpleName:TAG)(StringLiteral:<STR>)))))))(Block(IfStatement(InfixExpression(SimpleName:romResponseEntity)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:romResponseEntity))(SimpleName:consumeContent))))(IfStatement(InfixExpression(SimpleName:themeResponseEntity)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:themeResponseEntity))(SimpleName:consumeContent))))))(VariableDeclarationStatement(SimpleType(SimpleName:FullUpdateInfo))(VariableDeclarationFragment(SimpleName:ful)(MethodInvocation(SimpleName:FilterUpdates)(METHOD_INVOCATION_ARGUMENTS(SimpleName:retValue)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:State))(SimpleName:loadState)(METHOD_INVOCATION_ARGUMENTS(ThisExpression)(SimpleName:showDebugOutput)))))))(IfStatement(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(SimpleName:romException))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:State))(SimpleName:saveState)(METHOD_INVOCATION_ARGUMENTS(ThisExpression)(SimpleName:retValue)(SimpleName:showDebugOutput)))))(ReturnStatement(SimpleName:ful))))))