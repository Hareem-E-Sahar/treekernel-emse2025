(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:public)(Modifier:synchronized)(SimpleType(SimpleName:Class))(SimpleName:resolveScript)(SingleVariableDeclaration(SimpleType(SimpleName:IScriptReference))(SimpleName:script))(Block(VariableDeclarationStatement(SimpleType(SimpleName:Class))(VariableDeclarationFragment(SimpleName:result)(MethodInvocation(SimpleName:findDeployedScript)(METHOD_INVOCATION_ARGUMENTS(SimpleName:script)))))(IfStatement(InfixExpression(SimpleName:result)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(ReturnStatement(SimpleName:result))))(VariableDeclarationStatement(SimpleType(SimpleName:URL))(VariableDeclarationFragment(SimpleName:url)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:script))(SimpleName:getResourceLocation)))(SimpleName:getResourceURL))))(IfStatement(InfixExpression(SimpleName:url)(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(Block(ReturnStatement(NullLiteral))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:urlString)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:url))(SimpleName:toString))))(VariableDeclarationStatement(SimpleType(SimpleName:Long))(VariableDeclarationFragment(SimpleName:modifiedInExternalStorage)(ClassInstanceCreation(SimpleType(SimpleName:Long))(MethodInvocation(SimpleName:getLastModified)(METHOD_INVOCATION_ARGUMENTS(SimpleName:url))))))(VariableDeclarationStatement(SimpleType(SimpleName:Long))(VariableDeclarationFragment(SimpleName:lastModified)(CastExpression(SimpleType(SimpleName:Long))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:loadedScripts))(SimpleName:get)(METHOD_INVOCATION_ARGUMENTS(SimpleName:urlString))))))(IfStatement(InfixExpression(InfixExpression(SimpleName:lastModified)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(INFIX_EXPRESSION_OPERATOR:&&)(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:lastModified))(SimpleName:longValue))(INFIX_EXPRESSION_OPERATOR:<)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:modifiedInExternalStorage))(SimpleName:longValue))))(Block(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:LOG))(SimpleName:isDebugEnabled))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:LOG))(SimpleName:debug)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:url)(StringLiteral:<STR>)))))))(ExpressionStatement(Assignment(FieldAccess(ThisExpression)(SimpleName:groovyLoader))(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(SimpleType(SimpleName:GroovyClassLoader))(FieldAccess(ThisExpression)(SimpleName:parent)))))(ExpressionStatement(Assignment(FieldAccess(ThisExpression)(SimpleName:loadedScripts))(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(SimpleType(SimpleName:HashMap)))))))(TryStatement(Block(VariableDeclarationStatement(SimpleType(SimpleName:InputStream))(VariableDeclarationFragment(SimpleName:is)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:url))(SimpleName:openStream))))(TryStatement(Block(VariableDeclarationStatement(SimpleType(SimpleName:BufferedInputStream))(VariableDeclarationFragment(SimpleName:bis)(ClassInstanceCreation(SimpleType(SimpleName:BufferedInputStream))(SimpleName:is))))(ExpressionStatement(Assignment(SimpleName:result)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(FieldAccess(ThisExpression)(SimpleName:groovyLoader)))(SimpleName:parseClass)(METHOD_INVOCATION_ARGUMENTS(SimpleName:bis)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:script))(SimpleName:getResourceLocation)))(SimpleName:getName))))))(IfStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:LOG))(SimpleName:isDebugEnabled))(INFIX_EXPRESSION_OPERATOR:&&)(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(FieldAccess(ThisExpression)(SimpleName:loadedScripts)))(SimpleName:containsKey)(METHOD_INVOCATION_ARGUMENTS(SimpleName:urlString)))(INFIX_EXPRESSION_OPERATOR:==)(BooleanLiteral:false)))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:LOG))(SimpleName:debug)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:script)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:LOG))(SimpleName:debug)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:result))(SimpleName:getName))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:LOG))(SimpleName:debug)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:script))(SimpleName:getScriptClassName))))))))(IfStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:script))(SimpleName:getScriptClassName)))(SimpleName:equals)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:result))(SimpleName:getName))))(INFIX_EXPRESSION_OPERATOR:==)(BooleanLiteral:false))(Block(VariableDeclarationStatement(SimpleType(SimpleName:ILocation))(VariableDeclarationFragment(SimpleName:loc)(ClassInstanceCreation(SimpleType(SimpleName:Location))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:script))(SimpleName:getResourceLocation))(NumberLiteral:0)(NumberLiteral:0))))(ThrowStatement(ClassInstanceCreation(SimpleType(SimpleName:ApplicationRuntimeException))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Messages))(SimpleName:format)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:script))(SimpleName:getScriptClassName))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:result))(SimpleName:getName))))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:script))(SimpleName:getComponent))(SimpleName:loc)(NullLiteral)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:loadedScripts))(SimpleName:put)(METHOD_INVOCATION_ARGUMENTS(SimpleName:urlString)(SimpleName:modifiedInExternalStorage))))(ReturnStatement(SimpleName:result)))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:is))(SimpleName:close))))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:ApplicationRuntimeException))(SimpleName:are))(Block(ThrowStatement(SimpleName:are))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:CompilationFailedException))(SimpleName:ex))(Block(ThrowStatement(MethodInvocation(SimpleName:convertToApplicationRuntimeException)(METHOD_INVOCATION_ARGUMENTS(SimpleName:ex)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:script))(SimpleName:getComponent))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:script))(SimpleName:getResourceLocation)))))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:GroovyRuntimeException))(SimpleName:ex))(Block(VariableDeclarationStatement(SimpleType(SimpleName:ASTNode))(VariableDeclarationFragment(SimpleName:node)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ex))(SimpleName:getNode))))(VariableDeclarationStatement(SimpleType(SimpleName:Location))(VariableDeclarationFragment(SimpleName:location)(ClassInstanceCreation(SimpleType(SimpleName:Location))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:script))(SimpleName:getResourceLocation))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:node))(SimpleName:getLineNumber))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:node))(SimpleName:getColumnNumber)))))(ThrowStatement(ClassInstanceCreation(SimpleType(SimpleName:ApplicationRuntimeException))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ex))(SimpleName:getMessage))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:script))(SimpleName:getComponent))(SimpleName:location)(SimpleName:ex)))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:Throwable))(SimpleName:t))(Block(ThrowStatement(ClassInstanceCreation(SimpleType(SimpleName:ApplicationRuntimeException))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Messages))(SimpleName:format)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:script))(SimpleName:getResourceLocation)))(SimpleName:getName))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:t))(SimpleName:getMessage))))(SimpleName:t))))))))))