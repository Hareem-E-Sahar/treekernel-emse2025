(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:public)(PrimitiveType:void)(SimpleName:testSubmit)(SimpleType(SimpleName:Exception))(Block(VariableDeclarationStatement(SimpleType(SimpleName:HttpFetcher))(VariableDeclarationFragment(SimpleName:fetcher)(MethodInvocation(SimpleName:mock)(METHOD_INVOCATION_ARGUMENTS(TypeLiteral(SimpleType(SimpleName:HttpFetcher)))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(SimpleName:when)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fetcher))(SimpleName:execute)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(SimpleName:any)(METHOD_INVOCATION_ARGUMENTS(TypeLiteral(SimpleType(SimpleName:HttpMessage)))))(MethodInvocation(SimpleName:anyMapOf)(METHOD_INVOCATION_ARGUMENTS(TypeLiteral(SimpleType(SimpleName:String)))(TypeLiteral(SimpleType(SimpleName:Object))))))))))(SimpleName:thenReturn)(METHOD_INVOCATION_ARGUMENTS(ClassInstanceCreation(SimpleType(SimpleName:HttpResponse))(StringLiteral:<STR>)(ClassInstanceCreation(SimpleType(SimpleName:URL))(StringLiteral:<STR>))(NumberLiteral:0)(ClassInstanceCreation(SimpleType(SimpleName:ByteArrayInputStream))(MethodInvocation(METHOD_INVOCATION_RECEIVER(StringLiteral:<STR>))(SimpleName:getBytes)))))))(VariableDeclarationStatement(SimpleType(SimpleName:MockRobot))(VariableDeclarationFragment(SimpleName:robot)(ClassInstanceCreation(SimpleType(SimpleName:MockRobot)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:robot))(SimpleName:setupOAuth)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(StringLiteral:<STR>)(StringLiteral:<STR>))))(VariableDeclarationStatement(SimpleType(SimpleName:WaveService))(VariableDeclarationFragment(SimpleName:service)(ClassInstanceCreation(SimpleType(SimpleName:WaveService))(SimpleName:fetcher)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:robot))(SimpleName:computeHash)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:service))(SimpleName:setupOAuth)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(StringLiteral:<STR>)(StringLiteral:<STR>))))(VariableDeclarationStatement(SimpleType(SimpleName:OperationQueue))(VariableDeclarationFragment(SimpleName:opQueue)(ClassInstanceCreation(SimpleType(SimpleName:OperationQueue)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:opQueue))(SimpleName:appendOperation)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:OperationType.ROBOT_NOTIFY)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Parameter))(SimpleName:of)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:ParamsProperty.CAPABILITIES_HASH)(StringLiteral:<STR>))))))(VariableDeclarationStatement(SimpleType(SimpleName:Wavelet))(VariableDeclarationFragment(SimpleName:wavelet)(MethodInvocation(SimpleName:mock)(METHOD_INVOCATION_ARGUMENTS(TypeLiteral(SimpleType(SimpleName:Wavelet)))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(SimpleName:when)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:wavelet))(SimpleName:getOperationQueue)))))(SimpleName:thenReturn)(METHOD_INVOCATION_ARGUMENTS(SimpleName:opQueue))))(ExpressionStatement(MethodInvocation(SimpleName:assertEquals)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:1)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:opQueue))(SimpleName:getPendingOperations)))(SimpleName:size)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:robot))(SimpleName:submit)(METHOD_INVOCATION_ARGUMENTS(SimpleName:wavelet)(StringLiteral:<STR>)(SimpleName:service))))(ExpressionStatement(MethodInvocation(SimpleName:assertEquals)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:0)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:opQueue))(SimpleName:getPendingOperations)))(SimpleName:size)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(SimpleName:verify)(METHOD_INVOCATION_ARGUMENTS(SimpleName:fetcher)(MethodInvocation(SimpleName:times)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:1))))))(SimpleName:execute)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(SimpleName:any)(METHOD_INVOCATION_ARGUMENTS(TypeLiteral(SimpleType(SimpleName:HttpMessage)))))(MethodInvocation(SimpleName:anyMapOf)(METHOD_INVOCATION_ARGUMENTS(TypeLiteral(SimpleType(SimpleName:String)))(TypeLiteral(SimpleType(SimpleName:Object))))))))))))