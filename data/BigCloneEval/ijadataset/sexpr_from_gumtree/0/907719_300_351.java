(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(PrimitiveType:void)(SimpleName:handleDragStart)(SingleVariableDeclaration(SimpleType(SimpleName:DragSourceEvent))(SimpleName:evt))(Block(VariableDeclarationStatement(Modifier:final)(ParameterizedType(SimpleType(SimpleName:ArrayList))(SimpleType(SimpleName:Transfer)))(VariableDeclarationFragment(SimpleName:transfers)(ClassInstanceCreation(ParameterizedType(SimpleType(SimpleName:ArrayList))(SimpleType(SimpleName:Transfer)))(NumberLiteral:3))))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(FieldAccess(ThisExpression)(SimpleName:layout)))(SimpleName:cmdEditExport)))(SimpleName:getEnabled))(Block(VariableDeclarationStatement(Modifier:final)(SimpleType(SimpleName:FileScannerResult))(VariableDeclarationFragment(SimpleName:result)(MethodInvocation(SimpleName:getSelectedResult))))(IfStatement(InfixExpression(SimpleName:result)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(VariableDeclarationStatement(Modifier:final)(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:tmpDir)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:System))(SimpleName:getProperty)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))))(VariableDeclarationStatement(SimpleType(SimpleName:File))(VariableDeclarationFragment(SimpleName:file)(ClassInstanceCreation(SimpleType(SimpleName:File))(SimpleName:tmpDir)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:result))(SimpleName:name)))))(TryStatement(Block(IfStatement(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:file))(SimpleName:createNewFile)))(Block(ExpressionStatement(Assignment(SimpleName:file)(ASSIGNMENT_OPERATOR:=)(NullLiteral))))))(CatchClause(SingleVariableDeclaration(Modifier:final)(SimpleType(SimpleName:IOException))(SimpleName:e))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Debug))(SimpleName:exception)(METHOD_INVOCATION_ARGUMENTS(SimpleName:e))))(ExpressionStatement(Assignment(SimpleName:file)(ASSIGNMENT_OPERATOR:=)(NullLiteral))))))(VariableDeclarationStatement(SimpleType(SimpleName:FileOutputStream))(VariableDeclarationFragment(SimpleName:fileOS)(NullLiteral)))(VariableDeclarationStatement(SimpleType(SimpleName:FileChannel))(VariableDeclarationFragment(SimpleName:fileOSChannel)(NullLiteral)))(TryStatement(Block(IfStatement(InfixExpression(SimpleName:file)(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(Block(ExpressionStatement(Assignment(SimpleName:file)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:File))(SimpleName:createTempFile)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:result))(SimpleName:name))(StringLiteral:<STR>)))))))(ExpressionStatement(Assignment(SimpleName:fileOS)(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(SimpleType(SimpleName:FileOutputStream))(SimpleName:file))))(ExpressionStatement(Assignment(SimpleName:fileOSChannel)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fileOS))(SimpleName:getChannel))))(VariableDeclarationStatement(Modifier:final)(SimpleType(SimpleName:RuntimeLimiter))(VariableDeclarationFragment(SimpleName:limiter)(ClassInstanceCreation(SimpleType(SimpleName:RuntimeLimiter))(NumberLiteral:1000))))(VariableDeclarationStatement(PrimitiveType:long)(VariableDeclarationFragment(SimpleName:transferred)(NumberLiteral:0)))(VariableDeclarationStatement(Modifier:final)(PrimitiveType:long)(VariableDeclarationFragment(SimpleName:resultSize)(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:result))(SimpleName:end))(INFIX_EXPRESSION_OPERATOR:-)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:result))(SimpleName:start)))))(WhileStatement(InfixExpression(InfixExpression(SimpleName:transferred)(INFIX_EXPRESSION_OPERATOR:<)(SimpleName:resultSize))(INFIX_EXPRESSION_OPERATOR:&&)(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:limiter))(SimpleName:limit))))(Block(VariableDeclarationStatement(Modifier:final)(PrimitiveType:long)(VariableDeclarationFragment(SimpleName:position)(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:result))(SimpleName:start))(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:transferred))))(ExpressionStatement(Assignment(SimpleName:transferred)(ASSIGNMENT_OPERATOR:+=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:result))(SimpleName:input)))(SimpleName:transferTo)(METHOD_INVOCATION_ARGUMENTS(SimpleName:position)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Math))(SimpleName:min)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:4096)(InfixExpression(SimpleName:resultSize)(INFIX_EXPRESSION_OPERATOR:-)(SimpleName:position))))(SimpleName:fileOSChannel)))))))(IfStatement(InfixExpression(SimpleName:transferred)(INFIX_EXPRESSION_OPERATOR:<)(SimpleName:resultSize))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:file))(SimpleName:delete)))(ExpressionStatement(Assignment(SimpleName:file)(ASSIGNMENT_OPERATOR:=)(NullLiteral))))))(CatchClause(SingleVariableDeclaration(Modifier:final)(SimpleType(SimpleName:IOException))(SimpleName:e))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:LOG))(SimpleName:error)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(SimpleName:result)(SimpleName:file))))(ExpressionStatement(Assignment(SimpleName:file)(ASSIGNMENT_OPERATOR:=)(NullLiteral)))))(Block(ExpressionStatement(Assignment(SimpleName:fileOSChannel)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Closeables))(SimpleName:saveClose)(METHOD_INVOCATION_ARGUMENTS(SimpleName:fileOSChannel)))))(ExpressionStatement(Assignment(SimpleName:fileOS)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Closeables))(SimpleName:saveClose)(METHOD_INVOCATION_ARGUMENTS(SimpleName:fileOS)))))))(ExpressionStatement(Assignment(FieldAccess(ThisExpression)(SimpleName:dataDragSourceFile))(ASSIGNMENT_OPERATOR:=)(SimpleName:file)))))(IfStatement(InfixExpression(FieldAccess(ThisExpression)(SimpleName:dataDragSourceFile))(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:transfers))(SimpleName:add)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:FileTransfer))(SimpleName:getInstance))))))(Block(ExpressionStatement(MethodInvocation(SimpleName:cmdEditExport)))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(FieldAccess(ThisExpression)(SimpleName:dataDragSource)))(SimpleName:setTransfer)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:transfers))(SimpleName:toArray)(METHOD_INVOCATION_ARGUMENTS(ArrayCreation(ArrayType(SimpleType(SimpleName:Transfer))(Dimension(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:transfers))(SimpleName:size))))))))))(ExpressionStatement(Assignment(QualifiedName:evt.doit)(ASSIGNMENT_OPERATOR:=)(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:transfers))(SimpleName:size))(INFIX_EXPRESSION_OPERATOR:>)(NumberLiteral:0))))))))