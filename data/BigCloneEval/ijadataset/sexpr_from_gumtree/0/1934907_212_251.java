(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:private)(PrimitiveType:void)(SimpleName:compressResource)(SingleVariableDeclaration(SimpleType(SimpleName:OutputStream))(SimpleName:os))(SingleVariableDeclaration(SimpleType(SimpleName:DocumentImpl))(SimpleName:doc))(SingleVariableDeclaration(PrimitiveType:boolean)(SimpleName:useHierarchy))(SingleVariableDeclaration(SimpleType(SimpleName:String))(SimpleName:stripOffset))(SingleVariableDeclaration(SimpleType(SimpleName:String))(SimpleName:method))(SingleVariableDeclaration(SimpleType(SimpleName:String))(SimpleName:name))(SimpleType(SimpleName:IOException))(SimpleType(SimpleName:SAXException))(Block(VariableDeclarationStatement(SimpleType(SimpleName:Object))(VariableDeclarationFragment(SimpleName:entry)(NullLiteral)))(VariableDeclarationStatement(ArrayType(PrimitiveType:byte)(Dimension))(VariableDeclarationFragment(SimpleName:value)(ArrayCreation(ArrayType(PrimitiveType:byte)(Dimension(NumberLiteral:0))))))(VariableDeclarationStatement(SimpleType(SimpleName:CRC32))(VariableDeclarationFragment(SimpleName:chksum)(ClassInstanceCreation(SimpleType(SimpleName:CRC32)))))(VariableDeclarationStatement(SimpleType(SimpleName:ByteArrayOutputStream))(VariableDeclarationFragment(SimpleName:baos)(ClassInstanceCreation(SimpleType(SimpleName:ByteArrayOutputStream)))))(IfStatement(InfixExpression(SimpleName:name)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(ExpressionStatement(Assignment(SimpleName:entry)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(SimpleName:newEntry)(METHOD_INVOCATION_ARGUMENTS(SimpleName:name))))))(IfStatement(SimpleName:useHierarchy)(Block(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:docCollection)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:doc))(SimpleName:getCollection)))(SimpleName:getURI)))(SimpleName:toString))))(VariableDeclarationStatement(SimpleType(SimpleName:XmldbURI))(VariableDeclarationFragment(SimpleName:collection)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:XmldbURI))(SimpleName:create)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(SimpleName:removeLeadingOffset)(METHOD_INVOCATION_ARGUMENTS(SimpleName:docCollection)(SimpleName:stripOffset)))))))(ExpressionStatement(Assignment(SimpleName:entry)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(SimpleName:newEntry)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:collection))(SimpleName:append)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:doc))(SimpleName:getFileURI)))))(SimpleName:toString)))))))(Block(ExpressionStatement(Assignment(SimpleName:entry)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(SimpleName:newEntry)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:doc))(SimpleName:getFileURI)))(SimpleName:toString)))))))))(IfStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:doc))(SimpleName:getResourceType))(INFIX_EXPRESSION_OPERATOR:==)(QualifiedName:DocumentImpl.XML_FILE))(Block(VariableDeclarationStatement(SimpleType(SimpleName:Serializer))(VariableDeclarationFragment(SimpleName:serializer)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:context))(SimpleName:getBroker)))(SimpleName:getSerializer))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:serializer))(SimpleName:setUser)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:context))(SimpleName:getUser)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:serializer))(SimpleName:setProperty)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(StringLiteral:<STR>))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:strDoc)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:serializer))(SimpleName:serialize)(METHOD_INVOCATION_ARGUMENTS(SimpleName:doc)))))(ExpressionStatement(Assignment(SimpleName:value)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:strDoc))(SimpleName:getBytes)))))(IfStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:doc))(SimpleName:getResourceType))(INFIX_EXPRESSION_OPERATOR:==)(QualifiedName:DocumentImpl.BINARY_FILE))(Block(VariableDeclarationStatement(SimpleType(SimpleName:InputStream))(VariableDeclarationFragment(SimpleName:is)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:context))(SimpleName:getBroker)))(SimpleName:getBinaryResource)(METHOD_INVOCATION_ARGUMENTS(CastExpression(SimpleType(SimpleName:BinaryDocument))(SimpleName:doc))))))(VariableDeclarationStatement(ArrayType(PrimitiveType:byte)(Dimension))(VariableDeclarationFragment(SimpleName:data)(ArrayCreation(ArrayType(PrimitiveType:byte)(Dimension(NumberLiteral:16384))))))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:len)(NumberLiteral:0)))(WhileStatement(InfixExpression(ParenthesizedExpression(Assignment(SimpleName:len)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:is))(SimpleName:read)(METHOD_INVOCATION_ARGUMENTS(SimpleName:data)(NumberLiteral:0)(QualifiedName:data.length)))))(INFIX_EXPRESSION_OPERATOR:>)(NumberLiteral:0))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:baos))(SimpleName:write)(METHOD_INVOCATION_ARGUMENTS(SimpleName:data)(NumberLiteral:0)(SimpleName:len))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:is))(SimpleName:close)))(ExpressionStatement(Assignment(SimpleName:value)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:baos))(SimpleName:toByteArray)))))))(IfStatement(InfixExpression(InstanceofExpression(SimpleName:entry)(SimpleType(SimpleName:ZipEntry)))(INFIX_EXPRESSION_OPERATOR:&&)(MethodInvocation(METHOD_INVOCATION_RECEIVER(StringLiteral:<STR>))(SimpleName:equals)(METHOD_INVOCATION_ARGUMENTS(SimpleName:method))))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(ParenthesizedExpression(CastExpression(SimpleType(SimpleName:ZipEntry))(SimpleName:entry))))(SimpleName:setMethod)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:ZipOutputStream.STORED))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:chksum))(SimpleName:update)(METHOD_INVOCATION_ARGUMENTS(SimpleName:value))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(ParenthesizedExpression(CastExpression(SimpleType(SimpleName:ZipEntry))(SimpleName:entry))))(SimpleName:setCrc)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:chksum))(SimpleName:getValue)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(ParenthesizedExpression(CastExpression(SimpleType(SimpleName:ZipEntry))(SimpleName:entry))))(SimpleName:setSize)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:value.length))))))(ExpressionStatement(MethodInvocation(SimpleName:putEntry)(METHOD_INVOCATION_ARGUMENTS(SimpleName:os)(SimpleName:entry))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:os))(SimpleName:write)(METHOD_INVOCATION_ARGUMENTS(SimpleName:value))))(ExpressionStatement(MethodInvocation(SimpleName:closeEntry)(METHOD_INVOCATION_ARGUMENTS(SimpleName:os))))))))