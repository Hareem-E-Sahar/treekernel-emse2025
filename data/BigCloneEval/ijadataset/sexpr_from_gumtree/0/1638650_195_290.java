(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:protected)(PrimitiveType:void)(SimpleName:prepareFile)(SingleVariableDeclaration(SimpleType(SimpleName:Field))(SimpleName:field))(SingleVariableDeclaration(SimpleType(SimpleName:MapContentData))(SimpleName:values))(SingleVariableDeclaration(SimpleType(SimpleName:String))(SimpleName:valalias))(Block(VariableDeclarationStatement(SimpleType(SimpleName:ImageInfo))(VariableDeclarationFragment(SimpleName:fi)(CastExpression(SimpleType(SimpleName:ImageInfo))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:values))(SimpleName:get)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(SimpleName:valalias)(INFIX_EXPRESSION_OPERATOR:+)(StringLiteral:<STR>)))))))(IfStatement(InfixExpression(SimpleName:fi)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:ext)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fi))(SimpleName:getExtension))))(VariableDeclarationStatement(SimpleType(SimpleName:File))(VariableDeclarationFragment(SimpleName:file)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fi))(SimpleName:getFile))))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:file))(SimpleName:exists))(Block(TryStatement(Block(VariableDeclarationStatement(SimpleType(SimpleName:File))(VariableDeclarationFragment(SimpleName:workFile)(NullLiteral)))(VariableDeclarationStatement(SimpleType(SimpleName:AtlantalImage))(VariableDeclarationFragment(SimpleName:imgTmp)))(VariableDeclarationStatement(SimpleType(SimpleName:AtlantalImage))(VariableDeclarationFragment(SimpleName:imgWrk)(NullLiteral)))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:maxsizestr)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:field))(SimpleName:getParameter)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))))(IfStatement(InfixExpression(SimpleName:maxsizestr)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:maxsize)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Integer))(SimpleName:valueOf)(METHOD_INVOCATION_ARGUMENTS(SimpleName:maxsizestr))))(SimpleName:intValue))))(TryStatement(Block(ExpressionStatement(Assignment(SimpleName:workFile)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:File))(SimpleName:createTempFile)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:ext))))))(ExpressionStatement(MethodInvocation(SimpleName:scale)(METHOD_INVOCATION_ARGUMENTS(SimpleName:file)(SimpleName:workFile)(SimpleName:maxsize)))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:Exception))(SimpleName:e))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:e))(SimpleName:printStackTrace)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:System.out)))))))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:copyright)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:field))(SimpleName:getParameter)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))))(IfStatement(InfixExpression(SimpleName:copyright)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:cptext)(CastExpression(SimpleType(SimpleName:String))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:values))(SimpleName:get)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(SimpleName:valalias)(INFIX_EXPRESSION_OPERATOR:+)(StringLiteral:<STR>)))))))(IfStatement(InfixExpression(SimpleName:cptext)(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(Block(ExpressionStatement(Assignment(SimpleName:cptext)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:field))(SimpleName:getParameter)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))))))(IfStatement(InfixExpression(SimpleName:cptext)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(ExpressionStatement(Assignment(SimpleName:imgWrk)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(SimpleName:getAtlantalImage)(METHOD_INVOCATION_ARGUMENTS(SimpleName:imgWrk)(SimpleName:workFile)(SimpleName:file)))))(TryStatement(Block(ExpressionStatement(Assignment(SimpleName:imgTmp)(ASSIGNMENT_OPERATOR:=)(SimpleName:imgWrk)))(ExpressionStatement(Assignment(SimpleName:imgWrk)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:imgTmp))(SimpleName:drawCopyright)(METHOD_INVOCATION_ARGUMENTS(SimpleName:cptext)(BooleanLiteral:true)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:imgTmp))(SimpleName:close))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:Exception))(SimpleName:e))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:e))(SimpleName:printStackTrace)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:System.out)))))))))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:watermark)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:field))(SimpleName:getParameter)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))))(IfStatement(InfixExpression(SimpleName:watermark)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(ExpressionStatement(Assignment(SimpleName:imgWrk)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(SimpleName:getAtlantalImage)(METHOD_INVOCATION_ARGUMENTS(SimpleName:imgWrk)(SimpleName:workFile)(SimpleName:file)))))(TryStatement(Block(ExpressionStatement(Assignment(SimpleName:imgTmp)(ASSIGNMENT_OPERATOR:=)(SimpleName:imgWrk)))(ExpressionStatement(Assignment(SimpleName:imgWrk)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:imgTmp))(SimpleName:drawWatermark)(METHOD_INVOCATION_ARGUMENTS(SimpleName:watermark)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:imgTmp))(SimpleName:close))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:Exception))(SimpleName:e))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:e))(SimpleName:printStackTrace)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:System.out)))))))))(VariableDeclarationStatement(SimpleType(SimpleName:File))(VariableDeclarationFragment(SimpleName:f)))(IfStatement(InfixExpression(SimpleName:imgWrk)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:type)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fi))(SimpleName:getType))))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(StringLiteral:<STR>))(SimpleName:equals)(METHOD_INVOCATION_ARGUMENTS(SimpleName:type)))(Block(ExpressionStatement(Assignment(SimpleName:f)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:File))(SimpleName:createTempFile)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(StringLiteral:<STR>)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:imgWrk))(SimpleName:saveAsPNG)(METHOD_INVOCATION_ARGUMENTS(SimpleName:f)))))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(StringLiteral:<STR>))(SimpleName:equals)(METHOD_INVOCATION_ARGUMENTS(SimpleName:type)))(Block(ExpressionStatement(Assignment(SimpleName:f)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:File))(SimpleName:createTempFile)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(StringLiteral:<STR>)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:imgWrk))(SimpleName:saveAsGIF)(METHOD_INVOCATION_ARGUMENTS(SimpleName:f)))))(Block(ExpressionStatement(Assignment(SimpleName:f)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:File))(SimpleName:createTempFile)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(StringLiteral:<STR>)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:imgWrk))(SimpleName:saveAsJPEG)(METHOD_INVOCATION_ARGUMENTS(SimpleName:f)))))))(IfStatement(InfixExpression(ParenthesizedExpression(InfixExpression(SimpleName:workFile)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral)))(INFIX_EXPRESSION_OPERATOR:&&)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:workFile))(SimpleName:exists)))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:workFile))(SimpleName:delete))))))(Block(ExpressionStatement(Assignment(SimpleName:f)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:File))(SimpleName:createTempFile)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:ext))))))(IfStatement(InfixExpression(SimpleName:workFile)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:f))(SimpleName:delete)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:workFile))(SimpleName:renameTo)(METHOD_INVOCATION_ARGUMENTS(SimpleName:f)))))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:FileUtils))(SimpleName:copyFile)(METHOD_INVOCATION_ARGUMENTS(SimpleName:file)(SimpleName:f))))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fi))(SimpleName:setFile)(METHOD_INVOCATION_ARGUMENTS(SimpleName:f))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fi))(SimpleName:setSize)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:f))(SimpleName:length)))))(IfStatement(InfixExpression(SimpleName:imgWrk)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fi))(SimpleName:setWidth)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:imgWrk))(SimpleName:getWidth)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fi))(SimpleName:setHeight)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:imgWrk))(SimpleName:getHeight)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:imgWrk))(SimpleName:close))))(Block(VariableDeclarationStatement(SimpleType(SimpleName:ImageInformation))(VariableDeclarationFragment(SimpleName:ii)(ClassInstanceCreation(SimpleType(SimpleName:ImageInformation)))))(VariableDeclarationStatement(SimpleType(SimpleName:RandomAccessFile))(VariableDeclarationFragment(SimpleName:in)(ClassInstanceCreation(SimpleType(SimpleName:RandomAccessFile))(SimpleName:f)(StringLiteral:<STR>))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ii))(SimpleName:setInput)(METHOD_INVOCATION_ARGUMENTS(SimpleName:in))))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ii))(SimpleName:check))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fi))(SimpleName:setWidth)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ii))(SimpleName:getWidth)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fi))(SimpleName:setHeight)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ii))(SimpleName:getHeight)))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:in))(SimpleName:close)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:LOGGER))(SimpleName:debug)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:f))(SimpleName:getAbsolutePath)))))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:IOException))(SimpleName:e))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:e))(SimpleName:printStackTrace)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:System.out)))))))))))))))