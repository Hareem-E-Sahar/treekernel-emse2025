(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(MarkerAnnotation(SimpleName:Override))(Modifier:public)(PrimitiveType:boolean)(SimpleName:saveModel)(SingleVariableDeclaration(SimpleType(SimpleName:IArchimateModel))(SimpleName:model))(SimpleType(SimpleName:IOException))(Block(IfStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:model))(SimpleName:getFile))(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(Block(VariableDeclarationStatement(SimpleType(SimpleName:File))(VariableDeclarationFragment(SimpleName:file)(MethodInvocation(SimpleName:askSaveModel))))(IfStatement(InfixExpression(SimpleName:file)(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(Block(ReturnStatement(BooleanLiteral:false))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:model))(SimpleName:setFile)(METHOD_INVOCATION_ARGUMENTS(SimpleName:file))))))(VariableDeclarationStatement(SimpleType(SimpleName:File))(VariableDeclarationFragment(SimpleName:file)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:model))(SimpleName:getFile))))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:file))(SimpleName:exists))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:FileUtils))(SimpleName:copyFile)(METHOD_INVOCATION_ARGUMENTS(SimpleName:file)(ClassInstanceCreation(SimpleType(SimpleName:File))(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:model))(SimpleName:getFile)))(SimpleName:getAbsolutePath))(INFIX_EXPRESSION_OPERATOR:+)(StringLiteral:<STR>)))(BooleanLiteral:false))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:model))(SimpleName:setVersion)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:ModelVersion.VERSION))))(VariableDeclarationStatement(SimpleType(SimpleName:IArchiveManager))(VariableDeclarationFragment(SimpleName:archiveManager)(CastExpression(SimpleType(SimpleName:IArchiveManager))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:model))(SimpleName:getAdapter)(METHOD_INVOCATION_ARGUMENTS(TypeLiteral(SimpleType(SimpleName:IArchiveManager))))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:archiveManager))(SimpleName:saveModel)))(VariableDeclarationStatement(SimpleType(SimpleName:CommandStack))(VariableDeclarationFragment(SimpleName:stack)(CastExpression(SimpleType(SimpleName:CommandStack))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:model))(SimpleName:getAdapter)(METHOD_INVOCATION_ARGUMENTS(TypeLiteral(SimpleType(SimpleName:CommandStack))))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:stack))(SimpleName:markSaveLocation)))(ExpressionStatement(MethodInvocation(SimpleName:firePropertyChange)(METHOD_INVOCATION_ARGUMENTS(SimpleName:model)(SimpleName:COMMAND_STACK_CHANGED)(BooleanLiteral:true)(BooleanLiteral:false))))(ExpressionStatement(MethodInvocation(SimpleName:markDiagramModelsAsSaved)(METHOD_INVOCATION_ARGUMENTS(SimpleName:model))))(ExpressionStatement(MethodInvocation(SimpleName:firePropertyChange)(METHOD_INVOCATION_ARGUMENTS(ThisExpression)(SimpleName:PROPERTY_MODEL_SAVED)(NullLiteral)(SimpleName:model))))(ReturnStatement(BooleanLiteral:true))))))