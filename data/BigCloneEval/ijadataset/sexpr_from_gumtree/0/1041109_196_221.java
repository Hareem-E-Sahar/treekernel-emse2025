(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:public)(SimpleType(SimpleName:Grammar))(SimpleName:loadGrammar)(SingleVariableDeclaration(SimpleType(SimpleName:String))(SimpleName:grammarReference))(SingleVariableDeclaration(SimpleType(SimpleName:String))(SimpleName:mediaType))(SingleVariableDeclaration(PrimitiveType:boolean)(SimpleName:loadReferences))(SingleVariableDeclaration(PrimitiveType:boolean)(SimpleName:reloadGrammars))(SingleVariableDeclaration(SimpleType(SimpleName:Vector))(SimpleName:loadedGrammars))(SimpleType(SimpleName:GrammarException))(SimpleType(SimpleName:IllegalArgumentException))(SimpleType(SimpleName:IOException))(SimpleType(SimpleName:EngineStateException))(SimpleType(SimpleName:EngineException))(Block(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:LOGGER))(SimpleName:isLoggable)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:Level.FINE)))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:LOGGER))(SimpleName:log)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:Level.FINE)(StringLiteral:<STR>)(ArrayCreation(ArrayType(SimpleType(SimpleName:Object))(Dimension))(ArrayInitializer(SimpleName:grammarReference)(SimpleName:mediaType))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:LOGGER))(SimpleName:log)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:Level.FINE)(StringLiteral:<STR>)(ArrayCreation(ArrayType(SimpleType(SimpleName:Object))(Dimension))(ArrayInitializer(SimpleName:loadReferences)(SimpleName:reloadGrammars))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:LOGGER))(SimpleName:log)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:Level.FINE)(StringLiteral:<STR>)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:loadedGrammars))(SimpleName:size)))))))(ExpressionStatement(MethodInvocation(SimpleName:ensureValidEngineState)))(IfStatement(InfixExpression(SimpleName:recognizer)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(VariableDeclarationStatement(Modifier:final)(SimpleType(SimpleName:EngineMode))(VariableDeclarationFragment(SimpleName:mode)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:recognizer))(SimpleName:getEngineMode))))(IfStatement(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:mode))(SimpleName:getSupportsMarkup)))(Block(ThrowStatement(ClassInstanceCreation(SimpleType(SimpleName:EngineException))(StringLiteral:<STR>)))))))(VariableDeclarationStatement(SimpleType(SimpleName:URL))(VariableDeclarationFragment(SimpleName:url)(ClassInstanceCreation(SimpleType(SimpleName:URL))(SimpleName:grammarReference))))(VariableDeclarationStatement(SimpleType(SimpleName:InputStream))(VariableDeclarationFragment(SimpleName:grammarStream)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:url))(SimpleName:openStream))))(VariableDeclarationStatement(SimpleType(SimpleName:SrgsRuleGrammarParser))(VariableDeclarationFragment(SimpleName:srgsParser)(ClassInstanceCreation(SimpleType(SimpleName:SrgsRuleGrammarParser)))))(VariableDeclarationStatement(ArrayType(SimpleType(SimpleName:Rule))(Dimension))(VariableDeclarationFragment(SimpleName:rules)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:srgsParser))(SimpleName:load)(METHOD_INVOCATION_ARGUMENTS(SimpleName:grammarStream)))))(IfStatement(InfixExpression(SimpleName:rules)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(VariableDeclarationStatement(SimpleType(SimpleName:BaseRuleGrammar))(VariableDeclarationFragment(SimpleName:brg)(ClassInstanceCreation(SimpleType(SimpleName:BaseRuleGrammar))(SimpleName:recognizer)(SimpleName:grammarReference))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:brg))(SimpleName:addRules)(METHOD_INVOCATION_ARGUMENTS(SimpleName:rules))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:brg))(SimpleName:setAttributes)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:srgsParser))(SimpleName:getAttributes)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:grammars))(SimpleName:put)(METHOD_INVOCATION_ARGUMENTS(SimpleName:grammarReference)(SimpleName:brg))))(ReturnStatement(SimpleName:brg))))(ReturnStatement(NullLiteral))))))