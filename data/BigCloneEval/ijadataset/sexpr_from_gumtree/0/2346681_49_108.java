(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:public)(PrimitiveType:void)(SimpleName:apply)(SingleVariableDeclaration(SimpleType(SimpleName:mxCellState))(SimpleName:state))(SingleVariableDeclaration(SimpleType(SimpleName:mxCellState))(SimpleName:source))(SingleVariableDeclaration(SimpleType(SimpleName:mxCellState))(SimpleName:target))(SingleVariableDeclaration(SimpleType(SimpleName:List))(SimpleName:points))(SingleVariableDeclaration(SimpleType(SimpleName:List))(SimpleName:result))(Block(VariableDeclarationStatement(SimpleType(SimpleName:mxGraphView))(VariableDeclarationFragment(SimpleName:view)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:state))(SimpleName:getView))))(VariableDeclarationStatement(SimpleType(SimpleName:mxIGraphModel))(VariableDeclarationFragment(SimpleName:model)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:view))(SimpleName:getGraph)))(SimpleName:getModel))))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:segment)(CastExpression(PrimitiveType:int)(ParenthesizedExpression(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:mxUtils))(SimpleName:getDouble)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:state))(SimpleName:getStyle))(QualifiedName:mxConstants.STYLE_STARTSIZE)(QualifiedName:mxConstants.ENTITY_SEGMENT)))(INFIX_EXPRESSION_OPERATOR:*)(MethodInvocation(METHOD_INVOCATION_RECEIVER(QualifiedName:state.view))(SimpleName:getScale)))))))(VariableDeclarationStatement(PrimitiveType:boolean)(VariableDeclarationFragment(SimpleName:isSourceLeft)(BooleanLiteral:false)))(IfStatement(InfixExpression(SimpleName:source)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(VariableDeclarationStatement(SimpleType(SimpleName:mxGeometry))(VariableDeclarationFragment(SimpleName:sourceGeometry)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:model))(SimpleName:getGeometry)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:source.cell)))))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:sourceGeometry))(SimpleName:isRelative))(Block(ExpressionStatement(Assignment(SimpleName:isSourceLeft)(ASSIGNMENT_OPERATOR:=)(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:sourceGeometry))(SimpleName:getX))(INFIX_EXPRESSION_OPERATOR:<=)(NumberLiteral:0.5)))))(IfStatement(InfixExpression(SimpleName:target)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(ExpressionStatement(Assignment(SimpleName:isSourceLeft)(ASSIGNMENT_OPERATOR:=)(InfixExpression(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:target))(SimpleName:getX))(INFIX_EXPRESSION_OPERATOR:+)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:target))(SimpleName:getWidth)))(INFIX_EXPRESSION_OPERATOR:<)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:source))(SimpleName:getX)))))))))(Block(VariableDeclarationStatement(SimpleType(SimpleName:mxPoint))(VariableDeclarationFragment(SimpleName:pt)(CastExpression(SimpleType(SimpleName:mxPoint))(MethodInvocation(METHOD_INVOCATION_RECEIVER(QualifiedName:state.absolutePoints))(SimpleName:get)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:0))))))(IfStatement(InfixExpression(SimpleName:pt)(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(Block(ReturnStatement)))(ExpressionStatement(Assignment(SimpleName:source)(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(SimpleType(SimpleName:mxCellState)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:source))(SimpleName:setX)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:pt))(SimpleName:getX)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:source))(SimpleName:setY)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:pt))(SimpleName:getY)))))))(VariableDeclarationStatement(PrimitiveType:boolean)(VariableDeclarationFragment(SimpleName:isTargetLeft)(BooleanLiteral:true)))(IfStatement(InfixExpression(SimpleName:target)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(VariableDeclarationStatement(SimpleType(SimpleName:mxGeometry))(VariableDeclarationFragment(SimpleName:targetGeometry)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:model))(SimpleName:getGeometry)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:target.cell)))))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:targetGeometry))(SimpleName:isRelative))(Block(ExpressionStatement(Assignment(SimpleName:isTargetLeft)(ASSIGNMENT_OPERATOR:=)(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:targetGeometry))(SimpleName:getX))(INFIX_EXPRESSION_OPERATOR:<=)(NumberLiteral:0.5)))))(IfStatement(InfixExpression(SimpleName:source)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(ExpressionStatement(Assignment(SimpleName:isTargetLeft)(ASSIGNMENT_OPERATOR:=)(InfixExpression(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:source))(SimpleName:getX))(INFIX_EXPRESSION_OPERATOR:+)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:source))(SimpleName:getWidth)))(INFIX_EXPRESSION_OPERATOR:<)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:target))(SimpleName:getX)))))))))(Block(VariableDeclarationStatement(SimpleType(SimpleName:List))(VariableDeclarationFragment(SimpleName:pts)(QualifiedName:state.absolutePoints)))(VariableDeclarationStatement(SimpleType(SimpleName:mxPoint))(VariableDeclarationFragment(SimpleName:pt)(CastExpression(SimpleType(SimpleName:mxPoint))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:pts))(SimpleName:get)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:pts))(SimpleName:size))(INFIX_EXPRESSION_OPERATOR:-)(NumberLiteral:1)))))))(IfStatement(InfixExpression(SimpleName:pt)(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(Block(ReturnStatement)))(ExpressionStatement(Assignment(SimpleName:target)(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(SimpleType(SimpleName:mxCellState)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:target))(SimpleName:setX)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:pt))(SimpleName:getX)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:target))(SimpleName:setY)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:pt))(SimpleName:getY)))))))(VariableDeclarationStatement(PrimitiveType:double)(VariableDeclarationFragment(SimpleName:x0)(ConditionalExpression(ParenthesizedExpression(SimpleName:isSourceLeft))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:source))(SimpleName:getX))(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:source))(SimpleName:getX))(INFIX_EXPRESSION_OPERATOR:+)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:source))(SimpleName:getWidth))))))(VariableDeclarationStatement(PrimitiveType:double)(VariableDeclarationFragment(SimpleName:y0)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:view))(SimpleName:getRoutingCenterY)(METHOD_INVOCATION_ARGUMENTS(SimpleName:source)))))(VariableDeclarationStatement(PrimitiveType:double)(VariableDeclarationFragment(SimpleName:xe)(ConditionalExpression(ParenthesizedExpression(SimpleName:isTargetLeft))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:target))(SimpleName:getX))(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:target))(SimpleName:getX))(INFIX_EXPRESSION_OPERATOR:+)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:target))(SimpleName:getWidth))))))(VariableDeclarationStatement(PrimitiveType:double)(VariableDeclarationFragment(SimpleName:ye)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:view))(SimpleName:getRoutingCenterY)(METHOD_INVOCATION_ARGUMENTS(SimpleName:target)))))(VariableDeclarationStatement(PrimitiveType:double)(VariableDeclarationFragment(SimpleName:seg)(SimpleName:segment)))(VariableDeclarationStatement(PrimitiveType:double)(VariableDeclarationFragment(SimpleName:dx)(ConditionalExpression(ParenthesizedExpression(SimpleName:isSourceLeft))(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:-)(SimpleName:seg))(SimpleName:seg))))(VariableDeclarationStatement(SimpleType(SimpleName:mxPoint))(VariableDeclarationFragment(SimpleName:dep)(ClassInstanceCreation(SimpleType(SimpleName:mxPoint))(InfixExpression(SimpleName:x0)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:dx))(SimpleName:y0))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:result))(SimpleName:add)(METHOD_INVOCATION_ARGUMENTS(SimpleName:dep))))(ExpressionStatement(Assignment(SimpleName:dx)(ASSIGNMENT_OPERATOR:=)(ConditionalExpression(ParenthesizedExpression(SimpleName:isTargetLeft))(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:-)(SimpleName:seg))(SimpleName:seg))))(VariableDeclarationStatement(SimpleType(SimpleName:mxPoint))(VariableDeclarationFragment(SimpleName:arr)(ClassInstanceCreation(SimpleType(SimpleName:mxPoint))(InfixExpression(SimpleName:xe)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:dx))(SimpleName:ye))))(IfStatement(InfixExpression(SimpleName:isSourceLeft)(INFIX_EXPRESSION_OPERATOR:==)(SimpleName:isTargetLeft))(Block(VariableDeclarationStatement(PrimitiveType:double)(VariableDeclarationFragment(SimpleName:x)(ConditionalExpression(ParenthesizedExpression(SimpleName:isSourceLeft))(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Math))(SimpleName:min)(METHOD_INVOCATION_ARGUMENTS(SimpleName:x0)(SimpleName:xe)))(INFIX_EXPRESSION_OPERATOR:-)(SimpleName:segment))(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Math))(SimpleName:max)(METHOD_INVOCATION_ARGUMENTS(SimpleName:x0)(SimpleName:xe)))(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:segment)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:result))(SimpleName:add)(METHOD_INVOCATION_ARGUMENTS(ClassInstanceCreation(SimpleType(SimpleName:mxPoint))(SimpleName:x)(SimpleName:y0)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:result))(SimpleName:add)(METHOD_INVOCATION_ARGUMENTS(ClassInstanceCreation(SimpleType(SimpleName:mxPoint))(SimpleName:x)(SimpleName:ye))))))(IfStatement(InfixExpression(ParenthesizedExpression(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:dep))(SimpleName:getX))(INFIX_EXPRESSION_OPERATOR:<)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:arr))(SimpleName:getX))))(INFIX_EXPRESSION_OPERATOR:==)(SimpleName:isSourceLeft))(Block(VariableDeclarationStatement(PrimitiveType:double)(VariableDeclarationFragment(SimpleName:midY)(InfixExpression(SimpleName:y0)(INFIX_EXPRESSION_OPERATOR:+)(InfixExpression(ParenthesizedExpression(InfixExpression(SimpleName:ye)(INFIX_EXPRESSION_OPERATOR:-)(SimpleName:y0)))(INFIX_EXPRESSION_OPERATOR:/)(NumberLiteral:2)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:result))(SimpleName:add)(METHOD_INVOCATION_ARGUMENTS(ClassInstanceCreation(SimpleType(SimpleName:mxPoint))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:dep))(SimpleName:getX))(SimpleName:midY)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:result))(SimpleName:add)(METHOD_INVOCATION_ARGUMENTS(ClassInstanceCreation(SimpleType(SimpleName:mxPoint))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:arr))(SimpleName:getX))(SimpleName:midY))))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:result))(SimpleName:add)(METHOD_INVOCATION_ARGUMENTS(SimpleName:arr))))))))