(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:public)(PrimitiveType:void)(SimpleName:connectToServer)(SingleVariableDeclaration(Modifier:final)(SimpleType(SimpleName:String))(SimpleName:state))(SingleVariableDeclaration(Modifier:final)(SimpleType(SimpleName:String))(SimpleName:type))(SingleVariableDeclaration(Modifier:final)(SimpleType(SimpleName:String))(SimpleName:mode))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:SmackConfiguration))(SimpleName:setPacketReplyTimeout)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:15000))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:username)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:prefs))(SimpleName:getString)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(NullLiteral)))))(VariableDeclarationStatement(Modifier:final)(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:password)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:prefs))(SimpleName:getString)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(NullLiteral)))))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:port)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Integer))(SimpleName:parseInt)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:prefs))(SimpleName:getString)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(StringLiteral:<STR>)))))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:service)(MethodInvocation(METHOD_INVOCATION_RECEIVER(ParenthesizedExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:prefs))(SimpleName:getString)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(StringLiteral:<STR>)))))(SimpleName:trim))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:host)))(VariableDeclarationStatement(Modifier:final)(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:user)))(IfStatement(InfixExpression(SimpleName:username)(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(Block(ReturnStatement))(Block(ExpressionStatement(Assignment(SimpleName:host)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:StringUtils))(SimpleName:parseServer)(METHOD_INVOCATION_ARGUMENTS(SimpleName:username)))))(ExpressionStatement(Assignment(SimpleName:user)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:username))(SimpleName:substring)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:0)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:username))(SimpleName:indexOf)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))))))))(IfStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:username))(SimpleName:length))(INFIX_EXPRESSION_OPERATOR:==)(NumberLiteral:0))(Block(ReturnStatement)))(IfStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:host))(SimpleName:length))(INFIX_EXPRESSION_OPERATOR:==)(NumberLiteral:0))(Block(ReturnStatement)))(IfStatement(InfixExpression(SimpleName:service)(INFIX_EXPRESSION_OPERATOR:==)(StringLiteral:<STR>))(Block(ExpressionStatement(Assignment(SimpleName:cc)(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(SimpleType(SimpleName:ConnectionConfiguration))(SimpleName:host)(SimpleName:port)))))(Block(ExpressionStatement(Assignment(SimpleName:cc)(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(SimpleType(SimpleName:ConnectionConfiguration))(SimpleName:service)(SimpleName:port)(SimpleName:host))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:cc))(SimpleName:setTruststorePath)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(SimpleName:CERT_DIR)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:CERT_FILE)))))(IfStatement(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:prefs))(SimpleName:getBoolean)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(BooleanLiteral:true))))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:cc))(SimpleName:setSecurityMode)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:SecurityMode.disabled))))))(IfStatement(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:prefs))(SimpleName:getBoolean)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(BooleanLiteral:true))))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:cc))(SimpleName:setSASLAuthenticationEnabled)(METHOD_INVOCATION_ARGUMENTS(BooleanLiteral:false))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:cc))(SimpleName:setReconnectionAllowed)(METHOD_INVOCATION_ARGUMENTS(BooleanLiteral:true))))(ExpressionStatement(Assignment(SimpleName:con)(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(SimpleType(SimpleName:XMPPConnection))(SimpleName:cc))))(VariableDeclarationStatement(SimpleType(SimpleName:Thread))(VariableDeclarationFragment(SimpleName:task)(ClassInstanceCreation(SimpleType(SimpleName:Thread))(AnonymousClassDeclaration(MethodDeclaration(Modifier:public)(PrimitiveType:void)(SimpleName:run)(Block(TryStatement(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:con))(SimpleName:connect))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:Exception))(SimpleName:xe))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Log))(SimpleName:e)(METHOD_INVOCATION_ARGUMENTS(SimpleName:TAG)(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:xe))(SimpleName:getLocalizedMessage))))))(VariableDeclarationStatement(SimpleType(SimpleName:Intent))(VariableDeclarationFragment(SimpleName:intent)(ClassInstanceCreation(SimpleType(SimpleName:Intent))(StringLiteral:<STR>))))(ExpressionStatement(MethodInvocation(SimpleName:sendBroadcast)(METHOD_INVOCATION_ARGUMENTS(SimpleName:intent))))(ReturnStatement))))(TryStatement(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:con))(SimpleName:addPacketListener)(METHOD_INVOCATION_ARGUMENTS(SimpleName:msgListener)(ClassInstanceCreation(SimpleType(SimpleName:PacketTypeFilter))(TypeLiteral(SimpleType(SimpleName:Message)))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:con))(SimpleName:addPacketListener)(METHOD_INVOCATION_ARGUMENTS(SimpleName:presenceListener)(ClassInstanceCreation(SimpleType(SimpleName:PacketTypeFilter))(TypeLiteral(SimpleType(SimpleName:Presence)))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:con))(SimpleName:addConnectionListener)(METHOD_INVOCATION_ARGUMENTS(SimpleName:connectionListener)))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:IllegalStateException))(SimpleName:e))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Log))(SimpleName:e)(METHOD_INVOCATION_ARGUMENTS(SimpleName:TAG)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:e))(SimpleName:getLocalizedMessage)))))(ReturnStatement))))(TryStatement(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:con))(SimpleName:login)(METHOD_INVOCATION_ARGUMENTS(SimpleName:user)(SimpleName:password)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:prefs))(SimpleName:getString)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(StringLiteral:<STR>)))))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:XMPPException))(SimpleName:xe))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Log))(SimpleName:e)(METHOD_INVOCATION_ARGUMENTS(SimpleName:TAG)(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:user)(StringLiteral:<STR>)(SimpleName:password)(StringLiteral:<STR>)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:xe))(SimpleName:getLocalizedMessage))))))(ReturnStatement))))(TryStatement(Block(ExpressionStatement(Assignment(SimpleName:roster)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:con))(SimpleName:getRoster))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:roster))(SimpleName:addRosterListener)(METHOD_INVOCATION_ARGUMENTS(ClassInstanceCreation(SimpleType(SimpleName:RosterListener))(AnonymousClassDeclaration(MethodDeclaration(Modifier:public)(PrimitiveType:void)(SimpleName:entriesAdded)(SingleVariableDeclaration(ParameterizedType(SimpleType(SimpleName:Collection))(SimpleType(SimpleName:String)))(SimpleName:addresses))(Block))(MethodDeclaration(Modifier:public)(PrimitiveType:void)(SimpleName:entriesDeleted)(SingleVariableDeclaration(ParameterizedType(SimpleType(SimpleName:Collection))(SimpleType(SimpleName:String)))(SimpleName:addresses))(Block))(MethodDeclaration(Modifier:public)(PrimitiveType:void)(SimpleName:entriesUpdated)(SingleVariableDeclaration(ParameterizedType(SimpleType(SimpleName:Collection))(SimpleType(SimpleName:String)))(SimpleName:addresses))(Block))(MethodDeclaration(Modifier:public)(PrimitiveType:void)(SimpleName:presenceChanged)(SingleVariableDeclaration(SimpleType(SimpleName:Presence))(SimpleName:presence))(Block)))))))(ExpressionStatement(MethodInvocation(SimpleName:sendRoster)))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:prefs))(SimpleName:getBoolean)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(BooleanLiteral:true)))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:wl))(SimpleName:acquire)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Log))(SimpleName:i)(METHOD_INVOCATION_ARGUMENTS(SimpleName:TAG)(StringLiteral:<STR>))))))(VariableDeclarationStatement(SimpleType(SimpleName:OfflineMessageManager))(VariableDeclarationFragment(SimpleName:omm)(ClassInstanceCreation(SimpleType(SimpleName:OfflineMessageManager))(SimpleName:con))))(TryStatement(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:omm))(SimpleName:deleteMessages))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:XMPPException))(SimpleName:e))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Log))(SimpleName:e)(METHOD_INVOCATION_ARGUMENTS(SimpleName:TAG)(StringLiteral:<STR>))))))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:Exception))(SimpleName:e))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:e))(SimpleName:printStackTrace))))))(VariableDeclarationStatement(SimpleType(SimpleName:Intent))(VariableDeclarationFragment(SimpleName:intent)(ClassInstanceCreation(SimpleType(SimpleName:Intent))(StringLiteral:<STR>))))(ExpressionStatement(MethodInvocation(SimpleName:sendBroadcast)(METHOD_INVOCATION_ARGUMENTS(SimpleName:intent))))(VariableDeclarationStatement(SimpleType(SimpleName:Intent))(VariableDeclarationFragment(SimpleName:loggedIn)(ClassInstanceCreation(SimpleType(SimpleName:Intent))(StringLiteral:<STR>))))(ExpressionStatement(MethodInvocation(SimpleName:sendBroadcast)(METHOD_INVOCATION_ARGUMENTS(SimpleName:loggedIn))))))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:task))(SimpleName:start)))))))