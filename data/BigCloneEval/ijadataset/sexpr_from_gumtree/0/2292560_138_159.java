(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:private)(ParameterizedType(SimpleType(SimpleName:Map))(SimpleType(SimpleName:String))(SimpleType(SimpleName:DomAttr)))(SimpleName:getAttributesFor)(SingleVariableDeclaration(Modifier:final)(SimpleType(SimpleName:BaseFrame))(SimpleName:frame))(SimpleType(SimpleName:IOException))(Block(VariableDeclarationStatement(Modifier:final)(ParameterizedType(SimpleType(SimpleName:Map))(SimpleType(SimpleName:String))(SimpleType(SimpleName:DomAttr)))(VariableDeclarationFragment(SimpleName:map)(MethodInvocation(SimpleName:createAttributesCopyWithClonedAttribute)(METHOD_INVOCATION_ARGUMENTS(SimpleName:frame)(StringLiteral:<STR>)))))(VariableDeclarationStatement(Modifier:final)(SimpleType(SimpleName:DomAttr))(VariableDeclarationFragment(SimpleName:srcAttr)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:map))(SimpleName:get)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))))(IfStatement(InfixExpression(SimpleName:srcAttr)(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(Block(ReturnStatement(SimpleName:map))))(VariableDeclarationStatement(Modifier:final)(SimpleType(SimpleName:Page))(VariableDeclarationFragment(SimpleName:enclosedPage)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:frame))(SimpleName:getEnclosedPage))))(VariableDeclarationStatement(Modifier:final)(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:suffix)(MethodInvocation(SimpleName:getFileExtension)(METHOD_INVOCATION_ARGUMENTS(SimpleName:enclosedPage)))))(VariableDeclarationStatement(Modifier:final)(SimpleType(SimpleName:File))(VariableDeclarationFragment(SimpleName:file)(MethodInvocation(SimpleName:createFile)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:srcAttr))(SimpleName:getValue))(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:suffix))))))(IfStatement(InstanceofExpression(SimpleName:enclosedPage)(SimpleType(SimpleName:HtmlPage)))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:file))(SimpleName:delete)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(ParenthesizedExpression(CastExpression(SimpleType(SimpleName:HtmlPage))(SimpleName:enclosedPage))))(SimpleName:save)(METHOD_INVOCATION_ARGUMENTS(SimpleName:file)))))(Block(VariableDeclarationStatement(Modifier:final)(SimpleType(SimpleName:InputStream))(VariableDeclarationFragment(SimpleName:is)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:enclosedPage))(SimpleName:getWebResponse)))(SimpleName:getContentAsStream))))(VariableDeclarationStatement(Modifier:final)(SimpleType(SimpleName:FileOutputStream))(VariableDeclarationFragment(SimpleName:fos)(ClassInstanceCreation(SimpleType(SimpleName:FileOutputStream))(SimpleName:file))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:IOUtils))(SimpleName:copyLarge)(METHOD_INVOCATION_ARGUMENTS(SimpleName:is)(SimpleName:fos))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:IOUtils))(SimpleName:closeQuietly)(METHOD_INVOCATION_ARGUMENTS(SimpleName:is))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:IOUtils))(SimpleName:closeQuietly)(METHOD_INVOCATION_ARGUMENTS(SimpleName:fos))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:srcAttr))(SimpleName:setValue)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:file))(SimpleName:getParentFile)))(SimpleName:getName))(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:FILE_SEPARATOR)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:file))(SimpleName:getName))))))(ReturnStatement(SimpleName:map))))))