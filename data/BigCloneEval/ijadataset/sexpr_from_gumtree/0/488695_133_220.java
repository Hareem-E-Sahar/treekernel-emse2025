(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:protected)(SimpleType(SimpleName:GraphicsNode))(SimpleName:createImageGraphicsNode)(SingleVariableDeclaration(SimpleType(SimpleName:BridgeContext))(SimpleName:ctx))(SingleVariableDeclaration(SimpleType(SimpleName:Element))(SimpleName:e))(SingleVariableDeclaration(SimpleType(SimpleName:ParsedURL))(SimpleName:purl))(Block(VariableDeclarationStatement(SimpleType(SimpleName:Rectangle2D))(VariableDeclarationFragment(SimpleName:bounds)(MethodInvocation(SimpleName:getImageBounds)(METHOD_INVOCATION_ARGUMENTS(SimpleName:ctx)(SimpleName:e)))))(IfStatement(InfixExpression(ParenthesizedExpression(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:bounds))(SimpleName:getWidth))(INFIX_EXPRESSION_OPERATOR:==)(NumberLiteral:0)))(INFIX_EXPRESSION_OPERATOR:||)(ParenthesizedExpression(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:bounds))(SimpleName:getHeight))(INFIX_EXPRESSION_OPERATOR:==)(NumberLiteral:0))))(Block(VariableDeclarationStatement(SimpleType(SimpleName:ShapeNode))(VariableDeclarationFragment(SimpleName:sn)(ClassInstanceCreation(SimpleType(SimpleName:ShapeNode)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:sn))(SimpleName:setShape)(METHOD_INVOCATION_ARGUMENTS(SimpleName:bounds))))(ReturnStatement(SimpleName:sn))))(VariableDeclarationStatement(SimpleType(SimpleName:SVGDocument))(VariableDeclarationFragment(SimpleName:svgDoc)(CastExpression(SimpleType(SimpleName:SVGDocument))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:e))(SimpleName:getOwnerDocument)))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:docURL)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:svgDoc))(SimpleName:getURL))))(VariableDeclarationStatement(SimpleType(SimpleName:ParsedURL))(VariableDeclarationFragment(SimpleName:pDocURL)(NullLiteral)))(IfStatement(InfixExpression(SimpleName:docURL)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(ExpressionStatement(Assignment(SimpleName:pDocURL)(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(SimpleType(SimpleName:ParsedURL))(SimpleName:docURL)))))(VariableDeclarationStatement(SimpleType(SimpleName:UserAgent))(VariableDeclarationFragment(SimpleName:userAgent)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ctx))(SimpleName:getUserAgent))))(TryStatement(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:userAgent))(SimpleName:checkLoadExternalResource)(METHOD_INVOCATION_ARGUMENTS(SimpleName:purl)(SimpleName:pDocURL)))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:SecurityException))(SimpleName:ex))(Block(ThrowStatement(ClassInstanceCreation(SimpleType(SimpleName:BridgeException))(SimpleName:e)(SimpleName:ERR_URI_UNSECURE)(ArrayCreation(ArrayType(SimpleType(SimpleName:Object))(Dimension))(ArrayInitializer(SimpleName:purl))))))))(VariableDeclarationStatement(SimpleType(SimpleName:DocumentLoader))(VariableDeclarationFragment(SimpleName:loader)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ctx))(SimpleName:getDocumentLoader))))(VariableDeclarationStatement(SimpleType(SimpleName:ImageTagRegistry))(VariableDeclarationFragment(SimpleName:reg)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ImageTagRegistry))(SimpleName:getRegistry))))(VariableDeclarationStatement(SimpleType(SimpleName:ICCColorSpaceExt))(VariableDeclarationFragment(SimpleName:colorspace)(MethodInvocation(SimpleName:extractColorSpace)(METHOD_INVOCATION_ARGUMENTS(SimpleName:e)(SimpleName:ctx)))))(Block(TryStatement(Block(VariableDeclarationStatement(SimpleType(SimpleName:Document))(VariableDeclarationFragment(SimpleName:doc)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:loader))(SimpleName:checkCache)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:purl))(SimpleName:toString))))))(IfStatement(InfixExpression(SimpleName:doc)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(ExpressionStatement(Assignment(SimpleName:imgDocument)(ASSIGNMENT_OPERATOR:=)(CastExpression(SimpleType(SimpleName:SVGDocument))(SimpleName:doc))))(ReturnStatement(MethodInvocation(SimpleName:createSVGImageNode)(METHOD_INVOCATION_ARGUMENTS(SimpleName:ctx)(SimpleName:e)(SimpleName:imgDocument)))))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:BridgeException))(SimpleName:ex))(Block(ThrowStatement(SimpleName:ex))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:Exception))(SimpleName:ex))(Block)))(VariableDeclarationStatement(SimpleType(SimpleName:Filter))(VariableDeclarationFragment(SimpleName:img)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:reg))(SimpleName:checkCache)(METHOD_INVOCATION_ARGUMENTS(SimpleName:purl)(SimpleName:colorspace)))))(IfStatement(InfixExpression(SimpleName:img)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(ReturnStatement(MethodInvocation(SimpleName:createRasterImageNode)(METHOD_INVOCATION_ARGUMENTS(SimpleName:ctx)(SimpleName:e)(SimpleName:img)))))))(VariableDeclarationStatement(SimpleType(SimpleName:ProtectedStream))(VariableDeclarationFragment(SimpleName:reference)(NullLiteral)))(TryStatement(Block(ExpressionStatement(Assignment(SimpleName:reference)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(SimpleName:openStream)(METHOD_INVOCATION_ARGUMENTS(SimpleName:e)(SimpleName:purl))))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:SecurityException))(SimpleName:ex))(Block(ThrowStatement(ClassInstanceCreation(SimpleType(SimpleName:BridgeException))(SimpleName:e)(SimpleName:ERR_URI_UNSECURE)(ArrayCreation(ArrayType(SimpleType(SimpleName:Object))(Dimension))(ArrayInitializer(SimpleName:purl)))))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:IOException))(SimpleName:ioe))(Block(ReturnStatement(MethodInvocation(SimpleName:createBrokenImageNode)(METHOD_INVOCATION_ARGUMENTS(SimpleName:ctx)(SimpleName:e)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:purl))(SimpleName:toString))))))))(Block(VariableDeclarationStatement(SimpleType(SimpleName:Filter))(VariableDeclarationFragment(SimpleName:img)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:reg))(SimpleName:readURL)(METHOD_INVOCATION_ARGUMENTS(SimpleName:reference)(SimpleName:purl)(SimpleName:colorspace)(BooleanLiteral:false)(BooleanLiteral:false)))))(IfStatement(InfixExpression(SimpleName:img)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(ReturnStatement(MethodInvocation(SimpleName:createRasterImageNode)(METHOD_INVOCATION_ARGUMENTS(SimpleName:ctx)(SimpleName:e)(SimpleName:img)))))))(TryStatement(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:reference))(SimpleName:retry))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:IOException))(SimpleName:ioe))(Block(TryStatement(Block(ExpressionStatement(Assignment(SimpleName:reference)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(SimpleName:openStream)(METHOD_INVOCATION_ARGUMENTS(SimpleName:e)(SimpleName:purl))))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:IOException))(SimpleName:ioe2))(Block(ReturnStatement(MethodInvocation(SimpleName:createBrokenImageNode)(METHOD_INVOCATION_ARGUMENTS(SimpleName:ctx)(SimpleName:e)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:purl))(SimpleName:toString)))))))))))(TryStatement(Block(VariableDeclarationStatement(SimpleType(SimpleName:Document))(VariableDeclarationFragment(SimpleName:doc)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:loader))(SimpleName:loadDocument)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:purl))(SimpleName:toString))(SimpleName:reference)))))(ExpressionStatement(Assignment(SimpleName:imgDocument)(ASSIGNMENT_OPERATOR:=)(CastExpression(SimpleType(SimpleName:SVGDocument))(SimpleName:doc))))(ReturnStatement(MethodInvocation(SimpleName:createSVGImageNode)(METHOD_INVOCATION_ARGUMENTS(SimpleName:ctx)(SimpleName:e)(SimpleName:imgDocument)))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:BridgeException))(SimpleName:ex))(Block(ThrowStatement(SimpleName:ex))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:SecurityException))(SimpleName:ex))(Block(ThrowStatement(ClassInstanceCreation(SimpleType(SimpleName:BridgeException))(SimpleName:e)(SimpleName:ERR_URI_UNSECURE)(ArrayCreation(ArrayType(SimpleType(SimpleName:Object))(Dimension))(ArrayInitializer(SimpleName:purl)))))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:Exception))(SimpleName:ex))(Block)))(TryStatement(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:reference))(SimpleName:retry))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:IOException))(SimpleName:ioe))(Block(TryStatement(Block(ExpressionStatement(Assignment(SimpleName:reference)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(SimpleName:openStream)(METHOD_INVOCATION_ARGUMENTS(SimpleName:e)(SimpleName:purl))))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:IOException))(SimpleName:ioe2))(Block(ReturnStatement(MethodInvocation(SimpleName:createBrokenImageNode)(METHOD_INVOCATION_ARGUMENTS(SimpleName:ctx)(SimpleName:e)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:purl))(SimpleName:toString)))))))))))(TryStatement(Block(VariableDeclarationStatement(SimpleType(SimpleName:Filter))(VariableDeclarationFragment(SimpleName:img)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:reg))(SimpleName:readURL)(METHOD_INVOCATION_ARGUMENTS(SimpleName:reference)(SimpleName:purl)(SimpleName:colorspace)(BooleanLiteral:true)(BooleanLiteral:true)))))(IfStatement(InfixExpression(SimpleName:img)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(ReturnStatement(MethodInvocation(SimpleName:createRasterImageNode)(METHOD_INVOCATION_ARGUMENTS(SimpleName:ctx)(SimpleName:e)(SimpleName:img)))))))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:reference))(SimpleName:release)))))(ReturnStatement(NullLiteral))))))