(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:public)(SimpleName:Simulator)(SingleVariableDeclaration(Modifier:final)(ParameterizedType(SimpleType(SimpleName:Set))(SimpleType(SimpleName:Calculator)))(SimpleName:calculators))(SingleVariableDeclaration(Modifier:final)(ParameterizedType(SimpleType(SimpleName:Map))(SimpleType(SimpleName:SignalBit))(ParameterizedType(SimpleType(SimpleName:Set))(SimpleType(SimpleName:SignalBit))))(SimpleName:priority_map))(SingleVariableDeclaration(Modifier:final)(SimpleType(SimpleName:AnalyzeListener))(SimpleName:listener))(SimpleType(SimpleName:AnalyzeException))(Block(AssertStatement(InfixExpression(SimpleName:calculators)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral)))(AssertStatement(InfixExpression(SimpleName:priority_map)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral)))(AssertStatement(MethodInvocation(SimpleName:checkCalculators)(METHOD_INVOCATION_ARGUMENTS(SimpleName:calculators))))(AssertStatement(MethodInvocation(SimpleName:checkPriorityMap)(METHOD_INVOCATION_ARGUMENTS(SimpleName:priority_map))))(IfStatement(InfixExpression(SimpleName:listener)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:priority_pairs_count)(NumberLiteral:0)))(EnhancedForStatement(SingleVariableDeclaration(Modifier:final)(ParameterizedType(SimpleType(SimpleName:Set))(SimpleType(SimpleName:SignalBit)))(SimpleName:s))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:priority_map))(SimpleName:values))(ExpressionStatement(Assignment(SimpleName:priority_pairs_count)(ASSIGNMENT_OPERATOR:+=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:s))(SimpleName:size)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:listener))(SimpleName:initTotals)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:calculators))(SimpleName:size))(SimpleName:priority_pairs_count))))))(VariableDeclarationStatement(Modifier:final)(SimpleType(SimpleName:State))(VariableDeclarationFragment(SimpleName:state)(ClassInstanceCreation(SimpleType(SimpleName:State))(SimpleName:listener))))(VariableDeclarationStatement(Modifier:final)(ParameterizedType(SimpleType(SimpleName:Set))(SimpleType(SimpleName:SignalBit)))(VariableDeclarationFragment(SimpleName:bits)(ClassInstanceCreation(ParameterizedType(SimpleType(SimpleName:HashSet))(SimpleType(SimpleName:SignalBit))))))(EnhancedForStatement(SingleVariableDeclaration(Modifier:final)(SimpleType(SimpleName:Calculator))(SimpleName:c))(SimpleName:calculators)(Block(EnhancedForStatement(SingleVariableDeclaration(Modifier:final)(SimpleType(SimpleName:SignalBit))(SimpleName:b))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:c))(SimpleName:getInputSignalBits))(Block(IfStatement(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(MethodInvocation(METHOD_INVOCATION_RECEIVER(QualifiedName:state.readers))(SimpleName:containsKey)(METHOD_INVOCATION_ARGUMENTS(SimpleName:b))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(QualifiedName:state.readers))(SimpleName:put)(METHOD_INVOCATION_ARGUMENTS(SimpleName:b)(ClassInstanceCreation(ParameterizedType(SimpleType(SimpleName:LinkedHashSet))(SimpleType(SimpleName:Calculator))))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(QualifiedName:state.readers))(SimpleName:get)(METHOD_INVOCATION_ARGUMENTS(SimpleName:b))))(SimpleName:add)(METHOD_INVOCATION_ARGUMENTS(SimpleName:c))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:bits))(SimpleName:add)(METHOD_INVOCATION_ARGUMENTS(SimpleName:b))))))(EnhancedForStatement(SingleVariableDeclaration(Modifier:final)(SimpleType(SimpleName:SignalBit))(SimpleName:b))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:c))(SimpleName:getOutputSignalBits))(Block(IfStatement(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(MethodInvocation(METHOD_INVOCATION_RECEIVER(QualifiedName:state.writers))(SimpleName:containsKey)(METHOD_INVOCATION_ARGUMENTS(SimpleName:b))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(QualifiedName:state.writers))(SimpleName:put)(METHOD_INVOCATION_ARGUMENTS(SimpleName:b)(ClassInstanceCreation(ParameterizedType(SimpleType(SimpleName:LinkedHashSet))(SimpleType(SimpleName:Calculator))))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(QualifiedName:state.writers))(SimpleName:get)(METHOD_INVOCATION_ARGUMENTS(SimpleName:b))))(SimpleName:add)(METHOD_INVOCATION_ARGUMENTS(SimpleName:c))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:bits))(SimpleName:add)(METHOD_INVOCATION_ARGUMENTS(SimpleName:b))))))(IfStatement(InfixExpression(SimpleName:listener)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:listener))(SimpleName:increaseCalculators)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:1)(NumberLiteral:1)))))))(VariableDeclarationStatement(Modifier:final)(ParameterizedType(SimpleType(SimpleName:Set))(SimpleType(SimpleName:PriorityPair)))(VariableDeclarationFragment(SimpleName:priority_pairs)(ClassInstanceCreation(ParameterizedType(SimpleType(SimpleName:LinkedHashSet))(SimpleType(SimpleName:PriorityPair))))))(EnhancedForStatement(SingleVariableDeclaration(Modifier:final)(ParameterizedType(SimpleType(QualifiedName:Map.Entry))(SimpleType(SimpleName:SignalBit))(ParameterizedType(SimpleType(SimpleName:Set))(SimpleType(SimpleName:SignalBit))))(SimpleName:e))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:priority_map))(SimpleName:entrySet))(Block(EnhancedForStatement(SingleVariableDeclaration(Modifier:final)(SimpleType(SimpleName:SignalBit))(SimpleName:s))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:e))(SimpleName:getValue))(Block(LabeledStatement(SimpleName:dr)(Block(IfStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(QualifiedName:state.readers))(SimpleName:containsKey)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:e))(SimpleName:getKey))))(INFIX_EXPRESSION_OPERATOR:&&)(MethodInvocation(METHOD_INVOCATION_RECEIVER(QualifiedName:state.readers))(SimpleName:containsKey)(METHOD_INVOCATION_ARGUMENTS(SimpleName:s))))(EnhancedForStatement(SingleVariableDeclaration(Modifier:final)(SimpleType(SimpleName:Calculator))(SimpleName:c1))(MethodInvocation(METHOD_INVOCATION_RECEIVER(QualifiedName:state.readers))(SimpleName:get)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:e))(SimpleName:getKey))))(EnhancedForStatement(SingleVariableDeclaration(Modifier:final)(SimpleType(SimpleName:Calculator))(SimpleName:c2))(MethodInvocation(METHOD_INVOCATION_RECEIVER(QualifiedName:state.readers))(SimpleName:get)(METHOD_INVOCATION_ARGUMENTS(SimpleName:s)))(IfStatement(InfixExpression(SimpleName:c1)(INFIX_EXPRESSION_OPERATOR:==)(SimpleName:c2))(BreakStatement(SimpleName:dr))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:priority_pairs))(SimpleName:add)(METHOD_INVOCATION_ARGUMENTS(ClassInstanceCreation(SimpleType(SimpleName:PriorityPair))(QualifiedName:PriorityPair.Type.DISJUNCT_READERS)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:e))(SimpleName:getKey))(SimpleName:s)(QualifiedName:state.readers)(QualifiedName:state.writers)))))(IfStatement(InfixExpression(SimpleName:listener)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:listener))(SimpleName:increasePriorityPairs)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:1)(NumberLiteral:1)))))(ContinueStatement)))(IfStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(QualifiedName:state.writers))(SimpleName:containsKey)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:e))(SimpleName:getKey))))(INFIX_EXPRESSION_OPERATOR:&&)(MethodInvocation(METHOD_INVOCATION_RECEIVER(QualifiedName:state.writers))(SimpleName:containsKey)(METHOD_INVOCATION_ARGUMENTS(SimpleName:s))))(EnhancedForStatement(SingleVariableDeclaration(Modifier:final)(SimpleType(SimpleName:Calculator))(SimpleName:c1))(MethodInvocation(METHOD_INVOCATION_RECEIVER(QualifiedName:state.writers))(SimpleName:get)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:e))(SimpleName:getKey))))(EnhancedForStatement(SingleVariableDeclaration(Modifier:final)(SimpleType(SimpleName:Calculator))(SimpleName:c2))(MethodInvocation(METHOD_INVOCATION_RECEIVER(QualifiedName:state.writers))(SimpleName:get)(METHOD_INVOCATION_ARGUMENTS(SimpleName:s)))(IfStatement(InfixExpression(SimpleName:c1)(INFIX_EXPRESSION_OPERATOR:==)(SimpleName:c2))(ThrowStatement(ClassInstanceCreation(SimpleType(QualifiedName:AnalyzeException.NondisjunctReadersWritersException))))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:priority_pairs))(SimpleName:add)(METHOD_INVOCATION_ARGUMENTS(ClassInstanceCreation(SimpleType(SimpleName:PriorityPair))(QualifiedName:PriorityPair.Type.DISJUNCT_WRITERS)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:e))(SimpleName:getKey))(SimpleName:s)(QualifiedName:state.readers)(QualifiedName:state.writers)))))(IfStatement(InfixExpression(SimpleName:listener)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:listener))(SimpleName:increasePriorityPairs)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:1)(NumberLiteral:1)))))))))(VariableDeclarationStatement(Modifier:final)(ParameterizedType(SimpleType(SimpleName:Map))(SimpleType(SimpleName:Calculator))(SimpleType(SimpleName:Integer)))(VariableDeclarationFragment(SimpleName:before_map)(ClassInstanceCreation(ParameterizedType(SimpleType(SimpleName:HashMap))(SimpleType(SimpleName:Calculator))(SimpleType(SimpleName:Integer))))))(VariableDeclarationStatement(Modifier:final)(ParameterizedType(SimpleType(SimpleName:Map))(SimpleType(SimpleName:Calculator))(SimpleType(SimpleName:Integer)))(VariableDeclarationFragment(SimpleName:after_map)(ClassInstanceCreation(ParameterizedType(SimpleType(SimpleName:HashMap))(SimpleType(SimpleName:Calculator))(SimpleType(SimpleName:Integer))))))(VariableDeclarationStatement(Modifier:final)(ParameterizedType(SimpleType(SimpleName:ArrayList))(ParameterizedType(SimpleType(SimpleName:Set))(SimpleType(SimpleName:PriorityPair))))(VariableDeclarationFragment(SimpleName:priority_sets)(ClassInstanceCreation(ParameterizedType(SimpleType(SimpleName:ArrayList))(ParameterizedType(SimpleType(SimpleName:Set))(SimpleType(SimpleName:PriorityPair)))))))(EnhancedForStatement(SingleVariableDeclaration(Modifier:final)(SimpleType(SimpleName:PriorityPair))(SimpleName:p))(SimpleName:priority_pairs)(Block(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:ins_before)(QualifiedName:Integer.MAX_VALUE)))(IfStatement(InfixExpression(QualifiedName:p.must_not)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(EnhancedForStatement(SingleVariableDeclaration(Modifier:final)(SimpleType(SimpleName:Calculator))(SimpleName:c))(QualifiedName:p.must_not)(IfStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:before_map))(SimpleName:containsKey)(METHOD_INVOCATION_ARGUMENTS(SimpleName:c)))(INFIX_EXPRESSION_OPERATOR:&&)(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:before_map))(SimpleName:get)(METHOD_INVOCATION_ARGUMENTS(SimpleName:c)))(INFIX_EXPRESSION_OPERATOR:<)(SimpleName:ins_before)))(ExpressionStatement(Assignment(SimpleName:ins_before)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:before_map))(SimpleName:get)(METHOD_INVOCATION_ARGUMENTS(SimpleName:c))))))))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:ins_after)(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:-)(NumberLiteral:1))))(IfStatement(InfixExpression(QualifiedName:p.must)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(EnhancedForStatement(SingleVariableDeclaration(Modifier:final)(SimpleType(SimpleName:Calculator))(SimpleName:c))(QualifiedName:p.must)(IfStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:after_map))(SimpleName:containsKey)(METHOD_INVOCATION_ARGUMENTS(SimpleName:c)))(INFIX_EXPRESSION_OPERATOR:&&)(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:after_map))(SimpleName:get)(METHOD_INVOCATION_ARGUMENTS(SimpleName:c)))(INFIX_EXPRESSION_OPERATOR:>)(SimpleName:ins_after)))(ExpressionStatement(Assignment(SimpleName:ins_after)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:after_map))(SimpleName:get)(METHOD_INVOCATION_ARGUMENTS(SimpleName:c))))))))(IfStatement(InfixExpression(SimpleName:ins_after)(INFIX_EXPRESSION_OPERATOR:>)(SimpleName:ins_before))(ThrowStatement(ClassInstanceCreation(SimpleType(QualifiedName:AnalyzeException.DirectedPriorityCycleException)))))(IfStatement(InfixExpression(SimpleName:ins_after)(INFIX_EXPRESSION_OPERATOR:==)(SimpleName:ins_before))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:priority_sets))(SimpleName:add)(METHOD_INVOCATION_ARGUMENTS(PostfixExpression(SimpleName:ins_before)(POSTFIX_EXPRESSION_OPERATOR:++))(ClassInstanceCreation(ParameterizedType(SimpleType(SimpleName:LinkedHashSet))(SimpleType(SimpleName:PriorityPair)))))))(LabeledStatement(SimpleName:outer)(ForStatement(VariableDeclarationExpression(Modifier:final)(ParameterizedType(SimpleType(SimpleName:Iterator))(SimpleType(SimpleName:PriorityPair)))(VariableDeclarationFragment(SimpleName:i)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:priority_sets))(SimpleName:get)(METHOD_INVOCATION_ARGUMENTS(SimpleName:ins_before))))(SimpleName:iterator))))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:i))(SimpleName:hasNext))(Block(VariableDeclarationStatement(Modifier:final)(SimpleType(SimpleName:PriorityPair))(VariableDeclarationFragment(SimpleName:pp)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:i))(SimpleName:next))))(IfStatement(InfixExpression(InfixExpression(QualifiedName:p.must_not)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(INFIX_EXPRESSION_OPERATOR:&&)(InfixExpression(QualifiedName:pp.must)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral)))(EnhancedForStatement(SingleVariableDeclaration(Modifier:final)(SimpleType(SimpleName:Calculator))(SimpleName:c1))(QualifiedName:p.must_not)(EnhancedForStatement(SingleVariableDeclaration(Modifier:final)(SimpleType(SimpleName:Calculator))(SimpleName:c2))(QualifiedName:pp.must)(IfStatement(InfixExpression(SimpleName:c1)(INFIX_EXPRESSION_OPERATOR:==)(SimpleName:c2))(Block(IfStatement(InfixExpression(InfixExpression(QualifiedName:p.must)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(INFIX_EXPRESSION_OPERATOR:&&)(InfixExpression(QualifiedName:pp.must_not)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral)))(EnhancedForStatement(SingleVariableDeclaration(Modifier:final)(SimpleType(SimpleName:Calculator))(SimpleName:c3))(QualifiedName:p.must)(EnhancedForStatement(SingleVariableDeclaration(Modifier:final)(SimpleType(SimpleName:Calculator))(SimpleName:c4))(QualifiedName:pp.must_not)(IfStatement(InfixExpression(SimpleName:c3)(INFIX_EXPRESSION_OPERATOR:==)(SimpleName:c4))(ThrowStatement(ClassInstanceCreation(SimpleType(QualifiedName:AnalyzeException.DirectedPriorityCycleException))))))))(BreakStatement(SimpleName:outer)))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:priority_sets))(SimpleName:get)(METHOD_INVOCATION_ARGUMENTS(SimpleName:ins_after))))(SimpleName:add)(METHOD_INVOCATION_ARGUMENTS(SimpleName:pp))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:i))(SimpleName:remove))))))))(IfStatement(InfixExpression(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:++)(SimpleName:ins_after))(INFIX_EXPRESSION_OPERATOR:==)(SimpleName:ins_before))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:priority_sets))(SimpleName:add)(METHOD_INVOCATION_ARGUMENTS(SimpleName:ins_before)(ClassInstanceCreation(ParameterizedType(SimpleType(SimpleName:LinkedHashSet))(SimpleType(SimpleName:PriorityPair)))))))(EnhancedForStatement(SingleVariableDeclaration(Modifier:final)(ParameterizedType(SimpleType(QualifiedName:Map.Entry))(SimpleType(SimpleName:Calculator))(SimpleType(SimpleName:Integer)))(SimpleName:e))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:before_map))(SimpleName:entrySet))(IfStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:e))(SimpleName:getValue))(INFIX_EXPRESSION_OPERATOR:>=)(SimpleName:ins_before))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:e))(SimpleName:setValue)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:e))(SimpleName:getValue))(INFIX_EXPRESSION_OPERATOR:+)(NumberLiteral:1)))))))(EnhancedForStatement(SingleVariableDeclaration(Modifier:final)(ParameterizedType(SimpleType(QualifiedName:Map.Entry))(SimpleType(SimpleName:Calculator))(SimpleType(SimpleName:Integer)))(SimpleName:e))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:after_map))(SimpleName:entrySet))(IfStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:e))(SimpleName:getValue))(INFIX_EXPRESSION_OPERATOR:>=)(SimpleName:ins_before))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:e))(SimpleName:setValue)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:e))(SimpleName:getValue))(INFIX_EXPRESSION_OPERATOR:+)(NumberLiteral:1))))))))(IfStatement(InfixExpression(SimpleName:ins_after)(INFIX_EXPRESSION_OPERATOR:==)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:priority_sets))(SimpleName:size)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:priority_sets))(SimpleName:add)(METHOD_INVOCATION_ARGUMENTS(ClassInstanceCreation(ParameterizedType(SimpleType(SimpleName:HashSet))(SimpleType(SimpleName:PriorityPair)))))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:priority_sets))(SimpleName:get)(METHOD_INVOCATION_ARGUMENTS(SimpleName:ins_after))))(SimpleName:add)(METHOD_INVOCATION_ARGUMENTS(SimpleName:p))))(IfStatement(InfixExpression(QualifiedName:p.must)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(EnhancedForStatement(SingleVariableDeclaration(Modifier:final)(SimpleType(SimpleName:Calculator))(SimpleName:c))(QualifiedName:p.must)(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:before_map))(SimpleName:put)(METHOD_INVOCATION_ARGUMENTS(SimpleName:c)(SimpleName:ins_after))))))(IfStatement(InfixExpression(QualifiedName:p.must_not)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(EnhancedForStatement(SingleVariableDeclaration(Modifier:final)(SimpleType(SimpleName:Calculator))(SimpleName:c))(QualifiedName:p.must_not)(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:after_map))(SimpleName:put)(METHOD_INVOCATION_ARGUMENTS(SimpleName:c)(SimpleName:ins_after))))))(IfStatement(InfixExpression(SimpleName:listener)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:listener))(SimpleName:increasePriorityPairs)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:2)(NumberLiteral:1)))))))(VariableDeclarationStatement(Modifier:final)(ParameterizedType(SimpleType(SimpleName:Set))(SimpleType(SimpleName:Calculator)))(VariableDeclarationFragment(SimpleName:unordered_calculators)(ClassInstanceCreation(ParameterizedType(SimpleType(SimpleName:LinkedHashSet))(SimpleType(SimpleName:Calculator)))(SimpleName:calculators))))(ForStatement(VariableDeclarationExpression(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:i)(NumberLiteral:0)))(InfixExpression(SimpleName:i)(INFIX_EXPRESSION_OPERATOR:<)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:priority_sets))(SimpleName:size)))(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:++)(SimpleName:i))(Block(VariableDeclarationStatement(Modifier:final)(ParameterizedType(SimpleType(SimpleName:Set))(SimpleType(SimpleName:Calculator)))(VariableDeclarationFragment(SimpleName:priority_calculators)(ClassInstanceCreation(ParameterizedType(SimpleType(SimpleName:LinkedHashSet))(SimpleType(SimpleName:Calculator))))))(VariableDeclarationStatement(Modifier:final)(ParameterizedType(SimpleType(SimpleName:Queue))(SimpleType(SimpleName:Calculator)))(VariableDeclarationFragment(SimpleName:queue)(ClassInstanceCreation(ParameterizedType(SimpleType(SimpleName:ArrayDeque))(SimpleType(SimpleName:Calculator))))))(EnhancedForStatement(SingleVariableDeclaration(Modifier:final)(SimpleType(SimpleName:PriorityPair))(SimpleName:p))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:priority_sets))(SimpleName:get)(METHOD_INVOCATION_ARGUMENTS(SimpleName:i)))(IfStatement(InfixExpression(QualifiedName:p.must)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(EnhancedForStatement(SingleVariableDeclaration(Modifier:final)(SimpleType(SimpleName:Calculator))(SimpleName:c))(QualifiedName:p.must)(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:unordered_calculators))(SimpleName:remove)(METHOD_INVOCATION_ARGUMENTS(SimpleName:c)))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:priority_calculators))(SimpleName:add)(METHOD_INVOCATION_ARGUMENTS(SimpleName:c))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:queue))(SimpleName:add)(METHOD_INVOCATION_ARGUMENTS(SimpleName:c))))(IfStatement(InfixExpression(SimpleName:listener)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:listener))(SimpleName:increaseCalculators)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:2)(NumberLiteral:1))))))))))(VariableDeclarationStatement(SimpleType(SimpleName:Calculator))(VariableDeclarationFragment(SimpleName:h)))(WhileStatement(InfixExpression(ParenthesizedExpression(Assignment(SimpleName:h)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:queue))(SimpleName:poll))))(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(EnhancedForStatement(SingleVariableDeclaration(Modifier:final)(SimpleType(SimpleName:SignalBit))(SimpleName:sb))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:h))(SimpleName:getInputSignalBits))(Block(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(QualifiedName:state.writers))(SimpleName:containsKey)(METHOD_INVOCATION_ARGUMENTS(SimpleName:sb)))(LabeledStatement(SimpleName:dep)(EnhancedForStatement(SingleVariableDeclaration(Modifier:final)(SimpleType(SimpleName:Calculator))(SimpleName:c))(MethodInvocation(METHOD_INVOCATION_RECEIVER(QualifiedName:state.writers))(SimpleName:get)(METHOD_INVOCATION_ARGUMENTS(SimpleName:sb)))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:unordered_calculators))(SimpleName:contains)(METHOD_INVOCATION_ARGUMENTS(SimpleName:c)))(Block(ForStatement(VariableDeclarationExpression(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:k)(SimpleName:i)))(InfixExpression(SimpleName:k)(INFIX_EXPRESSION_OPERATOR:<)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:priority_sets))(SimpleName:size)))(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:++)(SimpleName:k))(EnhancedForStatement(SingleVariableDeclaration(Modifier:final)(SimpleType(SimpleName:PriorityPair))(SimpleName:pp))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:priority_sets))(SimpleName:get)(METHOD_INVOCATION_ARGUMENTS(SimpleName:i)))(IfStatement(InfixExpression(QualifiedName:pp.must_not)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(EnhancedForStatement(SingleVariableDeclaration(Modifier:final)(SimpleType(SimpleName:Calculator))(SimpleName:cal))(QualifiedName:pp.must_not)(IfStatement(InfixExpression(SimpleName:c)(INFIX_EXPRESSION_OPERATOR:==)(SimpleName:cal))(ContinueStatement(SimpleName:dep)))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:unordered_calculators))(SimpleName:remove)(METHOD_INVOCATION_ARGUMENTS(SimpleName:c))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:priority_calculators))(SimpleName:add)(METHOD_INVOCATION_ARGUMENTS(SimpleName:c))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:queue))(SimpleName:add)(METHOD_INVOCATION_ARGUMENTS(SimpleName:c))))(IfStatement(InfixExpression(SimpleName:listener)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:listener))(SimpleName:increaseCalculators)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:2)(NumberLiteral:1)))))))))))))(ExpressionStatement(MethodInvocation(SimpleName:orderGraph)(METHOD_INVOCATION_ARGUMENTS(SimpleName:state)(SimpleName:priority_calculators)(SimpleName:i))))))(IfStatement(InfixExpression(SimpleName:listener)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:listener))(SimpleName:increaseCalculators)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:2)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:unordered_calculators))(SimpleName:size))))))(ExpressionStatement(MethodInvocation(SimpleName:orderGraph)(METHOD_INVOCATION_ARGUMENTS(SimpleName:state)(SimpleName:unordered_calculators)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:priority_sets))(SimpleName:size)))))(ExpressionStatement(Assignment(SimpleName:connections)(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(ParameterizedType(SimpleType(SimpleName:HashMap))(SimpleType(SimpleName:SignalBit))(ArrayType(SimpleType(SimpleName:OrderedCalculator))(Dimension))))))(EnhancedForStatement(SingleVariableDeclaration(Modifier:final)(ParameterizedType(SimpleType(QualifiedName:Map.Entry))(SimpleType(SimpleName:SignalBit))(ParameterizedType(SimpleType(SimpleName:Set))(SimpleType(SimpleName:OrderedCalculator))))(SimpleName:e))(MethodInvocation(METHOD_INVOCATION_RECEIVER(QualifiedName:state.connection_sets))(SimpleName:entrySet))(Block(VariableDeclarationStatement(Modifier:final)(ArrayType(SimpleType(SimpleName:OrderedCalculator))(Dimension))(VariableDeclarationFragment(SimpleName:array)(ArrayCreation(ArrayType(SimpleType(SimpleName:OrderedCalculator))(Dimension(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:e))(SimpleName:getValue)))(SimpleName:size)))))))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:i)(NumberLiteral:0)))(EnhancedForStatement(SingleVariableDeclaration(Modifier:final)(SimpleType(SimpleName:OrderedCalculator))(SimpleName:oc))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:e))(SimpleName:getValue))(ExpressionStatement(Assignment(ArrayAccess(SimpleName:array)(PostfixExpression(SimpleName:i)(POSTFIX_EXPRESSION_OPERATOR:++)))(ASSIGNMENT_OPERATOR:=)(SimpleName:oc))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:connections))(SimpleName:put)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:e))(SimpleName:getKey))(SimpleName:array))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:e))(SimpleName:getKey)))(SimpleName:addSignalBitListener)(METHOD_INVOCATION_ARGUMENTS(ThisExpression))))))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:p)(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:priority_sets))(SimpleName:size))(INFIX_EXPRESSION_OPERATOR:+)(NumberLiteral:1))))(ExpressionStatement(Assignment(SimpleName:priority_tree)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:VBETree))(SimpleName:create)(METHOD_INVOCATION_ARGUMENTS(SimpleName:p)))))(ExpressionStatement(Assignment(SimpleName:order_tree)(ASSIGNMENT_OPERATOR:=)(ArrayCreation(ArrayType(SimpleType(SimpleName:VBETree))(Dimension(SimpleName:p))(Dimension)))))(ExpressionStatement(Assignment(FieldAccess(ThisExpression)(SimpleName:calculators))(ASSIGNMENT_OPERATOR:=)(ArrayCreation(ArrayType(SimpleType(SimpleName:OrderedCalculator))(Dimension(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:priority_sets))(SimpleName:size))(INFIX_EXPRESSION_OPERATOR:+)(NumberLiteral:1)))(Dimension)(Dimension)(Dimension)))))(ExpressionStatement(Assignment(SimpleName:dirty_stack)(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(ParameterizedType(SimpleType(SimpleName:AtomicReferenceArray))(SimpleType(SimpleName:OrderedCalculator)))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:calculators))(SimpleName:size)))))(ExpressionStatement(Assignment(SimpleName:dirty_count)(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(SimpleType(SimpleName:AtomicInteger))(NumberLiteral:0))))(ExpressionStatement(Assignment(SimpleName:ex_cnt)(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(SimpleType(SimpleName:AtomicInteger))(NumberLiteral:0))))(ExpressionStatement(Assignment(SimpleName:calculate_stack)(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(ParameterizedType(SimpleType(SimpleName:AtomicReferenceArray))(SimpleType(SimpleName:OrderedCalculator)))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:calculators))(SimpleName:size)))))(ExpressionStatement(Assignment(SimpleName:calculate_count)(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(SimpleType(SimpleName:AtomicInteger))(NumberLiteral:0))))(ForStatement(VariableDeclarationExpression(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:i)(NumberLiteral:0)))(InfixExpression(SimpleName:i)(INFIX_EXPRESSION_OPERATOR:<)(SimpleName:p))(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:++)(SimpleName:i))(Block(VariableDeclarationStatement(Modifier:final)(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:g)(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(QualifiedName:state.group_count))(SimpleName:get)(METHOD_INVOCATION_ARGUMENTS(SimpleName:i)))(INFIX_EXPRESSION_OPERATOR:+)(NumberLiteral:1))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:priority_tree))(SimpleName:insert)(METHOD_INVOCATION_ARGUMENTS(SimpleName:i))))(ExpressionStatement(Assignment(ArrayAccess(SimpleName:order_tree)(SimpleName:i))(ASSIGNMENT_OPERATOR:=)(ArrayCreation(ArrayType(SimpleType(SimpleName:VBETree))(Dimension(SimpleName:g))))))(ExpressionStatement(Assignment(ArrayAccess(FieldAccess(ThisExpression)(SimpleName:calculators))(SimpleName:i))(ASSIGNMENT_OPERATOR:=)(ArrayCreation(ArrayType(SimpleType(SimpleName:OrderedCalculator))(Dimension(SimpleName:g))(Dimension)(Dimension)))))(ForStatement(VariableDeclarationExpression(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:j)(NumberLiteral:0)))(InfixExpression(SimpleName:j)(INFIX_EXPRESSION_OPERATOR:<)(SimpleName:g))(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:++)(SimpleName:j))(Block(VariableDeclarationStatement(Modifier:final)(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:o)(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(QualifiedName:state.order_count))(SimpleName:get)(METHOD_INVOCATION_ARGUMENTS(ClassInstanceCreation(SimpleType(SimpleName:OrderKey))(SimpleName:i)(SimpleName:j))))(INFIX_EXPRESSION_OPERATOR:+)(NumberLiteral:1))))(ExpressionStatement(Assignment(ArrayAccess(ArrayAccess(SimpleName:order_tree)(SimpleName:i))(SimpleName:j))(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:VBETree))(SimpleName:create)(METHOD_INVOCATION_ARGUMENTS(SimpleName:o)))))(ExpressionStatement(Assignment(ArrayAccess(ArrayAccess(FieldAccess(ThisExpression)(SimpleName:calculators))(SimpleName:i))(SimpleName:j))(ASSIGNMENT_OPERATOR:=)(ArrayCreation(ArrayType(SimpleType(SimpleName:OrderedCalculator))(Dimension(SimpleName:o))(Dimension)))))(ForStatement(VariableDeclarationExpression(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:k)(NumberLiteral:0)))(InfixExpression(SimpleName:k)(INFIX_EXPRESSION_OPERATOR:<)(SimpleName:o))(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:++)(SimpleName:k))(Block(VariableDeclarationStatement(Modifier:final)(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:n)(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(QualifiedName:state.number_count))(SimpleName:get)(METHOD_INVOCATION_ARGUMENTS(ClassInstanceCreation(SimpleType(SimpleName:NumberKey))(SimpleName:i)(SimpleName:j)(SimpleName:k))))(INFIX_EXPRESSION_OPERATOR:+)(NumberLiteral:1))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(ArrayAccess(ArrayAccess(SimpleName:order_tree)(SimpleName:i))(SimpleName:j)))(SimpleName:insert)(METHOD_INVOCATION_ARGUMENTS(SimpleName:k))))(ExpressionStatement(Assignment(ArrayAccess(ArrayAccess(ArrayAccess(FieldAccess(ThisExpression)(SimpleName:calculators))(SimpleName:i))(SimpleName:j))(SimpleName:k))(ASSIGNMENT_OPERATOR:=)(ArrayCreation(ArrayType(SimpleType(SimpleName:OrderedCalculator))(Dimension(SimpleName:n))))))(IfStatement(InfixExpression(SimpleName:listener)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:listener))(SimpleName:increaseCalculators)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:6)(SimpleName:n)))))))))))(EnhancedForStatement(SingleVariableDeclaration(Modifier:final)(SimpleType(SimpleName:OrderedCalculator))(SimpleName:c))(QualifiedName:state.ordered_calculators)(ExpressionStatement(Assignment(ArrayAccess(ArrayAccess(ArrayAccess(ArrayAccess(FieldAccess(ThisExpression)(SimpleName:calculators))(QualifiedName:c.priority))(QualifiedName:c.group))(QualifiedName:c.order))(QualifiedName:c.number))(ASSIGNMENT_OPERATOR:=)(SimpleName:c))))(ExpressionStatement(Assignment(SimpleName:listeners)(ASSIGNMENT_OPERATOR:=)(ArrayCreation(ArrayType(SimpleType(SimpleName:SimulationListener))(Dimension(NumberLiteral:0))))))(ExpressionStatement(Assignment(SimpleName:listener_lock)(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(SimpleType(SimpleName:AtomicBoolean))(BooleanLiteral:false))))(ExpressionStatement(Assignment(SimpleName:shutdown)(ASSIGNMENT_OPERATOR:=)(BooleanLiteral:false)))(ExpressionStatement(Assignment(SimpleName:parent)(ASSIGNMENT_OPERATOR:=)(NullLiteral)))(ExpressionStatement(Assignment(SimpleName:workers)(ASSIGNMENT_OPERATOR:=)(ArrayCreation(ArrayType(SimpleType(SimpleName:Thread))(Dimension(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Runtime))(SimpleName:getRuntime)))(SimpleName:availableProcessors)))))))(ExpressionStatement(Assignment(SimpleName:suspended)(ASSIGNMENT_OPERATOR:=)(ArrayCreation(ArrayType(SimpleType(SimpleName:AtomicBoolean))(Dimension(QualifiedName:workers.length))))))(ForStatement(VariableDeclarationExpression(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:i)(NumberLiteral:0)))(InfixExpression(SimpleName:i)(INFIX_EXPRESSION_OPERATOR:<)(QualifiedName:workers.length))(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:++)(SimpleName:i))(Block(ExpressionStatement(Assignment(ArrayAccess(SimpleName:suspended)(SimpleName:i))(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(SimpleType(SimpleName:AtomicBoolean))(BooleanLiteral:true))))(ExpressionStatement(Assignment(ArrayAccess(SimpleName:workers)(SimpleName:i))(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(SimpleType(SimpleName:Thread))(ClassInstanceCreation(SimpleType(SimpleName:Worker))(SimpleName:i)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(ArrayAccess(SimpleName:workers)(SimpleName:i)))(SimpleName:setDaemon)(METHOD_INVOCATION_ARGUMENTS(BooleanLiteral:true))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(ArrayAccess(SimpleName:workers)(SimpleName:i)))(SimpleName:start)))))))))