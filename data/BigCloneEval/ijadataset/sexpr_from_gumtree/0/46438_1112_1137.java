(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:public)(Modifier:static)(PrimitiveType:void)(SimpleName:regularize)(SingleVariableDeclaration(SimpleType(SimpleName:CoordinateTransform))(SimpleName:t))(SingleVariableDeclaration(PrimitiveType:int)(SimpleName:index))(Block(IfStatement(InfixExpression(InstanceofExpression(SimpleName:t)(SimpleType(SimpleName:AffineModel2D)))(INFIX_EXPRESSION_OPERATOR:||)(InstanceofExpression(SimpleName:t)(SimpleType(SimpleName:SimilarityModel2D))))(Block(VariableDeclarationStatement(Modifier:final)(SimpleType(SimpleName:AffineTransform))(VariableDeclarationFragment(SimpleName:a)(ConditionalExpression(ParenthesizedExpression(InstanceofExpression(SimpleName:t)(SimpleType(SimpleName:AffineModel2D))))(MethodInvocation(METHOD_INVOCATION_RECEIVER(ParenthesizedExpression(CastExpression(SimpleType(SimpleName:AffineModel2D))(SimpleName:t))))(SimpleName:createAffine))(MethodInvocation(METHOD_INVOCATION_RECEIVER(ParenthesizedExpression(CastExpression(SimpleType(SimpleName:SimilarityModel2D))(SimpleName:t))))(SimpleName:createAffine)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:a))(SimpleName:translate)(METHOD_INVOCATION_ARGUMENTS(ArrayAccess(SimpleName:centerX)(SimpleName:index))(ArrayAccess(SimpleName:centerY)(SimpleName:index)))))(VariableDeclarationStatement(Modifier:final)(PrimitiveType:double)(VariableDeclarationFragment(SimpleName:a11)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:a))(SimpleName:getScaleX))))(VariableDeclarationStatement(Modifier:final)(PrimitiveType:double)(VariableDeclarationFragment(SimpleName:a21)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:a))(SimpleName:getShearY))))(VariableDeclarationStatement(Modifier:final)(PrimitiveType:double)(VariableDeclarationFragment(SimpleName:scaleX)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Math))(SimpleName:sqrt)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(InfixExpression(SimpleName:a11)(INFIX_EXPRESSION_OPERATOR:*)(SimpleName:a11))(INFIX_EXPRESSION_OPERATOR:+)(InfixExpression(SimpleName:a21)(INFIX_EXPRESSION_OPERATOR:*)(SimpleName:a21)))))))(VariableDeclarationStatement(Modifier:final)(PrimitiveType:double)(VariableDeclarationFragment(SimpleName:rotang)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Math))(SimpleName:atan2)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(SimpleName:a21)(INFIX_EXPRESSION_OPERATOR:/)(SimpleName:scaleX))(InfixExpression(SimpleName:a11)(INFIX_EXPRESSION_OPERATOR:/)(SimpleName:scaleX))))))(VariableDeclarationStatement(Modifier:final)(PrimitiveType:double)(VariableDeclarationFragment(SimpleName:a12)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:a))(SimpleName:getShearX))))(VariableDeclarationStatement(Modifier:final)(PrimitiveType:double)(VariableDeclarationFragment(SimpleName:a22)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:a))(SimpleName:getScaleY))))(VariableDeclarationStatement(Modifier:final)(PrimitiveType:double)(VariableDeclarationFragment(SimpleName:shearX)(InfixExpression(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Math))(SimpleName:cos)(METHOD_INVOCATION_ARGUMENTS(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:-)(SimpleName:rotang))))(INFIX_EXPRESSION_OPERATOR:*)(SimpleName:a12))(INFIX_EXPRESSION_OPERATOR:-)(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Math))(SimpleName:sin)(METHOD_INVOCATION_ARGUMENTS(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:-)(SimpleName:rotang))))(INFIX_EXPRESSION_OPERATOR:*)(SimpleName:a22)))))(VariableDeclarationStatement(Modifier:final)(PrimitiveType:double)(VariableDeclarationFragment(SimpleName:scaleY)(InfixExpression(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Math))(SimpleName:sin)(METHOD_INVOCATION_ARGUMENTS(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:-)(SimpleName:rotang))))(INFIX_EXPRESSION_OPERATOR:*)(SimpleName:a12))(INFIX_EXPRESSION_OPERATOR:+)(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Math))(SimpleName:cos)(METHOD_INVOCATION_ARGUMENTS(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:-)(SimpleName:rotang))))(INFIX_EXPRESSION_OPERATOR:*)(SimpleName:a22)))))(VariableDeclarationStatement(Modifier:final)(PrimitiveType:double)(VariableDeclarationFragment(SimpleName:transX)(InfixExpression(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Math))(SimpleName:cos)(METHOD_INVOCATION_ARGUMENTS(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:-)(SimpleName:rotang))))(INFIX_EXPRESSION_OPERATOR:*)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:a))(SimpleName:getTranslateX)))(INFIX_EXPRESSION_OPERATOR:-)(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Math))(SimpleName:sin)(METHOD_INVOCATION_ARGUMENTS(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:-)(SimpleName:rotang))))(INFIX_EXPRESSION_OPERATOR:*)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:a))(SimpleName:getTranslateY))))))(VariableDeclarationStatement(Modifier:final)(PrimitiveType:double)(VariableDeclarationFragment(SimpleName:transY)(InfixExpression(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Math))(SimpleName:sin)(METHOD_INVOCATION_ARGUMENTS(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:-)(SimpleName:rotang))))(INFIX_EXPRESSION_OPERATOR:*)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:a))(SimpleName:getTranslateX)))(INFIX_EXPRESSION_OPERATOR:+)(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Math))(SimpleName:cos)(METHOD_INVOCATION_ARGUMENTS(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:-)(SimpleName:rotang))))(INFIX_EXPRESSION_OPERATOR:*)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:a))(SimpleName:getTranslateY))))))(VariableDeclarationStatement(Modifier:final)(PrimitiveType:double)(VariableDeclarationFragment(SimpleName:new_shearX)(InfixExpression(SimpleName:shearX)(INFIX_EXPRESSION_OPERATOR:*)(ParenthesizedExpression(InfixExpression(NumberLiteral:1.0)(INFIX_EXPRESSION_OPERATOR:-)(SimpleName:tweakShear))))))(VariableDeclarationStatement(Modifier:final)(PrimitiveType:double)(VariableDeclarationFragment(SimpleName:avgScale)(InfixExpression(ParenthesizedExpression(InfixExpression(SimpleName:scaleX)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:scaleY)))(INFIX_EXPRESSION_OPERATOR:/)(NumberLiteral:2))))(VariableDeclarationStatement(Modifier:final)(PrimitiveType:double)(VariableDeclarationFragment(SimpleName:aspectRatio)(InfixExpression(SimpleName:scaleX)(INFIX_EXPRESSION_OPERATOR:/)(SimpleName:scaleY))))(VariableDeclarationStatement(Modifier:final)(PrimitiveType:double)(VariableDeclarationFragment(SimpleName:regAvgScale)(InfixExpression(InfixExpression(SimpleName:avgScale)(INFIX_EXPRESSION_OPERATOR:*)(ParenthesizedExpression(InfixExpression(NumberLiteral:1.0)(INFIX_EXPRESSION_OPERATOR:-)(SimpleName:tweakScale))))(INFIX_EXPRESSION_OPERATOR:+)(InfixExpression(NumberLiteral:1.0)(INFIX_EXPRESSION_OPERATOR:*)(SimpleName:tweakScale)))))(VariableDeclarationStatement(Modifier:final)(PrimitiveType:double)(VariableDeclarationFragment(SimpleName:regAspectRatio)(InfixExpression(InfixExpression(SimpleName:aspectRatio)(INFIX_EXPRESSION_OPERATOR:*)(ParenthesizedExpression(InfixExpression(NumberLiteral:1.0)(INFIX_EXPRESSION_OPERATOR:-)(SimpleName:tweakIso))))(INFIX_EXPRESSION_OPERATOR:+)(InfixExpression(NumberLiteral:1.0)(INFIX_EXPRESSION_OPERATOR:*)(SimpleName:tweakIso)))))(VariableDeclarationStatement(Modifier:final)(PrimitiveType:double)(VariableDeclarationFragment(SimpleName:new_scaleY)(InfixExpression(ParenthesizedExpression(InfixExpression(NumberLiteral:2.0)(INFIX_EXPRESSION_OPERATOR:*)(SimpleName:regAvgScale)))(INFIX_EXPRESSION_OPERATOR:/)(ParenthesizedExpression(InfixExpression(SimpleName:regAspectRatio)(INFIX_EXPRESSION_OPERATOR:+)(NumberLiteral:1.0))))))(VariableDeclarationStatement(Modifier:final)(PrimitiveType:double)(VariableDeclarationFragment(SimpleName:new_scaleX)(InfixExpression(SimpleName:regAspectRatio)(INFIX_EXPRESSION_OPERATOR:*)(SimpleName:new_scaleY))))(VariableDeclarationStatement(Modifier:final)(SimpleType(SimpleName:AffineTransform))(VariableDeclarationFragment(SimpleName:b)(MethodInvocation(SimpleName:makeAffineMatrix)(METHOD_INVOCATION_ARGUMENTS(SimpleName:new_scaleX)(SimpleName:new_scaleY)(SimpleName:new_shearX)(NumberLiteral:0)(SimpleName:rotang)(SimpleName:transX)(SimpleName:transY)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:b))(SimpleName:translate)(METHOD_INVOCATION_ARGUMENTS(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:-)(ArrayAccess(SimpleName:centerX)(SimpleName:index)))(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:-)(ArrayAccess(SimpleName:centerY)(SimpleName:index))))))(IfStatement(InstanceofExpression(SimpleName:t)(SimpleType(SimpleName:AffineModel2D)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(ParenthesizedExpression(CastExpression(SimpleType(SimpleName:AffineModel2D))(SimpleName:t))))(SimpleName:set)(METHOD_INVOCATION_ARGUMENTS(SimpleName:b))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(ParenthesizedExpression(CastExpression(SimpleType(SimpleName:SimilarityModel2D))(SimpleName:t))))(SimpleName:set)(METHOD_INVOCATION_ARGUMENTS(CastExpression(PrimitiveType:float)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:b))(SimpleName:getScaleX)))(CastExpression(PrimitiveType:float)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:b))(SimpleName:getShearY)))(CastExpression(PrimitiveType:float)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:b))(SimpleName:getTranslateX)))(CastExpression(PrimitiveType:float)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:b))(SimpleName:getTranslateY)))))))))))))