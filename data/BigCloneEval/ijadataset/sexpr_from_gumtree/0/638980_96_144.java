(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:public)(PrimitiveType:void)(SimpleName:run)(Block(VariableDeclarationStatement(SimpleType(SimpleName:Msglet))(VariableDeclarationFragment(SimpleName:msglet)(MethodInvocation(SimpleName:getMsglet))))(IfStatement(InfixExpression(SimpleName:msglet)(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(ReturnStatement))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:n)(NumberLiteral:0)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:readLock))(SimpleName:lock)))(TryStatement(Block(ExpressionStatement(Assignment(SimpleName:n)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:channelState))(SimpleName:doRead)(METHOD_INVOCATION_ARGUMENTS(ThisExpression)(SimpleName:msglet))))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:ChannelClosedException))(SimpleName:e))(Block(ReturnStatement)))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:readLock))(SimpleName:unlock)))))(IfStatement(InfixExpression(SimpleName:n)(INFIX_EXPRESSION_OPERATOR:==)(NumberLiteral:0))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:lock))(SimpleName:lock)))(TryStatement(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:channelState))(SimpleName:interestRead)(METHOD_INVOCATION_ARGUMENTS(ThisExpression(SimpleName:Channel))))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:ChannelClosedException))(SimpleName:e))(Block(ReturnStatement)))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:lock))(SimpleName:unlock))))))(IfStatement(InfixExpression(SimpleName:n)(INFIX_EXPRESSION_OPERATOR:>)(NumberLiteral:0))(Block(VariableDeclarationStatement(PrimitiveType:boolean)(VariableDeclarationFragment(SimpleName:ok)(BooleanLiteral:false)))(VariableDeclarationStatement(SimpleType(SimpleName:ChannelMsgListener))(VariableDeclarationFragment(SimpleName:channelMsgListener)(MethodInvocation(SimpleName:getChannelMsgListener))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:lock))(SimpleName:lock)))(TryStatement(Block(IfStatement(Assignment(SimpleName:ok)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:channelState))(SimpleName:doSplitMsg)(METHOD_INVOCATION_ARGUMENTS(ThisExpression)(SimpleName:msglet))))(Block(ExpressionStatement(MethodInvocation(SimpleName:log)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:channelMsgListener))(SimpleName:onMessage)(METHOD_INVOCATION_ARGUMENTS(ThisExpression(SimpleName:Channel))(SimpleName:dataList)))))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:ChannelClosedException))(SimpleName:e))(Block(ReturnStatement)))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:Exception))(SimpleName:e))(Block(ExpressionStatement(Assignment(SimpleName:ok)(ASSIGNMENT_OPERATOR:=)(BooleanLiteral:false)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:log))(SimpleName:error)(METHOD_INVOCATION_ARGUMENTS(SimpleName:e)(StringLiteral:<STR>)(ThisExpression(SimpleName:Channel)))))))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:dataList))(SimpleName:clear)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:lock))(SimpleName:unlock)))))(IfStatement(SimpleName:ok)(Block(TryStatement(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:channelMsgListener))(SimpleName:onMessageComplete)(METHOD_INVOCATION_ARGUMENTS(ThisExpression(SimpleName:Channel))))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:Exception))(SimpleName:e))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(ThisExpression(SimpleName:Channel)))(SimpleName:close)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:log))(SimpleName:error)(METHOD_INVOCATION_ARGUMENTS(SimpleName:e)(StringLiteral:<STR>)(ThisExpression(SimpleName:Channel)))))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(ThisExpression(SimpleName:Channel)))(SimpleName:close)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(ThisExpression(SimpleName:Channel)))(SimpleName:close)))))))))