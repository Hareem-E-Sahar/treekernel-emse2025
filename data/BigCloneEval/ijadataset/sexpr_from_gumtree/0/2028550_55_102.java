(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:public)(SimpleType(SimpleName:Resource))(SimpleName:readResource)(SingleVariableDeclaration(SimpleType(SimpleName:URL))(SimpleName:url))(SingleVariableDeclaration(SimpleType(SimpleName:ResourceManager))(SimpleName:resourceManager))(SimpleType(SimpleName:NAFException))(Block(VariableDeclarationStatement(SimpleType(SimpleName:XMLResource))(VariableDeclarationFragment(SimpleName:resource)(ClassInstanceCreation(SimpleType(SimpleName:XMLResource))(SimpleName:resourceManager)(SimpleName:url))))(VariableDeclarationStatement(SimpleType(SimpleName:InputStream))(VariableDeclarationFragment(SimpleName:in)(NullLiteral)))(TryStatement(Block(ExpressionStatement(Assignment(SimpleName:in)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:url))(SimpleName:openStream))))(VariableDeclarationStatement(ParameterizedType(SimpleType(SimpleName:ArrayList))(SimpleType(SimpleName:Transformer)))(VariableDeclarationFragment(SimpleName:trList)(NullLiteral)))(VariableDeclarationStatement(SimpleType(SimpleName:Document))(VariableDeclarationFragment(SimpleName:doc)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:docbuilder))(SimpleName:parse)(METHOD_INVOCATION_ARGUMENTS(SimpleName:in)))))(ForStatement(VariableDeclarationExpression(SimpleType(SimpleName:Node))(VariableDeclarationFragment(SimpleName:n)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:doc))(SimpleName:getFirstChild))))(InfixExpression(SimpleName:n)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Assignment(SimpleName:n)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:n))(SimpleName:getNextSibling)))(Block(IfStatement(InfixExpression(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:n))(SimpleName:getNodeType))(INFIX_EXPRESSION_OPERATOR:==)(QualifiedName:Node.PROCESSING_INSTRUCTION_NODE))(INFIX_EXPRESSION_OPERATOR:&&)(MethodInvocation(METHOD_INVOCATION_RECEIVER(StringLiteral:<STR>))(SimpleName:equals)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:n))(SimpleName:getNodeName)))))(Block(VariableDeclarationStatement(SimpleType(SimpleName:ProcessingInstruction))(VariableDeclarationFragment(SimpleName:pi)(CastExpression(SimpleType(SimpleName:ProcessingInstruction))(SimpleName:n))))(VariableDeclarationStatement(ParameterizedType(SimpleType(SimpleName:Map))(SimpleType(SimpleName:String))(SimpleType(SimpleName:String)))(VariableDeclarationFragment(SimpleName:attrs)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:DOMUtil))(SimpleName:parseProcessingInstructionAttributes)(METHOD_INVOCATION_ARGUMENTS(SimpleName:pi)))))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(StringLiteral:<STR>))(SimpleName:equals)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:attrs))(SimpleName:get)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))))(Block(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:href)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:attrs))(SimpleName:get)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))))(IfStatement(InfixExpression(SimpleName:href)(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(ThrowStatement(ClassInstanceCreation(SimpleType(SimpleName:NAFException))(StringLiteral:<STR>))))(TryStatement(Block(VariableDeclarationStatement(SimpleType(SimpleName:Transformer))(VariableDeclarationFragment(SimpleName:t)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:styleManager))(SimpleName:createTransformer)(METHOD_INVOCATION_ARGUMENTS(ClassInstanceCreation(SimpleType(SimpleName:URL))(SimpleName:url)(SimpleName:href))))))(IfStatement(InfixExpression(SimpleName:trList)(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(ExpressionStatement(Assignment(SimpleName:trList)(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(ParameterizedType(SimpleType(SimpleName:ArrayList))(SimpleType(SimpleName:Transformer)))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:trList))(SimpleName:add)(METHOD_INVOCATION_ARGUMENTS(SimpleName:t)))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:Exception))(SimpleName:ex))(Block(ThrowStatement(ClassInstanceCreation(SimpleType(SimpleName:NAFException))(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:href)(StringLiteral:<STR>)))))))))))))(IfStatement(InfixExpression(SimpleName:trList)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(EnhancedForStatement(SingleVariableDeclaration(SimpleType(SimpleName:Transformer))(SimpleName:t))(SimpleName:trList)(Block(ExpressionStatement(Assignment(SimpleName:doc)(ASSIGNMENT_OPERATOR:=)(CastExpression(SimpleType(SimpleName:Document))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:styleManager))(SimpleName:transform)(METHOD_INVOCATION_ARGUMENTS(SimpleName:t)(SimpleName:doc))))))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:LOGGER_DUMP))(SimpleName:isDebugEnabled))(Block(VariableDeclarationStatement(SimpleType(SimpleName:StringWriter))(VariableDeclarationFragment(SimpleName:swr)(ClassInstanceCreation(SimpleType(SimpleName:StringWriter)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:DOMUtil))(SimpleName:dumpNode)(METHOD_INVOCATION_ARGUMENTS(SimpleName:doc)(SimpleName:swr))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:LOGGER_DUMP))(SimpleName:debug)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:swr)(StringLiteral:<STR>)))))))))))(VariableDeclarationStatement(SimpleType(SimpleName:Element))(VariableDeclarationFragment(SimpleName:rootE)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:doc))(SimpleName:getDocumentElement))))(IfStatement(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:NAF_NAMESPACE_URI))(SimpleName:equals)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:rootE))(SimpleName:getNamespaceURI)))))(ThrowStatement(ClassInstanceCreation(SimpleType(SimpleName:NAFException))(StringLiteral:<STR>))))(VariableDeclarationStatement(SimpleType(SimpleName:Object))(VariableDeclarationFragment(SimpleName:comp)(MethodInvocation(SimpleName:createComponent)(METHOD_INVOCATION_ARGUMENTS(SimpleName:rootE)(SimpleName:resource)(NullLiteral)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:resource))(SimpleName:setRootObject)(METHOD_INVOCATION_ARGUMENTS(SimpleName:comp))))(ReturnStatement(SimpleName:resource)))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:Exception))(SimpleName:ex))(Block(ThrowStatement(ClassInstanceCreation(SimpleType(SimpleName:NAFException))(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:url))(SimpleName:toExternalForm))(StringLiteral:<STR>))(SimpleName:ex)))))(Block(IfStatement(InfixExpression(SimpleName:in)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(TryStatement(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:in))(SimpleName:close))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:Exception))(SimpleName:ignored))(Block))))))))))