(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:public)(SimpleType(SimpleName:HttpStream))(SimpleName:getStream)(SingleVariableDeclaration(SimpleType(SimpleName:URI))(SimpleName:uri))(SingleVariableDeclaration(SimpleType(SimpleName:Date))(SimpleName:lastModifiedDate))(SingleVariableDeclaration(SimpleType(SimpleName:String))(SimpleName:eTag))(SingleVariableDeclaration(PrimitiveType:boolean)(SimpleName:deltaEncoding))(SimpleType(SimpleName:HttpException))(Block(VariableDeclarationStatement(SimpleType(SimpleName:HttpStream))(VariableDeclarationFragment(SimpleName:stream)(NullLiteral)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:logManager))(SimpleName:addLog)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:LogLevel.VERBOSE)(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:uri)))))(VariableDeclarationStatement(Modifier:final)(SimpleType(SimpleName:HttpHost))(VariableDeclarationFragment(SimpleName:target)(ClassInstanceCreation(SimpleType(SimpleName:HttpHost))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:uri))(SimpleName:getHost))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:uri))(SimpleName:getPort))(StringLiteral:<STR>))))(TryStatement(Block(VariableDeclarationStatement(Modifier:final)(SimpleType(SimpleName:HttpRequest))(VariableDeclarationFragment(SimpleName:req)(ClassInstanceCreation(SimpleType(SimpleName:HttpGet))(SimpleName:uri))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:req))(SimpleName:setHeader)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(StringLiteral:<STR>))))(IfStatement(InfixExpression(SimpleName:eTag)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:req))(SimpleName:setHeader)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(SimpleName:eTag)))))(IfStatement(InfixExpression(SimpleName:lastModifiedDate)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:req))(SimpleName:setHeader)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:DateUtils))(SimpleName:formatDate)(METHOD_INVOCATION_ARGUMENTS(SimpleName:lastModifiedDate)))))))(IfStatement(SimpleName:deltaEncoding)(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:req))(SimpleName:setHeader)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(StringLiteral:<STR>)))))(VariableDeclarationStatement(Modifier:final)(SimpleType(SimpleName:HttpResponse))(VariableDeclarationFragment(SimpleName:response)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:client))(SimpleName:execute)(METHOD_INVOCATION_ARGUMENTS(SimpleName:target)(SimpleName:req)))))(IfStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:response))(SimpleName:getStatusLine)))(SimpleName:getStatusCode))(INFIX_EXPRESSION_OPERATOR:!=)(QualifiedName:HttpStatus.SC_OK))(ThrowStatement(ClassInstanceCreation(SimpleType(SimpleName:HttpServerException))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:response))(SimpleName:getStatusLine)))))(ExpressionStatement(Assignment(SimpleName:stream)(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(SimpleType(SimpleName:HttpStream))(SimpleName:response)))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:ClientProtocolException))(SimpleName:exception))(Block(ThrowStatement(ClassInstanceCreation(SimpleType(SimpleName:HttpException))(SimpleName:exception)))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:IOException))(SimpleName:exception))(Block(ThrowStatement(ClassInstanceCreation(SimpleType(SimpleName:HttpException))(SimpleName:exception))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:logManager))(SimpleName:addLog)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:LogLevel.VERBOSE)(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:uri)))))(ReturnStatement(SimpleName:stream))))))