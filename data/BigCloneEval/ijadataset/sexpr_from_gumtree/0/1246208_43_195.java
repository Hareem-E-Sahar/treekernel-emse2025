(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:public)(PrimitiveType:void)(SimpleName:run)(SingleVariableDeclaration(SimpleType(SimpleName:ServletConfig))(SimpleName:servcon))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Log))(SimpleName:info)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))(VariableDeclarationStatement(SimpleType(SimpleName:DBConnection))(VariableDeclarationFragment(SimpleName:dbconn)(NullLiteral)))(TryStatement(Block(VariableDeclarationStatement(SimpleType(SimpleName:List))(VariableDeclarationFragment(SimpleName:l)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:DBMoleculePeer))(SimpleName:executeQuery)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))))(VariableDeclarationStatement(SimpleType(SimpleName:File))(VariableDeclarationFragment(SimpleName:outputFile)(ClassInstanceCreation(SimpleType(SimpleName:File))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ServletUtils))(SimpleName:expandRelative)(METHOD_INVOCATION_ARGUMENTS(SimpleName:servcon)(StringLiteral:<STR>))))))(VariableDeclarationStatement(SimpleType(SimpleName:File))(VariableDeclarationFragment(SimpleName:outputFileCml)(ClassInstanceCreation(SimpleType(SimpleName:File))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ServletUtils))(SimpleName:expandRelative)(METHOD_INVOCATION_ARGUMENTS(SimpleName:servcon)(StringLiteral:<STR>))))))(VariableDeclarationStatement(SimpleType(SimpleName:File))(VariableDeclarationFragment(SimpleName:outputFileWithSignals)(ClassInstanceCreation(SimpleType(SimpleName:File))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ServletUtils))(SimpleName:expandRelative)(METHOD_INVOCATION_ARGUMENTS(SimpleName:servcon)(StringLiteral:<STR>))))))(VariableDeclarationStatement(SimpleType(SimpleName:File))(VariableDeclarationFragment(SimpleName:outputFile3d)(ClassInstanceCreation(SimpleType(SimpleName:File))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ServletUtils))(SimpleName:expandRelative)(METHOD_INVOCATION_ARGUMENTS(SimpleName:servcon)(StringLiteral:<STR>))))))(VariableDeclarationStatement(SimpleType(SimpleName:File))(VariableDeclarationFragment(SimpleName:outputFileCml3d)(ClassInstanceCreation(SimpleType(SimpleName:File))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ServletUtils))(SimpleName:expandRelative)(METHOD_INVOCATION_ARGUMENTS(SimpleName:servcon)(StringLiteral:<STR>))))))(VariableDeclarationStatement(SimpleType(SimpleName:File))(VariableDeclarationFragment(SimpleName:outputFileWithSignals3d)(ClassInstanceCreation(SimpleType(SimpleName:File))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ServletUtils))(SimpleName:expandRelative)(METHOD_INVOCATION_ARGUMENTS(SimpleName:servcon)(StringLiteral:<STR>))))))(VariableDeclarationStatement(SimpleType(SimpleName:FileOutputStream))(VariableDeclarationFragment(SimpleName:baos)(ClassInstanceCreation(SimpleType(SimpleName:FileOutputStream))(SimpleName:outputFile))))(VariableDeclarationStatement(SimpleType(SimpleName:ZipOutputStream))(VariableDeclarationFragment(SimpleName:zipout)(ClassInstanceCreation(SimpleType(SimpleName:ZipOutputStream))(SimpleName:baos))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:zipout))(SimpleName:putNextEntry)(METHOD_INVOCATION_ARGUMENTS(ClassInstanceCreation(SimpleType(SimpleName:ZipEntry))(StringLiteral:<STR>)))))(VariableDeclarationStatement(SimpleType(SimpleName:FileOutputStream))(VariableDeclarationFragment(SimpleName:baossig)(ClassInstanceCreation(SimpleType(SimpleName:FileOutputStream))(SimpleName:outputFileWithSignals))))(VariableDeclarationStatement(SimpleType(SimpleName:ZipOutputStream))(VariableDeclarationFragment(SimpleName:zipoutwithsignals)(ClassInstanceCreation(SimpleType(SimpleName:ZipOutputStream))(SimpleName:baossig))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:zipoutwithsignals))(SimpleName:putNextEntry)(METHOD_INVOCATION_ARGUMENTS(ClassInstanceCreation(SimpleType(SimpleName:ZipEntry))(StringLiteral:<STR>)))))(VariableDeclarationStatement(SimpleType(SimpleName:FileOutputStream))(VariableDeclarationFragment(SimpleName:baoscml)(ClassInstanceCreation(SimpleType(SimpleName:FileOutputStream))(SimpleName:outputFileCml))))(VariableDeclarationStatement(SimpleType(SimpleName:ZipOutputStream))(VariableDeclarationFragment(SimpleName:zipoutcml)(ClassInstanceCreation(SimpleType(SimpleName:ZipOutputStream))(SimpleName:baoscml))))(VariableDeclarationStatement(SimpleType(SimpleName:FileOutputStream))(VariableDeclarationFragment(SimpleName:baos3d)(ClassInstanceCreation(SimpleType(SimpleName:FileOutputStream))(SimpleName:outputFile3d))))(VariableDeclarationStatement(SimpleType(SimpleName:ZipOutputStream))(VariableDeclarationFragment(SimpleName:zipout3d)(ClassInstanceCreation(SimpleType(SimpleName:ZipOutputStream))(SimpleName:baos3d))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:zipout3d))(SimpleName:putNextEntry)(METHOD_INVOCATION_ARGUMENTS(ClassInstanceCreation(SimpleType(SimpleName:ZipEntry))(StringLiteral:<STR>)))))(VariableDeclarationStatement(SimpleType(SimpleName:FileOutputStream))(VariableDeclarationFragment(SimpleName:baossig3d)(ClassInstanceCreation(SimpleType(SimpleName:FileOutputStream))(SimpleName:outputFileWithSignals3d))))(VariableDeclarationStatement(SimpleType(SimpleName:ZipOutputStream))(VariableDeclarationFragment(SimpleName:zipoutwithsignals3d)(ClassInstanceCreation(SimpleType(SimpleName:ZipOutputStream))(SimpleName:baossig3d))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:zipoutwithsignals3d))(SimpleName:putNextEntry)(METHOD_INVOCATION_ARGUMENTS(ClassInstanceCreation(SimpleType(SimpleName:ZipEntry))(StringLiteral:<STR>)))))(VariableDeclarationStatement(SimpleType(SimpleName:FileOutputStream))(VariableDeclarationFragment(SimpleName:baoscml3d)(ClassInstanceCreation(SimpleType(SimpleName:FileOutputStream))(SimpleName:outputFileCml3d))))(VariableDeclarationStatement(SimpleType(SimpleName:ZipOutputStream))(VariableDeclarationFragment(SimpleName:zipoutcml3d)(ClassInstanceCreation(SimpleType(SimpleName:ZipOutputStream))(SimpleName:baoscml3d))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:zipoutcml))(SimpleName:putNextEntry)(METHOD_INVOCATION_ARGUMENTS(ClassInstanceCreation(SimpleType(SimpleName:ZipEntry))(StringLiteral:<STR>)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:zipoutcml3d))(SimpleName:putNextEntry)(METHOD_INVOCATION_ARGUMENTS(ClassInstanceCreation(SimpleType(SimpleName:ZipEntry))(StringLiteral:<STR>)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:zipoutcml))(SimpleName:write)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(ClassInstanceCreation(SimpleType(SimpleName:String))(StringLiteral:<STR>)))(SimpleName:getBytes)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:zipoutcml3d))(SimpleName:write)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(ClassInstanceCreation(SimpleType(SimpleName:String))(StringLiteral:<STR>)))(SimpleName:getBytes)))))(VariableDeclarationStatement(SimpleType(SimpleName:TransformerFactory))(VariableDeclarationFragment(SimpleName:tFactory)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:TransformerFactory))(SimpleName:newInstance))))(VariableDeclarationStatement(SimpleType(SimpleName:Transformer))(VariableDeclarationFragment(SimpleName:transformer)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:tFactory))(SimpleName:newTransformer))))(VariableDeclarationStatement(SimpleType(SimpleName:Vector))(VariableDeclarationFragment(SimpleName:conditiontypes)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:DBConditionTypePeer))(SimpleName:doSelect)(METHOD_INVOCATION_ARGUMENTS(ClassInstanceCreation(SimpleType(SimpleName:Criteria)))))))(ExpressionStatement(Assignment(SimpleName:dbconn)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:TurbineDB))(SimpleName:getConnection))))(VariableDeclarationStatement(SimpleType(SimpleName:Statement))(VariableDeclarationFragment(SimpleName:stmt)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:dbconn))(SimpleName:createStatement))))(ForStatement(VariableDeclarationExpression(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:i)(NumberLiteral:0)))(InfixExpression(SimpleName:i)(INFIX_EXPRESSION_OPERATOR:<)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:l))(SimpleName:size)))(PostfixExpression(SimpleName:i)(POSTFIX_EXPRESSION_OPERATOR:++))(Block(TryStatement(Block(VariableDeclarationStatement(SimpleType(SimpleName:DBMolecule))(VariableDeclarationFragment(SimpleName:mol)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:DBMoleculePeer))(SimpleName:retrieveByPK)(METHOD_INVOCATION_ARGUMENTS(ClassInstanceCreation(SimpleType(SimpleName:NumberKey))(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(ParenthesizedExpression(CastExpression(SimpleType(SimpleName:Record))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:l))(SimpleName:get)(METHOD_INVOCATION_ARGUMENTS(SimpleName:i))))))(SimpleName:getValue)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:1))))(SimpleName:asString)))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:zipout))(SimpleName:write)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:mol))(SimpleName:getStructureFile)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:1)(BooleanLiteral:true))))(SimpleName:getBytes)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:zipout))(SimpleName:write)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(ClassInstanceCreation(SimpleType(SimpleName:String))(StringLiteral:<STR>)))(SimpleName:getBytes)))))(VariableDeclarationStatement(SimpleType(SimpleName:IMolecule))(VariableDeclarationFragment(SimpleName:cdkmol)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:mol))(SimpleName:getAsCDKMolecule)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:1)))))(VariableDeclarationStatement(SimpleType(SimpleName:HashMap))(VariableDeclarationFragment(SimpleName:map)(ClassInstanceCreation(SimpleType(SimpleName:HashMap)))))(VariableDeclarationStatement(SimpleType(SimpleName:Vector))(VariableDeclarationFragment(SimpleName:spectra)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:mol))(SimpleName:selectSpectra))))(ForStatement(VariableDeclarationExpression(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:m)(NumberLiteral:0)))(InfixExpression(SimpleName:m)(INFIX_EXPRESSION_OPERATOR:<)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:conditiontypes))(SimpleName:size)))(PostfixExpression(SimpleName:m)(POSTFIX_EXPRESSION_OPERATOR:++))(Block(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:ctid)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(ParenthesizedExpression(CastExpression(SimpleType(SimpleName:DBConditionType))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:conditiontypes))(SimpleName:get)(METHOD_INVOCATION_ARGUMENTS(SimpleName:m))))))(SimpleName:getConditionTypeId)))(SimpleName:toString))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:ctname)(MethodInvocation(METHOD_INVOCATION_RECEIVER(ParenthesizedExpression(CastExpression(SimpleType(SimpleName:DBConditionType))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:conditiontypes))(SimpleName:get)(METHOD_INVOCATION_ARGUMENTS(SimpleName:m))))))(SimpleName:getConditionName))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:sql)(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:mol))(SimpleName:getMoleculeId))(StringLiteral:<STR>)(SimpleName:ctid)(StringLiteral:<STR>))))(VariableDeclarationStatement(SimpleType(SimpleName:ResultSet))(VariableDeclarationFragment(SimpleName:rs)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:stmt))(SimpleName:executeQuery)(METHOD_INVOCATION_ARGUMENTS(SimpleName:sql)))))(VariableDeclarationStatement(SimpleType(SimpleName:StringBuffer))(VariableDeclarationFragment(SimpleName:valuesline)(ClassInstanceCreation(SimpleType(SimpleName:StringBuffer)))))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:n)(NumberLiteral:0)))(WhileStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:rs))(SimpleName:next))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:valuesline))(SimpleName:append)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(SimpleName:n)(INFIX_EXPRESSION_OPERATOR:+)(StringLiteral:<STR>)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:rs))(SimpleName:getString)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:1)))(StringLiteral:<STR>)))))(ExpressionStatement(PostfixExpression(SimpleName:n)(POSTFIX_EXPRESSION_OPERATOR:++)))))(IfStatement(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:valuesline))(SimpleName:toString)))(SimpleName:equals)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:map))(SimpleName:put)(METHOD_INVOCATION_ARGUMENTS(SimpleName:ctname)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:valuesline))(SimpleName:toString))))))))(VariableDeclarationStatement(SimpleType(SimpleName:StringTokenizer))(VariableDeclarationFragment(SimpleName:st)(ClassInstanceCreation(SimpleType(SimpleName:StringTokenizer))(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:mol))(SimpleName:getCML)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:1))))(SimpleName:getChild)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:0))))(SimpleName:toXML))(StringLiteral:<STR>))))(WhileStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:st))(SimpleName:hasMoreTokens))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:zipoutcml))(SimpleName:write)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(ClassInstanceCreation(SimpleType(SimpleName:String))(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:st))(SimpleName:nextToken)))))(SimpleName:getBytes))))))(ForStatement(VariableDeclarationExpression(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:k)(NumberLiteral:0)))(InfixExpression(SimpleName:k)(INFIX_EXPRESSION_OPERATOR:<)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:spectra))(SimpleName:size)))(PostfixExpression(SimpleName:k)(POSTFIX_EXPRESSION_OPERATOR:++))(Block(VariableDeclarationStatement(SimpleType(SimpleName:DBSpectrum))(VariableDeclarationFragment(SimpleName:spectrum)(ParenthesizedExpression(CastExpression(SimpleType(SimpleName:DBSpectrum))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:spectra))(SimpleName:get)(METHOD_INVOCATION_ARGUMENTS(SimpleName:k)))))))(IfStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:spectrum))(SimpleName:getMark))(INFIX_EXPRESSION_OPERATOR:>)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:spectrum))(SimpleName:getDisplaymark)))(Block(ExpressionStatement(Assignment(SimpleName:st)(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(SimpleType(SimpleName:StringTokenizer))(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:spectrum))(SimpleName:getCmlSpect)))(SimpleName:getChild)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:0))))(SimpleName:toXML))(StringLiteral:<STR>))))(WhileStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:st))(SimpleName:hasMoreTokens))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:zipoutcml))(SimpleName:write)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(ClassInstanceCreation(SimpleType(SimpleName:String))(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:st))(SimpleName:nextToken)))))(SimpleName:getBytes))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:map))(SimpleName:put)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:spectrum))(SimpleName:getDBSpectrumType)))(SimpleName:getName))(StringLiteral:<STR>)(SimpleName:k))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:spectrum))(SimpleName:getSpecfile)))))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:zipoutwithsignals))(SimpleName:write)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:mol))(SimpleName:getStructureFile)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:1)(SimpleName:map)(BooleanLiteral:true))))(SimpleName:getBytes)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:zipoutwithsignals))(SimpleName:write)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(ClassInstanceCreation(SimpleType(SimpleName:String))(StringLiteral:<STR>)))(SimpleName:getBytes)))))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:mol))(SimpleName:hasCoordinates)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:2)))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:zipout3d))(SimpleName:write)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:mol))(SimpleName:getStructureFile)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:2)(BooleanLiteral:true))))(SimpleName:getBytes)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:zipout3d))(SimpleName:write)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(ClassInstanceCreation(SimpleType(SimpleName:String))(StringLiteral:<STR>)))(SimpleName:getBytes)))))(ExpressionStatement(Assignment(SimpleName:map)(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(SimpleType(SimpleName:HashMap)))))(ExpressionStatement(Assignment(SimpleName:spectra)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:mol))(SimpleName:selectSpectra))))(ForStatement(VariableDeclarationExpression(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:m)(NumberLiteral:0)))(InfixExpression(SimpleName:m)(INFIX_EXPRESSION_OPERATOR:<)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:conditiontypes))(SimpleName:size)))(PostfixExpression(SimpleName:m)(POSTFIX_EXPRESSION_OPERATOR:++))(Block(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:ctid)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(ParenthesizedExpression(CastExpression(SimpleType(SimpleName:DBConditionType))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:conditiontypes))(SimpleName:get)(METHOD_INVOCATION_ARGUMENTS(SimpleName:m))))))(SimpleName:getConditionTypeId)))(SimpleName:toString))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:ctname)(MethodInvocation(METHOD_INVOCATION_RECEIVER(ParenthesizedExpression(CastExpression(SimpleType(SimpleName:DBConditionType))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:conditiontypes))(SimpleName:get)(METHOD_INVOCATION_ARGUMENTS(SimpleName:m))))))(SimpleName:getConditionName))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:sql)(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:mol))(SimpleName:getMoleculeId))(StringLiteral:<STR>)(SimpleName:ctid)(StringLiteral:<STR>))))(VariableDeclarationStatement(SimpleType(SimpleName:ResultSet))(VariableDeclarationFragment(SimpleName:rs)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:stmt))(SimpleName:executeQuery)(METHOD_INVOCATION_ARGUMENTS(SimpleName:sql)))))(VariableDeclarationStatement(SimpleType(SimpleName:StringBuffer))(VariableDeclarationFragment(SimpleName:valuesline)(ClassInstanceCreation(SimpleType(SimpleName:StringBuffer)))))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:n)(NumberLiteral:0)))(WhileStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:rs))(SimpleName:next))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:valuesline))(SimpleName:append)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(SimpleName:n)(INFIX_EXPRESSION_OPERATOR:+)(StringLiteral:<STR>)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:rs))(SimpleName:getString)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:1)))(StringLiteral:<STR>)))))(ExpressionStatement(PostfixExpression(SimpleName:n)(POSTFIX_EXPRESSION_OPERATOR:++)))))(IfStatement(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:valuesline))(SimpleName:toString)))(SimpleName:equals)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:map))(SimpleName:put)(METHOD_INVOCATION_ARGUMENTS(SimpleName:ctname)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:valuesline))(SimpleName:toString))))))))(ExpressionStatement(Assignment(SimpleName:st)(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(SimpleType(SimpleName:StringTokenizer))(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:mol))(SimpleName:getCML)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:2))))(SimpleName:getChild)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:0))))(SimpleName:toXML))(StringLiteral:<STR>))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:st))(SimpleName:nextToken)))(WhileStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:st))(SimpleName:hasMoreTokens))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:zipoutcml3d))(SimpleName:write)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(ClassInstanceCreation(SimpleType(SimpleName:String))(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:st))(SimpleName:nextToken)))))(SimpleName:getBytes))))))(ForStatement(VariableDeclarationExpression(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:k)(NumberLiteral:0)))(InfixExpression(SimpleName:k)(INFIX_EXPRESSION_OPERATOR:<)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:spectra))(SimpleName:size)))(PostfixExpression(SimpleName:k)(POSTFIX_EXPRESSION_OPERATOR:++))(Block(VariableDeclarationStatement(SimpleType(SimpleName:DBSpectrum))(VariableDeclarationFragment(SimpleName:spectrum)(ParenthesizedExpression(CastExpression(SimpleType(SimpleName:DBSpectrum))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:spectra))(SimpleName:get)(METHOD_INVOCATION_ARGUMENTS(SimpleName:k)))))))(IfStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:spectrum))(SimpleName:getMark))(INFIX_EXPRESSION_OPERATOR:>)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:spectrum))(SimpleName:getDisplaymark)))(Block(ExpressionStatement(Assignment(SimpleName:st)(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(SimpleType(SimpleName:StringTokenizer))(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:spectrum))(SimpleName:getCmlSpect)))(SimpleName:getChild)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:0))))(SimpleName:toXML))(StringLiteral:<STR>))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:st))(SimpleName:nextToken)))(WhileStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:st))(SimpleName:hasMoreTokens))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:zipoutcml3d))(SimpleName:write)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(ClassInstanceCreation(SimpleType(SimpleName:String))(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:st))(SimpleName:nextToken)))))(SimpleName:getBytes))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:map))(SimpleName:put)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:spectrum))(SimpleName:getDBSpectrumType)))(SimpleName:getName))(StringLiteral:<STR>)(SimpleName:k))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:spectrum))(SimpleName:getSpecfile)))))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:zipoutwithsignals3d))(SimpleName:write)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:mol))(SimpleName:getStructureFile)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:2)(SimpleName:map)(BooleanLiteral:true))))(SimpleName:getBytes)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:zipoutwithsignals3d))(SimpleName:write)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(ClassInstanceCreation(SimpleType(SimpleName:String))(StringLiteral:<STR>)))(SimpleName:getBytes))))))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:Exception))(SimpleName:ex))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:GeneralUtils))(SimpleName:logError)(METHOD_INVOCATION_ARGUMENTS(SimpleName:ex)(StringLiteral:<STR>)(NullLiteral)(BooleanLiteral:false)))))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:zipoutcml))(SimpleName:write)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(ClassInstanceCreation(SimpleType(SimpleName:String))(StringLiteral:<STR>)))(SimpleName:getBytes)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:zipout))(SimpleName:closeEntry)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:zipout))(SimpleName:close)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:zipoutwithsignals))(SimpleName:closeEntry)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:zipoutwithsignals))(SimpleName:close)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:zipoutcml))(SimpleName:closeEntry)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:zipoutcml))(SimpleName:close)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:zipoutcml3d))(SimpleName:write)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(ClassInstanceCreation(SimpleType(SimpleName:String))(StringLiteral:<STR>)))(SimpleName:getBytes)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:zipout3d))(SimpleName:closeEntry)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:zipout3d))(SimpleName:close)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:zipoutwithsignals3d))(SimpleName:closeEntry)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:zipoutwithsignals3d))(SimpleName:close)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:zipoutcml3d))(SimpleName:closeEntry)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:zipoutcml3d))(SimpleName:close)))(VariableDeclarationStatement(SimpleType(SimpleName:File))(VariableDeclarationFragment(SimpleName:oldFile)(ClassInstanceCreation(SimpleType(SimpleName:File))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ServletUtils))(SimpleName:expandRelative)(METHOD_INVOCATION_ARGUMENTS(SimpleName:servcon)(StringLiteral:<STR>))))))(VariableDeclarationStatement(SimpleType(SimpleName:File))(VariableDeclarationFragment(SimpleName:oldFilesig)(ClassInstanceCreation(SimpleType(SimpleName:File))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ServletUtils))(SimpleName:expandRelative)(METHOD_INVOCATION_ARGUMENTS(SimpleName:servcon)(StringLiteral:<STR>))))))(VariableDeclarationStatement(SimpleType(SimpleName:File))(VariableDeclarationFragment(SimpleName:oldFileCml)(ClassInstanceCreation(SimpleType(SimpleName:File))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ServletUtils))(SimpleName:expandRelative)(METHOD_INVOCATION_ARGUMENTS(SimpleName:servcon)(StringLiteral:<STR>))))))(VariableDeclarationStatement(SimpleType(SimpleName:File))(VariableDeclarationFragment(SimpleName:oldFile3d)(ClassInstanceCreation(SimpleType(SimpleName:File))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ServletUtils))(SimpleName:expandRelative)(METHOD_INVOCATION_ARGUMENTS(SimpleName:servcon)(StringLiteral:<STR>))))))(VariableDeclarationStatement(SimpleType(SimpleName:File))(VariableDeclarationFragment(SimpleName:oldFilesig3d)(ClassInstanceCreation(SimpleType(SimpleName:File))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ServletUtils))(SimpleName:expandRelative)(METHOD_INVOCATION_ARGUMENTS(SimpleName:servcon)(StringLiteral:<STR>))))))(VariableDeclarationStatement(SimpleType(SimpleName:File))(VariableDeclarationFragment(SimpleName:oldFileCml3d)(ClassInstanceCreation(SimpleType(SimpleName:File))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ServletUtils))(SimpleName:expandRelative)(METHOD_INVOCATION_ARGUMENTS(SimpleName:servcon)(StringLiteral:<STR>))))))(TryStatement(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:oldFile))(SimpleName:delete)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:oldFileCml))(SimpleName:delete)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:oldFilesig))(SimpleName:delete)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:oldFile3d))(SimpleName:delete)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:oldFileCml3d))(SimpleName:delete)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:oldFilesig3d))(SimpleName:delete))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:Exception))(SimpleName:ex))(Block)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:outputFile))(SimpleName:renameTo)(METHOD_INVOCATION_ARGUMENTS(SimpleName:oldFile))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:outputFileCml))(SimpleName:renameTo)(METHOD_INVOCATION_ARGUMENTS(SimpleName:oldFileCml))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:outputFileWithSignals))(SimpleName:renameTo)(METHOD_INVOCATION_ARGUMENTS(SimpleName:oldFilesig))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:outputFile3d))(SimpleName:renameTo)(METHOD_INVOCATION_ARGUMENTS(SimpleName:oldFile3d))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:outputFileCml3d))(SimpleName:renameTo)(METHOD_INVOCATION_ARGUMENTS(SimpleName:oldFileCml3d))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:outputFileWithSignals3d))(SimpleName:renameTo)(METHOD_INVOCATION_ARGUMENTS(SimpleName:oldFilesig3d)))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:Exception))(SimpleName:ex))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:GeneralUtils))(SimpleName:logError)(METHOD_INVOCATION_ARGUMENTS(SimpleName:ex)(StringLiteral:<STR>)(NullLiteral)(BooleanLiteral:false))))))(Block(TryStatement(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:TurbineDB))(SimpleName:releaseConnection)(METHOD_INVOCATION_ARGUMENTS(SimpleName:dbconn)))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:Exception))(SimpleName:ex))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Log))(SimpleName:error)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ex))(SimpleName:getMessage)))))))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(ThisExpression))(SimpleName:setResult)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:Daemon.RESULT_PROCESSING))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(ThisExpression))(SimpleName:setResult)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:Daemon.RESULT_SUCCESS))))))))