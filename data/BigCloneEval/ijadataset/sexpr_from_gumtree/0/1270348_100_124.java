(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:private)(ParameterizedType(SimpleType(SimpleName:List))(SimpleType(SimpleName:InetSocketAddressInfo)))(SimpleName:getPeerList)(SingleVariableDeclaration(SimpleType(SimpleName:Hash))(SimpleName:fileId))(SingleVariableDeclaration(SimpleType(SimpleName:Peer))(SimpleName:peer))(SingleVariableDeclaration(PrimitiveType:int)(SimpleName:numNeighbors))(Block(VariableDeclarationStatement(ParameterizedType(SimpleType(SimpleName:Map))(SimpleType(SimpleName:InetSocketAddressInfo))(SimpleType(SimpleName:Peer)))(VariableDeclarationFragment(SimpleName:peerMap)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fileIdToPeerMap))(SimpleName:get)(METHOD_INVOCATION_ARGUMENTS(SimpleName:fileId)))))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:numSharers)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:peerMap))(SimpleName:size))))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:missingNeighbors)(InfixExpression(InfixExpression(ParenthesizedExpression(CastExpression(PrimitiveType:int)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Math))(SimpleName:ceil)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Math))(SimpleName:log)(METHOD_INVOCATION_ARGUMENTS(SimpleName:numSharers)))))))(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:peerListAnswerConst))(INFIX_EXPRESSION_OPERATOR:-)(SimpleName:numNeighbors))))(VariableDeclarationStatement(ParameterizedType(SimpleType(SimpleName:List))(SimpleType(SimpleName:InetSocketAddressInfo)))(VariableDeclarationFragment(SimpleName:peerListAnswer)(ClassInstanceCreation(ParameterizedType(SimpleType(SimpleName:ArrayList))(SimpleType(SimpleName:InetSocketAddressInfo))))))(IfStatement(InfixExpression(SimpleName:peerMap)(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(Block(ReturnStatement(SimpleName:peerListAnswer))))(VariableDeclarationStatement(ArrayType(SimpleType(SimpleName:Object))(Dimension))(VariableDeclarationFragment(SimpleName:peerList)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:peerMap))(SimpleName:values)))(SimpleName:toArray))))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:lastPeer)(InfixExpression(QualifiedName:peerList.length)(INFIX_EXPRESSION_OPERATOR:-)(NumberLiteral:1))))(WhileStatement(InfixExpression(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:peerListAnswer))(SimpleName:size))(INFIX_EXPRESSION_OPERATOR:<)(SimpleName:missingNeighbors))(INFIX_EXPRESSION_OPERATOR:&&)(InfixExpression(SimpleName:lastPeer)(INFIX_EXPRESSION_OPERATOR:>=)(NumberLiteral:0)))(Block(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:randomPeer)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:random))(SimpleName:nextInt)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(SimpleName:lastPeer)(INFIX_EXPRESSION_OPERATOR:+)(NumberLiteral:1))))))(VariableDeclarationStatement(SimpleType(SimpleName:Peer))(VariableDeclarationFragment(SimpleName:neighbor)(CastExpression(SimpleType(SimpleName:Peer))(ArrayAccess(SimpleName:peerList)(SimpleName:randomPeer)))))(VariableDeclarationStatement(SimpleType(SimpleName:InetSocketAddressInfo))(VariableDeclarationFragment(SimpleName:address)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:neighbor))(SimpleName:getAddress))))(IfStatement(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:peer))(SimpleName:neighbor)(METHOD_INVOCATION_ARGUMENTS(SimpleName:neighbor))))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:peer))(SimpleName:addNeighbor)(METHOD_INVOCATION_ARGUMENTS(SimpleName:neighbor))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:neighbor))(SimpleName:addNeighbor)(METHOD_INVOCATION_ARGUMENTS(SimpleName:peer))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:peerListAnswer))(SimpleName:add)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:neighbor))(SimpleName:getAddress)))))))(ExpressionStatement(Assignment(ArrayAccess(SimpleName:peerList)(SimpleName:randomPeer))(ASSIGNMENT_OPERATOR:=)(ArrayAccess(SimpleName:peerList)(SimpleName:lastPeer))))(ExpressionStatement(Assignment(ArrayAccess(SimpleName:peerList)(SimpleName:lastPeer))(ASSIGNMENT_OPERATOR:=)(SimpleName:neighbor)))(ExpressionStatement(PostfixExpression(SimpleName:lastPeer)(POSTFIX_EXPRESSION_OPERATOR:--)))))(ReturnStatement(SimpleName:peerListAnswer))))))