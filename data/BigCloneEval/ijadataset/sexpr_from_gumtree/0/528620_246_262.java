(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(MarkerAnnotation(SimpleName:Override))(Modifier:public)(PrimitiveType:void)(SimpleName:onWaveletUpdate)(SingleVariableDeclaration(SimpleType(SimpleName:ProtocolWaveletUpdate))(SimpleName:update))(Block(IfStatement(MethodInvocation(SimpleName:shouldAccept)(METHOD_INVOCATION_ARGUMENTS(SimpleName:update)))(Block(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:update))(SimpleName:hasResultingVersion))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:versions))(SimpleName:updateHistory)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(SimpleName:getTarget)(METHOD_INVOCATION_ARGUMENTS(SimpleName:update)))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:update))(SimpleName:getResultingVersion)))))))(IfStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:update))(SimpleName:hasChannelId))(INFIX_EXPRESSION_OPERATOR:&&)(ParenthesizedExpression(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:update))(SimpleName:hasCommitNotice))(INFIX_EXPRESSION_OPERATOR:||)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:update))(SimpleName:hasMarker))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:update))(SimpleName:hasSnapshot))(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:update))(SimpleName:getAppliedDeltaSize))(INFIX_EXPRESSION_OPERATOR:>)(NumberLiteral:0)))))(Block(VariableDeclarationStatement(SimpleType(SimpleName:ProtocolWaveletUpdate))(VariableDeclarationFragment(SimpleName:fake)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ProtocolWaveletUpdateJsoImpl))(SimpleName:create))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fake))(SimpleName:setChannelId)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:update))(SimpleName:getChannelId)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:update))(SimpleName:clearChannelId)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:callback))(SimpleName:onUpdate)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(SimpleName:deserialize)(METHOD_INVOCATION_ARGUMENTS(SimpleName:fake))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:callback))(SimpleName:onUpdate)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(SimpleName:deserialize)(METHOD_INVOCATION_ARGUMENTS(SimpleName:update)))))))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:callback))(SimpleName:onUpdate)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(SimpleName:deserialize)(METHOD_INVOCATION_ARGUMENTS(SimpleName:update))))))))))))))