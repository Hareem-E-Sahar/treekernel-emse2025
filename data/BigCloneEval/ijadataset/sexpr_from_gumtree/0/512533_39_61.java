(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:protected)(PrimitiveType:void)(SimpleName:process)(SingleVariableDeclaration(SimpleType(SimpleName:BufferedReader))(SimpleName:reader))(SingleVariableDeclaration(SimpleType(SimpleName:BufferedWriter))(SimpleName:writer))(SingleVariableDeclaration(SimpleType(SimpleName:Action))(SimpleName:action))(SimpleType(SimpleName:ParsingException))(SimpleType(SimpleName:IOException))(Block(VariableDeclarationStatement(SimpleType(SimpleName:PropertiesActionProcessingAdvisor))(VariableDeclarationFragment(SimpleName:advisor)(MethodInvocation(SimpleName:getAdvisorFor)(METHOD_INVOCATION_ARGUMENTS(SimpleName:action)))))(VariableDeclarationStatement(SimpleType(SimpleName:PropertiesFileItemAdvice))(VariableDeclarationFragment(SimpleName:advice)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:advisor))(SimpleName:onStartProcessing))))(ExpressionStatement(MethodInvocation(SimpleName:processAdvice)(METHOD_INVOCATION_ARGUMENTS(SimpleName:advice)(NullLiteral)(SimpleName:writer)(SimpleName:action))))(VariableDeclarationStatement(SimpleType(SimpleName:PropertiesFileItem))(VariableDeclarationFragment(SimpleName:currentItem)(NullLiteral)))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:line)))(WhileStatement(InfixExpression(ParenthesizedExpression(Assignment(SimpleName:line)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:reader))(SimpleName:readLine))))(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(IfStatement(MethodInvocation(SimpleName:isBlankLine)(METHOD_INVOCATION_ARGUMENTS(SimpleName:line)))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:writer))(SimpleName:append)(METHOD_INVOCATION_ARGUMENTS(SimpleName:LINE_SEPARATOR)))))(Block(IfStatement(MethodInvocation(SimpleName:isComment)(METHOD_INVOCATION_ARGUMENTS(SimpleName:line)))(Block(ExpressionStatement(Assignment(SimpleName:currentItem)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(SimpleName:readComment)(METHOD_INVOCATION_ARGUMENTS(SimpleName:reader)(SimpleName:line))))))(Block(ExpressionStatement(Assignment(SimpleName:currentItem)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(SimpleName:readPropertyMapping)(METHOD_INVOCATION_ARGUMENTS(SimpleName:reader)(SimpleName:line)))))))(ExpressionStatement(Assignment(SimpleName:advice)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:advisor))(SimpleName:process)(METHOD_INVOCATION_ARGUMENTS(SimpleName:currentItem)))))(ExpressionStatement(MethodInvocation(SimpleName:processAdvice)(METHOD_INVOCATION_ARGUMENTS(SimpleName:advice)(SimpleName:currentItem)(SimpleName:writer)(SimpleName:action))))))))(ExpressionStatement(Assignment(SimpleName:advice)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:advisor))(SimpleName:onEndProcessing))))(ExpressionStatement(MethodInvocation(SimpleName:processAdvice)(METHOD_INVOCATION_ARGUMENTS(SimpleName:advice)(NullLiteral)(SimpleName:writer)(SimpleName:action))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:writer))(SimpleName:flush)))))))