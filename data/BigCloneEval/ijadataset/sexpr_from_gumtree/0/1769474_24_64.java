(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(MarkerAnnotation(SimpleName:Override))(Modifier:public)(PrimitiveType:void)(SimpleName:doPost)(SingleVariableDeclaration(SimpleType(SimpleName:HttpServletRequest))(SimpleName:req))(SingleVariableDeclaration(SimpleType(SimpleName:HttpServletResponse))(SimpleName:resp))(SimpleType(SimpleName:IOException))(Block(VariableDeclarationStatement(SimpleType(SimpleName:XMPPService))(VariableDeclarationFragment(SimpleName:xmpp)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:XMPPServiceFactory))(SimpleName:getXMPPService))))(VariableDeclarationStatement(SimpleType(SimpleName:Message))(VariableDeclarationFragment(SimpleName:msg)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:xmpp))(SimpleName:parseMessage)(METHOD_INVOCATION_ARGUMENTS(SimpleName:req)))))(VariableDeclarationStatement(SimpleType(SimpleName:JID))(VariableDeclarationFragment(SimpleName:jid)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:msg))(SimpleName:getFromJid))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:body)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:msg))(SimpleName:getBody))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:LOG))(SimpleName:info)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:jid))(SimpleName:getId))(INFIX_EXPRESSION_OPERATOR:+)(StringLiteral:<STR>)(SimpleName:body)))))(VariableDeclarationStatement(SimpleType(SimpleName:Key))(VariableDeclarationFragment(SimpleName:key)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:KeyFactory))(SimpleName:createKey)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:jid))(SimpleName:getId)))))))(VariableDeclarationStatement(SimpleType(SimpleName:Entity))(VariableDeclarationFragment(SimpleName:lastLineEntity)(NullLiteral)))(TryStatement(Block(ExpressionStatement(Assignment(SimpleName:lastLineEntity)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:DatastoreServiceFactory))(SimpleName:getDatastoreService)))(SimpleName:get)(METHOD_INVOCATION_ARGUMENTS(SimpleName:key))))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:EntityNotFoundException))(SimpleName:e))(Block(ExpressionStatement(Assignment(SimpleName:lastLineEntity)(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(SimpleType(SimpleName:Entity))(SimpleName:key))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:lastLineEntity))(SimpleName:setProperty)(METHOD_INVOCATION_ARGUMENTS(SimpleName:LINE)(StringLiteral:<STR>)))))))(VariableDeclarationStatement(Modifier:final)(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:lastLine)(CastExpression(SimpleType(SimpleName:String))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:lastLineEntity))(SimpleName:getProperty)(METHOD_INVOCATION_ARGUMENTS(SimpleName:LINE))))))(VariableDeclarationStatement(Modifier:final)(SimpleType(SimpleName:StringBuilder))(VariableDeclarationFragment(SimpleName:response)(ClassInstanceCreation(SimpleType(SimpleName:StringBuilder)))))(VariableDeclarationStatement(Modifier:final)(SimpleType(SimpleName:ElizaParse))(VariableDeclarationFragment(SimpleName:parser)(ClassInstanceCreation(SimpleType(SimpleName:ElizaParse))(AnonymousClassDeclaration(MethodDeclaration(MarkerAnnotation(SimpleName:Override))(Modifier:public)(PrimitiveType:void)(SimpleName:PRINT)(SingleVariableDeclaration(SimpleType(SimpleName:String))(SimpleName:s))(Block(IfStatement(InfixExpression(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:lastLine))(SimpleName:trim)))(SimpleName:length))(INFIX_EXPRESSION_OPERATOR:>)(NumberLiteral:0))(INFIX_EXPRESSION_OPERATOR:&&)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:s))(SimpleName:startsWith)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))(Block(ReturnStatement)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:response))(SimpleName:append)(METHOD_INVOCATION_ARGUMENTS(SimpleName:s))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:response))(SimpleName:append)(METHOD_INVOCATION_ARGUMENTS(CharacterLiteral:<STR>))))))))))(ExpressionStatement(Assignment(QualifiedName:parser.lastline)(ASSIGNMENT_OPERATOR:=)(SimpleName:lastLine)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:parser))(SimpleName:handleLine)(METHOD_INVOCATION_ARGUMENTS(SimpleName:body))))(ExpressionStatement(Assignment(SimpleName:body)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:response))(SimpleName:toString))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:LOG))(SimpleName:info)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:jid))(SimpleName:getId))(INFIX_EXPRESSION_OPERATOR:+)(StringLiteral:<STR>)(SimpleName:body)))))(ExpressionStatement(Assignment(SimpleName:msg)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(ClassInstanceCreation(SimpleType(SimpleName:MessageBuilder))))(SimpleName:withRecipientJids)(METHOD_INVOCATION_ARGUMENTS(SimpleName:jid))))(SimpleName:withBody)(METHOD_INVOCATION_ARGUMENTS(SimpleName:body))))(SimpleName:build))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:xmpp))(SimpleName:sendMessage)(METHOD_INVOCATION_ARGUMENTS(SimpleName:msg))))(IfStatement(QualifiedName:parser.exit)(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:lastLineEntity))(SimpleName:setProperty)(METHOD_INVOCATION_ARGUMENTS(SimpleName:LINE)(StringLiteral:<STR>)))))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:lastLineEntity))(SimpleName:setProperty)(METHOD_INVOCATION_ARGUMENTS(SimpleName:LINE)(QualifiedName:parser.lastline))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:DatastoreServiceFactory))(SimpleName:getDatastoreService)))(SimpleName:put)(METHOD_INVOCATION_ARGUMENTS(SimpleName:lastLineEntity))))))))