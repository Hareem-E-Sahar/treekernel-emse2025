(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:public)(Modifier:static)(SimpleType(SimpleName:ChatMessage))(SimpleName:create)(SingleVariableDeclaration(SimpleType(SimpleName:InCommand))(SimpleName:command))(SingleVariableDeclaration(SimpleType(SimpleName:String))(SimpleName:channelName))(SingleVariableDeclaration(PrimitiveType:boolean)(SimpleName:isPrivate))(Block(IfStatement(InstanceofExpression(SimpleName:command)(SimpleType(SimpleName:CtcpMessage)))(Block(VariableDeclarationStatement(SimpleType(SimpleName:MessageCommand))(VariableDeclarationFragment(SimpleName:action)(CastExpression(SimpleType(SimpleName:MessageCommand))(SimpleName:command))))(ReturnStatement(ClassInstanceCreation(SimpleType(SimpleName:ChatMessage))(QualifiedName:MessageType.ACTION)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:action))(SimpleName:getSource)))(SimpleName:getSource))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:action))(SimpleName:getMessage)))))(IfStatement(InstanceofExpression(SimpleName:command)(SimpleType(SimpleName:MessageCommand)))(Block(VariableDeclarationStatement(SimpleType(SimpleName:MessageCommand))(VariableDeclarationFragment(SimpleName:msg)(CastExpression(SimpleType(SimpleName:MessageCommand))(SimpleName:command))))(ReturnStatement(ClassInstanceCreation(SimpleType(SimpleName:ChatMessage))(ConditionalExpression(SimpleName:isPrivate)(QualifiedName:MessageType.PRIVMSG)(QualifiedName:MessageType.MESSAGE))(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:msg))(SimpleName:getSource)))(SimpleName:getSource))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:msg))(SimpleName:getMessage)))))(IfStatement(InstanceofExpression(SimpleName:command)(SimpleType(SimpleName:JoinCommand)))(Block(VariableDeclarationStatement(SimpleType(SimpleName:JoinCommand))(VariableDeclarationFragment(SimpleName:join)(CastExpression(SimpleType(SimpleName:JoinCommand))(SimpleName:command))))(ReturnStatement(ClassInstanceCreation(SimpleType(SimpleName:ChatMessage))(QualifiedName:MessageType.INFO)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:join))(SimpleName:getUser)))(SimpleName:getSource))(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:join))(SimpleName:getChannel))))))(IfStatement(InstanceofExpression(SimpleName:command)(SimpleType(SimpleName:QuitCommand)))(Block(VariableDeclarationStatement(SimpleType(SimpleName:QuitCommand))(VariableDeclarationFragment(SimpleName:quit)(CastExpression(SimpleType(SimpleName:QuitCommand))(SimpleName:command))))(ReturnStatement(ClassInstanceCreation(SimpleType(SimpleName:ChatMessage))(QualifiedName:MessageType.INFO)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:quit))(SimpleName:getUser)))(SimpleName:getSource))(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:channelName)(StringLiteral:<STR>)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:quit))(SimpleName:getReason))))))(IfStatement(InstanceofExpression(SimpleName:command)(SimpleType(SimpleName:KickCommand)))(Block(VariableDeclarationStatement(SimpleType(SimpleName:KickCommand))(VariableDeclarationFragment(SimpleName:kick)(CastExpression(SimpleType(SimpleName:KickCommand))(SimpleName:command))))(ReturnStatement(ClassInstanceCreation(SimpleType(SimpleName:ChatMessage))(QualifiedName:MessageType.INFO)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:kick))(SimpleName:getKicker)))(SimpleName:getSource))(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:kick))(SimpleName:getKicked)))(SimpleName:getSource))(StringLiteral:<STR>)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:kick))(SimpleName:getChannel))(StringLiteral:<STR>)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:kick))(SimpleName:getComment))))))(IfStatement(InstanceofExpression(SimpleName:command)(SimpleType(SimpleName:NickCommand)))(Block(VariableDeclarationStatement(SimpleType(SimpleName:NickCommand))(VariableDeclarationFragment(SimpleName:nick)(CastExpression(SimpleType(SimpleName:NickCommand))(SimpleName:command))))(ReturnStatement(ClassInstanceCreation(SimpleType(SimpleName:ChatMessage))(QualifiedName:MessageType.INFO)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:nick))(SimpleName:getOldNick))(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:nick))(SimpleName:getNick))))))(IfStatement(InstanceofExpression(SimpleName:command)(SimpleType(SimpleName:ChannelModeCommand)))(Block(VariableDeclarationStatement(SimpleType(SimpleName:ChannelModeCommand))(VariableDeclarationFragment(SimpleName:mode)(CastExpression(SimpleType(SimpleName:ChannelModeCommand))(SimpleName:command))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:source)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:mode))(SimpleName:getPrefix))))(IfStatement(InfixExpression(SimpleName:source)(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(Block(ExpressionStatement(Assignment(SimpleName:source)(ASSIGNMENT_OPERATOR:=)(StringLiteral:<STR>)))))(ReturnStatement(ClassInstanceCreation(SimpleType(SimpleName:ChatMessage))(QualifiedName:MessageType.INFO)(SimpleName:source)(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:mode))(SimpleName:render))))))(IfStatement(InstanceofExpression(SimpleName:command)(SimpleType(SimpleName:TopicCommand)))(Block(VariableDeclarationStatement(SimpleType(SimpleName:TopicCommand))(VariableDeclarationFragment(SimpleName:topic)(CastExpression(SimpleType(SimpleName:TopicCommand))(SimpleName:command))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:source)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Util))(SimpleName:split)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:topic))(SimpleName:getSourceString)))(SimpleName:substring)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:1)))(StringLiteral:<STR>))))(SimpleName:get)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:0)))))(ReturnStatement(ClassInstanceCreation(SimpleType(SimpleName:ChatMessage))(QualifiedName:MessageType.INFO)(SimpleName:source)(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:topic))(SimpleName:getTopic))))))))))))))(ReturnStatement(NullLiteral))))))