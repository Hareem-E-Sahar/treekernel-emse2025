(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:private)(SimpleType(SimpleName:StructuralMemoryPort))(SimpleName:createInterface)(SingleVariableDeclaration(SimpleType(SimpleName:LogicalMemoryPort))(SimpleName:memPort))(SingleVariableDeclaration(PrimitiveType:int)(SimpleName:memWidth))(Block(VariableDeclarationStatement(Modifier:final)(SimpleType(SimpleName:Port))(VariableDeclarationFragment(SimpleName:address)(MethodInvocation(SimpleName:makeDataPort))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:address))(SimpleName:setSize)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(SimpleName:getAddrWidth))(BooleanLiteral:false))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:address))(SimpleName:getPeer)))(SimpleName:setSize)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(SimpleName:getAddrWidth))(BooleanLiteral:false))))(VariableDeclarationStatement(Modifier:final)(SimpleType(SimpleName:Port))(VariableDeclarationFragment(SimpleName:size)(MethodInvocation(SimpleName:makeDataPort))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:size))(SimpleName:setSize)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:LogicalMemory.SIZE_WIDTH)(BooleanLiteral:false))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:size))(SimpleName:getPeer)))(SimpleName:setSize)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:LogicalMemory.SIZE_WIDTH)(BooleanLiteral:false))))(VariableDeclarationStatement(SimpleType(SimpleName:Port))(VariableDeclarationFragment(SimpleName:en)(NullLiteral)))(VariableDeclarationStatement(SimpleType(SimpleName:Port))(VariableDeclarationFragment(SimpleName:wen)(NullLiteral)))(VariableDeclarationStatement(SimpleType(SimpleName:Port))(VariableDeclarationFragment(SimpleName:din)(NullLiteral)))(VariableDeclarationStatement(SimpleType(SimpleName:Bus))(VariableDeclarationFragment(SimpleName:dout)(NullLiteral)))(VariableDeclarationStatement(PrimitiveType:boolean)(VariableDeclarationFragment(SimpleName:read)(BooleanLiteral:false)))(VariableDeclarationStatement(PrimitiveType:boolean)(VariableDeclarationFragment(SimpleName:write)(BooleanLiteral:false)))(IfStatement(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:memPort))(SimpleName:isWriteOnly)))(Block(ExpressionStatement(Assignment(SimpleName:read)(ASSIGNMENT_OPERATOR:=)(BooleanLiteral:true)))(ExpressionStatement(Assignment(SimpleName:en)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(SimpleName:makeDataPort))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:en))(SimpleName:setSize)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:1)(BooleanLiteral:false))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:en))(SimpleName:getPeer)))(SimpleName:setSize)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:1)(BooleanLiteral:false))))(ExpressionStatement(Assignment(SimpleName:dout)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(SimpleName:getExit)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:Exit.DONE))))(SimpleName:makeDataBus))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:dout))(SimpleName:setSize)(METHOD_INVOCATION_ARGUMENTS(SimpleName:memWidth)(BooleanLiteral:true))))))(IfStatement(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:memPort))(SimpleName:isReadOnly)))(Block(ExpressionStatement(Assignment(SimpleName:write)(ASSIGNMENT_OPERATOR:=)(BooleanLiteral:true)))(ExpressionStatement(Assignment(SimpleName:wen)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(SimpleName:makeDataPort))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:wen))(SimpleName:setSize)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:1)(BooleanLiteral:false))))(ExpressionStatement(Assignment(SimpleName:din)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(SimpleName:makeDataPort))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:din))(SimpleName:setSize)(METHOD_INVOCATION_ARGUMENTS(SimpleName:memWidth)(BooleanLiteral:true))))))(VariableDeclarationStatement(Modifier:final)(SimpleType(SimpleName:Bus))(VariableDeclarationFragment(SimpleName:done)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(SimpleName:getExit)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:Exit.DONE))))(SimpleName:makeDataBus))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:done))(SimpleName:setSize)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:1)(BooleanLiteral:true))))(VariableDeclarationStatement(SimpleType(SimpleName:StructuralMemoryPort))(VariableDeclarationFragment(SimpleName:port)(ClassInstanceCreation(SimpleType(SimpleName:StructuralMemoryPort))(SimpleName:address)(SimpleName:din)(SimpleName:en)(SimpleName:wen)(SimpleName:size)(SimpleName:dout)(SimpleName:done)(SimpleName:read)(SimpleName:write))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(FieldAccess(ThisExpression)(SimpleName:memPorts)))(SimpleName:put)(METHOD_INVOCATION_ARGUMENTS(SimpleName:memPort)(SimpleName:port))))(ReturnStatement(SimpleName:port))))))