(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:private)(Modifier:synchronized)(SimpleType(SimpleName:Frame))(SimpleName:insertFrame)(SingleVariableDeclaration(PrimitiveType:int)(SimpleName:index))(SingleVariableDeclaration(SimpleType(SimpleName:File))(SimpleName:source))(SingleVariableDeclaration(SimpleType(SimpleName:INSERT_TYPE))(SimpleName:type))(SimpleType(SimpleName:IOException))(Block(IfStatement(InfixExpression(SimpleName:source)(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(ThrowStatement(ClassInstanceCreation(SimpleType(SimpleName:NullPointerException))(StringLiteral:<STR>))))(IfStatement(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:source))(SimpleName:exists)))(ThrowStatement(ClassInstanceCreation(SimpleType(SimpleName:IOException))(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:source))(SimpleName:getAbsolutePath))))))(IfStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:source))(SimpleName:length))(INFIX_EXPRESSION_OPERATOR:<=)(NumberLiteral:0))(ThrowStatement(ClassInstanceCreation(SimpleType(SimpleName:IOException))(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:source))(SimpleName:getAbsolutePath))))))(IfStatement(InfixExpression(SimpleName:index)(INFIX_EXPRESSION_OPERATOR:<)(NumberLiteral:0))(ThrowStatement(ClassInstanceCreation(SimpleType(SimpleName:IndexOutOfBoundsException))(StringLiteral:<STR>))))(IfStatement(InfixExpression(SimpleName:index)(INFIX_EXPRESSION_OPERATOR:>=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:frames_))(SimpleName:size)))(ThrowStatement(ClassInstanceCreation(SimpleType(SimpleName:IndexOutOfBoundsException))(StringLiteral:<STR>))))(VariableDeclarationStatement(SimpleType(SimpleName:File))(VariableDeclarationFragment(SimpleName:tmp)(ClassInstanceCreation(SimpleType(SimpleName:File))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Settings))(SimpleName:getPropertyString)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:ConstantKeys.project_dir)))(StringLiteral:<STR>))))(SwitchStatement(SimpleName:type)(SwitchCase(SimpleName:MOVE))(IfStatement(InfixExpression(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:source))(SimpleName:getParentFile)))(SimpleName:compareTo)(METHOD_INVOCATION_ARGUMENTS(ClassInstanceCreation(SimpleType(SimpleName:File))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Settings))(SimpleName:getPropertyString)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:ConstantKeys.project_dir))))))(INFIX_EXPRESSION_OPERATOR:==)(NumberLiteral:0))(INFIX_EXPRESSION_OPERATOR:&&)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:source))(SimpleName:getName)))(SimpleName:matches)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))(Block(ForStatement(VariableDeclarationExpression(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:i)(NumberLiteral:0)))(InfixExpression(SimpleName:i)(INFIX_EXPRESSION_OPERATOR:<)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:frames_))(SimpleName:size)))(PostfixExpression(SimpleName:i)(POSTFIX_EXPRESSION_OPERATOR:++))(Block(VariableDeclarationStatement(SimpleType(SimpleName:Frame))(VariableDeclarationFragment(SimpleName:f)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:frames_))(SimpleName:get)(METHOD_INVOCATION_ARGUMENTS(SimpleName:i)))))(IfStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:f))(SimpleName:getFile)))(SimpleName:compareTo)(METHOD_INVOCATION_ARGUMENTS(SimpleName:source)))(INFIX_EXPRESSION_OPERATOR:==)(NumberLiteral:0))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:frames_))(SimpleName:remove)(METHOD_INVOCATION_ARGUMENTS(SimpleName:i))))(BreakStatement)))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:source))(SimpleName:renameTo)(METHOD_INVOCATION_ARGUMENTS(SimpleName:tmp))))(BreakStatement)(SwitchCase(SimpleName:COPY))(VariableDeclarationStatement(SimpleType(SimpleName:FileChannel))(VariableDeclarationFragment(SimpleName:inChannel)(MethodInvocation(METHOD_INVOCATION_RECEIVER(ClassInstanceCreation(SimpleType(SimpleName:FileInputStream))(SimpleName:source)))(SimpleName:getChannel))))(VariableDeclarationStatement(SimpleType(SimpleName:FileChannel))(VariableDeclarationFragment(SimpleName:outChannel)(MethodInvocation(METHOD_INVOCATION_RECEIVER(ClassInstanceCreation(SimpleType(SimpleName:FileOutputStream))(SimpleName:tmp)))(SimpleName:getChannel))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:inChannel))(SimpleName:transferTo)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:0)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:inChannel))(SimpleName:size))(SimpleName:outChannel))))(IfStatement(InfixExpression(SimpleName:inChannel)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:inChannel))(SimpleName:close))))(IfStatement(InfixExpression(SimpleName:outChannel)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:outChannel))(SimpleName:close))))(BreakStatement))(ForStatement(VariableDeclarationExpression(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:i)(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:frames_))(SimpleName:size))(INFIX_EXPRESSION_OPERATOR:-)(NumberLiteral:1))))(InfixExpression(SimpleName:i)(INFIX_EXPRESSION_OPERATOR:>=)(SimpleName:index))(PostfixExpression(SimpleName:i)(POSTFIX_EXPRESSION_OPERATOR:--))(Block(VariableDeclarationStatement(SimpleType(SimpleName:Frame))(VariableDeclarationFragment(SimpleName:newFrame)(ClassInstanceCreation(SimpleType(SimpleName:Frame))(ClassInstanceCreation(SimpleType(SimpleName:File))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Settings))(SimpleName:getPropertyString)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:ConstantKeys.project_dir)))(MethodInvocation(SimpleName:formatFileName)(METHOD_INVOCATION_ARGUMENTS(SimpleName:i)))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:frames_))(SimpleName:get)(METHOD_INVOCATION_ARGUMENTS(SimpleName:i))))(SimpleName:moveTo)(METHOD_INVOCATION_ARGUMENTS(SimpleName:newFrame))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:frames_))(SimpleName:set)(METHOD_INVOCATION_ARGUMENTS(SimpleName:i)(SimpleName:newFrame))))))(VariableDeclarationStatement(SimpleType(SimpleName:File))(VariableDeclarationFragment(SimpleName:newLocation)(ClassInstanceCreation(SimpleType(SimpleName:File))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Settings))(SimpleName:getPropertyString)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:ConstantKeys.project_dir)))(MethodInvocation(SimpleName:formatFileName)(METHOD_INVOCATION_ARGUMENTS(SimpleName:index))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:tmp))(SimpleName:renameTo)(METHOD_INVOCATION_ARGUMENTS(SimpleName:newLocation))))(VariableDeclarationStatement(SimpleType(SimpleName:Frame))(VariableDeclarationFragment(SimpleName:f)(ClassInstanceCreation(SimpleType(SimpleName:Frame))(SimpleName:newLocation))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:f))(SimpleName:createThumbNail)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:frames_))(SimpleName:set)(METHOD_INVOCATION_ARGUMENTS(SimpleName:index)(SimpleName:f))))(ReturnStatement(SimpleName:f))))))