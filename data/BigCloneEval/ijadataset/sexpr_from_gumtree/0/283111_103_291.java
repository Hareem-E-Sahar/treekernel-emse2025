(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(MarkerAnnotation(SimpleName:Override))(Modifier:protected)(PrimitiveType:void)(SimpleName:handleSnacPacket)(SingleVariableDeclaration(SimpleType(SimpleName:SnacPacketEvent))(SimpleName:e))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Log))(SimpleName:debug)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:e)))))(VariableDeclarationStatement(SimpleType(SimpleName:SnacCommand))(VariableDeclarationFragment(SimpleName:cmd)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:e))(SimpleName:getSnacCommand))))(IfStatement(InstanceofExpression(SimpleName:cmd)(SimpleType(SimpleName:ServerReadyCmd)))(Block(VariableDeclarationStatement(SimpleType(SimpleName:ServerReadyCmd))(VariableDeclarationFragment(SimpleName:src)(CastExpression(SimpleType(SimpleName:ServerReadyCmd))(SimpleName:cmd))))(ExpressionStatement(MethodInvocation(SimpleName:setSnacFamilies)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:src))(SimpleName:getSnacFamilies)))))(VariableDeclarationStatement(ParameterizedType(SimpleType(SimpleName:Collection))(SimpleType(SimpleName:SnacFamilyInfo)))(VariableDeclarationFragment(SimpleName:familyInfos)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:SnacFamilyInfoFactory))(SimpleName:getDefaultFamilyInfos)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:src))(SimpleName:getSnacFamilies))))))(ExpressionStatement(MethodInvocation(SimpleName:setSnacFamilyInfos)(METHOD_INVOCATION_ARGUMENTS(SimpleName:familyInfos))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(SimpleName:getMainSession)))(SimpleName:registerSnacFamilies)(METHOD_INVOCATION_ARGUMENTS(ThisExpression))))(ExpressionStatement(MethodInvocation(SimpleName:request)(METHOD_INVOCATION_ARGUMENTS(ClassInstanceCreation(SimpleType(SimpleName:ClientVersionsCmd))(SimpleName:familyInfos)))))(ExpressionStatement(MethodInvocation(SimpleName:request)(METHOD_INVOCATION_ARGUMENTS(ClassInstanceCreation(SimpleType(SimpleName:RateInfoRequest)))))))(IfStatement(InstanceofExpression(SimpleName:cmd)(SimpleType(SimpleName:RecvImIcbm)))(Block(VariableDeclarationStatement(SimpleType(SimpleName:RecvImIcbm))(VariableDeclarationFragment(SimpleName:icbm)(CastExpression(SimpleType(SimpleName:RecvImIcbm))(SimpleName:cmd))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:sn)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:icbm))(SimpleName:getSenderInfo)))(SimpleName:getScreenname))))(VariableDeclarationStatement(SimpleType(SimpleName:InstantMessage))(VariableDeclarationFragment(SimpleName:message)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:icbm))(SimpleName:getMessage))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:msg)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:StringUtils))(SimpleName:convertFromHtml)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:message))(SimpleName:getMessage))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(SimpleName:getMainSession)))(SimpleName:getTransport)))(SimpleName:sendMessage)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(SimpleName:getMainSession)))(SimpleName:getJID))(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(SimpleName:getMainSession)))(SimpleName:getTransport)))(SimpleName:convertIDToJID)(METHOD_INVOCATION_ARGUMENTS(SimpleName:sn)))(SimpleName:msg)))))(IfStatement(InstanceofExpression(SimpleName:cmd)(SimpleType(SimpleName:OldIcbm)))(Block(VariableDeclarationStatement(SimpleType(SimpleName:OldIcbm))(VariableDeclarationFragment(SimpleName:oicbm)(CastExpression(SimpleType(SimpleName:OldIcbm))(SimpleName:cmd))))(IfStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:oicbm))(SimpleName:getMessageType))(INFIX_EXPRESSION_OPERATOR:==)(QualifiedName:OldIcbm.MTYPE_PLAIN))(Block(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:uin)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:String))(SimpleName:valueOf)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:oicbm))(SimpleName:getSender))))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:msg)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:StringUtils))(SimpleName:convertFromHtml)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:oicbm))(SimpleName:getReason))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Log))(SimpleName:debug)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:uin)(StringLiteral:<STR>)(SimpleName:msg)(StringLiteral:<STR>)(SimpleName:oicbm)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(SimpleName:getMainSession)))(SimpleName:getTransport)))(SimpleName:sendMessage)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(SimpleName:getMainSession)))(SimpleName:getJID))(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(SimpleName:getMainSession)))(SimpleName:getTransport)))(SimpleName:convertIDToJID)(METHOD_INVOCATION_ARGUMENTS(SimpleName:uin)))(SimpleName:msg)))))))(IfStatement(InstanceofExpression(SimpleName:cmd)(SimpleType(SimpleName:WarningNotification)))(Block(VariableDeclarationStatement(SimpleType(SimpleName:WarningNotification))(VariableDeclarationFragment(SimpleName:wn)(CastExpression(SimpleType(SimpleName:WarningNotification))(SimpleName:cmd))))(VariableDeclarationStatement(SimpleType(SimpleName:MiniUserInfo))(VariableDeclarationFragment(SimpleName:warner)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:wn))(SimpleName:getWarner))))(IfStatement(InfixExpression(SimpleName:warner)(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(SimpleName:getMainSession)))(SimpleName:getTransport)))(SimpleName:sendMessage)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(SimpleName:getMainSession)))(SimpleName:getJID))(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(SimpleName:getMainSession)))(SimpleName:getTransport)))(SimpleName:getJID))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:LocaleUtils))(SimpleName:getLocalizedString)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(StringLiteral:<STR>)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Arrays))(SimpleName:asList)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:wn))(SimpleName:getNewLevel)))(SimpleName:toString))))))(QualifiedName:Message.Type.headline)))))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Log))(SimpleName:debug)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:warner))(SimpleName:getScreenname))(StringLiteral:<STR>)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:wn))(SimpleName:getNewLevel))(StringLiteral:<STR>)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(SimpleName:getMainSession)))(SimpleName:getTransport)))(SimpleName:sendMessage)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(SimpleName:getMainSession)))(SimpleName:getJID))(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(SimpleName:getMainSession)))(SimpleName:getTransport)))(SimpleName:getJID))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:LocaleUtils))(SimpleName:getLocalizedString)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(StringLiteral:<STR>)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Arrays))(SimpleName:asList)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:warner))(SimpleName:getScreenname))(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:wn))(SimpleName:getNewLevel)))(SimpleName:toString))))))(QualifiedName:Message.Type.headline)))))))(IfStatement(InstanceofExpression(SimpleName:cmd)(SimpleType(SimpleName:ExtraInfoAck)))(Block(VariableDeclarationStatement(SimpleType(SimpleName:ExtraInfoAck))(VariableDeclarationFragment(SimpleName:eia)(CastExpression(SimpleType(SimpleName:ExtraInfoAck))(SimpleName:cmd))))(VariableDeclarationStatement(ParameterizedType(SimpleType(SimpleName:List))(SimpleType(SimpleName:ExtraInfoBlock)))(VariableDeclarationFragment(SimpleName:extraInfo)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:eia))(SimpleName:getExtraInfos))))(IfStatement(InfixExpression(SimpleName:extraInfo)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(EnhancedForStatement(SingleVariableDeclaration(SimpleType(SimpleName:ExtraInfoBlock))(SimpleName:i))(SimpleName:extraInfo)(Block(VariableDeclarationStatement(SimpleType(SimpleName:ExtraInfoData))(VariableDeclarationFragment(SimpleName:data)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:i))(SimpleName:getExtraData))))(VariableDeclarationStatement(Modifier:final)(ArrayType(PrimitiveType:byte)(Dimension))(VariableDeclarationFragment(SimpleName:pendingAvatar)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(SimpleName:getMainSession)))(SimpleName:getSsiHierarchy)))(SimpleName:getPendingAvatarData))))(IfStatement(InfixExpression(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:JiveGlobals))(SimpleName:getBooleanProperty)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(SimpleName:getMainSession)))(SimpleName:getTransport)))(SimpleName:getType))(StringLiteral:<STR>))(BooleanLiteral:true)))(INFIX_EXPRESSION_OPERATOR:&&)(InfixExpression(ParenthesizedExpression(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:data))(SimpleName:getFlags))(INFIX_EXPRESSION_OPERATOR:&)(QualifiedName:ExtraInfoData.FLAG_UPLOAD_ICON)))(INFIX_EXPRESSION_OPERATOR:!=)(NumberLiteral:0)))(INFIX_EXPRESSION_OPERATOR:&&)(InfixExpression(SimpleName:pendingAvatar)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral)))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Log))(SimpleName:debug)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))(ExpressionStatement(MethodInvocation(SimpleName:request)(METHOD_INVOCATION_ARGUMENTS(ClassInstanceCreation(SimpleType(SimpleName:UploadIconCmd))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ByteBlock))(SimpleName:wrap)(METHOD_INVOCATION_ARGUMENTS(SimpleName:pendingAvatar))))(ClassInstanceCreation(SimpleType(SimpleName:SnacRequestAdapter))(AnonymousClassDeclaration(MethodDeclaration(MarkerAnnotation(SimpleName:Override))(Modifier:public)(PrimitiveType:void)(SimpleName:handleResponse)(SingleVariableDeclaration(SimpleType(SimpleName:SnacResponseEvent))(SimpleName:e))(Block(VariableDeclarationStatement(SimpleType(SimpleName:SnacCommand))(VariableDeclarationFragment(SimpleName:cmd)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:e))(SimpleName:getSnacCommand))))(IfStatement(InfixExpression(InstanceofExpression(SimpleName:cmd)(SimpleType(SimpleName:UploadIconAck)))(INFIX_EXPRESSION_OPERATOR:&&)(InfixExpression(SimpleName:pendingAvatar)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral)))(Block(VariableDeclarationStatement(SimpleType(SimpleName:UploadIconAck))(VariableDeclarationFragment(SimpleName:iconAck)(CastExpression(SimpleType(SimpleName:UploadIconAck))(SimpleName:cmd))))(IfStatement(InfixExpression(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:iconAck))(SimpleName:getCode))(INFIX_EXPRESSION_OPERATOR:==)(QualifiedName:UploadIconAck.CODE_DEFAULT))(INFIX_EXPRESSION_OPERATOR:||)(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:iconAck))(SimpleName:getCode))(INFIX_EXPRESSION_OPERATOR:==)(QualifiedName:UploadIconAck.CODE_SUCCESS)))(Block(VariableDeclarationStatement(SimpleType(SimpleName:ExtraInfoBlock))(VariableDeclarationFragment(SimpleName:iconInfo)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:iconAck))(SimpleName:getIconInfo))))(IfStatement(InfixExpression(SimpleName:iconInfo)(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Log))(SimpleName:debug)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:iconAck)))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Log))(SimpleName:debug)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))(TryStatement(Block(VariableDeclarationStatement(SimpleType(SimpleName:MessageDigest))(VariableDeclarationFragment(SimpleName:md)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:MessageDigest))(SimpleName:getInstance)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:md))(SimpleName:update)(METHOD_INVOCATION_ARGUMENTS(SimpleName:pendingAvatar))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(SimpleName:getMainSession)))(SimpleName:getAvatar)))(SimpleName:setLegacyIdentifier)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(QualifiedName:org.jivesoftware.util.StringUtils))(SimpleName:encodeHex)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:md))(SimpleName:digest))))))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:NoSuchAlgorithmException))(SimpleName:ee))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Log))(SimpleName:error)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(SimpleName:ee))))))))(IfStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:iconAck))(SimpleName:getCode))(INFIX_EXPRESSION_OPERATOR:==)(QualifiedName:UploadIconAck.CODE_BAD_FORMAT))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Log))(SimpleName:debug)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))))(IfStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:iconAck))(SimpleName:getCode))(INFIX_EXPRESSION_OPERATOR:==)(QualifiedName:UploadIconAck.CODE_TOO_LARGE))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Log))(SimpleName:debug)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Log))(SimpleName:debug)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:iconAck))(SimpleName:getCode)))))))))))(IfStatement(InstanceofExpression(SimpleName:cmd)(SimpleType(SimpleName:SnacError)))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Log))(SimpleName:debug)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:cmd))))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(SimpleName:getMainSession)))(SimpleName:getSsiHierarchy)))(SimpleName:clearPendingAvatar)))))))))))))))))(IfStatement(InstanceofExpression(SimpleName:cmd)(SimpleType(SimpleName:BuddyStatusCmd)))(Block(VariableDeclarationStatement(SimpleType(SimpleName:BuddyStatusCmd))(VariableDeclarationFragment(SimpleName:bsc)(CastExpression(SimpleType(SimpleName:BuddyStatusCmd))(SimpleName:cmd))))(VariableDeclarationStatement(SimpleType(SimpleName:FullUserInfo))(VariableDeclarationFragment(SimpleName:info)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:bsc))(SimpleName:getUserInfo))))(VariableDeclarationStatement(SimpleType(SimpleName:PresenceType))(VariableDeclarationFragment(SimpleName:pType)(QualifiedName:PresenceType.available)))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:vStatus)(StringLiteral:<STR>)))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:info))(SimpleName:getAwayStatus))(Block(ExpressionStatement(Assignment(SimpleName:pType)(ASSIGNMENT_OPERATOR:=)(QualifiedName:PresenceType.away)))))(IfStatement(InfixExpression(ParenthesizedExpression(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:info))(SimpleName:getFlags))(INFIX_EXPRESSION_OPERATOR:&)(QualifiedName:FullUserInfo.MASK_WIRELESS)))(INFIX_EXPRESSION_OPERATOR:!=)(NumberLiteral:0))(Block(ExpressionStatement(Assignment(SimpleName:pType)(ASSIGNMENT_OPERATOR:=)(QualifiedName:PresenceType.xa)))(ExpressionStatement(Assignment(SimpleName:vStatus)(ASSIGNMENT_OPERATOR:=)(StringLiteral:<STR>)))))(IfStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(SimpleName:getMainSession)))(SimpleName:getTransport)))(SimpleName:getType)))(SimpleName:equals)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:TransportType.icq)))(INFIX_EXPRESSION_OPERATOR:&&)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:info))(SimpleName:getScreenname)))(SimpleName:matches)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))(Block(ExpressionStatement(Assignment(SimpleName:pType)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(ParenthesizedExpression(CastExpression(SimpleType(SimpleName:OSCARTransport))(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(SimpleName:getMainSession)))(SimpleName:getTransport)))))(SimpleName:convertICQStatusToXMPP)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:info))(SimpleName:getIcqStatus))))))))(VariableDeclarationStatement(ParameterizedType(SimpleType(SimpleName:List))(SimpleType(SimpleName:ExtraInfoBlock)))(VariableDeclarationFragment(SimpleName:extraInfo)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:info))(SimpleName:getExtraInfoBlocks))))(IfStatement(InfixExpression(SimpleName:extraInfo)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(EnhancedForStatement(SingleVariableDeclaration(SimpleType(SimpleName:ExtraInfoBlock))(SimpleName:i))(SimpleName:extraInfo)(Block(VariableDeclarationStatement(SimpleType(SimpleName:ExtraInfoData))(VariableDeclarationFragment(SimpleName:data)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:i))(SimpleName:getExtraData))))(IfStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:i))(SimpleName:getType))(INFIX_EXPRESSION_OPERATOR:==)(QualifiedName:ExtraInfoBlock.TYPE_AVAILMSG))(Block(VariableDeclarationStatement(SimpleType(SimpleName:ByteBlock))(VariableDeclarationFragment(SimpleName:msgBlock)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:data))(SimpleName:getData))))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:len)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:BinaryTools))(SimpleName:getUShort)(METHOD_INVOCATION_ARGUMENTS(SimpleName:msgBlock)(NumberLiteral:0)))))(IfStatement(InfixExpression(SimpleName:len)(INFIX_EXPRESSION_OPERATOR:>=)(NumberLiteral:0))(Block(VariableDeclarationStatement(ArrayType(PrimitiveType:byte)(Dimension))(VariableDeclarationFragment(SimpleName:msgBytes)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:msgBlock))(SimpleName:subBlock)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:2)(SimpleName:len))))(SimpleName:toByteArray))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:msg)))(TryStatement(Block(ExpressionStatement(Assignment(SimpleName:msg)(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(SimpleType(SimpleName:String))(SimpleName:msgBytes)(StringLiteral:<STR>)))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:UnsupportedEncodingException))(SimpleName:e1))(Block(ContinueStatement))))(IfStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:msg))(SimpleName:length))(INFIX_EXPRESSION_OPERATOR:>)(NumberLiteral:0))(Block(ExpressionStatement(Assignment(SimpleName:vStatus)(ASSIGNMENT_OPERATOR:=)(InfixExpression(SimpleName:vStatus)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:msg)))))))))(IfStatement(InfixExpression(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:i))(SimpleName:getType))(INFIX_EXPRESSION_OPERATOR:==)(QualifiedName:ExtraInfoBlock.TYPE_ICONHASH))(INFIX_EXPRESSION_OPERATOR:&&)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:JiveGlobals))(SimpleName:getBooleanProperty)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(SimpleName:getMainSession)))(SimpleName:getTransport)))(SimpleName:getType))(StringLiteral:<STR>))(BooleanLiteral:true))))(Block(TryStatement(Block(VariableDeclarationStatement(SimpleType(SimpleName:OSCARBuddy))(VariableDeclarationFragment(SimpleName:oscarBuddy)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(SimpleName:getMainSession)))(SimpleName:getBuddyManager)))(SimpleName:getBuddy)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(SimpleName:getMainSession)))(SimpleName:getTransport)))(SimpleName:convertIDToJID)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:info))(SimpleName:getScreenname))))))))(VariableDeclarationStatement(SimpleType(SimpleName:Avatar))(VariableDeclarationFragment(SimpleName:curAvatar)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:oscarBuddy))(SimpleName:getAvatar))))(IfStatement(InfixExpression(InfixExpression(SimpleName:curAvatar)(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(INFIX_EXPRESSION_OPERATOR:||)(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:curAvatar))(SimpleName:getLegacyIdentifier)))(SimpleName:equals)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(QualifiedName:org.jivesoftware.util.StringUtils))(SimpleName:encodeHex)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:i))(SimpleName:getExtraData)))(SimpleName:getData)))(SimpleName:toByteArray))))))))(Block(VariableDeclarationStatement(SimpleType(SimpleName:IconRequest))(VariableDeclarationFragment(SimpleName:req)(ClassInstanceCreation(SimpleType(SimpleName:IconRequest))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:info))(SimpleName:getScreenname))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:i))(SimpleName:getExtraData)))))(ExpressionStatement(MethodInvocation(SimpleName:request)(METHOD_INVOCATION_ARGUMENTS(SimpleName:req)(ClassInstanceCreation(SimpleType(SimpleName:SnacRequestAdapter))(AnonymousClassDeclaration(MethodDeclaration(MarkerAnnotation(SimpleName:Override))(Modifier:public)(PrimitiveType:void)(SimpleName:handleResponse)(SingleVariableDeclaration(SimpleType(SimpleName:SnacResponseEvent))(SimpleName:e))(Block(VariableDeclarationStatement(SimpleType(SimpleName:SnacCommand))(VariableDeclarationFragment(SimpleName:cmd)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:e))(SimpleName:getSnacCommand))))(IfStatement(InstanceofExpression(SimpleName:cmd)(SimpleType(SimpleName:IconDataCmd)))(Block(VariableDeclarationStatement(SimpleType(SimpleName:IconDataCmd))(VariableDeclarationFragment(SimpleName:idc)(CastExpression(SimpleType(SimpleName:IconDataCmd))(SimpleName:cmd))))(IfStatement(InfixExpression(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:idc))(SimpleName:getIconData)))(SimpleName:getLength))(INFIX_EXPRESSION_OPERATOR:>)(NumberLiteral:0))(INFIX_EXPRESSION_OPERATOR:&&)(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:idc))(SimpleName:getIconData)))(SimpleName:getLength))(INFIX_EXPRESSION_OPERATOR:!=)(NumberLiteral:90)))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Log))(SimpleName:debug)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:idc)))))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(SimpleName:getMainSession)))(SimpleName:getBuddyManager)))(SimpleName:isActivated))(Block(TryStatement(Block(VariableDeclarationStatement(SimpleType(SimpleName:OSCARBuddy))(VariableDeclarationFragment(SimpleName:oscarBuddy)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(SimpleName:getMainSession)))(SimpleName:getBuddyManager)))(SimpleName:getBuddy)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(SimpleName:getMainSession)))(SimpleName:getTransport)))(SimpleName:convertIDToJID)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:idc))(SimpleName:getScreenname))))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:oscarBuddy))(SimpleName:setAvatar)(METHOD_INVOCATION_ARGUMENTS(ClassInstanceCreation(SimpleType(SimpleName:Avatar))(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(SimpleName:getMainSession)))(SimpleName:getTransport)))(SimpleName:convertIDToJID)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:idc))(SimpleName:getScreenname))))(MethodInvocation(METHOD_INVOCATION_RECEIVER(QualifiedName:org.jivesoftware.util.StringUtils))(SimpleName:encodeHex)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:idc))(SimpleName:getIconInfo)))(SimpleName:getExtraData)))(SimpleName:getData)))(SimpleName:toByteArray))))(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:idc))(SimpleName:getIconData)))(SimpleName:toByteArray)))))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:NotFoundException))(SimpleName:ee))(Block))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:IllegalArgumentException))(SimpleName:ee))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Log))(SimpleName:debug)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))))))))))))))(MethodDeclaration(MarkerAnnotation(SimpleName:Override))(Modifier:public)(PrimitiveType:void)(SimpleName:handleTimeout)(SingleVariableDeclaration(SimpleType(SimpleName:SnacRequestTimeoutEvent))(SimpleName:e))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Log))(SimpleName:debug)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))))))))))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:NotFoundException))(SimpleName:ee))(Block))))))))))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(SimpleName:getMainSession)))(SimpleName:getBuddyManager)))(SimpleName:isActivated))(Block(TryStatement(Block(VariableDeclarationStatement(SimpleType(SimpleName:OSCARBuddy))(VariableDeclarationFragment(SimpleName:oscarBuddy)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(SimpleName:getMainSession)))(SimpleName:getBuddyManager)))(SimpleName:getBuddy)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(SimpleName:getMainSession)))(SimpleName:getTransport)))(SimpleName:convertIDToJID)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:info))(SimpleName:getScreenname))))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:oscarBuddy))(SimpleName:setPresenceAndStatus)(METHOD_INVOCATION_ARGUMENTS(SimpleName:pType)(SimpleName:vStatus)))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:NotFoundException))(SimpleName:ee))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Log))(SimpleName:debug)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:info))(SimpleName:getScreenname))))))))))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(SimpleName:getMainSession)))(SimpleName:getBuddyManager)))(SimpleName:storePendingStatus)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(SimpleName:getMainSession)))(SimpleName:getTransport)))(SimpleName:convertIDToJID)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:info))(SimpleName:getScreenname))))(SimpleName:pType)(SimpleName:vStatus)))))))(IfStatement(InstanceofExpression(SimpleName:cmd)(SimpleType(SimpleName:BuddyOfflineCmd)))(Block(VariableDeclarationStatement(SimpleType(SimpleName:BuddyOfflineCmd))(VariableDeclarationFragment(SimpleName:boc)(CastExpression(SimpleType(SimpleName:BuddyOfflineCmd))(SimpleName:cmd))))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(SimpleName:getMainSession)))(SimpleName:getBuddyManager)))(SimpleName:isActivated))(Block(TryStatement(Block(VariableDeclarationStatement(SimpleType(SimpleName:OSCARBuddy))(VariableDeclarationFragment(SimpleName:oscarBuddy)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(SimpleName:getMainSession)))(SimpleName:getBuddyManager)))(SimpleName:getBuddy)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(SimpleName:getMainSession)))(SimpleName:getTransport)))(SimpleName:convertIDToJID)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:boc))(SimpleName:getScreenname))))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:oscarBuddy))(SimpleName:setPresence)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:PresenceType.unavailable)))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:NotFoundException))(SimpleName:ee))(Block))))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(SimpleName:getMainSession)))(SimpleName:getBuddyManager)))(SimpleName:storePendingStatus)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(SimpleName:getMainSession)))(SimpleName:getTransport)))(SimpleName:convertIDToJID)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:boc))(SimpleName:getScreenname))))(QualifiedName:PresenceType.unavailable)(NullLiteral)))))))(IfStatement(InstanceofExpression(SimpleName:cmd)(SimpleType(SimpleName:TypingCmd)))(Block(VariableDeclarationStatement(SimpleType(SimpleName:TypingCmd))(VariableDeclarationFragment(SimpleName:tc)(CastExpression(SimpleType(SimpleName:TypingCmd))(SimpleName:cmd))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:sn)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:tc))(SimpleName:getScreenname))))(VariableDeclarationStatement(Modifier:final)(SimpleType(SimpleName:ChatStateEventSource))(VariableDeclarationFragment(SimpleName:chatStateEventSource)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(SimpleName:getMainSession)))(SimpleName:getTransport)))(SimpleName:getChatStateEventSource))))(VariableDeclarationStatement(Modifier:final)(SimpleType(SimpleName:JID))(VariableDeclarationFragment(SimpleName:receiver)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(SimpleName:getMainSession)))(SimpleName:getJID))))(VariableDeclarationStatement(Modifier:final)(SimpleType(SimpleName:JID))(VariableDeclarationFragment(SimpleName:sender)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(SimpleName:getMainSession)))(SimpleName:getTransport)))(SimpleName:convertIDToJID)(METHOD_INVOCATION_ARGUMENTS(SimpleName:sn)))))(IfStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:tc))(SimpleName:getTypingState))(INFIX_EXPRESSION_OPERATOR:==)(QualifiedName:TypingCmd.STATE_TYPING))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:chatStateEventSource))(SimpleName:isComposing)(METHOD_INVOCATION_ARGUMENTS(SimpleName:sender)(SimpleName:receiver)))))(IfStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:tc))(SimpleName:getTypingState))(INFIX_EXPRESSION_OPERATOR:==)(QualifiedName:TypingCmd.STATE_PAUSED))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:chatStateEventSource))(SimpleName:sendIsPaused)(METHOD_INVOCATION_ARGUMENTS(SimpleName:sender)(SimpleName:receiver)))))(IfStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:tc))(SimpleName:getTypingState))(INFIX_EXPRESSION_OPERATOR:==)(QualifiedName:TypingCmd.STATE_NO_TEXT))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:chatStateEventSource))(SimpleName:isInactive)(METHOD_INVOCATION_ARGUMENTS(SimpleName:sender)(SimpleName:receiver)))))))))))))))))))))