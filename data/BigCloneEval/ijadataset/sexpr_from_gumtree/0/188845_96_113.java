(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:public)(PrimitiveType:void)(SimpleName:onShutdown)(Block(ForStatement(VariableDeclarationExpression(SimpleType(SimpleName:Iterator))(VariableDeclarationFragment(SimpleName:i)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:chatChannels))(SimpleName:values)))(SimpleName:iterator))))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:i))(SimpleName:hasNext))(Block(VariableDeclarationStatement(SimpleType(SimpleName:ChatChannel))(VariableDeclarationFragment(SimpleName:channel)(CastExpression(SimpleType(SimpleName:ChatChannel))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:i))(SimpleName:next)))))(VariableDeclarationStatement(Modifier:final)(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:channelName)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(SimpleName:getChatChannel)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:channel))(SimpleName:getName)))))(SimpleName:getChannelId))))(VariableDeclarationStatement(SimpleType(SimpleName:ChatterProcessor))(VariableDeclarationFragment(SimpleName:chatterProcessor)(ClassInstanceCreation(SimpleType(SimpleName:ChatterProcessor))(ClassInstanceCreation(SimpleType(SimpleName:Long))(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:-)(NumberLiteral:1)))(SimpleName:channel))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:chatterProcessor))(SimpleName:doProcessor)(METHOD_INVOCATION_ARGUMENTS(ClassInstanceCreation(SimpleType(SimpleName:Processor))(AnonymousClassDeclaration(MethodDeclaration(Modifier:public)(SimpleType(SimpleName:AbstractAction))(SimpleName:getAction)(SingleVariableDeclaration(SimpleType(SimpleName:User))(SimpleName:user))(SingleVariableDeclaration(SimpleType(SimpleName:User))(SimpleName:newUser))(Block(VariableDeclarationStatement(SimpleType(SimpleName:ClientTransceiver))(VariableDeclarationFragment(SimpleName:clientTransceiver)(ClassInstanceCreation(SimpleType(SimpleName:ClientTransceiver))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:user))(SimpleName:getNetworkChannel)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:clientTransceiver))(SimpleName:addReceiver)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:user))(SimpleName:getNetworkChannel)))))(VariableDeclarationStatement(SimpleType(SimpleName:ChatCloseAction))(VariableDeclarationFragment(SimpleName:action)(ClassInstanceCreation(SimpleType(SimpleName:ChatCloseAction))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:user))(SimpleName:getUniqueId))(SimpleName:channelName))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:action))(SimpleName:setTransceiver)(METHOD_INVOCATION_ARGUMENTS(SimpleName:clientTransceiver))))(ReturnStatement(SimpleName:action)))))))))))(ExpressionStatement(SuperMethodInvocation(SimpleName:onShutdown)))))))