(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:private)(PrimitiveType:void)(SimpleName:prepare)(SingleVariableDeclaration(Modifier:final)(SimpleType(SimpleName:File))(SimpleName:directory))(SingleVariableDeclaration(Modifier:final)(SimpleType(SimpleName:IProgressMonitor))(SimpleName:monitor))(SingleVariableDeclaration(Modifier:final)(SimpleType(SimpleName:Category))(SimpleName:cat))(SimpleType(SimpleName:InvocationTargetException))(SimpleType(SimpleName:InterruptedException))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ModalContext))(SimpleName:checkCanceled)(METHOD_INVOCATION_ARGUMENTS(SimpleName:monitor))))(VariableDeclarationStatement(ArrayType(SimpleType(SimpleName:File))(Dimension))(VariableDeclarationFragment(SimpleName:listFiles)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:directory))(SimpleName:listFiles))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:monitor))(SimpleName:beginTask)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:NLS))(SimpleName:bind)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:Messages.ImportImagesFromDiscRunnable_SearchTroughFolder)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:directory))(SimpleName:getName))))(QualifiedName:listFiles.length))))(EnhancedForStatement(SingleVariableDeclaration(SimpleType(SimpleName:File))(SimpleName:file))(SimpleName:listFiles)(Block(VariableDeclarationStatement(SimpleType(SimpleName:Path))(VariableDeclarationFragment(SimpleName:path)(ClassInstanceCreation(SimpleType(SimpleName:Path))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:file))(SimpleName:getAbsolutePath)))))(IfStatement(MethodInvocation(SimpleName:isValidImageExtension)(METHOD_INVOCATION_ARGUMENTS(SimpleName:path)))(Block(VariableDeclarationStatement(SimpleType(SimpleName:LoadFileToTmpFromPathRunnable))(VariableDeclarationFragment(SimpleName:copy2Tmp)(ClassInstanceCreation(SimpleType(SimpleName:LoadFileToTmpFromPathRunnable)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:copy2Tmp))(SimpleName:setFilePath)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:file))(SimpleName:getAbsolutePath)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:copy2Tmp))(SimpleName:run)(METHOD_INVOCATION_ARGUMENTS(ClassInstanceCreation(SimpleType(SimpleName:SubProgressMonitor))(SimpleName:monitor)(QualifiedName:IProgressMonitor.UNKNOWN)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:monitor))(SimpleName:setTaskName)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:NLS))(SimpleName:bind)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:Messages.ImportImagesFromDiscRunnable_AddingImage)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:path))(SimpleName:lastSegment)))))))(VariableDeclarationStatement(SimpleType(SimpleName:InformationUnit))(VariableDeclarationFragment(SimpleName:createNewObject)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:InformationStructureEdit))(SimpleName:newSession)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:ImagePlugin.TYPE_ID))))(SimpleName:newInformationUnit))))(VariableDeclarationStatement(SimpleType(SimpleName:LoadImageRunnable))(VariableDeclarationFragment(SimpleName:loadImageRunnable)(ClassInstanceCreation(SimpleType(SimpleName:LoadImageRunnable))(BooleanLiteral:true))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:loadImageRunnable))(SimpleName:setImagePath)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:copy2Tmp))(SimpleName:getTmpFile)))(SimpleName:getLocation)))(SimpleName:toOSString)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:loadImageRunnable))(SimpleName:setDomain)(METHOD_INVOCATION_ARGUMENTS(FieldAccess(ThisExpression)(SimpleName:editingDomain)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:loadImageRunnable))(SimpleName:setImageNode)(METHOD_INVOCATION_ARGUMENTS(SimpleName:createNewObject))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:loadImageRunnable))(SimpleName:run)(METHOD_INVOCATION_ARGUMENTS(ClassInstanceCreation(SimpleType(SimpleName:SubProgressMonitor))(SimpleName:monitor)(QualifiedName:IProgressMonitor.UNKNOWN)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:createNewObject))(SimpleName:setLabel)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:file))(SimpleName:getName)))))(VariableDeclarationStatement(SimpleType(SimpleName:CompoundCommand))(VariableDeclarationFragment(SimpleName:createInfotype)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:CommandFactory))(SimpleName:CREATE_INFOTYPE)(METHOD_INVOCATION_ARGUMENTS(SimpleName:createNewObject)(SimpleName:cat)(SimpleName:monitor)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:createInfotype))(SimpleName:append)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:CommandFactory))(SimpleName:addFileToInfoUnit)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:copy2Tmp))(SimpleName:getTmpFile))(SimpleName:createNewObject)(FieldAccess(ThisExpression)(SimpleName:editingDomain)))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:createInfotype))(SimpleName:execute)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(FieldAccess(ThisExpression)(SimpleName:editingDomain)))(SimpleName:getCommandStack)))(SimpleName:execute)(METHOD_INVOCATION_ARGUMENTS(SimpleName:createInfotype))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(FieldAccess(ThisExpression)(SimpleName:editingDomain)))(SimpleName:getCommandStack)))(SimpleName:flush)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:monitor))(SimpleName:worked)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:1))))))(IfStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:file))(SimpleName:isDirectory))(INFIX_EXPRESSION_OPERATOR:&&)(InfixExpression(FieldAccess(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:file))(SimpleName:list)(METHOD_INVOCATION_ARGUMENTS(ClassInstanceCreation(SimpleType(SimpleName:FilenameFilter))(AnonymousClassDeclaration(MethodDeclaration(Modifier:public)(PrimitiveType:boolean)(SimpleName:accept)(SingleVariableDeclaration(Modifier:final)(SimpleType(SimpleName:File))(SimpleName:dir))(SingleVariableDeclaration(Modifier:final)(SimpleType(SimpleName:String))(SimpleName:name))(Block(ReturnStatement(InfixExpression(MethodInvocation(SimpleName:isValidImageExtension)(METHOD_INVOCATION_ARGUMENTS(ClassInstanceCreation(SimpleType(SimpleName:Path))(SimpleName:name))))(INFIX_EXPRESSION_OPERATOR:||)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:dir))(SimpleName:isDirectory))))))))))(SimpleName:length))(INFIX_EXPRESSION_OPERATOR:>)(NumberLiteral:0)))(Block(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(FieldAccess(ThisExpression)(SimpleName:obj)))(SimpleName:isCreateFolderStructure))(Block(VariableDeclarationStatement(SimpleType(SimpleName:Category))(VariableDeclarationFragment(SimpleName:createCategory)(MethodInvocation(METHOD_INVOCATION_RECEIVER(QualifiedName:InfomngmntFactory.eINSTANCE))(SimpleName:createCategory))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:createCategory))(SimpleName:setId)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:IdFactory))(SimpleName:createNewId)(METHOD_INVOCATION_ARGUMENTS(NullLiteral))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:createCategory))(SimpleName:setLabel)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:file))(SimpleName:getName)))))(VariableDeclarationStatement(SimpleType(SimpleName:Command))(VariableDeclarationFragment(SimpleName:command)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:CommandFactory))(SimpleName:CREATE_CATEGORY)(METHOD_INVOCATION_ARGUMENTS(SimpleName:cat)(SimpleName:createCategory)(FieldAccess(ThisExpression)(SimpleName:editingDomain))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(FieldAccess(ThisExpression)(SimpleName:editingDomain)))(SimpleName:getCommandStack)))(SimpleName:execute)(METHOD_INVOCATION_ARGUMENTS(SimpleName:command))))(ExpressionStatement(MethodInvocation(SimpleName:prepare)(METHOD_INVOCATION_ARGUMENTS(SimpleName:file)(SimpleName:monitor)(SimpleName:createCategory)))))(Block(ExpressionStatement(MethodInvocation(SimpleName:prepare)(METHOD_INVOCATION_ARGUMENTS(SimpleName:file)(SimpleName:monitor)(SimpleName:cat))))))))(IfStatement(InfixExpression(QualifiedName:listFiles.length)(INFIX_EXPRESSION_OPERATOR:==)(NumberLiteral:0))(Block(VariableDeclarationStatement(SimpleType(SimpleName:Command))(VariableDeclarationFragment(SimpleName:deleteCategory)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:CommandFactory))(SimpleName:DELETE_CATEGORY)(METHOD_INVOCATION_ARGUMENTS(SimpleName:cat)(FieldAccess(ThisExpression)(SimpleName:editingDomain))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:deleteCategory))(SimpleName:execute)))))))))))