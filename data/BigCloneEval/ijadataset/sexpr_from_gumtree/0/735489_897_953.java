(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:public)(PrimitiveType:void)(SimpleName:publishEvent)(SingleVariableDeclaration(Modifier:final)(SimpleType(SimpleName:ChatEvent))(SimpleName:event))(Block(IfStatement(InfixExpression(SimpleName:chatService)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:LOG))(SimpleName:isDebugEnabled))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:LOG))(SimpleName:debug)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:event)))))))(ExpressionStatement(MethodInvocation(SimpleName:updateAutoComplete)(METHOD_INVOCATION_ARGUMENTS(SimpleName:event))))(IfStatement(MethodInvocation(SimpleName:isBlockedByExtendedCensor)(METHOD_INVOCATION_ARGUMENTS(SimpleName:event)))(Block(ReturnStatement)))(IfStatement(MethodInvocation(SimpleName:isBlockedByRegularExpressionBlocks)(METHOD_INVOCATION_ARGUMENTS(SimpleName:event)))(Block(ReturnStatement)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:event))(SimpleName:setMessage)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(SimpleName:substituteTitles)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:event))(SimpleName:getMessage))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:event))(SimpleName:getType)))))))(ExpressionStatement(MethodInvocation(SimpleName:handleOpeningTabs)(METHOD_INVOCATION_ARGUMENTS(SimpleName:event))))(ExpressionStatement(MethodInvocation(SimpleName:processChatEventScripts)(METHOD_INVOCATION_ARGUMENTS(SimpleName:event))))(IfStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:event))(SimpleName:getType))(INFIX_EXPRESSION_OPERATOR:==)(QualifiedName:ChatType.PARTNERSHIP_DESTROYED))(Block(ExpressionStatement(Assignment(SimpleName:isSimulBugConnector)(ASSIGNMENT_OPERATOR:=)(BooleanLiteral:false)))(ExpressionStatement(Assignment(SimpleName:simulBugPartnerName)(ASSIGNMENT_OPERATOR:=)(NullLiteral)))))(IfStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:event))(SimpleName:getType))(INFIX_EXPRESSION_OPERATOR:==)(QualifiedName:ChatType.FOLLOWING))(Block(ExpressionStatement(Assignment(SimpleName:userFollowing)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:event))(SimpleName:getSource)))))(IfStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:event))(SimpleName:getType))(INFIX_EXPRESSION_OPERATOR:==)(QualifiedName:ChatType.NOT_FOLLOWING))(Block(ExpressionStatement(Assignment(SimpleName:userFollowing)(ASSIGNMENT_OPERATOR:=)(NullLiteral))))))(IfStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:event))(SimpleName:getType))(INFIX_EXPRESSION_OPERATOR:==)(QualifiedName:ChatType.PARTNER_TELL))(Block(ExpressionStatement(MethodInvocation(SimpleName:playBughouseSounds)(METHOD_INVOCATION_ARGUMENTS(SimpleName:event))))(IfStatement(InfixExpression(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:event))(SimpleName:hasSoundBeenHandled)))(INFIX_EXPRESSION_OPERATOR:&&)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(SimpleName:getPreferences)))(SimpleName:getBoolean)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:PreferenceKeys.BUGHOUSE_SPEAK_PARTNER_TELLS))))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:event))(SimpleName:setHasSoundBeenHandled)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(SimpleName:speak)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(SimpleName:getTextAfterColon)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:event))(SimpleName:getMessage)))))))))))))(IfStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:event))(SimpleName:getType))(INFIX_EXPRESSION_OPERATOR:==)(QualifiedName:ChatType.CHANNEL_TELL))(Block(IfStatement(InfixExpression(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:event))(SimpleName:getSource)))(SimpleName:equals)(METHOD_INVOCATION_ARGUMENTS(SimpleName:userName))))(INFIX_EXPRESSION_OPERATOR:&&)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:channelToSpeakTellsFrom))(SimpleName:contains)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:event))(SimpleName:getChannel)))))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:event))(SimpleName:setHasSoundBeenHandled)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(SimpleName:speak)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:IcsUtils))(SimpleName:stripTitles)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:event))(SimpleName:getSource))))(INFIX_EXPRESSION_OPERATOR:+)(MethodInvocation(SimpleName:getTextAfterColon)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:event))(SimpleName:getMessage))))))))))))))(IfStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:event))(SimpleName:getType))(INFIX_EXPRESSION_OPERATOR:==)(QualifiedName:ChatType.TELL))(Block(IfStatement(InfixExpression(SimpleName:isSpeakingAllPersonTells)(INFIX_EXPRESSION_OPERATOR:||)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:peopleToSpeakTellsFrom))(SimpleName:contains)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:event))(SimpleName:getSource)))))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:event))(SimpleName:setHasSoundBeenHandled)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(SimpleName:speak)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:IcsUtils))(SimpleName:stripTitles)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:event))(SimpleName:getSource))))(INFIX_EXPRESSION_OPERATOR:+)(StringLiteral:<STR>)(MethodInvocation(SimpleName:getTextAfterColon)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:event))(SimpleName:getMessage))))))))))))))(IfStatement(InfixExpression(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:event))(SimpleName:getType))(INFIX_EXPRESSION_OPERATOR:==)(QualifiedName:ChatType.WHISPER))(INFIX_EXPRESSION_OPERATOR:||)(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:event))(SimpleName:getType))(INFIX_EXPRESSION_OPERATOR:==)(QualifiedName:ChatType.KIBITZ)))(Block(IfStatement(InfixExpression(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:event))(SimpleName:getSource)))(SimpleName:equals)(METHOD_INVOCATION_ARGUMENTS(SimpleName:userName))))(INFIX_EXPRESSION_OPERATOR:&&)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:gamesToSpeakTellsFrom))(SimpleName:contains)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:event))(SimpleName:getGameId)))))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:event))(SimpleName:setHasSoundBeenHandled)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(SimpleName:speak)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:IcsUtils))(SimpleName:stripTitles)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:event))(SimpleName:getSource))))(INFIX_EXPRESSION_OPERATOR:+)(MethodInvocation(SimpleName:getTextAfterColon)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:event))(SimpleName:getMessage))))))))))))))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:ignoreIndex)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ignoringChatTypes))(SimpleName:indexOf)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:event))(SimpleName:getType))))))(IfStatement(InfixExpression(SimpleName:ignoreIndex)(INFIX_EXPRESSION_OPERATOR:!=)(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:-)(NumberLiteral:1)))(Block(TryStatement(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ignoringChatTypes))(SimpleName:remove)(METHOD_INVOCATION_ARGUMENTS(SimpleName:ignoreIndex)))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:ArrayIndexOutOfBoundsException))(SimpleName:aiobe))(Block))))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:chatService))(SimpleName:publishChatEvent)(METHOD_INVOCATION_ARGUMENTS(SimpleName:event))))(ExpressionStatement(MethodInvocation(SimpleName:processMessageCallbacks)(METHOD_INVOCATION_ARGUMENTS(SimpleName:event))))))))))))