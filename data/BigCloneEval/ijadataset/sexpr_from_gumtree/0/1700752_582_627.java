(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:protected)(PrimitiveType:int)(SimpleName:getTokenIndexForNodeIndentifier)(SingleVariableDeclaration(SimpleType(SimpleName:Identifier))(SimpleName:xdmId))(SingleVariableDeclaration(PrimitiveType:boolean)(SimpleName:onlyWhenFound))(SingleVariableDeclaration(SimpleType(SimpleName:TokenInterface))(SimpleName:peerToMatch))(Block(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:lPos)(NumberLiteral:0)))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:rPos)(InfixExpression(SimpleName:tokenI)(INFIX_EXPRESSION_OPERATOR:-)(NumberLiteral:1))))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:midPos)))(DoStatement(Block(ExpressionStatement(Assignment(SimpleName:midPos)(ASSIGNMENT_OPERATOR:=)(InfixExpression(ParenthesizedExpression(InfixExpression(SimpleName:lPos)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:rPos)))(INFIX_EXPRESSION_OPERATOR:/)(NumberLiteral:2))))(VariableDeclarationStatement(SimpleType(SimpleName:Identifier))(VariableDeclarationFragment(SimpleName:mid)(MethodInvocation(METHOD_INVOCATION_RECEIVER(ArrayAccess(SimpleName:tokenBuffer)(SimpleName:midPos)))(SimpleName:getNodeId))))(WhileStatement(InfixExpression(InfixExpression(SimpleName:mid)(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(INFIX_EXPRESSION_OPERATOR:&&)(InfixExpression(SimpleName:midPos)(INFIX_EXPRESSION_OPERATOR:>)(InfixExpression(SimpleName:lPos)(INFIX_EXPRESSION_OPERATOR:+)(NumberLiteral:1))))(Block(ExpressionStatement(Assignment(SimpleName:midPos)(ASSIGNMENT_OPERATOR:=)(InfixExpression(SimpleName:midPos)(INFIX_EXPRESSION_OPERATOR:-)(NumberLiteral:1))))(ExpressionStatement(Assignment(SimpleName:mid)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(ArrayAccess(SimpleName:tokenBuffer)(SimpleName:midPos)))(SimpleName:getNodeId))))))(WhileStatement(InfixExpression(InfixExpression(SimpleName:mid)(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(INFIX_EXPRESSION_OPERATOR:&&)(InfixExpression(SimpleName:midPos)(INFIX_EXPRESSION_OPERATOR:<)(InfixExpression(SimpleName:rPos)(INFIX_EXPRESSION_OPERATOR:-)(NumberLiteral:1))))(Block(ExpressionStatement(Assignment(SimpleName:midPos)(ASSIGNMENT_OPERATOR:=)(InfixExpression(SimpleName:midPos)(INFIX_EXPRESSION_OPERATOR:+)(NumberLiteral:1))))(ExpressionStatement(Assignment(SimpleName:mid)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(ArrayAccess(SimpleName:tokenBuffer)(SimpleName:midPos)))(SimpleName:getNodeId))))))(IfStatement(InfixExpression(SimpleName:mid)(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(BreakStatement))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:cmpRes)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:xdmId))(SimpleName:compare)(METHOD_INVOCATION_ARGUMENTS(SimpleName:mid)))))(SwitchStatement(SimpleName:cmpRes)(SwitchCase(NumberLiteral:0))(ReturnStatement(SimpleName:midPos))(SwitchCase(NumberLiteral:1))(ExpressionStatement(Assignment(SimpleName:rPos)(ASSIGNMENT_OPERATOR:=)(SimpleName:midPos)))(BreakStatement)(SwitchCase(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:-)(NumberLiteral:1)))(ExpressionStatement(Assignment(SimpleName:lPos)(ASSIGNMENT_OPERATOR:=)(SimpleName:midPos)))(BreakStatement)(SwitchCase)(ReturnStatement(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:-)(NumberLiteral:1)))))(InfixExpression(InfixExpression(SimpleName:rPos)(INFIX_EXPRESSION_OPERATOR:-)(SimpleName:lPos))(INFIX_EXPRESSION_OPERATOR:>)(NumberLiteral:1)))(IfStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:xdmId))(SimpleName:compare)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(ArrayAccess(SimpleName:tokenBuffer)(SimpleName:lPos)))(SimpleName:getNodeId))))(INFIX_EXPRESSION_OPERATOR:==)(NumberLiteral:0))(ReturnStatement(SimpleName:lPos)))(IfStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:xdmId))(SimpleName:compare)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(ArrayAccess(SimpleName:tokenBuffer)(SimpleName:rPos)))(SimpleName:getNodeId))))(INFIX_EXPRESSION_OPERATOR:==)(NumberLiteral:0))(ReturnStatement(SimpleName:rPos)))(IfStatement(SimpleName:onlyWhenFound)(ReturnStatement(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:-)(NumberLiteral:1)))(ForStatement(VariableDeclarationExpression(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:curPos)(SimpleName:lPos)))(InfixExpression(SimpleName:curPos)(INFIX_EXPRESSION_OPERATOR:<=)(SimpleName:rPos))(PostfixExpression(SimpleName:curPos)(POSTFIX_EXPRESSION_OPERATOR:++))(Block(IfStatement(InfixExpression(SimpleName:peerToMatch)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(IfStatement(InfixExpression(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:peerToMatch))(SimpleName:getEventType))(INFIX_EXPRESSION_OPERATOR:==)(QualifiedName:Type.START_DOCUMENT))(INFIX_EXPRESSION_OPERATOR:&&)(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(ArrayAccess(SimpleName:tokenBuffer)(SimpleName:curPos)))(SimpleName:getEventType))(INFIX_EXPRESSION_OPERATOR:==)(QualifiedName:Type.END_DOCUMENT)))(ReturnStatement(SimpleName:curPos)))(IfStatement(InfixExpression(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:peerToMatch))(SimpleName:getEventType))(INFIX_EXPRESSION_OPERATOR:==)(QualifiedName:Type.START_TAG))(INFIX_EXPRESSION_OPERATOR:&&)(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(ArrayAccess(SimpleName:tokenBuffer)(SimpleName:curPos)))(SimpleName:getEventType))(INFIX_EXPRESSION_OPERATOR:==)(QualifiedName:Type.END_TAG)))(Block(VariableDeclarationStatement(SimpleType(SimpleName:NamedToken))(VariableDeclarationFragment(SimpleName:tokStart)(CastExpression(SimpleType(SimpleName:NamedToken))(SimpleName:peerToMatch))))(VariableDeclarationStatement(SimpleType(SimpleName:NamedToken))(VariableDeclarationFragment(SimpleName:tokEnd)(CastExpression(SimpleType(SimpleName:NamedToken))(ArrayAccess(SimpleName:tokenBuffer)(SimpleName:curPos)))))(IfStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:tokEnd))(SimpleName:getName)))(SimpleName:equals)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:tokStart))(SimpleName:getName))))(INFIX_EXPRESSION_OPERATOR:&&)(ParenthesizedExpression(InfixExpression(ParenthesizedExpression(InfixExpression(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:tokEnd))(SimpleName:getNS))(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(INFIX_EXPRESSION_OPERATOR:&&)(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:tokStart))(SimpleName:getNS))(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))))(INFIX_EXPRESSION_OPERATOR:||)(ParenthesizedExpression(InfixExpression(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:tokEnd))(SimpleName:getNS))(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(INFIX_EXPRESSION_OPERATOR:&&)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:tokEnd))(SimpleName:getNS)))(SimpleName:equals)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:tokStart))(SimpleName:getNS)))))))))(ReturnStatement(SimpleName:curPos)))))(IfStatement(InfixExpression(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:peerToMatch))(SimpleName:getEventType))(INFIX_EXPRESSION_OPERATOR:!=)(QualifiedName:Type.START_DOCUMENT))(INFIX_EXPRESSION_OPERATOR:&&)(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:peerToMatch))(SimpleName:getEventType))(INFIX_EXPRESSION_OPERATOR:!=)(QualifiedName:Type.START_TAG)))(ReturnStatement(SimpleName:curPos)))))(IfStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:xdmId))(SimpleName:compare)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(ArrayAccess(SimpleName:tokenBuffer)(SimpleName:curPos)))(SimpleName:getNodeId))))(INFIX_EXPRESSION_OPERATOR:==)(NumberLiteral:1))(ReturnStatement(InfixExpression(SimpleName:curPos)(INFIX_EXPRESSION_OPERATOR:-)(NumberLiteral:1)))))))(ReturnStatement(SimpleName:rPos))))))