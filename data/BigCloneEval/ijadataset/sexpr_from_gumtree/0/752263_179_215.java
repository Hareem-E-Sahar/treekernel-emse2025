(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:public)(SimpleType(SimpleName:XmlObject))(SimpleName:parse)(SingleVariableDeclaration(SimpleType(SimpleName:URL))(SimpleName:url))(SingleVariableDeclaration(SimpleType(SimpleName:SchemaType))(SimpleName:type))(SingleVariableDeclaration(SimpleType(SimpleName:XmlOptions))(SimpleName:options))(SimpleType(SimpleName:XmlException))(SimpleType(SimpleName:IOException))(Block(IfStatement(InfixExpression(SimpleName:options)(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(Block(ExpressionStatement(Assignment(SimpleName:options)(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(SimpleType(SimpleName:XmlOptions)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:options))(SimpleName:put)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:XmlOptions.DOCUMENT_SOURCE_NAME)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:url))(SimpleName:toString))))))(IfStatement(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:options))(SimpleName:hasOption)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:XmlOptions.DOCUMENT_SOURCE_NAME))))(Block(ExpressionStatement(Assignment(SimpleName:options)(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(SimpleType(SimpleName:XmlOptions))(SimpleName:options))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:options))(SimpleName:put)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:XmlOptions.DOCUMENT_SOURCE_NAME)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:url))(SimpleName:toString))))))))(VariableDeclarationStatement(SimpleType(SimpleName:URLConnection))(VariableDeclarationFragment(SimpleName:conn)(NullLiteral)))(VariableDeclarationStatement(SimpleType(SimpleName:InputStream))(VariableDeclarationFragment(SimpleName:stream)(NullLiteral)))(LabeledStatement(SimpleName:download)(TryStatement(Block(VariableDeclarationStatement(PrimitiveType:boolean)(VariableDeclarationFragment(SimpleName:redirected)(BooleanLiteral:false)))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:count)(NumberLiteral:0)))(DoStatement(Block(ExpressionStatement(Assignment(SimpleName:conn)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:url))(SimpleName:openConnection))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:conn))(SimpleName:addRequestProperty)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(SimpleName:USER_AGENT))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:conn))(SimpleName:addRequestProperty)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(StringLiteral:<STR>))))(IfStatement(InstanceofExpression(SimpleName:conn)(SimpleType(SimpleName:HttpURLConnection)))(Block(VariableDeclarationStatement(SimpleType(SimpleName:HttpURLConnection))(VariableDeclarationFragment(SimpleName:httpcon)(CastExpression(SimpleType(SimpleName:HttpURLConnection))(SimpleName:conn))))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:code)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:httpcon))(SimpleName:getResponseCode))))(ExpressionStatement(Assignment(SimpleName:redirected)(ASSIGNMENT_OPERATOR:=)(ParenthesizedExpression(InfixExpression(InfixExpression(SimpleName:code)(INFIX_EXPRESSION_OPERATOR:==)(QualifiedName:HttpURLConnection.HTTP_MOVED_PERM))(INFIX_EXPRESSION_OPERATOR:||)(InfixExpression(SimpleName:code)(INFIX_EXPRESSION_OPERATOR:==)(QualifiedName:HttpURLConnection.HTTP_MOVED_TEMP))))))(IfStatement(InfixExpression(SimpleName:redirected)(INFIX_EXPRESSION_OPERATOR:&&)(InfixExpression(SimpleName:count)(INFIX_EXPRESSION_OPERATOR:>)(NumberLiteral:5)))(ExpressionStatement(Assignment(SimpleName:redirected)(ASSIGNMENT_OPERATOR:=)(BooleanLiteral:false))))(IfStatement(SimpleName:redirected)(Block(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:newLocation)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:httpcon))(SimpleName:getHeaderField)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))))(IfStatement(InfixExpression(SimpleName:newLocation)(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(ExpressionStatement(Assignment(SimpleName:redirected)(ASSIGNMENT_OPERATOR:=)(BooleanLiteral:false)))(Block(ExpressionStatement(Assignment(SimpleName:url)(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(SimpleType(SimpleName:URL))(SimpleName:newLocation))))(ExpressionStatement(PostfixExpression(SimpleName:count)(POSTFIX_EXPRESSION_OPERATOR:++))))))))))(SimpleName:redirected))(ExpressionStatement(Assignment(SimpleName:stream)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:conn))(SimpleName:getInputStream))))(ReturnStatement(MethodInvocation(SimpleName:parse)(METHOD_INVOCATION_ARGUMENTS(SimpleName:stream)(SimpleName:type)(SimpleName:options)))))(Block(IfStatement(InfixExpression(SimpleName:stream)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:stream))(SimpleName:close)))))))))))