(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:public)(ArrayType(PrimitiveType:byte)(Dimension))(SimpleName:getAndSendScreenshot)(SingleVariableDeclaration(SimpleType(SimpleName:Robot))(SimpleName:r))(SingleVariableDeclaration(PrimitiveType:boolean)(SimpleName:colorImage))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:r))(SimpleName:delay)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:200))))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:imageColorType)))(IfStatement(SimpleName:colorImage)(Block(ExpressionStatement(Assignment(SimpleName:count)(ASSIGNMENT_OPERATOR:=)(NumberLiteral:1)))(ExpressionStatement(Assignment(SimpleName:firstTimeGray)(ASSIGNMENT_OPERATOR:=)(BooleanLiteral:true)))(ExpressionStatement(Assignment(SimpleName:imageColorType)(ASSIGNMENT_OPERATOR:=)(QualifiedName:BufferedImage.TYPE_INT_RGB))))(Block(ExpressionStatement(Assignment(SimpleName:imageColorType)(ASSIGNMENT_OPERATOR:=)(QualifiedName:BufferedImage.TYPE_BYTE_GRAY)))(IfStatement(SimpleName:firstTimeGray)(Block(ExpressionStatement(Assignment(SimpleName:firstTimeGray)(ASSIGNMENT_OPERATOR:=)(BooleanLiteral:false)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(QualifiedName:System.out))(SimpleName:println)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))))(Block(ExpressionStatement(PostfixExpression(SimpleName:count)(POSTFIX_EXPRESSION_OPERATOR:++)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(QualifiedName:System.out))(SimpleName:println)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))))))(IfStatement(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(SimpleName:isFitScreen))(Block(ExpressionStatement(Assignment(SimpleName:imageColorType)(ASSIGNMENT_OPERATOR:=)(QualifiedName:BufferedImage.TYPE_INT_RGB)))(VariableDeclarationStatement(SimpleType(SimpleName:Image))(VariableDeclarationFragment(SimpleName:image)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:r))(SimpleName:createScreenCapture)(METHOD_INVOCATION_ARGUMENTS(ClassInstanceCreation(SimpleType(SimpleName:Rectangle))(SimpleName:viewPortX)(SimpleName:viewPortY)(InfixExpression(SimpleName:deviceWidth)(INFIX_EXPRESSION_OPERATOR:+)(ParenthesizedExpression(InfixExpression(ParenthesizedExpression(InfixExpression(SimpleName:zoomIn)(INFIX_EXPRESSION_OPERATOR:*)(SimpleName:deviceWidth)))(INFIX_EXPRESSION_OPERATOR:-)(ParenthesizedExpression(InfixExpression(SimpleName:zoomOut)(INFIX_EXPRESSION_OPERATOR:*)(SimpleName:deviceWidth))))))(InfixExpression(SimpleName:deviceHeight)(INFIX_EXPRESSION_OPERATOR:+)(ParenthesizedExpression(InfixExpression(ParenthesizedExpression(InfixExpression(SimpleName:zoomIn)(INFIX_EXPRESSION_OPERATOR:*)(SimpleName:deviceHeight)))(INFIX_EXPRESSION_OPERATOR:-)(ParenthesizedExpression(InfixExpression(SimpleName:zoomOut)(INFIX_EXPRESSION_OPERATOR:*)(SimpleName:deviceHeight)))))))))))(ExpressionStatement(Assignment(SimpleName:bufferedImage)(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(SimpleType(SimpleName:BufferedImage))(SimpleName:deviceWidth)(SimpleName:deviceHeight)(SimpleName:imageColorType))))(VariableDeclarationStatement(SimpleType(SimpleName:Graphics))(VariableDeclarationFragment(SimpleName:graphics)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:bufferedImage))(SimpleName:getGraphics))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:graphics))(SimpleName:setColor)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:Color.BLACK))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:graphics))(SimpleName:fillRect)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:0)(NumberLiteral:0)(SimpleName:deviceWidth)(SimpleName:deviceHeight))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:graphics))(SimpleName:drawImage)(METHOD_INVOCATION_ARGUMENTS(SimpleName:image)(NumberLiteral:0)(NumberLiteral:0)(SimpleName:deviceWidth)(SimpleName:deviceHeight)(NullLiteral))))(ExpressionStatement(Assignment(SimpleName:image)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:bufferedImage))(SimpleName:getScaledInstance)(METHOD_INVOCATION_ARGUMENTS(SimpleName:deviceWidth)(SimpleName:deviceHeight)(SimpleName:imageColorType)))))(ExpressionStatement(Assignment(SimpleName:bufferedImage)(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(SimpleType(SimpleName:BufferedImage))(SimpleName:deviceWidth)(SimpleName:deviceHeight)(SimpleName:imageColorType))))(ExpressionStatement(Assignment(SimpleName:graphics)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:bufferedImage))(SimpleName:getGraphics))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:graphics))(SimpleName:setColor)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:Color.BLACK))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:graphics))(SimpleName:fillRect)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:0)(NumberLiteral:0)(SimpleName:deviceWidth)(SimpleName:deviceHeight))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:graphics))(SimpleName:drawImage)(METHOD_INVOCATION_ARGUMENTS(SimpleName:image)(NumberLiteral:0)(NumberLiteral:0)(SimpleName:deviceWidth)(SimpleName:deviceHeight)(NullLiteral)))))(Block(VariableDeclarationStatement(PrimitiveType:float)(VariableDeclarationFragment(SimpleName:aspectRatio)(NumberLiteral:1)))(ExpressionStatement(Assignment(SimpleName:aspectRatio)(ASSIGNMENT_OPERATOR:=)(CastExpression(PrimitiveType:float)(ParenthesizedExpression(InfixExpression(SimpleName:screenWidth)(INFIX_EXPRESSION_OPERATOR:/)(SimpleName:screenHeight))))))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:fitScreenWidth)(SimpleName:deviceWidth)))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:fitScreenHeight)(SimpleName:deviceHeight)))(IfStatement(InfixExpression(SimpleName:deviceHeight)(INFIX_EXPRESSION_OPERATOR:>)(SimpleName:deviceWidth))(Block(ExpressionStatement(Assignment(SimpleName:fitScreenWidth)(ASSIGNMENT_OPERATOR:=)(SimpleName:deviceWidth)))(ExpressionStatement(Assignment(SimpleName:fitScreenHeight)(ASSIGNMENT_OPERATOR:=)(CastExpression(PrimitiveType:int)(ParenthesizedExpression(InfixExpression(SimpleName:deviceWidth)(INFIX_EXPRESSION_OPERATOR:/)(SimpleName:aspectRatio))))))))(ExpressionStatement(Assignment(SimpleName:imageColorType)(ASSIGNMENT_OPERATOR:=)(QualifiedName:BufferedImage.TYPE_BYTE_GRAY)))(ExpressionStatement(Assignment(SimpleName:colorImage)(ASSIGNMENT_OPERATOR:=)(BooleanLiteral:false)))(VariableDeclarationStatement(SimpleType(SimpleName:Image))(VariableDeclarationFragment(SimpleName:image)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:r))(SimpleName:createScreenCapture)(METHOD_INVOCATION_ARGUMENTS(ClassInstanceCreation(SimpleType(SimpleName:Rectangle))(NumberLiteral:0)(NumberLiteral:0)(SimpleName:screenWidth)(SimpleName:screenHeight))))))(ExpressionStatement(Assignment(SimpleName:bufferedImage)(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(SimpleType(SimpleName:BufferedImage))(SimpleName:fitScreenWidth)(SimpleName:fitScreenHeight)(SimpleName:imageColorType))))(VariableDeclarationStatement(SimpleType(SimpleName:Graphics))(VariableDeclarationFragment(SimpleName:graphics)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:bufferedImage))(SimpleName:getGraphics))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:graphics))(SimpleName:setColor)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:Color.BLACK))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:graphics))(SimpleName:fillRect)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:0)(NumberLiteral:0)(SimpleName:deviceWidth)(SimpleName:deviceHeight))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:graphics))(SimpleName:drawImage)(METHOD_INVOCATION_ARGUMENTS(SimpleName:image)(NumberLiteral:0)(NumberLiteral:0)(SimpleName:deviceWidth)(CastExpression(PrimitiveType:int)(ParenthesizedExpression(InfixExpression(SimpleName:fitScreenHeight)(INFIX_EXPRESSION_OPERATOR:/)(SimpleName:count))))(NullLiteral))))(ExpressionStatement(Assignment(SimpleName:image)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:bufferedImage))(SimpleName:getScaledInstance)(METHOD_INVOCATION_ARGUMENTS(SimpleName:screenWidth)(CastExpression(PrimitiveType:int)(ParenthesizedExpression(InfixExpression(SimpleName:screenHeight)(INFIX_EXPRESSION_OPERATOR:/)(SimpleName:count))))(SimpleName:imageColorType)))))(ExpressionStatement(Assignment(SimpleName:bufferedImage)(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(SimpleType(SimpleName:BufferedImage))(SimpleName:deviceWidth)(CastExpression(PrimitiveType:int)(ParenthesizedExpression(SimpleName:fitScreenHeight)))(SimpleName:imageColorType))))(ExpressionStatement(Assignment(SimpleName:graphics)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:bufferedImage))(SimpleName:getGraphics))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:graphics))(SimpleName:setColor)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:Color.BLACK))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:graphics))(SimpleName:fillRect)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:0)(NumberLiteral:0)(SimpleName:deviceWidth)(CastExpression(PrimitiveType:int)(ParenthesizedExpression(SimpleName:deviceHeight))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:graphics))(SimpleName:drawImage)(METHOD_INVOCATION_ARGUMENTS(SimpleName:image)(NumberLiteral:0)(NumberLiteral:0)(SimpleName:deviceWidth)(CastExpression(PrimitiveType:int)(ParenthesizedExpression(InfixExpression(SimpleName:fitScreenHeight)(INFIX_EXPRESSION_OPERATOR:/)(SimpleName:count))))(NullLiteral))))))(VariableDeclarationStatement(SimpleType(SimpleName:File))(VariableDeclarationFragment(SimpleName:file)(ClassInstanceCreation(SimpleType(SimpleName:File))(StringLiteral:<STR>))))(TryStatement(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:file))(SimpleName:createNewFile)))(VariableDeclarationStatement(SimpleType(SimpleName:FileOutputStream))(VariableDeclarationFragment(SimpleName:fileout)(ClassInstanceCreation(SimpleType(SimpleName:FileOutputStream))(SimpleName:file))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ImageIO))(SimpleName:write)(METHOD_INVOCATION_ARGUMENTS(SimpleName:bufferedImage)(StringLiteral:<STR>)(SimpleName:fileout))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fileout))(SimpleName:flush)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fileout))(SimpleName:close)))(VariableDeclarationStatement(SimpleType(SimpleName:FileInputStream))(VariableDeclarationFragment(SimpleName:filein)(ClassInstanceCreation(SimpleType(SimpleName:FileInputStream))(SimpleName:file))))(ExpressionStatement(Assignment(SimpleName:imageBuffer)(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(SimpleType(SimpleName:BufferedInputStream))(SimpleName:filein))))(ExpressionStatement(Assignment(SimpleName:screenshot)(ASSIGNMENT_OPERATOR:=)(ArrayCreation(ArrayType(PrimitiveType:byte)(Dimension(CastExpression(PrimitiveType:int)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:file))(SimpleName:length))))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:imageBuffer))(SimpleName:read)(METHOD_INVOCATION_ARGUMENTS(SimpleName:screenshot)(NumberLiteral:0)(QualifiedName:screenshot.length)))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:FileNotFoundException))(SimpleName:ex))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(QualifiedName:System.out))(SimpleName:println)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ex))(SimpleName:printStackTrace)))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:IOException))(SimpleName:ex))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(QualifiedName:System.out))(SimpleName:println)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ex))(SimpleName:printStackTrace))))))(IfStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:file))(SimpleName:length))(INFIX_EXPRESSION_OPERATOR:<)(NumberLiteral:15000))(Block(ReturnStatement(SimpleName:screenshot)))(Block(IfStatement(SimpleName:isFitScreen)(Block(ReturnStatement(MethodInvocation(SimpleName:getAndSendScreenshot)(METHOD_INVOCATION_ARGUMENTS(SimpleName:r)(BooleanLiteral:false)))))(Block(IfStatement(SimpleName:colorImage)(ReturnStatement(MethodInvocation(SimpleName:getAndSendScreenshot)(METHOD_INVOCATION_ARGUMENTS(SimpleName:r)(BooleanLiteral:false))))(ReturnStatement(SimpleName:screenshot)))))))))))