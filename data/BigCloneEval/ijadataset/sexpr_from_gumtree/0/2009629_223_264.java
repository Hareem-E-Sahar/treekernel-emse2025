(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:private)(SimpleType(SimpleName:Ftpuser))(SimpleName:register)(SingleVariableDeclaration(SimpleType(SimpleName:PrintWriter))(SimpleName:writer))(SingleVariableDeclaration(SimpleType(SimpleName:String))(SimpleName:username))(SingleVariableDeclaration(SimpleType(SimpleName:String))(SimpleName:password))(SingleVariableDeclaration(SimpleType(SimpleName:String))(SimpleName:email))(SimpleType(QualifiedName:javax.naming.NamingException))(SimpleType(QualifiedName:java.sql.SQLException))(SimpleType(SimpleName:ResourceNotFoundException))(SimpleType(SimpleName:Exception))(Block(VariableDeclarationStatement(SimpleType(SimpleName:Ftpuser))(VariableDeclarationFragment(SimpleName:user)(NullLiteral)))(IfStatement(InfixExpression(MethodInvocation(SimpleName:findDeployedApp)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:util))(SimpleName:toContext)(METHOD_INVOCATION_ARGUMENTS(SimpleName:username)))))(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:writer))(SimpleName:println)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))(ReturnStatement(NullLiteral))))(TryStatement(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(ClassInstanceCreation(SimpleType(SimpleName:InternetAddress))(SimpleName:email)))(SimpleName:validate))))(CatchClause(SingleVariableDeclaration(SimpleType(QualifiedName:javax.mail.internet.AddressException))(SimpleName:aex))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:writer))(SimpleName:println)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:aex))(SimpleName:getMessage))))))(ReturnStatement(NullLiteral)))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:userHome)(InfixExpression(SimpleName:BASE)(INFIX_EXPRESSION_OPERATOR:+)(QualifiedName:File.separatorChar)(SimpleName:username))))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(ClassInstanceCreation(SimpleType(SimpleName:File))(SimpleName:userHome)))(SimpleName:exists))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:writer))(SimpleName:println)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))(ReturnStatement(NullLiteral))))(IfStatement(ParenthesizedExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:DAOFactory))(SimpleName:getUserDAO)))(SimpleName:usernameExists)(METHOD_INVOCATION_ARGUMENTS(SimpleName:username))))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:writer))(SimpleName:println)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))(ReturnStatement(NullLiteral))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:contextTmpFolder)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(SimpleName:getServletConfig)))(SimpleName:getServletContext)))(SimpleName:getRealPath)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:contextFile)(InfixExpression(SimpleName:contextTmpFolder)(INFIX_EXPRESSION_OPERATOR:+)(QualifiedName:File.separatorChar)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:util))(SimpleName:toContext)(METHOD_INVOCATION_ARGUMENTS(SimpleName:username)))(StringLiteral:<STR>))))(IfStatement(InfixExpression(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(MethodInvocation(METHOD_INVOCATION_RECEIVER(ClassInstanceCreation(SimpleType(SimpleName:File))(SimpleName:contextTmpFolder)))(SimpleName:exists)))(INFIX_EXPRESSION_OPERATOR:&&)(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(MethodInvocation(METHOD_INVOCATION_RECEIVER(ClassInstanceCreation(SimpleType(SimpleName:File))(SimpleName:contextTmpFolder)))(SimpleName:mkdir))))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:writer))(SimpleName:println)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))(ReturnStatement(NullLiteral))))(TryStatement(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:DAOFactory))(SimpleName:getFSDAO)))(SimpleName:savectx)(METHOD_INVOCATION_ARGUMENTS(SimpleName:username)(SimpleName:password)(SimpleName:contextFile)(SimpleName:BASE))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:DAOFactory))(SimpleName:getUserDAO)))(SimpleName:createUser)(METHOD_INVOCATION_ARGUMENTS(SimpleName:username)(SimpleName:email)(SimpleName:password))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:DAOFactory))(SimpleName:getDBDAO)))(SimpleName:createNewSchema)(METHOD_INVOCATION_ARGUMENTS(SimpleName:username)(SimpleName:password))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:DAOFactory))(SimpleName:getFSDAO)))(SimpleName:createHome)(METHOD_INVOCATION_ARGUMENTS(SimpleName:BASE)(SimpleName:username))))(ExpressionStatement(SuperMethodInvocation(SimpleName:deploy)(SimpleName:writer)(SimpleName:contextFile)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:util))(SimpleName:toContext)(METHOD_INVOCATION_ARGUMENTS(SimpleName:username)))(NullLiteral)(BooleanLiteral:false)))(ExpressionStatement(Assignment(SimpleName:user)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(SimpleName:logon)(METHOD_INVOCATION_ARGUMENTS(SimpleName:writer)(SimpleName:username)(SimpleName:password)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:MailHelper))(SimpleName:sendConfirmationMail)(METHOD_INVOCATION_ARGUMENTS(SimpleName:username)(SimpleName:email)(BooleanLiteral:false)))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:Exception))(SimpleName:e))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:writer))(SimpleName:println)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:e))(SimpleName:getMessage))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:e))(SimpleName:printStackTrace)))(ReturnStatement(NullLiteral)))))(ReturnStatement(SimpleName:user))))))