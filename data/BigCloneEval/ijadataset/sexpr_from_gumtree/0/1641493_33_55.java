(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:public)(SimpleType(SimpleName:String))(SimpleName:uploadPhoto)(Block(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:filePath)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ServletActionContext))(SimpleName:getServletContext)))(SimpleName:getRealPath)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))))(VariableDeclarationStatement(SimpleType(SimpleName:Random))(VariableDeclarationFragment(SimpleName:random)(ClassInstanceCreation(SimpleType(SimpleName:Random)))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:prefix)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Integer))(SimpleName:toString)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:random))(SimpleName:nextInt)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:10000000)))))))(ExpressionStatement(Assignment(SimpleName:photoPath)(ASSIGNMENT_OPERATOR:=)(StringLiteral:<STR>)))(ExpressionStatement(Assignment(SimpleName:filePath)(ASSIGNMENT_OPERATOR:+=)(SimpleName:photoPath)))(ExpressionStatement(Assignment(SimpleName:photoPath)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:photoPath))(SimpleName:replace)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(StringLiteral:<STR>)))))(ExpressionStatement(Assignment(SimpleName:photoPath)(ASSIGNMENT_OPERATOR:+=)(InfixExpression(SimpleName:prefix)(INFIX_EXPRESSION_OPERATOR:+)(StringLiteral:<STR>)(SimpleName:userImageFileName))))(ExpressionStatement(Assignment(SimpleName:userImageFileName)(ASSIGNMENT_OPERATOR:=)(InfixExpression(SimpleName:prefix)(INFIX_EXPRESSION_OPERATOR:+)(StringLiteral:<STR>)(SimpleName:userImageFileName))))(VariableDeclarationStatement(SimpleType(SimpleName:File))(VariableDeclarationFragment(SimpleName:fileToCreate)(ClassInstanceCreation(SimpleType(SimpleName:File))(SimpleName:filePath)(FieldAccess(ThisExpression)(SimpleName:userImageFileName)))))(TryStatement(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:FileUtils))(SimpleName:copyFile)(METHOD_INVOCATION_ARGUMENTS(FieldAccess(ThisExpression)(SimpleName:userImage))(SimpleName:fileToCreate))))(ExpressionStatement(Assignment(SimpleName:user)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:userDao))(SimpleName:findByUsername)(METHOD_INVOCATION_ARGUMENTS(CastExpression(SimpleType(SimpleName:String))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:session))(SimpleName:get)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:user))(SimpleName:setPhotoName)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(SimpleName:filePath)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:userImageFileName)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:userDao))(SimpleName:save)(METHOD_INVOCATION_ARGUMENTS(SimpleName:user))))(ExpressionStatement(Assignment(SimpleName:isUploaded)(ASSIGNMENT_OPERATOR:=)(BooleanLiteral:true))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:IOException))(SimpleName:e))(Block(ExpressionStatement(MethodInvocation(SimpleName:addActionError)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:e))(SimpleName:getMessage)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:e))(SimpleName:printStackTrace)))(ReturnStatement(SimpleName:INPUT)))))(ReturnStatement(StringLiteral:<STR>))))))