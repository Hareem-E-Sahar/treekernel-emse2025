(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:public)(PrimitiveType:void)(SimpleName:markAsCachedHelper)(SingleVariableDeclaration(SimpleType(SimpleName:Item))(SimpleName:item))(SingleVariableDeclaration(SimpleType(SimpleName:Date))(SimpleName:from))(SingleVariableDeclaration(SimpleType(SimpleName:Date))(SimpleName:to))(SingleVariableDeclaration(ParameterizedType(SimpleType(SimpleName:Map))(SimpleType(SimpleName:String))(SimpleType(SimpleName:Boolean)))(SimpleName:properties))(Block(IfStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:properties))(SimpleName:size))(INFIX_EXPRESSION_OPERATOR:==)(NumberLiteral:0))(Block(ReturnStatement)))(VariableDeclarationStatement(SimpleType(SimpleName:Connection))(VariableDeclarationFragment(SimpleName:conn)(NullLiteral)))(VariableDeclarationStatement(ParameterizedType(SimpleType(SimpleName:Iterable))(SimpleType(SimpleName:Integer)))(VariableDeclarationFragment(SimpleName:props)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:representer))(SimpleName:getInternalReps)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:properties))(SimpleName:keySet))))))(VariableDeclarationStatement(SimpleType(SimpleName:Integer))(VariableDeclarationFragment(SimpleName:hostIndex)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:representer))(SimpleName:lookUpInternalRep)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:item))(SimpleName:getResolved)))(SimpleName:getHost))))))(VariableDeclarationStatement(ParameterizedType(SimpleType(SimpleName:HashMap))(SimpleType(SimpleName:Integer))(ArrayType(PrimitiveType:long)(Dimension)))(VariableDeclarationFragment(SimpleName:periods)(ClassInstanceCreation(ParameterizedType(SimpleType(SimpleName:HashMap))(SimpleType(SimpleName:Integer))(ArrayType(PrimitiveType:long)(Dimension))))))(EnhancedForStatement(SingleVariableDeclaration(ParameterizedType(SimpleType(QualifiedName:Map.Entry))(SimpleType(SimpleName:String))(SimpleType(SimpleName:Boolean)))(SimpleName:e))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:properties))(SimpleName:entrySet))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:periods))(SimpleName:put)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:representer))(SimpleName:lookUpInternalRep)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:e))(SimpleName:getKey))))(ArrayCreation(ArrayType(PrimitiveType:long)(Dimension))(ArrayInitializer(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:from))(SimpleName:getTime))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:to))(SimpleName:getTime))(ConditionalExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:e))(SimpleName:getValue))(NumberLiteral:1)(NumberLiteral:0)))))))))(TryStatement(Block(ExpressionStatement(Assignment(SimpleName:conn)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(SimpleName:getConnection))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:conn))(SimpleName:setAutoCommit)(METHOD_INVOCATION_ARGUMENTS(BooleanLiteral:false))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:conn))(SimpleName:setSavepoint)))(VariableDeclarationStatement(SimpleType(SimpleName:PreparedStatement))(VariableDeclarationFragment(SimpleName:stmt)(NullLiteral)))(TryStatement(Block(ExpressionStatement(Assignment(SimpleName:stmt)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:conn))(SimpleName:prepareStatement)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(StringLiteral:<STR>)(StringLiteral:<STR>))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:stmt))(SimpleName:setString)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:1)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:item))(SimpleName:getResolved)))(SimpleName:getId)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:stmt))(SimpleName:setInt)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:2)(SimpleName:hostIndex))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:stmt))(SimpleName:setLong)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:4)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:to))(SimpleName:getTime)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:stmt))(SimpleName:setLong)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:5)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:from))(SimpleName:getTime)))))(EnhancedForStatement(SingleVariableDeclaration(ParameterizedType(SimpleType(QualifiedName:Map.Entry))(SimpleType(SimpleName:Integer))(ArrayType(PrimitiveType:long)(Dimension)))(SimpleName:e1))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:periods))(SimpleName:entrySet))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:stmt))(SimpleName:setInt)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:3)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:e1))(SimpleName:getKey)))))(VariableDeclarationStatement(SimpleType(SimpleName:ResultSet))(VariableDeclarationFragment(SimpleName:rs)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:stmt))(SimpleName:executeQuery))))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:rs))(SimpleName:next))(Block(ExpressionStatement(Assignment(ArrayAccess(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:e1))(SimpleName:getValue))(NumberLiteral:0))(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Math))(SimpleName:min)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:rs))(SimpleName:getLong)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:1)))(ArrayAccess(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:e1))(SimpleName:getValue))(NumberLiteral:0))))))(ExpressionStatement(Assignment(ArrayAccess(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:e1))(SimpleName:getValue))(NumberLiteral:1))(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Math))(SimpleName:max)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:rs))(SimpleName:getLong)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:2)))(ArrayAccess(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:e1))(SimpleName:getValue))(NumberLiteral:1))))))(ExpressionStatement(Assignment(ArrayAccess(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:e1))(SimpleName:getValue))(NumberLiteral:2))(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Math))(SimpleName:max)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:rs))(SimpleName:getInt)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:3)))(ArrayAccess(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:e1))(SimpleName:getValue))(NumberLiteral:2))))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:StorageUtils))(SimpleName:close)(METHOD_INVOCATION_ARGUMENTS(SimpleName:rs))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:StorageUtils))(SimpleName:close)(METHOD_INVOCATION_ARGUMENTS(SimpleName:stmt))))(ExpressionStatement(Assignment(SimpleName:stmt)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:conn))(SimpleName:prepareStatement)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(StringLiteral:<STR>)(StringLiteral:<STR>)(StringLiteral:<STR>))(INFIX_EXPRESSION_OPERATOR:+)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:StringUtils))(SimpleName:join)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:props))(SimpleName:iterator))(StringLiteral:<STR>)))(StringLiteral:<STR>))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:stmt))(SimpleName:setString)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:1)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:item))(SimpleName:getResolved)))(SimpleName:getId)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:stmt))(SimpleName:setInt)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:2)(SimpleName:hostIndex))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:stmt))(SimpleName:setLong)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:3)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:to))(SimpleName:getTime)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:stmt))(SimpleName:setLong)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:4)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:from))(SimpleName:getTime)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:stmt))(SimpleName:executeUpdate)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:StorageUtils))(SimpleName:close)(METHOD_INVOCATION_ARGUMENTS(SimpleName:stmt))))(ExpressionStatement(Assignment(SimpleName:stmt)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:conn))(SimpleName:prepareStatement)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:stmt))(SimpleName:setString)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:1)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:item))(SimpleName:getResolved)))(SimpleName:getId)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:stmt))(SimpleName:setInt)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:2)(SimpleName:hostIndex))))(EnhancedForStatement(SingleVariableDeclaration(ParameterizedType(SimpleType(QualifiedName:Map.Entry))(SimpleType(SimpleName:Integer))(ArrayType(PrimitiveType:long)(Dimension)))(SimpleName:e2))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:periods))(SimpleName:entrySet))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:stmt))(SimpleName:setInt)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:3)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:e2))(SimpleName:getKey)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:stmt))(SimpleName:setLong)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:4)(ArrayAccess(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:e2))(SimpleName:getValue))(NumberLiteral:0)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:stmt))(SimpleName:setLong)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:5)(ArrayAccess(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:e2))(SimpleName:getValue))(NumberLiteral:1)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:stmt))(SimpleName:setInt)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:6)(CastExpression(PrimitiveType:int)(ArrayAccess(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:e2))(SimpleName:getValue))(NumberLiteral:2))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:stmt))(SimpleName:executeUpdate))))))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:StorageUtils))(SimpleName:close)(METHOD_INVOCATION_ARGUMENTS(SimpleName:stmt))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:conn))(SimpleName:commit))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:SQLException))(SimpleName:ex))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Logger))(SimpleName:getLogger)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(TypeLiteral(SimpleType(SimpleName:MetaDataStoragerImpl))))(SimpleName:getName)))))(SimpleName:log)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:Level.SEVERE)(StringLiteral:<STR>)(SimpleName:ex))))(TryStatement(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:conn))(SimpleName:rollback))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:SQLException))(SimpleName:ex1))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Logger))(SimpleName:getLogger)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(TypeLiteral(SimpleType(SimpleName:MetaDataStoragerImpl))))(SimpleName:getName)))))(SimpleName:log)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:Level.SEVERE)(StringLiteral:<STR>)(SimpleName:ex1)))))))))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:StorageUtils))(SimpleName:close)(METHOD_INVOCATION_ARGUMENTS(SimpleName:conn))))))))))