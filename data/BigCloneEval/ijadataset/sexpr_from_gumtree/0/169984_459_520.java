(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(MarkerAnnotation(SimpleName:Override))(Modifier:public)(SimpleType(SimpleName:StreamMessage))(SimpleName:recreate)(SingleVariableDeclaration(Modifier:final)(SimpleType(SimpleName:Session))(SimpleName:session))(SimpleType(SimpleName:JMSException))(Block(IfStatement(InfixExpression(ParenthesizedExpression(InfixExpression(FieldAccess(ThisExpression)(SimpleName:in))(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral)))(INFIX_EXPRESSION_OPERATOR:||)(ParenthesizedExpression(InfixExpression(FieldAccess(ThisExpression)(SimpleName:out))(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))))(ThrowStatement(ClassInstanceCreation(SimpleType(QualifiedName:javax.jms.IllegalStateException))(StringLiteral:<STR>))))(VariableDeclarationStatement(Modifier:final)(SimpleType(SimpleName:StreamMessage))(VariableDeclarationFragment(SimpleName:msg)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:session))(SimpleName:createStreamMessage))))(ExpressionStatement(MethodInvocation(SimpleName:recreateProperties)(METHOD_INVOCATION_ARGUMENTS(SimpleName:session)(SimpleName:msg))))(TryStatement(Block(LabeledStatement(SimpleName:READ)(WhileStatement(BooleanLiteral:true)(Block(VariableDeclarationStatement(Modifier:final)(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:type)(MethodInvocation(SimpleName:beforeRead))))(SwitchStatement(SimpleName:type)(SwitchCase(SimpleName:EOF))(BreakStatement(SimpleName:READ))(SwitchCase(SimpleName:BOOLEAN))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:msg))(SimpleName:writeBoolean)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(FieldAccess(ThisExpression)(SimpleName:in)))(SimpleName:readBoolean)))))(BreakStatement)(SwitchCase(SimpleName:BYTE))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:msg))(SimpleName:writeByte)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(FieldAccess(ThisExpression)(SimpleName:in)))(SimpleName:readByte)))))(BreakStatement)(SwitchCase(SimpleName:CHAR))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:msg))(SimpleName:writeChar)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(FieldAccess(ThisExpression)(SimpleName:in)))(SimpleName:readChar)))))(BreakStatement)(SwitchCase(SimpleName:DOUBLE))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:msg))(SimpleName:writeDouble)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(FieldAccess(ThisExpression)(SimpleName:in)))(SimpleName:readDouble)))))(BreakStatement)(SwitchCase(SimpleName:FLOAT))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:msg))(SimpleName:writeFloat)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(FieldAccess(ThisExpression)(SimpleName:in)))(SimpleName:readFloat)))))(BreakStatement)(SwitchCase(SimpleName:INT))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:msg))(SimpleName:writeInt)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(FieldAccess(ThisExpression)(SimpleName:in)))(SimpleName:readInt)))))(BreakStatement)(SwitchCase(SimpleName:LONG))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:msg))(SimpleName:writeLong)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(FieldAccess(ThisExpression)(SimpleName:in)))(SimpleName:readLong)))))(BreakStatement)(SwitchCase(SimpleName:SHORT))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:msg))(SimpleName:writeShort)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(FieldAccess(ThisExpression)(SimpleName:in)))(SimpleName:readShort)))))(BreakStatement)(SwitchCase(SimpleName:STRING))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:msg))(SimpleName:writeString)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(SimpleName:readString)))))(BreakStatement)(SwitchCase(SimpleName:NULL))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:msg))(SimpleName:writeString)(METHOD_INVOCATION_ARGUMENTS(NullLiteral))))(BreakStatement)(SwitchCase(SimpleName:ARRAY))(Block(VariableDeclarationStatement(Modifier:final)(ArrayType(PrimitiveType:byte)(Dimension))(VariableDeclarationFragment(SimpleName:a)(ArrayCreation(ArrayType(PrimitiveType:byte)(Dimension(FieldAccess(ThisExpression)(SimpleName:inArrayRemaining)))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(FieldAccess(ThisExpression)(SimpleName:in)))(SimpleName:readFully)(METHOD_INVOCATION_ARGUMENTS(SimpleName:a))))(ExpressionStatement(Assignment(FieldAccess(ThisExpression)(SimpleName:inArrayRemaining))(ASSIGNMENT_OPERATOR:=)(NumberLiteral:0)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:msg))(SimpleName:writeBytes)(METHOD_INVOCATION_ARGUMENTS(SimpleName:a)))))(BreakStatement)(SwitchCase)(ThrowStatement(ClassInstanceCreation(SimpleType(SimpleName:AssertionError))(SimpleName:type))))(ExpressionStatement(Assignment(FieldAccess(ThisExpression)(SimpleName:inType))(ASSIGNMENT_OPERATOR:=)(NumberLiteral:0))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:msg))(SimpleName:reset)))(ReturnStatement(SimpleName:msg)))(CatchClause(SingleVariableDeclaration(Modifier:final)(SimpleType(SimpleName:IOException))(SimpleName:ex))(Block(ThrowStatement(MethodInvocation(SimpleName:exceptionOnRead)(METHOD_INVOCATION_ARGUMENTS(SimpleName:ex))))))(Block(ExpressionStatement(MethodInvocation(SimpleName:reset)))))))))