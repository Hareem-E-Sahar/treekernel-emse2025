(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(NormalAnnotation(SimpleName:RequestMapping)(MemberValuePair(SimpleName:value)(StringLiteral:<STR>))(MemberValuePair(SimpleName:method)(QualifiedName:RequestMethod.POST)))(MarkerAnnotation(SimpleName:ResponseBody))(Modifier:public)(SimpleType(SimpleName:String))(SimpleName:sendInboxResponseEmail)(SingleVariableDeclaration(NormalAnnotation(SimpleName:RequestParam)(MemberValuePair(SimpleName:required)(BooleanLiteral:true)))(SimpleType(SimpleName:Long))(SimpleName:inboxId))(Block(TryStatement(Block(VariableDeclarationStatement(SimpleType(SimpleName:Locale))(VariableDeclarationFragment(SimpleName:locale)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(ThisExpression))(SimpleName:getAvailableLanguages)))(SimpleName:get)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:0)))))(VariableDeclarationStatement(SimpleType(SimpleName:Inbox))(VariableDeclarationFragment(SimpleName:messageRes)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:inboxService))(SimpleName:getInbox)(METHOD_INVOCATION_ARGUMENTS(SimpleName:inboxId)(SimpleName:locale)))))(VariableDeclarationStatement(SimpleType(SimpleName:Inbox))(VariableDeclarationFragment(SimpleName:messageReq)(NullLiteral)))(IfStatement(InfixExpression(SimpleName:messageRes)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(ExpressionStatement(Assignment(SimpleName:messageReq)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:inboxService))(SimpleName:getInbox)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:messageRes))(SimpleName:getRelatedId))(SimpleName:locale)))))))(VariableDeclarationStatement(SimpleType(SimpleName:Properties))(VariableDeclarationFragment(SimpleName:props)(ClassInstanceCreation(SimpleType(SimpleName:Properties)))))(VariableDeclarationStatement(SimpleType(SimpleName:Session))(VariableDeclarationFragment(SimpleName:session)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Session))(SimpleName:getDefaultInstance)(METHOD_INVOCATION_ARGUMENTS(SimpleName:props)(NullLiteral)))))(TryStatement(Block(VariableDeclarationStatement(SimpleType(SimpleName:Message))(VariableDeclarationFragment(SimpleName:msg)(ClassInstanceCreation(SimpleType(SimpleName:MimeMessage))(SimpleName:session))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:msg))(SimpleName:setFrom)(METHOD_INVOCATION_ARGUMENTS(ClassInstanceCreation(SimpleType(SimpleName:InternetAddress))(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(ClassInstanceCreation(SimpleType(SimpleName:StringBuffer))(StringLiteral:<STR>)))(SimpleName:append)(METHOD_INVOCATION_ARGUMENTS(SimpleName:EMAIL_DOMAIN_SUFFIX))))(SimpleName:toString))(MethodInvocation(METHOD_INVOCATION_RECEIVER(ThisExpression))(SimpleName:getMessage)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:msg))(SimpleName:addRecipient)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:Message.RecipientType.TO)(ClassInstanceCreation(SimpleType(SimpleName:InternetAddress))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:messageReq))(SimpleName:getFrom))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:messageReq))(SimpleName:getName))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:msg))(SimpleName:setSubject)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(ThisExpression))(SimpleName:getMessage)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:messageReq))(SimpleName:getId)))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:msg))(SimpleName:setText)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(ClassInstanceCreation(SimpleType(SimpleName:StringBuffer))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:messageRes))(SimpleName:getContent))))(SimpleName:append)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))(SimpleName:append)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(ThisExpression))(SimpleName:getMessage)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))))(SimpleName:toString)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Transport))(SimpleName:send)(METHOD_INVOCATION_ARGUMENTS(SimpleName:msg)))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:AddressException))(SimpleName:e))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:LOGGER))(SimpleName:log)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:Level.SEVERE)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:StackTraceUtil))(SimpleName:getStackTrace)(METHOD_INVOCATION_ARGUMENTS(SimpleName:e))))))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:MessagingException))(SimpleName:e))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:LOGGER))(SimpleName:log)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:Level.SEVERE)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:StackTraceUtil))(SimpleName:getStackTrace)(METHOD_INVOCATION_ARGUMENTS(SimpleName:e)))))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:LOGGER))(SimpleName:info)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:messageReq))(SimpleName:getFrom)))))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:Exception))(SimpleName:e))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:LOGGER))(SimpleName:log)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:Level.SEVERE)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:StackTraceUtil))(SimpleName:getStackTrace)(METHOD_INVOCATION_ARGUMENTS(SimpleName:e))))))(ReturnStatement(StringLiteral:<STR>)))))(ReturnStatement(StringLiteral:<STR>))))))