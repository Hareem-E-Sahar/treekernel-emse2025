(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(MarkerAnnotation(SimpleName:Override))(Modifier:public)(PrimitiveType:void)(SimpleName:afterPropertiesSet)(SimpleType(SimpleName:Exception))(Block(TryStatement(Block(ExpressionStatement(SuperMethodInvocation(SimpleName:afterPropertiesSet)))(VariableDeclarationStatement(SimpleType(SimpleName:ApplicationContext))(VariableDeclarationFragment(SimpleName:applicationContext)(MethodInvocation(METHOD_INVOCATION_RECEIVER(ThisExpression))(SimpleName:getApplicationContext))))(VariableDeclarationStatement(ParameterizedType(SimpleType(SimpleName:Collection))(SimpleType(SimpleName:Channel)))(VariableDeclarationFragment(SimpleName:channels)(MethodInvocation(METHOD_INVOCATION_RECEIVER(ThisExpression))(SimpleName:getChannels))))(VariableDeclarationStatement(PrimitiveType:long)(VariableDeclarationFragment(SimpleName:now)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:System))(SimpleName:currentTimeMillis))))(VariableDeclarationStatement(ParameterizedType(SimpleType(SimpleName:Map))(SimpleType(SimpleName:String))(SimpleType(SimpleName:CircleOfTrustManager)))(VariableDeclarationFragment(SimpleName:cots)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:applicationContext))(SimpleName:getBeansOfType)(METHOD_INVOCATION_ARGUMENTS(TypeLiteral(SimpleType(SimpleName:CircleOfTrustManager)))))))(IfStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:cots))(SimpleName:values)))(SimpleName:size))(INFIX_EXPRESSION_OPERATOR:>)(NumberLiteral:1))(ThrowStatement(ClassInstanceCreation(SimpleType(SimpleName:IdentityMediationException))(StringLiteral:<STR>))))(VariableDeclarationStatement(SimpleType(SimpleName:CircleOfTrustManager))(VariableDeclarationFragment(SimpleName:cotMgr)(NullLiteral)))(IfStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:cots))(SimpleName:values)))(SimpleName:size))(INFIX_EXPRESSION_OPERATOR:<)(NumberLiteral:1))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:logger))(SimpleName:debug)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))))(Block(ExpressionStatement(Assignment(SimpleName:cotMgr)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:cots))(SimpleName:values)))(SimpleName:iterator)))(SimpleName:next))))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:logger))(SimpleName:isDebugEnabled))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:logger))(SimpleName:debug)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:cotMgr))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:cotMgr))(SimpleName:init)))))(VariableDeclarationStatement(ParameterizedType(SimpleType(SimpleName:Set))(SimpleType(SimpleName:String)))(VariableDeclarationFragment(SimpleName:channelNames)(ClassInstanceCreation(ParameterizedType(SimpleType(SimpleName:HashSet))(SimpleType(SimpleName:String))))))(VariableDeclarationStatement(ParameterizedType(SimpleType(SimpleName:Set))(SimpleType(SimpleName:String)))(VariableDeclarationFragment(SimpleName:endpointNames)(ClassInstanceCreation(ParameterizedType(SimpleType(SimpleName:HashSet))(SimpleType(SimpleName:String))))))(EnhancedForStatement(SingleVariableDeclaration(SimpleType(SimpleName:Channel))(SimpleName:channel))(SimpleName:channels)(Block(IfStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:channel))(SimpleName:getUnitContainer))(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(Block(ThrowStatement(ClassInstanceCreation(SimpleType(SimpleName:IllegalArgumentException))(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:channel))(SimpleName:getName))(StringLiteral:<STR>)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:channel))(SimpleName:getClass)))(SimpleName:getSimpleName))(StringLiteral:<STR>))))))(IfStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:channel))(SimpleName:getName))(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(Block(ThrowStatement(ClassInstanceCreation(SimpleType(SimpleName:IllegalArgumentException))(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:channel)(StringLiteral:<STR>))))))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:channelNames))(SimpleName:contains)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:channel))(SimpleName:getName))))(Block(ThrowStatement(ClassInstanceCreation(SimpleType(SimpleName:IllegalArgumentException))(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:channel))(SimpleName:getName)))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:channelNames))(SimpleName:add)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:channel))(SimpleName:getName)))))(VariableDeclarationStatement(SimpleType(SimpleName:IdentityMediationUnitContainer))(VariableDeclarationFragment(SimpleName:unitContainer)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:channel))(SimpleName:getUnitContainer))))(VariableDeclarationStatement(SimpleType(SimpleName:IdentityMediator))(VariableDeclarationFragment(SimpleName:mediator)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:channel))(SimpleName:getIdentityMediator))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:logger))(SimpleName:info)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:channel)(StringLiteral:<STR>)(SimpleName:mediator)(StringLiteral:<STR>)(SimpleName:unitContainer)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:channel))(SimpleName:getUnitContainer)))(SimpleName:getMediators)))(SimpleName:add)(METHOD_INVOCATION_ARGUMENTS(SimpleName:mediator))))(IfStatement(InstanceofExpression(SimpleName:channel)(SimpleType(SimpleName:FederationChannel)))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:logger))(SimpleName:info)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:channel)))))(IfStatement(InfixExpression(SimpleName:cotMgr)(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:logger))(SimpleName:error)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:channel))(SimpleName:getName))(StringLiteral:<STR>)))))(ContinueStatement)))(VariableDeclarationStatement(SimpleType(SimpleName:AbstractFederationChannel))(VariableDeclarationFragment(SimpleName:fedChannel)(CastExpression(SimpleType(SimpleName:AbstractFederationChannel))(SimpleName:channel))))(VariableDeclarationStatement(SimpleType(SimpleName:MetadataEntry))(VariableDeclarationFragment(SimpleName:md)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:cotMgr))(SimpleName:findEntityRoleMetadata)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fedChannel))(SimpleName:getMember)))(SimpleName:getAlias))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fedChannel))(SimpleName:getRole))))))(IfStatement(InfixExpression(SimpleName:md)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fedChannel))(SimpleName:setMetadata)(METHOD_INVOCATION_ARGUMENTS(SimpleName:md))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fedChannel))(SimpleName:setCircleOfTrust)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:cotMgr))(SimpleName:getCot)))))(IfStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fedChannel))(SimpleName:getEndpoints))(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(EnhancedForStatement(SingleVariableDeclaration(SimpleType(SimpleName:IdentityMediationEndpoint))(SimpleName:identityMediationEndpoint))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fedChannel))(SimpleName:getEndpoints))(Block(VariableDeclarationStatement(SimpleType(SimpleName:IdentityMediationEndpointImpl))(VariableDeclarationFragment(SimpleName:endpoint)(CastExpression(SimpleType(SimpleName:IdentityMediationEndpointImpl))(SimpleName:identityMediationEndpoint))))(IfStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:endpoint))(SimpleName:getName))(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(ThrowStatement(ClassInstanceCreation(SimpleType(SimpleName:IllegalArgumentException))(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:endpoint)))))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:endpointNames))(SimpleName:contains)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:endpoint))(SimpleName:getName))))(Block(ThrowStatement(ClassInstanceCreation(SimpleType(SimpleName:IllegalArgumentException))(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:endpoint))(SimpleName:getName)))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:endpointNames))(SimpleName:add)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:endpoint))(SimpleName:getName)))))(VariableDeclarationStatement(SimpleType(SimpleName:MetadataEntry))(VariableDeclarationFragment(SimpleName:endpointMetadata)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:cotMgr))(SimpleName:findEndpointMetadata)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fedChannel))(SimpleName:getMember)))(SimpleName:getAlias))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fedChannel))(SimpleName:getRole))(ClassInstanceCreation(SimpleType(SimpleName:EndpointDescriptorImpl))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:identityMediationEndpoint))(SimpleName:getName))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:identityMediationEndpoint))(SimpleName:getType))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:identityMediationEndpoint))(SimpleName:getBinding)))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:endpoint))(SimpleName:setMetadata)(METHOD_INVOCATION_ARGUMENTS(SimpleName:endpointMetadata)))))))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:logger))(SimpleName:warn)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fedChannel))(SimpleName:getName))))))))))))(VariableDeclarationStatement(SimpleType(SimpleName:IdentityMediationUnitContainer))(VariableDeclarationFragment(SimpleName:container)(MethodInvocation(METHOD_INVOCATION_RECEIVER(ThisExpression))(SimpleName:getContainer))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:container))(SimpleName:init)(METHOD_INVOCATION_ARGUMENTS(ThisExpression))))(EnhancedForStatement(SingleVariableDeclaration(SimpleType(SimpleName:Channel))(SimpleName:channel))(SimpleName:channels)(Block(IfStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:channel))(SimpleName:getIdentityMediator))(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:logger))(SimpleName:info)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:channel))(SimpleName:getName))))))(VariableDeclarationStatement(SimpleType(SimpleName:IdentityMediator))(VariableDeclarationFragment(SimpleName:mediator)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:channel))(SimpleName:getIdentityMediator))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:mediator))(SimpleName:setupEndpoints)(METHOD_INVOCATION_ARGUMENTS(SimpleName:channel)))))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:logger))(SimpleName:warn)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:container))(SimpleName:start)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:logger))(SimpleName:info)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(MethodInvocation(SimpleName:getName))(StringLiteral:<STR>)(ParenthesizedExpression(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:System))(SimpleName:currentTimeMillis))(INFIX_EXPRESSION_OPERATOR:-)(SimpleName:now)))(StringLiteral:<STR>)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(QualifiedName:System.out))(SimpleName:println)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(MethodInvocation(SimpleName:getName))(StringLiteral:<STR>)(ParenthesizedExpression(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:System))(SimpleName:currentTimeMillis))(INFIX_EXPRESSION_OPERATOR:-)(SimpleName:now)))(StringLiteral:<STR>))))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:Exception))(SimpleName:e))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(QualifiedName:System.err))(SimpleName:println)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(MethodInvocation(SimpleName:getName))(StringLiteral:<STR>)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:e))(SimpleName:getMessage))))))(ThrowStatement(ClassInstanceCreation(SimpleType(SimpleName:IdentityMediationException))(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(MethodInvocation(SimpleName:getName))(StringLiteral:<STR>)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:e))(SimpleName:getMessage)))(SimpleName:e))))))))))