(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(MarkerAnnotation(SimpleName:Test))(Modifier:public)(PrimitiveType:void)(SimpleName:testBlockingTransferFromServerClosed)(SimpleType(SimpleName:Exception))(Block(VariableDeclarationStatement(SimpleType(SimpleName:ServerHandler))(VariableDeclarationFragment(SimpleName:srvHdl)(ClassInstanceCreation(SimpleType(SimpleName:ServerHandler)))))(VariableDeclarationStatement(SimpleType(SimpleName:IServer))(VariableDeclarationFragment(SimpleName:server)(ClassInstanceCreation(SimpleType(SimpleName:Server))(SimpleName:srvHdl))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:server))(SimpleName:start)))(VariableDeclarationStatement(SimpleType(SimpleName:IBlockingConnection))(VariableDeclarationFragment(SimpleName:clientCon)(ClassInstanceCreation(SimpleType(SimpleName:BlockingConnection))(StringLiteral:<STR>)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:server))(SimpleName:getLocalPort)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:QAUtil))(SimpleName:sleep)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:1000))))(VariableDeclarationStatement(Modifier:final)(SimpleType(SimpleName:INonBlockingConnection))(VariableDeclarationFragment(SimpleName:serverCon)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:srvHdl))(SimpleName:getConection))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:serverCon))(SimpleName:setAutoflush)(METHOD_INVOCATION_ARGUMENTS(BooleanLiteral:false))))(VariableDeclarationStatement(SimpleType(SimpleName:File))(VariableDeclarationFragment(SimpleName:file)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:QAUtil))(SimpleName:createTempfile))))(VariableDeclarationStatement(SimpleType(SimpleName:RandomAccessFile))(VariableDeclarationFragment(SimpleName:raf)(ClassInstanceCreation(SimpleType(SimpleName:RandomAccessFile))(SimpleName:file)(StringLiteral:<STR>))))(VariableDeclarationStatement(SimpleType(SimpleName:FileChannel))(VariableDeclarationFragment(SimpleName:fc)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:raf))(SimpleName:getChannel))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:txt)(StringLiteral:<STR>)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:serverCon))(SimpleName:write)(METHOD_INVOCATION_ARGUMENTS(SimpleName:txt))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:serverCon))(SimpleName:flush)))(VariableDeclarationStatement(SimpleType(SimpleName:Thread))(VariableDeclarationFragment(SimpleName:t)(ClassInstanceCreation(SimpleType(SimpleName:Thread))(AnonymousClassDeclaration(MethodDeclaration(MarkerAnnotation(SimpleName:Override))(Modifier:public)(PrimitiveType:void)(SimpleName:run)(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:QAUtil))(SimpleName:sleep)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:300))))(TryStatement(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:serverCon))(SimpleName:close))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:IOException))(SimpleName:ioe))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ioe))(SimpleName:toString))))))(EmptyStatement)))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:t))(SimpleName:start)))(VariableDeclarationStatement(PrimitiveType:long)(VariableDeclarationFragment(SimpleName:transfered)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fc))(SimpleName:transferFrom)(METHOD_INVOCATION_ARGUMENTS(SimpleName:clientCon)(NumberLiteral:0)(NumberLiteral:9000000)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fc))(SimpleName:close)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:raf))(SimpleName:close)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Assert))(SimpleName:assertEquals)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:txt))(SimpleName:length))(SimpleName:transfered))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Assert))(SimpleName:assertTrue)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:QAUtil))(SimpleName:isEquals)(METHOD_INVOCATION_ARGUMENTS(SimpleName:file)(SimpleName:txt))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Assert))(SimpleName:assertFalse)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:clientCon))(SimpleName:isOpen)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:file))(SimpleName:delete)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:server))(SimpleName:close)))))))