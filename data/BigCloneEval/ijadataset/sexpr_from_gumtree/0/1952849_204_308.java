(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:public)(SimpleName:FileIO)(SingleVariableDeclaration(SimpleType(SimpleName:String))(SimpleName:filename))(SingleVariableDeclaration(SimpleType(SimpleName:String))(SimpleName:filemode))(SimpleType(SimpleName:InvalidFileModeException))(SimpleType(SimpleName:FileIOException))(SimpleType(SimpleName:IOException))(Block(ExpressionStatement(Assignment(SimpleName:ir)(ASSIGNMENT_OPERATOR:=)(NullLiteral)))(ExpressionStatement(Assignment(SimpleName:pw)(ASSIGNMENT_OPERATOR:=)(NullLiteral)))(ExpressionStatement(Assignment(SimpleName:compressed)(ASSIGNMENT_OPERATOR:=)(SimpleName:NO_ZIP)))(ExpressionStatement(Assignment(SimpleName:pipe)(ASSIGNMENT_OPERATOR:=)(BooleanLiteral:false)))(ExpressionStatement(Assignment(SimpleName:lineno)(ASSIGNMENT_OPERATOR:=)(NumberLiteral:0)))(ExpressionStatement(Assignment(SimpleName:originalname)(ASSIGNMENT_OPERATOR:=)(ConditionalExpression(ParenthesizedExpression(InfixExpression(SimpleName:filename)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral)))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:filename))(SimpleName:intern))(NullLiteral))))(ExpressionStatement(Assignment(SimpleName:originalmode)(ASSIGNMENT_OPERATOR:=)(ConditionalExpression(ParenthesizedExpression(InfixExpression(SimpleName:filemode)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral)))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:filemode))(SimpleName:intern))(NullLiteral))))(ExpressionStatement(Assignment(SimpleName:mode)(ASSIGNMENT_OPERATOR:=)(SimpleName:UNKNOWN_MODE)))(VariableDeclarationStatement(SimpleType(SimpleName:StringBuffer))(VariableDeclarationFragment(SimpleName:buf)(ClassInstanceCreation(SimpleType(SimpleName:StringBuffer)))))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:idx)))(IfStatement(InfixExpression(SimpleName:filemode)(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:buf))(SimpleName:append)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))(SimpleName:append)(METHOD_INVOCATION_ARGUMENTS(SimpleName:filemode))))(SimpleName:append)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))(SimpleName:append)(METHOD_INVOCATION_ARGUMENTS(SimpleName:filename))))(ThrowStatement(ClassInstanceCreation(SimpleType(SimpleName:InvalidFileModeException))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:buf))(SimpleName:toString))))))(IfStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:filemode))(SimpleName:indexOf)(METHOD_INVOCATION_ARGUMENTS(CharacterLiteral:<STR>)))(INFIX_EXPRESSION_OPERATOR:>=)(NumberLiteral:0))(Block(ExpressionStatement(Assignment(SimpleName:mode)(ASSIGNMENT_OPERATOR:=)(SimpleName:READ_MODE))))(IfStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:filemode))(SimpleName:indexOf)(METHOD_INVOCATION_ARGUMENTS(CharacterLiteral:<STR>)))(INFIX_EXPRESSION_OPERATOR:>=)(NumberLiteral:0))(Block(ExpressionStatement(Assignment(SimpleName:mode)(ASSIGNMENT_OPERATOR:=)(SimpleName:WRITE_MODE))))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:buf))(SimpleName:append)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))(SimpleName:append)(METHOD_INVOCATION_ARGUMENTS(SimpleName:filemode))))(SimpleName:append)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))(SimpleName:append)(METHOD_INVOCATION_ARGUMENTS(SimpleName:filename))))(ThrowStatement(ClassInstanceCreation(SimpleType(SimpleName:InvalidFileModeException))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:buf))(SimpleName:toString)))))))(IfStatement(InfixExpression(InfixExpression(ParenthesizedExpression(Assignment(SimpleName:idx)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:filemode))(SimpleName:indexOf)(METHOD_INVOCATION_ARGUMENTS(CharacterLiteral:<STR>)))))(INFIX_EXPRESSION_OPERATOR:>=)(NumberLiteral:0))(INFIX_EXPRESSION_OPERATOR:||)(InfixExpression(ParenthesizedExpression(Assignment(SimpleName:idx)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:filemode))(SimpleName:indexOf)(METHOD_INVOCATION_ARGUMENTS(CharacterLiteral:<STR>)))))(INFIX_EXPRESSION_OPERATOR:>=)(NumberLiteral:0)))(Block(ExpressionStatement(Assignment(SimpleName:compressed)(ASSIGNMENT_OPERATOR:=)(SimpleName:ZIP)))(ExpressionStatement(Assignment(SimpleName:pipe)(ASSIGNMENT_OPERATOR:=)(BooleanLiteral:false)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:buf))(SimpleName:setLength)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:0))))(ExpressionStatement(Assignment(SimpleName:filemode)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:buf))(SimpleName:append)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:filemode))(SimpleName:substring)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:0)(SimpleName:idx))))))(SimpleName:append)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:filemode))(SimpleName:substring)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(SimpleName:idx)(INFIX_EXPRESSION_OPERATOR:+)(NumberLiteral:1)))))))(SimpleName:toString))))))(IfStatement(InfixExpression(ParenthesizedExpression(Assignment(SimpleName:idx)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:filemode))(SimpleName:indexOf)(METHOD_INVOCATION_ARGUMENTS(CharacterLiteral:<STR>)))))(INFIX_EXPRESSION_OPERATOR:>=)(NumberLiteral:0))(Block(ExpressionStatement(Assignment(SimpleName:pipe)(ASSIGNMENT_OPERATOR:=)(BooleanLiteral:true)))(ExpressionStatement(Assignment(SimpleName:compressed)(ASSIGNMENT_OPERATOR:=)(SimpleName:NO_ZIP)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:buf))(SimpleName:setLength)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:0))))(ExpressionStatement(Assignment(SimpleName:filemode)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:buf))(SimpleName:append)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:filemode))(SimpleName:substring)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:0)(SimpleName:idx))))))(SimpleName:append)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:filemode))(SimpleName:substring)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(SimpleName:idx)(INFIX_EXPRESSION_OPERATOR:+)(NumberLiteral:1)))))))(SimpleName:toString))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:logger))(SimpleName:finest)(METHOD_INVOCATION_ARGUMENTS(SimpleName:filemode))))))(IfStatement(InfixExpression(InfixExpression(SimpleName:filename)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(INFIX_EXPRESSION_OPERATOR:&&)(ParenthesizedExpression(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:filename))(SimpleName:charAt)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:0)))(INFIX_EXPRESSION_OPERATOR:==)(CharacterLiteral:<STR>))))(Block(ExpressionStatement(Assignment(SimpleName:pipe)(ASSIGNMENT_OPERATOR:=)(BooleanLiteral:true)))(ExpressionStatement(Assignment(SimpleName:compressed)(ASSIGNMENT_OPERATOR:=)(SimpleName:NO_ZIP)))(ExpressionStatement(Assignment(SimpleName:filename)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:filename))(SimpleName:substring)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:1)))))))(IfStatement(InfixExpression(SimpleName:filename)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(ExpressionStatement(Assignment(SimpleName:filename)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:filename))(SimpleName:trim))))(IfStatement(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(SimpleName:pipe))(Block(ExpressionStatement(Assignment(SimpleName:compressed)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(SimpleName:checkCompressionType)(METHOD_INVOCATION_ARGUMENTS(SimpleName:filename)))))))(IfStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:filename))(SimpleName:compareTo)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))(INFIX_EXPRESSION_OPERATOR:==)(NumberLiteral:0))(Block(ExpressionStatement(Assignment(SimpleName:filename)(ASSIGNMENT_OPERATOR:=)(NullLiteral)))))))(IfStatement(InfixExpression(SimpleName:filename)(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(Block(IfStatement(InfixExpression(SimpleName:mode)(INFIX_EXPRESSION_OPERATOR:==)(SimpleName:READ_MODE))(Block(ExpressionStatement(Assignment(SimpleName:ir)(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(SimpleType(QualifiedName:geovista.readers.Reader))(QualifiedName:System.in))))(ExpressionStatement(Assignment(SimpleName:pw)(ASSIGNMENT_OPERATOR:=)(NullLiteral))))(Block(ExpressionStatement(Assignment(SimpleName:ir)(ASSIGNMENT_OPERATOR:=)(NullLiteral)))(ExpressionStatement(Assignment(SimpleName:pw)(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(SimpleType(SimpleName:PrintWriter))(QualifiedName:System.out))))))(ExpressionStatement(Assignment(SimpleName:filename)(ASSIGNMENT_OPERATOR:=)(ConditionalExpression(ParenthesizedExpression(InfixExpression(SimpleName:mode)(INFIX_EXPRESSION_OPERATOR:==)(SimpleName:READ_MODE)))(SimpleName:STDIN_NAME)(SimpleName:STDOUT_NAME)))))(IfStatement(InfixExpression(SimpleName:compressed)(INFIX_EXPRESSION_OPERATOR:>)(SimpleName:NO_ZIP))(Block(IfStatement(InfixExpression(SimpleName:mode)(INFIX_EXPRESSION_OPERATOR:==)(SimpleName:READ_MODE))(Block(SwitchStatement(SimpleName:compressed)(SwitchCase(SimpleName:ZIP))(VariableDeclarationStatement(SimpleType(SimpleName:ZipFile))(VariableDeclarationFragment(SimpleName:zf)(ClassInstanceCreation(SimpleType(SimpleName:ZipFile))(SimpleName:filename))))(VariableDeclarationStatement(SimpleType(SimpleName:Enumeration))(VariableDeclarationFragment(SimpleName:enumeration)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:zf))(SimpleName:entries))))(VariableDeclarationStatement(SimpleType(SimpleName:ZipEntry))(VariableDeclarationFragment(SimpleName:target)(CastExpression(SimpleType(SimpleName:ZipEntry))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:enumeration))(SimpleName:nextElement)))))(ExpressionStatement(Assignment(SimpleName:ir)(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(SimpleType(QualifiedName:geovista.readers.Reader))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:zf))(SimpleName:getInputStream)(METHOD_INVOCATION_ARGUMENTS(SimpleName:target))))))(BreakStatement)(SwitchCase(SimpleName:GZIP))(VariableDeclarationStatement(SimpleType(SimpleName:GZIPInputStream))(VariableDeclarationFragment(SimpleName:gzis)(ClassInstanceCreation(SimpleType(SimpleName:GZIPInputStream))(ClassInstanceCreation(SimpleType(SimpleName:FileInputStream))(SimpleName:filename)))))(ExpressionStatement(Assignment(SimpleName:ir)(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(SimpleType(QualifiedName:geovista.readers.Reader))(SimpleName:gzis))))(BreakStatement))(ExpressionStatement(Assignment(SimpleName:pw)(ASSIGNMENT_OPERATOR:=)(NullLiteral))))(Block(VariableDeclarationStatement(SimpleType(SimpleName:File))(VariableDeclarationFragment(SimpleName:zf)(ClassInstanceCreation(SimpleType(SimpleName:File))(SimpleName:filename))))(SwitchStatement(SimpleName:compressed)(SwitchCase(SimpleName:ZIP))(VariableDeclarationStatement(SimpleType(SimpleName:ZipOutputStream))(VariableDeclarationFragment(SimpleName:zos)(ClassInstanceCreation(SimpleType(SimpleName:ZipOutputStream))(ClassInstanceCreation(SimpleType(SimpleName:FileOutputStream))(SimpleName:zf)))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:fullpath)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:zf))(SimpleName:getPath))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:path)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fullpath))(SimpleName:substring)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:0)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fullpath))(SimpleName:lastIndexOf)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))))))(VariableDeclarationStatement(SimpleType(SimpleName:ZipEntry))(VariableDeclarationFragment(SimpleName:target)(ClassInstanceCreation(SimpleType(SimpleName:ZipEntry))(SimpleName:path))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:zos))(SimpleName:putNextEntry)(METHOD_INVOCATION_ARGUMENTS(SimpleName:target))))(ExpressionStatement(Assignment(SimpleName:ir)(ASSIGNMENT_OPERATOR:=)(NullLiteral)))(ExpressionStatement(Assignment(SimpleName:pw)(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(SimpleType(SimpleName:PrintWriter))(SimpleName:zos)(BooleanLiteral:true))))(BreakStatement)(SwitchCase(SimpleName:GZIP))(VariableDeclarationStatement(SimpleType(SimpleName:GZIPOutputStream))(VariableDeclarationFragment(SimpleName:gos)(ClassInstanceCreation(SimpleType(SimpleName:GZIPOutputStream))(ClassInstanceCreation(SimpleType(SimpleName:FileOutputStream))(SimpleName:zf)))))(ExpressionStatement(Assignment(SimpleName:ir)(ASSIGNMENT_OPERATOR:=)(NullLiteral)))(ExpressionStatement(Assignment(SimpleName:pw)(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(SimpleType(SimpleName:PrintWriter))(SimpleName:gos)(BooleanLiteral:true))))(BreakStatement)))))(IfStatement(SimpleName:pipe)(Block)(Block(IfStatement(InfixExpression(SimpleName:mode)(INFIX_EXPRESSION_OPERATOR:==)(SimpleName:READ_MODE))(Block(ExpressionStatement(Assignment(SimpleName:ir)(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(SimpleType(QualifiedName:geovista.readers.Reader))(ClassInstanceCreation(SimpleType(SimpleName:FileInputStream))(SimpleName:filename)))))(ExpressionStatement(Assignment(SimpleName:pw)(ASSIGNMENT_OPERATOR:=)(NullLiteral))))(Block(ExpressionStatement(Assignment(SimpleName:ir)(ASSIGNMENT_OPERATOR:=)(NullLiteral)))(ExpressionStatement(Assignment(SimpleName:pw)(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(SimpleType(SimpleName:PrintWriter))(ClassInstanceCreation(SimpleType(SimpleName:FileOutputStream))(SimpleName:filename))(BooleanLiteral:true))))))))))(ExpressionStatement(Assignment(SimpleName:name)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:filename))(SimpleName:intern))))))))