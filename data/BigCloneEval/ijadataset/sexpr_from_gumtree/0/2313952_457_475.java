(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:public)(PrimitiveType:void)(SimpleName:fsync)(SingleVariableDeclaration(SimpleType(SimpleName:String))(SimpleName:path))(SingleVariableDeclaration(PrimitiveType:long)(SimpleName:fhandle))(SingleVariableDeclaration(ParameterizedType(SimpleType(SimpleName:Thunk2))(SimpleType(SimpleName:Integer))(SimpleType(SimpleName:Update)))(SimpleName:app_cb))(Block(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:logger))(SimpleName:isInfoEnabled))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:logger))(SimpleName:info)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:path)(StringLiteral:<STR>)(SimpleName:fhandle))))))(VariableDeclarationStatement(SimpleType(SimpleName:ObjectState))(VariableDeclarationFragment(SimpleName:state)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:state_map))(SimpleName:get)(METHOD_INVOCATION_ARGUMENTS(SimpleName:path)))))(AssertStatement(ParenthesizedExpression(InfixExpression(SimpleName:state)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))))(SynchronizedStatement(SimpleName:state)(Block(ExpressionStatement(Assignment(QualifiedName:state.busy)(ASSIGNMENT_OPERATOR:=)(BooleanLiteral:true)))))(VariableDeclarationStatement(SimpleType(SimpleName:FileChannel))(VariableDeclarationFragment(SimpleName:fchannel)(NullLiteral)))(TryStatement(Block(ExpressionStatement(Assignment(SimpleName:fchannel)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:state))(SimpleName:getChannel)))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:IOException))(SimpleName:e))(Block(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:status)(QualifiedName:MoxieStatus.MOXIE_STATUS_IO)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:app_cb))(SimpleName:run)(METHOD_INVOCATION_ARGUMENTS(SimpleName:status)(CastExpression(SimpleType(SimpleName:Update))(NullLiteral)))))(ReturnStatement))))(VariableDeclarationStatement(ParameterizedType(SimpleType(SimpleName:Thunk1))(SimpleType(SimpleName:Update)))(VariableDeclarationFragment(SimpleName:update_cb)(MethodInvocation(SimpleName:curry)(METHOD_INVOCATION_ARGUMENTS(SimpleName:fsync_update_cb)(SimpleName:path)(SimpleName:fhandle)(SimpleName:app_cb)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:updater))(SimpleName:computeUpdate)(METHOD_INVOCATION_ARGUMENTS(SimpleName:path)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:state))(SimpleName:getCachePath))(QualifiedName:state.ver)(SimpleName:fchannel)(SimpleName:update_cb))))(ReturnStatement)))))