(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:private)(PrimitiveType:void)(SimpleName:handleSSI)(SingleVariableDeclaration(SimpleType(SimpleName:HttpData))(SimpleName:data))(SimpleType(SimpleName:HttpError))(SimpleType(SimpleName:IOException))(Block(VariableDeclarationStatement(SimpleType(SimpleName:File))(VariableDeclarationFragment(SimpleName:tempFile)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:TempFileHandler))(SimpleName:getTempFile))))(VariableDeclarationStatement(SimpleType(SimpleName:FileOutputStream))(VariableDeclarationFragment(SimpleName:out)(ClassInstanceCreation(SimpleType(SimpleName:FileOutputStream))(SimpleName:tempFile))))(VariableDeclarationStatement(SimpleType(SimpleName:BufferedReader))(VariableDeclarationFragment(SimpleName:in)(ClassInstanceCreation(SimpleType(SimpleName:BufferedReader))(ClassInstanceCreation(SimpleType(SimpleName:FileReader))(QualifiedName:data.realPath)))))(VariableDeclarationStatement(ArrayType(SimpleType(SimpleName:String))(Dimension))(VariableDeclarationFragment(SimpleName:env)(MethodInvocation(SimpleName:getEnvironmentVariables)(METHOD_INVOCATION_ARGUMENTS(SimpleName:data)))))(IfStatement(InfixExpression(SimpleName:ssi)(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(Block(ExpressionStatement(Assignment(SimpleName:ssi)(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(SimpleType(SimpleName:BSssi)))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ssi))(SimpleName:addEnvironment)(METHOD_INVOCATION_ARGUMENTS(SimpleName:env))))(IfStatement(InfixExpression(QualifiedName:data.resp)(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(Block(VariableDeclarationStatement(SimpleType(SimpleName:SimpleResponse))(VariableDeclarationFragment(SimpleName:resp)(ClassInstanceCreation(SimpleType(SimpleName:SimpleResponse)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:resp))(SimpleName:setHeader)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(StringLiteral:<STR>))))(ExpressionStatement(MethodInvocation(SimpleName:moreHeaders)(METHOD_INVOCATION_ARGUMENTS(SimpleName:resp))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:resp))(SimpleName:setHeader)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(StringLiteral:<STR>))))(ExpressionStatement(Assignment(QualifiedName:data.resp)(ASSIGNMENT_OPERATOR:=)(SimpleName:resp)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:resp))(SimpleName:write)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:data.out))))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:t)))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:start)))(VariableDeclarationStatement(SimpleType(SimpleName:Enumeration))(VariableDeclarationFragment(SimpleName:en)))(VariableDeclarationStatement(PrimitiveType:boolean)(VariableDeclarationFragment(SimpleName:anIfCondition)(BooleanLiteral:true)))(WhileStatement(InfixExpression(ParenthesizedExpression(Assignment(SimpleName:t)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:in))(SimpleName:readLine))))(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(IfStatement(InfixExpression(ParenthesizedExpression(Assignment(SimpleName:start)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:t))(SimpleName:indexOf)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))))(INFIX_EXPRESSION_OPERATOR:>)(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:-)(NumberLiteral:1)))(Block(IfStatement(SimpleName:anIfCondition)(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:out))(SimpleName:write)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:t))(SimpleName:substring)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:0)(SimpleName:start))))(SimpleName:getBytes))))))(TryStatement(Block(ExpressionStatement(Assignment(SimpleName:en)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ssi))(SimpleName:parse)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:t))(SimpleName:substring)(METHOD_INVOCATION_ARGUMENTS(SimpleName:start))))))(SimpleName:elements))))(VariableDeclarationStatement(SimpleType(SimpleName:SSICommand))(VariableDeclarationFragment(SimpleName:command)))(WhileStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:en))(SimpleName:hasMoreElements))(Block(ExpressionStatement(Assignment(SimpleName:command)(ASSIGNMENT_OPERATOR:=)(CastExpression(SimpleType(SimpleName:SSICommand))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:en))(SimpleName:nextElement)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:logger))(SimpleName:fine)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:command)))))(SwitchStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:command))(SimpleName:getCommand))(SwitchCase(QualifiedName:BSssi.CMD_IF_TRUE))(ExpressionStatement(Assignment(SimpleName:anIfCondition)(ASSIGNMENT_OPERATOR:=)(BooleanLiteral:true)))(BreakStatement)(SwitchCase(QualifiedName:BSssi.CMD_IF_FALSE))(ExpressionStatement(Assignment(SimpleName:anIfCondition)(ASSIGNMENT_OPERATOR:=)(BooleanLiteral:false)))(BreakStatement)(SwitchCase(QualifiedName:BSssi.CMD_CGI))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:out))(SimpleName:flush)))(IfStatement(InfixExpression(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:command))(SimpleName:getFileType))(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(INFIX_EXPRESSION_OPERATOR:&&)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:command))(SimpleName:getFileType)))(SimpleName:startsWith)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))(Block(VariableDeclarationStatement(SimpleType(SimpleName:HttpData))(VariableDeclarationFragment(SimpleName:d)(MethodInvocation(SimpleName:newHttpData)(METHOD_INVOCATION_ARGUMENTS(SimpleName:data)))))(ExpressionStatement(Assignment(QualifiedName:d.out)(ASSIGNMENT_OPERATOR:=)(SimpleName:out)))(ExpressionStatement(Assignment(QualifiedName:d.realPath)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:HttpThread))(SimpleName:getMappedFilename)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:command))(SimpleName:getMessage))(MethodInvocation(METHOD_INVOCATION_RECEIVER(QualifiedName:data.req))(SimpleName:getUrl))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(ClassInstanceCreation(SimpleType(SimpleName:SsiHandler))(SimpleName:d)(SimpleName:ssi)))(SimpleName:perform))))(Block(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:application)(MethodInvocation(SimpleName:getExtension)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:command))(SimpleName:getFileType))))))(IfStatement(InfixExpression(SimpleName:application)(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(Block(ExpressionStatement(MethodInvocation(SimpleName:writePaused)(METHOD_INVOCATION_ARGUMENTS(ClassInstanceCreation(SimpleType(SimpleName:FileInputStream))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:HttpThread))(SimpleName:getMappedFilename)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:command))(SimpleName:getMessage))(MethodInvocation(METHOD_INVOCATION_RECEIVER(QualifiedName:data.req))(SimpleName:getUrl)))))(SimpleName:out)(SimpleName:pause)))))(Block(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:parameter)(StringLiteral:<STR>)))(IfStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:command))(SimpleName:getMessage)))(SimpleName:indexOf)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))(INFIX_EXPRESSION_OPERATOR:>=)(NumberLiteral:0))(Block(ExpressionStatement(Assignment(SimpleName:parameter)(ASSIGNMENT_OPERATOR:=)(StringLiteral:<STR>)))))(VariableDeclarationStatement(SimpleType(SimpleName:Process))(VariableDeclarationFragment(SimpleName:p)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Runtime))(SimpleName:getRuntime)))(SimpleName:exec)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(SimpleName:application)(INFIX_EXPRESSION_OPERATOR:+)(StringLiteral:<STR>)(SimpleName:parameter)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:HttpThread))(SimpleName:getMappedFilename)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:command))(SimpleName:getMessage))(MethodInvocation(METHOD_INVOCATION_RECEIVER(QualifiedName:data.req))(SimpleName:getUrl)))))))))(VariableDeclarationStatement(SimpleType(SimpleName:BufferedReader))(VariableDeclarationFragment(SimpleName:pIn)(ClassInstanceCreation(SimpleType(SimpleName:BufferedReader))(ClassInstanceCreation(SimpleType(SimpleName:InputStreamReader))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:p))(SimpleName:getInputStream))))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:aLine)))(WhileStatement(InfixExpression(ParenthesizedExpression(Assignment(SimpleName:aLine)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:pIn))(SimpleName:readLine))))(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:out))(SimpleName:write)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(ParenthesizedExpression(InfixExpression(SimpleName:aLine)(INFIX_EXPRESSION_OPERATOR:+)(StringLiteral:<STR>))))(SimpleName:getBytes))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:pIn))(SimpleName:close)))))))(BreakStatement)(SwitchCase(QualifiedName:BSssi.CMD_EXEC))(VariableDeclarationStatement(SimpleType(SimpleName:Process))(VariableDeclarationFragment(SimpleName:p)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Runtime))(SimpleName:getRuntime)))(SimpleName:exec)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:command))(SimpleName:getMessage))))))(VariableDeclarationStatement(SimpleType(SimpleName:BufferedReader))(VariableDeclarationFragment(SimpleName:pIn)(ClassInstanceCreation(SimpleType(SimpleName:BufferedReader))(ClassInstanceCreation(SimpleType(SimpleName:InputStreamReader))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:p))(SimpleName:getInputStream))))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:aLine)))(WhileStatement(InfixExpression(ParenthesizedExpression(Assignment(SimpleName:aLine)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:pIn))(SimpleName:readLine))))(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:out))(SimpleName:write)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(ParenthesizedExpression(InfixExpression(SimpleName:aLine)(INFIX_EXPRESSION_OPERATOR:+)(StringLiteral:<STR>))))(SimpleName:getBytes))))))(VariableDeclarationStatement(SimpleType(SimpleName:BufferedReader))(VariableDeclarationFragment(SimpleName:pErr)(ClassInstanceCreation(SimpleType(SimpleName:BufferedReader))(ClassInstanceCreation(SimpleType(SimpleName:InputStreamReader))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:p))(SimpleName:getErrorStream))))))(WhileStatement(InfixExpression(ParenthesizedExpression(Assignment(SimpleName:aLine)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:pErr))(SimpleName:readLine))))(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:out))(SimpleName:write)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(ParenthesizedExpression(InfixExpression(SimpleName:aLine)(INFIX_EXPRESSION_OPERATOR:+)(StringLiteral:<STR>))))(SimpleName:getBytes))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:pIn))(SimpleName:close)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:pErr))(SimpleName:close)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:p))(SimpleName:destroy)))(BreakStatement)(SwitchCase(QualifiedName:BSssi.CMD_INCLUDE))(VariableDeclarationStatement(SimpleType(SimpleName:File))(VariableDeclarationFragment(SimpleName:incFile)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:HttpThread))(SimpleName:getMappedFilename)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:command))(SimpleName:getMessage))))))(IfStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:incFile))(SimpleName:exists))(INFIX_EXPRESSION_OPERATOR:&&)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:incFile))(SimpleName:canRead)))(Block(ExpressionStatement(MethodInvocation(SimpleName:writePaused)(METHOD_INVOCATION_ARGUMENTS(ClassInstanceCreation(SimpleType(SimpleName:FileInputStream))(SimpleName:incFile))(SimpleName:out)(SimpleName:pause))))))(BreakStatement)(SwitchCase(QualifiedName:BSssi.CMD_FILESIZE))(VariableDeclarationStatement(PrimitiveType:long)(VariableDeclarationFragment(SimpleName:sizeBytes)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:HttpThread))(SimpleName:getMappedFilename)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:command))(SimpleName:getMessage))(MethodInvocation(METHOD_INVOCATION_RECEIVER(QualifiedName:data.req))(SimpleName:getUrl)))))(SimpleName:length))))(VariableDeclarationStatement(PrimitiveType:double)(VariableDeclarationFragment(SimpleName:smartSize)))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:unit)(StringLiteral:<STR>)))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:command))(SimpleName:getFileType)))(SimpleName:trim)))(SimpleName:equals)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))(Block(IfStatement(InfixExpression(SimpleName:sizeBytes)(INFIX_EXPRESSION_OPERATOR:>)(NumberLiteral:1000000))(Block(ExpressionStatement(Assignment(SimpleName:smartSize)(ASSIGNMENT_OPERATOR:=)(InfixExpression(SimpleName:sizeBytes)(INFIX_EXPRESSION_OPERATOR:/)(NumberLiteral:1024000.0))))(ExpressionStatement(Assignment(SimpleName:unit)(ASSIGNMENT_OPERATOR:=)(StringLiteral:<STR>))))(IfStatement(InfixExpression(SimpleName:sizeBytes)(INFIX_EXPRESSION_OPERATOR:>)(NumberLiteral:1000))(Block(ExpressionStatement(Assignment(SimpleName:smartSize)(ASSIGNMENT_OPERATOR:=)(InfixExpression(SimpleName:sizeBytes)(INFIX_EXPRESSION_OPERATOR:/)(NumberLiteral:1024.0))))(ExpressionStatement(Assignment(SimpleName:unit)(ASSIGNMENT_OPERATOR:=)(StringLiteral:<STR>))))(Block(ExpressionStatement(Assignment(SimpleName:smartSize)(ASSIGNMENT_OPERATOR:=)(SimpleName:sizeBytes)))(ExpressionStatement(Assignment(SimpleName:unit)(ASSIGNMENT_OPERATOR:=)(StringLiteral:<STR>))))))(VariableDeclarationStatement(SimpleType(SimpleName:NumberFormat))(VariableDeclarationFragment(SimpleName:numberFormat)(ClassInstanceCreation(SimpleType(SimpleName:DecimalFormat))(StringLiteral:<STR>)(ClassInstanceCreation(SimpleType(SimpleName:DecimalFormatSymbols))(QualifiedName:Locale.ENGLISH)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:out))(SimpleName:write)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(ParenthesizedExpression(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:numberFormat))(SimpleName:format)(METHOD_INVOCATION_ARGUMENTS(SimpleName:smartSize)))(INFIX_EXPRESSION_OPERATOR:+)(StringLiteral:<STR>)(SimpleName:unit))))(SimpleName:getBytes))))))(Block(VariableDeclarationStatement(SimpleType(SimpleName:NumberFormat))(VariableDeclarationFragment(SimpleName:numberFormat)(ClassInstanceCreation(SimpleType(SimpleName:DecimalFormat))(StringLiteral:<STR>)(ClassInstanceCreation(SimpleType(SimpleName:DecimalFormatSymbols))(QualifiedName:Locale.ENGLISH)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:out))(SimpleName:write)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(ParenthesizedExpression(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:numberFormat))(SimpleName:format)(METHOD_INVOCATION_ARGUMENTS(SimpleName:sizeBytes)))(INFIX_EXPRESSION_OPERATOR:+)(StringLiteral:<STR>)(SimpleName:unit))))(SimpleName:getBytes)))))))(BreakStatement)(SwitchCase(QualifiedName:BSssi.CMD_FLASTMOD))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:out))(SimpleName:write)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ssi))(SimpleName:format)(METHOD_INVOCATION_ARGUMENTS(ClassInstanceCreation(SimpleType(SimpleName:Date))(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:HttpThread))(SimpleName:getMappedFilename)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:command))(SimpleName:getMessage))(MethodInvocation(METHOD_INVOCATION_RECEIVER(QualifiedName:data.req))(SimpleName:getUrl)))))(SimpleName:lastModified)))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:TimeZone))(SimpleName:getTimeZone)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))))(SimpleName:getBytes)))))(BreakStatement)(SwitchCase(QualifiedName:BSssi.CMD_NOECHO))(BreakStatement)(SwitchCase(QualifiedName:BSssi.CMD_ECHO))(SwitchCase)(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:out))(SimpleName:write)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:command))(SimpleName:getMessage)))(SimpleName:getBytes)))))(BreakStatement)))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:Exception))(SimpleName:e))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:e))(SimpleName:printStackTrace)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:out))(SimpleName:write)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(ParenthesizedExpression(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ssi))(SimpleName:getErrorMessage))(INFIX_EXPRESSION_OPERATOR:+)(StringLiteral:<STR>)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:e))(SimpleName:getMessage)))))(SimpleName:getBytes))))))))(IfStatement(SimpleName:anIfCondition)(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:out))(SimpleName:write)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(StringLiteral:<STR>))(SimpleName:getBytes)))))))(Block(IfStatement(SimpleName:anIfCondition)(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:out))(SimpleName:write)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(ParenthesizedExpression(InfixExpression(SimpleName:t)(INFIX_EXPRESSION_OPERATOR:+)(StringLiteral:<STR>))))(SimpleName:getBytes))))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:out))(SimpleName:flush)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:in))(SimpleName:close)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:out))(SimpleName:close)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(QualifiedName:data.fileData))(SimpleName:setContentType)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(QualifiedName:data.fileData))(SimpleName:setFile)(METHOD_INVOCATION_ARGUMENTS(SimpleName:tempFile))))(ExpressionStatement(MethodInvocation(SimpleName:writePaused)(METHOD_INVOCATION_ARGUMENTS(ClassInstanceCreation(SimpleType(SimpleName:FileInputStream))(SimpleName:tempFile))(QualifiedName:data.out)(SimpleName:pause))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:logger))(SimpleName:fine)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(QualifiedName:data.resp)))))))))