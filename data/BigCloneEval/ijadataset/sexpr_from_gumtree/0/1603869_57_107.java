(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:public)(SimpleType(SimpleName:Mp4Tag))(SimpleName:read)(SingleVariableDeclaration(SimpleType(SimpleName:RandomAccessFile))(SimpleName:raf))(SimpleType(SimpleName:CannotReadException))(SimpleType(SimpleName:IOException))(Block(VariableDeclarationStatement(SimpleType(SimpleName:Mp4Tag))(VariableDeclarationFragment(SimpleName:tag)(ClassInstanceCreation(SimpleType(SimpleName:Mp4Tag)))))(VariableDeclarationStatement(SimpleType(SimpleName:Mp4BoxHeader))(VariableDeclarationFragment(SimpleName:moovHeader)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Mp4BoxHeader))(SimpleName:seekWithinLevel)(METHOD_INVOCATION_ARGUMENTS(SimpleName:raf)(MethodInvocation(METHOD_INVOCATION_RECEIVER(QualifiedName:Mp4NotMetaFieldKey.MOOV))(SimpleName:getFieldName))))))(IfStatement(InfixExpression(SimpleName:moovHeader)(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(Block(ThrowStatement(ClassInstanceCreation(SimpleType(SimpleName:CannotReadException))(MethodInvocation(METHOD_INVOCATION_RECEIVER(QualifiedName:ErrorMessage.MP4_FILE_NOT_CONTAINER))(SimpleName:getMsg))))))(VariableDeclarationStatement(SimpleType(SimpleName:ByteBuffer))(VariableDeclarationFragment(SimpleName:moovBuffer)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ByteBuffer))(SimpleName:allocate)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:moovHeader))(SimpleName:getLength))(INFIX_EXPRESSION_OPERATOR:-)(QualifiedName:Mp4BoxHeader.HEADER_LENGTH))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:raf))(SimpleName:getChannel)))(SimpleName:read)(METHOD_INVOCATION_ARGUMENTS(SimpleName:moovBuffer))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:moovBuffer))(SimpleName:rewind)))(VariableDeclarationStatement(SimpleType(SimpleName:Mp4BoxHeader))(VariableDeclarationFragment(SimpleName:boxHeader)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Mp4BoxHeader))(SimpleName:seekWithinLevel)(METHOD_INVOCATION_ARGUMENTS(SimpleName:moovBuffer)(MethodInvocation(METHOD_INVOCATION_RECEIVER(QualifiedName:Mp4NotMetaFieldKey.UDTA))(SimpleName:getFieldName))))))(IfStatement(InfixExpression(SimpleName:boxHeader)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(ExpressionStatement(Assignment(SimpleName:boxHeader)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Mp4BoxHeader))(SimpleName:seekWithinLevel)(METHOD_INVOCATION_ARGUMENTS(SimpleName:moovBuffer)(MethodInvocation(METHOD_INVOCATION_RECEIVER(QualifiedName:Mp4NotMetaFieldKey.META))(SimpleName:getFieldName))))))(IfStatement(InfixExpression(SimpleName:boxHeader)(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:logger))(SimpleName:warning)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(QualifiedName:ErrorMessage.MP4_FILE_HAS_NO_METADATA))(SimpleName:getMsg)))))(ReturnStatement(SimpleName:tag))))(VariableDeclarationStatement(SimpleType(SimpleName:Mp4MetaBox))(VariableDeclarationFragment(SimpleName:meta)(ClassInstanceCreation(SimpleType(SimpleName:Mp4MetaBox))(SimpleName:boxHeader)(SimpleName:moovBuffer))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:meta))(SimpleName:processData)))(ExpressionStatement(Assignment(SimpleName:boxHeader)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Mp4BoxHeader))(SimpleName:seekWithinLevel)(METHOD_INVOCATION_ARGUMENTS(SimpleName:moovBuffer)(MethodInvocation(METHOD_INVOCATION_RECEIVER(QualifiedName:Mp4NotMetaFieldKey.ILST))(SimpleName:getFieldName))))))(IfStatement(InfixExpression(SimpleName:boxHeader)(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:logger))(SimpleName:warning)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(QualifiedName:ErrorMessage.MP4_FILE_HAS_NO_METADATA))(SimpleName:getMsg)))))(ReturnStatement(SimpleName:tag)))))(Block(ExpressionStatement(Assignment(SimpleName:boxHeader)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Mp4BoxHeader))(SimpleName:seekWithinLevel)(METHOD_INVOCATION_ARGUMENTS(SimpleName:moovBuffer)(MethodInvocation(METHOD_INVOCATION_RECEIVER(QualifiedName:Mp4NotMetaFieldKey.META))(SimpleName:getFieldName))))))(IfStatement(InfixExpression(SimpleName:boxHeader)(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:logger))(SimpleName:warning)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(QualifiedName:ErrorMessage.MP4_FILE_HAS_NO_METADATA))(SimpleName:getMsg)))))(ReturnStatement(SimpleName:tag))))(VariableDeclarationStatement(SimpleType(SimpleName:Mp4MetaBox))(VariableDeclarationFragment(SimpleName:meta)(ClassInstanceCreation(SimpleType(SimpleName:Mp4MetaBox))(SimpleName:boxHeader)(SimpleName:moovBuffer))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:meta))(SimpleName:processData)))(ExpressionStatement(Assignment(SimpleName:boxHeader)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Mp4BoxHeader))(SimpleName:seekWithinLevel)(METHOD_INVOCATION_ARGUMENTS(SimpleName:moovBuffer)(MethodInvocation(METHOD_INVOCATION_RECEIVER(QualifiedName:Mp4NotMetaFieldKey.ILST))(SimpleName:getFieldName))))))(IfStatement(InfixExpression(SimpleName:boxHeader)(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:logger))(SimpleName:warning)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(QualifiedName:ErrorMessage.MP4_FILE_HAS_NO_METADATA))(SimpleName:getMsg)))))(ReturnStatement(SimpleName:tag))))))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:length)(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:boxHeader))(SimpleName:getLength))(INFIX_EXPRESSION_OPERATOR:-)(QualifiedName:Mp4BoxHeader.HEADER_LENGTH))))(VariableDeclarationStatement(SimpleType(SimpleName:ByteBuffer))(VariableDeclarationFragment(SimpleName:metadataBuffer)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:moovBuffer))(SimpleName:slice))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:logger))(SimpleName:info)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:length)(StringLiteral:<STR>)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:metadataBuffer))(SimpleName:limit))))))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:read)(NumberLiteral:0)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:logger))(SimpleName:info)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:metadataBuffer))(SimpleName:position))))))(WhileStatement(InfixExpression(SimpleName:read)(INFIX_EXPRESSION_OPERATOR:<)(SimpleName:length))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:boxHeader))(SimpleName:update)(METHOD_INVOCATION_ARGUMENTS(SimpleName:metadataBuffer))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:logger))(SimpleName:info)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:metadataBuffer))(SimpleName:position))))))(ExpressionStatement(MethodInvocation(SimpleName:createMp4Field)(METHOD_INVOCATION_ARGUMENTS(SimpleName:tag)(SimpleName:boxHeader)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:metadataBuffer))(SimpleName:slice)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:metadataBuffer))(SimpleName:position)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:metadataBuffer))(SimpleName:position))(INFIX_EXPRESSION_OPERATOR:+)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:boxHeader))(SimpleName:getDataLength))))))(ExpressionStatement(Assignment(SimpleName:read)(ASSIGNMENT_OPERATOR:+=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:boxHeader))(SimpleName:getLength))))))(ReturnStatement(SimpleName:tag))))))