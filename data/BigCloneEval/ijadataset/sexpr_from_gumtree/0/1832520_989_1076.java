(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:protected)(SimpleType(SimpleName:Response))(SimpleName:buildResponse)(SingleVariableDeclaration(Modifier:final)(SimpleType(SimpleName:Request))(SimpleName:request))(SingleVariableDeclaration(Modifier:final)(SimpleType(SimpleName:TransformableDocument))(SimpleName:responseDocument))(SimpleType(QualifiedName:WWWeeePortal.Exception))(Block(VariableDeclarationStatement(SimpleType(SimpleName:Date))(VariableDeclarationFragment(SimpleName:lastModified)(NullLiteral)))(VariableDeclarationStatement(SimpleType(SimpleName:Date))(VariableDeclarationFragment(SimpleName:expires)(NullLiteral)))(VariableDeclarationStatement(SimpleType(SimpleName:CacheControl))(VariableDeclarationFragment(SimpleName:cacheControl)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ConversionUtil))(SimpleName:invokeConverter)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:RESTUtil.CACHE_CONTROL_DEFAULT_CONVERTER)(MethodInvocation(SimpleName:getCacheControlDefault)(METHOD_INVOCATION_ARGUMENTS(SimpleName:request)))))))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:maxAge)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:cacheControl))(SimpleName:getMaxAge))))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:sMaxAge)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:cacheControl))(SimpleName:getSMaxAge))))(VariableDeclarationStatement(PrimitiveType:boolean)(VariableDeclarationFragment(SimpleName:weakETag)(BooleanLiteral:false)))(VariableDeclarationStatement(Modifier:final)(SimpleType(SimpleName:MD5DigestOutputStream))(VariableDeclarationFragment(SimpleName:md5dos)(ClassInstanceCreation(SimpleType(SimpleName:MD5DigestOutputStream)))))(VariableDeclarationStatement(Modifier:final)(SimpleType(SimpleName:PrintStream))(VariableDeclarationFragment(SimpleName:md5ps)(ClassInstanceCreation(SimpleType(SimpleName:PrintStream))(SimpleName:md5dos))))(EnhancedForStatement(SingleVariableDeclaration(SimpleType(QualifiedName:ContentManager.ChannelGroupDefinition))(SimpleName:channelGroup))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:CollectionUtil))(SimpleName:mkNotNull)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:definition))(SimpleName:getMatchingChildDefinitions)(METHOD_INVOCATION_ARGUMENTS(NullLiteral)(NullLiteral)(NullLiteral)(BooleanLiteral:true)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:request))(SimpleName:getSecurityContext))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:request))(SimpleName:getHttpHeaders))(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:-)(NumberLiteral:1))(BooleanLiteral:false)(BooleanLiteral:true)))))(Block(IfStatement(InfixExpression(SimpleName:channelGroup)(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(ContinueStatement))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:md5ps))(SimpleName:append)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:channelGroup))(SimpleName:getID)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:md5ps))(SimpleName:append)(METHOD_INVOCATION_ARGUMENTS(CharacterLiteral:<STR>))))(EnhancedForStatement(SingleVariableDeclaration(ParameterizedType(SimpleType(QualifiedName:ContentManager.ChannelSpecification))(WildcardType))(SimpleName:channelSpecification))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:CollectionUtil))(SimpleName:mkNotNull)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:channelGroup))(SimpleName:getMatchingChildDefinitions)(METHOD_INVOCATION_ARGUMENTS(NullLiteral)(NullLiteral)(NullLiteral)(BooleanLiteral:true)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:request))(SimpleName:getSecurityContext))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:request))(SimpleName:getHttpHeaders))(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:-)(NumberLiteral:1))(BooleanLiteral:false)(BooleanLiteral:true)))))(Block(IfStatement(InfixExpression(SimpleName:channelSpecification)(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(ContinueStatement))(VariableDeclarationStatement(Modifier:final)(SimpleType(QualifiedName:Channel.ViewResponse))(VariableDeclarationFragment(SimpleName:channelViewResponse)(MethodInvocation(SimpleName:getChannelViewResponse)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:request))(SimpleName:getChannelViewTasks))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:channelSpecification))(SimpleName:getKey))))))(IfStatement(InfixExpression(SimpleName:channelViewResponse)(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(ContinueStatement))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:md5ps))(SimpleName:append)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:channelSpecification))(SimpleName:getID)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:md5ps))(SimpleName:append)(METHOD_INVOCATION_ARGUMENTS(CharacterLiteral:<STR>))))(VariableDeclarationStatement(Modifier:final)(SimpleType(SimpleName:Date))(VariableDeclarationFragment(SimpleName:channelLastModified)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:channelViewResponse))(SimpleName:getLastModified))))(IfStatement(InfixExpression(SimpleName:channelLastModified)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(IfStatement(InfixExpression(SimpleName:lastModified)(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(Block(ExpressionStatement(Assignment(SimpleName:lastModified)(ASSIGNMENT_OPERATOR:=)(SimpleName:channelLastModified))))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:channelLastModified))(SimpleName:after)(METHOD_INVOCATION_ARGUMENTS(SimpleName:lastModified)))(Block(ExpressionStatement(Assignment(SimpleName:lastModified)(ASSIGNMENT_OPERATOR:=)(SimpleName:channelLastModified))))))))(VariableDeclarationStatement(Modifier:final)(SimpleType(SimpleName:Date))(VariableDeclarationFragment(SimpleName:channelExpires)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:channelViewResponse))(SimpleName:getExpires))))(IfStatement(InfixExpression(SimpleName:channelExpires)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(IfStatement(InfixExpression(SimpleName:expires)(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(Block(ExpressionStatement(Assignment(SimpleName:expires)(ASSIGNMENT_OPERATOR:=)(SimpleName:channelExpires))))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:channelExpires))(SimpleName:before)(METHOD_INVOCATION_ARGUMENTS(SimpleName:expires)))(Block(ExpressionStatement(Assignment(SimpleName:expires)(ASSIGNMENT_OPERATOR:=)(SimpleName:channelExpires))))))))(VariableDeclarationStatement(Modifier:final)(SimpleType(SimpleName:CacheControl))(VariableDeclarationFragment(SimpleName:channelCacheControl)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:channelViewResponse))(SimpleName:getCacheControl))))(IfStatement(InfixExpression(SimpleName:channelCacheControl)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:channelCacheControl))(SimpleName:isPrivate))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:cacheControl))(SimpleName:setPrivate)(METHOD_INVOCATION_ARGUMENTS(BooleanLiteral:true))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:cacheControl))(SimpleName:getCacheExtension)))(SimpleName:remove)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:channelCacheControl))(SimpleName:isNoCache))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:cacheControl))(SimpleName:setNoCache)(METHOD_INVOCATION_ARGUMENTS(BooleanLiteral:true)))))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:channelCacheControl))(SimpleName:isNoStore))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:cacheControl))(SimpleName:setNoStore)(METHOD_INVOCATION_ARGUMENTS(BooleanLiteral:true)))))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:channelCacheControl))(SimpleName:isNoTransform))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:cacheControl))(SimpleName:setNoTransform)(METHOD_INVOCATION_ARGUMENTS(BooleanLiteral:true)))))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:channelCacheControl))(SimpleName:isMustRevalidate))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:cacheControl))(SimpleName:setMustRevalidate)(METHOD_INVOCATION_ARGUMENTS(BooleanLiteral:true)))))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:channelCacheControl))(SimpleName:isProxyRevalidate))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:cacheControl))(SimpleName:setProxyRevalidate)(METHOD_INVOCATION_ARGUMENTS(BooleanLiteral:true)))))(VariableDeclarationStatement(Modifier:final)(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:channelMaxAge)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:channelCacheControl))(SimpleName:getMaxAge))))(IfStatement(InfixExpression(SimpleName:channelMaxAge)(INFIX_EXPRESSION_OPERATOR:>=)(NumberLiteral:0))(Block(IfStatement(InfixExpression(SimpleName:maxAge)(INFIX_EXPRESSION_OPERATOR:<)(NumberLiteral:0))(Block(ExpressionStatement(Assignment(SimpleName:maxAge)(ASSIGNMENT_OPERATOR:=)(SimpleName:channelMaxAge))))(IfStatement(InfixExpression(SimpleName:channelMaxAge)(INFIX_EXPRESSION_OPERATOR:<)(SimpleName:maxAge))(Block(ExpressionStatement(Assignment(SimpleName:maxAge)(ASSIGNMENT_OPERATOR:=)(SimpleName:channelMaxAge))))))))(VariableDeclarationStatement(Modifier:final)(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:channelSMaxAge)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:channelCacheControl))(SimpleName:getSMaxAge))))(IfStatement(InfixExpression(SimpleName:channelSMaxAge)(INFIX_EXPRESSION_OPERATOR:>=)(NumberLiteral:0))(Block(IfStatement(InfixExpression(SimpleName:sMaxAge)(INFIX_EXPRESSION_OPERATOR:<)(NumberLiteral:0))(Block(ExpressionStatement(Assignment(SimpleName:sMaxAge)(ASSIGNMENT_OPERATOR:=)(SimpleName:channelSMaxAge))))(IfStatement(InfixExpression(SimpleName:channelSMaxAge)(INFIX_EXPRESSION_OPERATOR:<)(SimpleName:sMaxAge))(Block(ExpressionStatement(Assignment(SimpleName:sMaxAge)(ASSIGNMENT_OPERATOR:=)(SimpleName:channelSMaxAge))))))))))(VariableDeclarationStatement(Modifier:final)(SimpleType(SimpleName:EntityTag))(VariableDeclarationFragment(SimpleName:channelEntityTag)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:channelViewResponse))(SimpleName:getEntityTag))))(IfStatement(InfixExpression(SimpleName:channelEntityTag)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:channelEntityTag))(SimpleName:isWeak))(ExpressionStatement(Assignment(SimpleName:weakETag)(ASSIGNMENT_OPERATOR:=)(BooleanLiteral:true))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:md5ps))(SimpleName:append)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:channelEntityTag))(SimpleName:getValue))))))(Block(ExpressionStatement(Assignment(SimpleName:weakETag)(ASSIGNMENT_OPERATOR:=)(BooleanLiteral:true)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:md5ps))(SimpleName:append)(METHOD_INVOCATION_ARGUMENTS(CharacterLiteral:<STR>))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:md5ps))(SimpleName:append)(METHOD_INVOCATION_ARGUMENTS(CharacterLiteral:<STR>))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:cacheControl))(SimpleName:setMaxAge)(METHOD_INVOCATION_ARGUMENTS(SimpleName:maxAge))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:cacheControl))(SimpleName:setSMaxAge)(METHOD_INVOCATION_ARGUMENTS(SimpleName:sMaxAge))))(ExpressionStatement(Assignment(SimpleName:cacheControl)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ConversionUtil))(SimpleName:invokeConverter)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:RESTUtil.CACHE_CONTROL_NULL_CONVERTER)(SimpleName:cacheControl)))))(VariableDeclarationStatement(Modifier:final)(SimpleType(SimpleName:EntityTag))(VariableDeclarationFragment(SimpleName:entityTag)(MethodInvocation(SimpleName:createEntityTag)(METHOD_INVOCATION_ARGUMENTS(SimpleName:request)(SimpleName:cacheControl)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:md5dos))(SimpleName:getDigestHexString))(NullLiteral)(SimpleName:lastModified)(SimpleName:weakETag)))))(VariableDeclarationStatement(SimpleType(QualifiedName:Response.ResponseBuilder))(VariableDeclarationFragment(SimpleName:responseBuilder)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:RESTUtil))(SimpleName:evaluatePreconditions)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:request))(SimpleName:getRSRequest))(SimpleName:lastModified)(SimpleName:entityTag)))))(IfStatement(InfixExpression(SimpleName:responseBuilder)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(ReturnStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:responseBuilder))(SimpleName:build))))(ExpressionStatement(Assignment(SimpleName:responseBuilder)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Response))(SimpleName:ok))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:responseBuilder))(SimpleName:lastModified)(METHOD_INVOCATION_ARGUMENTS(SimpleName:lastModified))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:responseBuilder))(SimpleName:expires)(METHOD_INVOCATION_ARGUMENTS(SimpleName:expires))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:responseBuilder))(SimpleName:tag)(METHOD_INVOCATION_ARGUMENTS(SimpleName:entityTag))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:responseBuilder))(SimpleName:cacheControl)(METHOD_INVOCATION_ARGUMENTS(SimpleName:cacheControl))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:responseBuilder))(SimpleName:entity)(METHOD_INVOCATION_ARGUMENTS(SimpleName:responseDocument))))(ReturnStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:responseBuilder))(SimpleName:build)))))))