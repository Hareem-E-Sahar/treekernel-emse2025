(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:public)(PrimitiveType:void)(SimpleName:send)(SingleVariableDeclaration(SimpleType(SimpleName:MidiMessage))(SimpleName:message))(SingleVariableDeclaration(PrimitiveType:long)(SimpleName:timeStamp))(Block(VariableDeclarationStatement(PrimitiveType:long)(VariableDeclarationFragment(SimpleName:tick)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:player))(SimpleName:getRealTimeTickPosition))))(EnhancedForStatement(SingleVariableDeclaration(SimpleType(SimpleName:RecordableLane))(SimpleName:rlane))(SimpleName:recordingLanes)(Block(IfStatement(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(ParenthesizedExpression(InstanceofExpression(SimpleName:rlane)(SimpleType(SimpleName:MidiLane)))))(ContinueStatement))(VariableDeclarationStatement(SimpleType(SimpleName:MidiLane))(VariableDeclarationFragment(SimpleName:lane)(CastExpression(SimpleType(SimpleName:MidiLane))(SimpleName:rlane))))(VariableDeclarationStatement(SimpleType(SimpleName:MidiDevice))(VariableDeclarationFragment(SimpleName:dev)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:lane))(SimpleName:getMidiDevice))))(VariableDeclarationStatement(SimpleType(SimpleName:MidiPlayOptions))(VariableDeclarationFragment(SimpleName:po)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:lane))(SimpleName:getPlayOptions))))(IfStatement(QualifiedName:po.muted)(ContinueStatement))(IfStatement(InfixExpression(SimpleName:dev)(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(ContinueStatement))(IfStatement(InstanceofExpression(SimpleName:message)(SimpleType(SimpleName:ShortMessage)))(Block(VariableDeclarationStatement(SimpleType(SimpleName:ShortMessage))(VariableDeclarationFragment(SimpleName:shm)(CastExpression(SimpleType(SimpleName:ShortMessage))(SimpleName:message))))(TryStatement(Block(VariableDeclarationStatement(SimpleType(SimpleName:ShortMessage))(VariableDeclarationFragment(SimpleName:throughShm)))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:cmd)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:shm))(SimpleName:getCommand))))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:chn)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:lane))(SimpleName:getMidiChannel))))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:dat1)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:shm))(SimpleName:getData1))))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:dat2)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:shm))(SimpleName:getData2))))(ExpressionStatement(Assignment(SimpleName:throughShm)(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(SimpleType(SimpleName:ShortMessage)))))(IfStatement(InfixExpression(ParenthesizedExpression(InfixExpression(SimpleName:cmd)(INFIX_EXPRESSION_OPERATOR:==)(QualifiedName:ShortMessage.NOTE_ON)))(INFIX_EXPRESSION_OPERATOR:||)(ParenthesizedExpression(InfixExpression(SimpleName:cmd)(INFIX_EXPRESSION_OPERATOR:==)(QualifiedName:ShortMessage.NOTE_OFF))))(Block(ExpressionStatement(Assignment(SimpleName:dat1)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:FrinikaSequencerPlayer))(SimpleName:applyPlayOptionsNote)(METHOD_INVOCATION_ARGUMENTS(SimpleName:po)(SimpleName:dat1)))))(ExpressionStatement(Assignment(SimpleName:dat2)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:FrinikaSequencerPlayer))(SimpleName:applyPlayOptionsVelocity)(METHOD_INVOCATION_ARGUMENTS(SimpleName:po)(SimpleName:dat2)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:throughShm))(SimpleName:setMessage)(METHOD_INVOCATION_ARGUMENTS(SimpleName:cmd)(SimpleName:chn)(SimpleName:dat1)(SimpleName:dat2))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:dev))(SimpleName:getReceiver)))(SimpleName:send)(METHOD_INVOCATION_ARGUMENTS(SimpleName:throughShm)(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:-)(NumberLiteral:1))))))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:throughShm))(SimpleName:setMessage)(METHOD_INVOCATION_ARGUMENTS(SimpleName:cmd)(SimpleName:chn)(SimpleName:dat1)(SimpleName:dat2))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:dev))(SimpleName:getReceiver)))(SimpleName:send)(METHOD_INVOCATION_ARGUMENTS(SimpleName:throughShm)(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:-)(NumberLiteral:1)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(QualifiedName:System.out))(SimpleName:println)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:shm))(SimpleName:getData1))(INFIX_EXPRESSION_OPERATOR:+)(StringLiteral:<STR>)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:shm))(SimpleName:getData2))(StringLiteral:<STR>)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:throughShm))(SimpleName:getData1))(StringLiteral:<STR>)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:throughShm))(SimpleName:getData2)))))))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:Exception))(SimpleName:e))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:e))(SimpleName:printStackTrace))))))))))(IfStatement(BooleanLiteral:true)(ReturnStatement))(IfStatement(SimpleName:recording)(Block(IfStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:player))(SimpleName:getLoopCount))(INFIX_EXPRESSION_OPERATOR:>)(SimpleName:lastLoopCount))(Block(ExpressionStatement(MethodInvocation(SimpleName:newRecordingTake)))(ExpressionStatement(Assignment(SimpleName:lastLoopCount)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:player))(SimpleName:getLoopCount))))))(IfStatement(InstanceofExpression(SimpleName:message)(SimpleType(SimpleName:ShortMessage)))(Block(VariableDeclarationStatement(SimpleType(SimpleName:ShortMessage))(VariableDeclarationFragment(SimpleName:shm)(CastExpression(SimpleType(SimpleName:ShortMessage))(SimpleName:message))))(IfStatement(InfixExpression(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:shm))(SimpleName:getCommand))(INFIX_EXPRESSION_OPERATOR:==)(QualifiedName:ShortMessage.NOTE_ON))(INFIX_EXPRESSION_OPERATOR:||)(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:shm))(SimpleName:getCommand))(INFIX_EXPRESSION_OPERATOR:==)(QualifiedName:ShortMessage.NOTE_OFF)))(Block(IfStatement(InfixExpression(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:shm))(SimpleName:getCommand))(INFIX_EXPRESSION_OPERATOR:==)(QualifiedName:ShortMessage.NOTE_OFF))(INFIX_EXPRESSION_OPERATOR:||)(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:shm))(SimpleName:getData2))(INFIX_EXPRESSION_OPERATOR:==)(NumberLiteral:0)))(Block(VariableDeclarationStatement(SimpleType(SimpleName:NoteEvent))(VariableDeclarationFragment(SimpleName:noteEvent)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:pendingNoteEvents))(SimpleName:get)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:shm))(SimpleName:getChannel))(INFIX_EXPRESSION_OPERATOR:<<)(NumberLiteral:8))(INFIX_EXPRESSION_OPERATOR:|)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:shm))(SimpleName:getData1)))))))(IfStatement(InfixExpression(SimpleName:noteEvent)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:noteEvent))(SimpleName:setDuration)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(SimpleName:tick)(INFIX_EXPRESSION_OPERATOR:-)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:noteEvent))(SimpleName:getStartTick))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:pendingNoteEvents))(SimpleName:remove)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:shm))(SimpleName:getChannel))(INFIX_EXPRESSION_OPERATOR:<<)(NumberLiteral:8))(INFIX_EXPRESSION_OPERATOR:|)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:shm))(SimpleName:getData1))))))(ExpressionStatement(MethodInvocation(SimpleName:addEventToRecordingTracks)(METHOD_INVOCATION_ARGUMENTS(SimpleName:noteEvent)))))))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:pendingNoteEvents))(SimpleName:put)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:shm))(SimpleName:getChannel))(INFIX_EXPRESSION_OPERATOR:<<)(NumberLiteral:8))(INFIX_EXPRESSION_OPERATOR:|)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:shm))(SimpleName:getData1)))(ClassInstanceCreation(SimpleType(SimpleName:NoteEvent))(CastExpression(SimpleType(SimpleName:FrinikaTrackWrapper))(NullLiteral))(SimpleName:tick)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:shm))(SimpleName:getData1))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:shm))(SimpleName:getData2))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:shm))(SimpleName:getChannel))(NumberLiteral:0))))))))(IfStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:shm))(SimpleName:getCommand))(INFIX_EXPRESSION_OPERATOR:==)(QualifiedName:ShortMessage.CONTROL_CHANGE))(Block(ExpressionStatement(MethodInvocation(SimpleName:addEventToRecordingTracks)(METHOD_INVOCATION_ARGUMENTS(ClassInstanceCreation(SimpleType(SimpleName:ControllerEvent))(CastExpression(SimpleType(SimpleName:FrinikaTrackWrapper))(NullLiteral))(SimpleName:tick)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:shm))(SimpleName:getData1))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:shm))(SimpleName:getData2)))))))(IfStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:shm))(SimpleName:getCommand))(INFIX_EXPRESSION_OPERATOR:==)(QualifiedName:ShortMessage.PITCH_BEND))(Block(ExpressionStatement(MethodInvocation(SimpleName:addEventToRecordingTracks)(METHOD_INVOCATION_ARGUMENTS(ClassInstanceCreation(SimpleType(SimpleName:PitchBendEvent))(CastExpression(SimpleType(SimpleName:FrinikaTrackWrapper))(NullLiteral))(SimpleName:tick)(InfixExpression(ParenthesizedExpression(InfixExpression(ParenthesizedExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:shm))(SimpleName:getData1)))(INFIX_EXPRESSION_OPERATOR:|)(ParenthesizedExpression(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:shm))(SimpleName:getData2))(INFIX_EXPRESSION_OPERATOR:<<)(NumberLiteral:7)))))(INFIX_EXPRESSION_OPERATOR:&)(NumberLiteral:0x7fff))))))))))))))))))