(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:public)(SimpleType(SimpleName:Download))(SimpleName:doDownload)(SingleVariableDeclaration(ArrayType(SimpleType(SimpleName:HttpHeader))(Dimension))(SimpleName:headers))(SingleVariableDeclaration(SimpleType(SimpleName:URI))(SimpleName:target))(SimpleType(SimpleName:HttpRequestException))(Block(VariableDeclarationStatement(ParameterizedType(SimpleType(SimpleName:HttpRequest))(SimpleType(SimpleName:E)))(VariableDeclarationFragment(SimpleName:con)(MethodInvocation(SimpleName:createConnection)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:HttpMethods.METHOD_GET)(SimpleName:target)))))(IfStatement(InfixExpression(SimpleName:defaultHeaders)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(ExpressionStatement(MethodInvocation(SimpleName:putHeaders)(METHOD_INVOCATION_ARGUMENTS(SimpleName:con)(SimpleName:defaultHeaders))))))(IfStatement(InfixExpression(SimpleName:headers)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(ExpressionStatement(MethodInvocation(SimpleName:putHeaders)(METHOD_INVOCATION_ARGUMENTS(SimpleName:con)(SimpleName:headers))))))(VariableDeclarationStatement(ParameterizedType(SimpleType(SimpleName:HttpResponse))(WildcardType))(VariableDeclarationFragment(SimpleName:res)(MethodInvocation(SimpleName:execute)(METHOD_INVOCATION_ARGUMENTS(SimpleName:con)))))(IfStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:res))(SimpleName:getResponseCode))(INFIX_EXPRESSION_OPERATOR:==)(NumberLiteral:200))(Block(ReturnStatement(ClassInstanceCreation(SimpleType(SimpleName:Download))(SimpleName:res))))(Block(ThrowStatement(ClassInstanceCreation(SimpleType(SimpleName:HttpRequestException))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:res))(SimpleName:getResponseCode))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:res))(SimpleName:getResponseMessage))))))))))