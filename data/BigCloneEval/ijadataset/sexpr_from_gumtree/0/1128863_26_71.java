(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:public)(PrimitiveType:void)(SimpleName:testLogonAfterServerDisconnect)(SimpleType(SimpleName:Exception))(Block(VariableDeclarationStatement(Modifier:final)(SimpleType(SimpleName:WriteCounter))(VariableDeclarationFragment(SimpleName:initiatorWriteCounter)(ClassInstanceCreation(SimpleType(SimpleName:WriteCounter))(StringLiteral:<STR>))))(VariableDeclarationStatement(SimpleType(SimpleName:ServerThread))(VariableDeclarationFragment(SimpleName:serverThread)(ClassInstanceCreation(SimpleType(SimpleName:ServerThread)))))(TryStatement(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:serverThread))(SimpleName:start)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:serverThread))(SimpleName:waitForInitialization)))(VariableDeclarationStatement(SimpleType(SimpleName:SessionID))(VariableDeclarationFragment(SimpleName:serverSessionID)(ClassInstanceCreation(SimpleType(SimpleName:SessionID))(QualifiedName:FixVersions.BEGINSTRING_FIX42)(StringLiteral:<STR>)(StringLiteral:<STR>))))(VariableDeclarationStatement(SimpleType(SimpleName:Session))(VariableDeclarationFragment(SimpleName:serverSession)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Session))(SimpleName:lookupSession)(METHOD_INVOCATION_ARGUMENTS(SimpleName:serverSessionID)))))(VariableDeclarationStatement(SimpleType(SimpleName:SessionID))(VariableDeclarationFragment(SimpleName:clientSessionID)(ClassInstanceCreation(SimpleType(SimpleName:SessionID))(QualifiedName:FixVersions.BEGINSTRING_FIX42)(StringLiteral:<STR>)(StringLiteral:<STR>))))(VariableDeclarationStatement(SimpleType(SimpleName:SessionSettings))(VariableDeclarationFragment(SimpleName:settings)(MethodInvocation(SimpleName:getClientSessionSettings)(METHOD_INVOCATION_ARGUMENTS(SimpleName:clientSessionID)))))(VariableDeclarationStatement(SimpleType(SimpleName:ClientApplication))(VariableDeclarationFragment(SimpleName:clientApplication)(ClassInstanceCreation(SimpleType(SimpleName:ClientApplication)))))(VariableDeclarationStatement(SimpleType(SimpleName:ThreadedSocketInitiator))(VariableDeclarationFragment(SimpleName:initiator)(ClassInstanceCreation(SimpleType(SimpleName:ThreadedSocketInitiator))(SimpleName:clientApplication)(ClassInstanceCreation(SimpleType(SimpleName:MemoryStoreFactory)))(SimpleName:settings)(ClassInstanceCreation(SimpleType(SimpleName:DefaultMessageFactory))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:initiator))(SimpleName:setIoFilterChainBuilder)(METHOD_INVOCATION_ARGUMENTS(ClassInstanceCreation(SimpleType(SimpleName:IoFilterChainBuilder))(AnonymousClassDeclaration(MethodDeclaration(Modifier:public)(PrimitiveType:void)(SimpleName:buildFilterChain)(SingleVariableDeclaration(SimpleType(SimpleName:IoFilterChain))(SimpleName:chain))(SimpleType(SimpleName:Exception))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:chain))(SimpleName:addLast)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(SimpleName:initiatorWriteCounter)))))))))))(TryStatement(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:log))(SimpleName:info)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:clientApplication))(SimpleName:setUpLogonExpectation)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:initiator))(SimpleName:start)))(VariableDeclarationStatement(SimpleType(SimpleName:Session))(VariableDeclarationFragment(SimpleName:clientSession)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Session))(SimpleName:lookupSession)(METHOD_INVOCATION_ARGUMENTS(SimpleName:clientSessionID)))))(ExpressionStatement(MethodInvocation(SimpleName:assertLoggedOn)(METHOD_INVOCATION_ARGUMENTS(SimpleName:clientApplication)(SimpleName:clientSession))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:log))(SimpleName:info)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(StringLiteral:<STR>)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:clientApplication))(SimpleName:setUpLogonExpectation)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:serverSession))(SimpleName:disconnect)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(BooleanLiteral:false))))(ForStatement(VariableDeclarationExpression(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:i)(NumberLiteral:0)))(InfixExpression(SimpleName:i)(INFIX_EXPRESSION_OPERATOR:<)(NumberLiteral:10))(PostfixExpression(SimpleName:i)(POSTFIX_EXPRESSION_OPERATOR:++))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Thread))(SimpleName:sleep)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:100L))))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:serverSession))(SimpleName:hasResponder))(Block(BreakStatement)))))(ExpressionStatement(MethodInvocation(SimpleName:assertLoggedOn)(METHOD_INVOCATION_ARGUMENTS(SimpleName:clientApplication)(SimpleName:clientSession)))))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:initiator))(SimpleName:stop))))))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:serverThread))(SimpleName:interrupt)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:serverThread))(SimpleName:join)))))(ExpressionStatement(MethodInvocation(SimpleName:assertTrue)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:initiatorWriteCounter))(SimpleName:getCount))(INFIX_EXPRESSION_OPERATOR:>)(NumberLiteral:0)))))(ExpressionStatement(MethodInvocation(SimpleName:assertTrue)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:serverThread))(SimpleName:getWriteCount))(INFIX_EXPRESSION_OPERATOR:>)(NumberLiteral:0)))))(ExpressionStatement(MethodInvocation(SimpleName:assertTrue)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:initiatorWriteCounter))(SimpleName:wasSessionCreatedCalled)))))(ExpressionStatement(MethodInvocation(SimpleName:assertTrue)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:serverThread))(SimpleName:wasSessionCreatedCalled)))))))))