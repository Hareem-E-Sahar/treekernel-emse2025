(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(MarkerAnnotation(SimpleName:Override))(Modifier:protected)(SimpleType(SimpleName:String))(SimpleName:execute)(SingleVariableDeclaration(SimpleType(SimpleName:Player))(SimpleName:player))(SingleVariableDeclaration(ParameterizedType(SimpleType(SimpleName:Map))(SimpleType(SimpleName:String))(SimpleType(SimpleName:Object)))(SimpleName:params))(SingleVariableDeclaration(SimpleType(SimpleName:Session))(SimpleName:session))(SimpleType(SimpleName:Exception))(Block(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:channel)(CastExpression(SimpleType(SimpleName:String))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:params))(SimpleName:get)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:message)(CastExpression(SimpleType(SimpleName:String))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:params))(SimpleName:get)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))))(IfStatement(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ChatManager))(SimpleName:getInstance)))(SimpleName:isInChannel)(METHOD_INVOCATION_ARGUMENTS(SimpleName:channel)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:player))(SimpleName:getId)))))(ThrowStatement(ClassInstanceCreation(SimpleType(SimpleName:IllegalOperationException))(StringLiteral:<STR>))))(IfStatement(InfixExpression(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:player))(SimpleName:getEkey)))(SimpleName:length))(INFIX_EXPRESSION_OPERATOR:>)(NumberLiteral:0))(INFIX_EXPRESSION_OPERATOR:&&)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:message))(SimpleName:contains)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:player))(SimpleName:getEkey)))))(ThrowStatement(ClassInstanceCreation(SimpleType(SimpleName:IllegalOperationException))(StringLiteral:<STR>))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:LoggingSystem))(SimpleName:getChatLogger)))(SimpleName:info)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:channel)(StringLiteral:<STR>)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:player))(SimpleName:getLogin))(StringLiteral:<STR>)(SimpleName:message)))))(ExpressionStatement(Assignment(SimpleName:message)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:message))(SimpleName:replace)(METHOD_INVOCATION_ARGUMENTS(ClassInstanceCreation(SimpleType(SimpleName:String))(ArrayCreation(ArrayType(PrimitiveType:char)(Dimension))(ArrayInitializer(NumberLiteral:10)(NumberLiteral:13))))(StringLiteral:<STR>))))(SimpleName:trim))))(ExpressionStatement(Assignment(SimpleName:message)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:MessageTools))(SimpleName:tidyHTML)(METHOD_INVOCATION_ARGUMENTS(SimpleName:message)(QualifiedName:MessageTools.KEEP_QUOTES)))))(VariableDeclarationStatement(SimpleType(SimpleName:StringBuffer))(VariableDeclarationFragment(SimpleName:content)(ClassInstanceCreation(SimpleType(SimpleName:StringBuffer)))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:type)))(VariableDeclarationStatement(SimpleType(SimpleName:Player))(VariableDeclarationFragment(SimpleName:whisperTarget)(NullLiteral)))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:target)))(VariableDeclarationStatement(PrimitiveType:boolean)(VariableDeclarationFragment(SimpleName:updateChannels)(BooleanLiteral:false)))(VariableDeclarationStatement(ParameterizedType(SimpleType(SimpleName:List))(SimpleType(SimpleName:Update)))(VariableDeclarationFragment(SimpleName:updates)(ClassInstanceCreation(ParameterizedType(SimpleType(SimpleName:ArrayList))(SimpleType(SimpleName:Update))))))(IfStatement(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ChatManager))(SimpleName:getInstance)))(SimpleName:isChannelEnabled)(METHOD_INVOCATION_ARGUMENTS(SimpleName:player)(SimpleName:channel))))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ChatManager))(SimpleName:getInstance)))(SimpleName:setChannelEnabled)(METHOD_INVOCATION_ARGUMENTS(SimpleName:player)(SimpleName:channel)(BooleanLiteral:true))))(ExpressionStatement(Assignment(SimpleName:updateChannels)(ASSIGNMENT_OPERATOR:=)(BooleanLiteral:true)))))(IfStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:player))(SimpleName:getBanChat))(INFIX_EXPRESSION_OPERATOR:>)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Utilities))(SimpleName:now)))(Block(VariableDeclarationStatement(SimpleType(SimpleName:Date))(VariableDeclarationFragment(SimpleName:date)(ClassInstanceCreation(SimpleType(SimpleName:Date))(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:player))(SimpleName:getBanChat))(INFIX_EXPRESSION_OPERATOR:*)(NumberLiteral:1000)))))(VariableDeclarationStatement(SimpleType(SimpleName:SimpleDateFormat))(VariableDeclarationFragment(SimpleName:format)(ClassInstanceCreation(SimpleType(SimpleName:SimpleDateFormat))(StringLiteral:<STR>))))(ExpressionStatement(Assignment(SimpleName:target)(ASSIGNMENT_OPERATOR:=)(SimpleName:TARGET_SELF)))(ExpressionStatement(Assignment(SimpleName:type)(ASSIGNMENT_OPERATOR:=)(SimpleName:TYPE_ERROR)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:content))(SimpleName:append)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:content))(SimpleName:append)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:format))(SimpleName:format)(METHOD_INVOCATION_ARGUMENTS(SimpleName:date))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:content))(SimpleName:append)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:message))(SimpleName:startsWith)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))(Block(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:message))(SimpleName:startsWith)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:content))(SimpleName:append)(METHOD_INVOCATION_ARGUMENTS(SimpleName:message))))(ExpressionStatement(Assignment(SimpleName:target)(ASSIGNMENT_OPERATOR:=)(SimpleName:TARGET_CHANNEL)))(ExpressionStatement(Assignment(SimpleName:type)(ASSIGNMENT_OPERATOR:=)(SimpleName:TYPE_DEFAULT))))(IfStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:message))(SimpleName:startsWith)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))(INFIX_EXPRESSION_OPERATOR:||)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:message))(SimpleName:startsWith)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:message))(SimpleName:startsWith)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))(Block(VariableDeclarationStatement(SimpleType(SimpleName:Player))(VariableDeclarationFragment(SimpleName:commandTarget)(NullLiteral)))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:login)(StringLiteral:<STR>)))(VariableDeclarationStatement(PrimitiveType:boolean)(VariableDeclarationFragment(SimpleName:valid)(BooleanLiteral:true)))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:message))(SimpleName:contains)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))(Block(VariableDeclarationStatement(ArrayType(SimpleType(SimpleName:String))(Dimension))(VariableDeclarationFragment(SimpleName:split)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:message))(SimpleName:split)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(NumberLiteral:2)))))(IfStatement(InfixExpression(QualifiedName:split.length)(INFIX_EXPRESSION_OPERATOR:<)(NumberLiteral:2))(Block(ExpressionStatement(Assignment(SimpleName:target)(ASSIGNMENT_OPERATOR:=)(SimpleName:TARGET_SELF)))(ExpressionStatement(Assignment(SimpleName:type)(ASSIGNMENT_OPERATOR:=)(SimpleName:TYPE_ERROR)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:content))(SimpleName:append)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))(ExpressionStatement(Assignment(SimpleName:valid)(ASSIGNMENT_OPERATOR:=)(BooleanLiteral:false))))(Block(ExpressionStatement(Assignment(SimpleName:login)(ASSIGNMENT_OPERATOR:=)(ArrayAccess(SimpleName:split)(NumberLiteral:1))))(IfStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:login))(SimpleName:startsWith)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))(INFIX_EXPRESSION_OPERATOR:&&)(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:login))(SimpleName:lastIndexOf)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))(INFIX_EXPRESSION_OPERATOR:!=)(NumberLiteral:0)))(ExpressionStatement(Assignment(SimpleName:login)(ASSIGNMENT_OPERATOR:=)(ArrayAccess(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:message))(SimpleName:split)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(NumberLiteral:3)))(NumberLiteral:1)))))(ExpressionStatement(Assignment(SimpleName:commandTarget)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:DataAccess))(SimpleName:getPlayerByLogin)(METHOD_INVOCATION_ARGUMENTS(SimpleName:login))))))))(Block(ExpressionStatement(Assignment(SimpleName:commandTarget)(ASSIGNMENT_OPERATOR:=)(SimpleName:player)))(ExpressionStatement(Assignment(SimpleName:login)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:player))(SimpleName:getLogin))))))(IfStatement(InfixExpression(SimpleName:valid)(INFIX_EXPRESSION_OPERATOR:&&)(InfixExpression(SimpleName:commandTarget)(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral)))(Block(ExpressionStatement(Assignment(SimpleName:target)(ASSIGNMENT_OPERATOR:=)(SimpleName:TARGET_SELF)))(ExpressionStatement(Assignment(SimpleName:type)(ASSIGNMENT_OPERATOR:=)(SimpleName:TYPE_ERROR)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:content))(SimpleName:append)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:login)(StringLiteral:<STR>))))))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:content))(SimpleName:append)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:content))(SimpleName:append)(METHOD_INVOCATION_ARGUMENTS(SimpleName:login))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:content))(SimpleName:append)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))(VariableDeclarationStatement(ParameterizedType(SimpleType(SimpleName:List))(SimpleType(SimpleName:Achievement)))(VariableDeclarationFragment(SimpleName:achievements)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:commandTarget))(SimpleName:getAchievements))))(VariableDeclarationStatement(ArrayType(SimpleType(SimpleName:String))(Dimension))(VariableDeclarationFragment(SimpleName:colors)(ArrayInitializer(StringLiteral:<STR>)(StringLiteral:<STR>)(StringLiteral:<STR>)(StringLiteral:<STR>)(StringLiteral:<STR>))))(VariableDeclarationStatement(PrimitiveType:boolean)(VariableDeclarationFragment(SimpleName:firstLevel)(BooleanLiteral:true)))(SynchronizedStatement(SimpleName:achievements)(Block(ForStatement(VariableDeclarationExpression(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:i)(NumberLiteral:5)))(InfixExpression(SimpleName:i)(INFIX_EXPRESSION_OPERATOR:>=)(NumberLiteral:1))(PostfixExpression(SimpleName:i)(POSTFIX_EXPRESSION_OPERATOR:--))(Block(VariableDeclarationStatement(SimpleType(SimpleName:StringBuffer))(VariableDeclarationFragment(SimpleName:buffer)(ClassInstanceCreation(SimpleType(SimpleName:StringBuffer)))))(VariableDeclarationStatement(PrimitiveType:boolean)(VariableDeclarationFragment(SimpleName:first)(BooleanLiteral:true)))(EnhancedForStatement(SingleVariableDeclaration(SimpleType(SimpleName:Achievement))(SimpleName:achievement))(SimpleName:achievements)(Block(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:level)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:achievement))(SimpleName:getLevel))))(IfStatement(InfixExpression(SimpleName:level)(INFIX_EXPRESSION_OPERATOR:==)(SimpleName:i))(Block(IfStatement(SimpleName:first)(ExpressionStatement(Assignment(SimpleName:first)(ASSIGNMENT_OPERATOR:=)(BooleanLiteral:false)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:buffer))(SimpleName:append)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:buffer))(SimpleName:append)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Messages))(SimpleName:getString)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:achievement))(SimpleName:getType))))))))))))(IfStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:buffer))(SimpleName:length))(INFIX_EXPRESSION_OPERATOR:>)(NumberLiteral:0))(Block(IfStatement(SimpleName:firstLevel)(ExpressionStatement(Assignment(SimpleName:firstLevel)(ASSIGNMENT_OPERATOR:=)(BooleanLiteral:false)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:content))(SimpleName:append)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:content))(SimpleName:append)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:content))(SimpleName:append)(METHOD_INVOCATION_ARGUMENTS(ArrayAccess(SimpleName:colors)(InfixExpression(SimpleName:i)(INFIX_EXPRESSION_OPERATOR:-)(NumberLiteral:1))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:content))(SimpleName:append)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:content))(SimpleName:append)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Messages))(SimpleName:getString)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:i)))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:content))(SimpleName:append)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:content))(SimpleName:append)(METHOD_INVOCATION_ARGUMENTS(SimpleName:buffer))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:content))(SimpleName:append)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))))))))(ExpressionStatement(Assignment(SimpleName:target)(ASSIGNMENT_OPERATOR:=)(SimpleName:TARGET_SELF)))(ExpressionStatement(Assignment(SimpleName:type)(ASSIGNMENT_OPERATOR:=)(SimpleName:TYPE_INFO))))))(IfStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:message))(SimpleName:equals)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))(INFIX_EXPRESSION_OPERATOR:||)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:message))(SimpleName:equals)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))(Block(ExpressionStatement(Assignment(SimpleName:target)(ASSIGNMENT_OPERATOR:=)(SimpleName:TARGET_SELF)))(ExpressionStatement(Assignment(SimpleName:type)(ASSIGNMENT_OPERATOR:=)(SimpleName:TYPE_INFO)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:content))(SimpleName:append)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(ParenthesizedExpression(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:player))(SimpleName:getPlayedTime)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:Player.SCALE_DAY)))(INFIX_EXPRESSION_OPERATOR:/)(NumberLiteral:3600)))(StringLiteral:<STR>)(ParenthesizedExpression(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:player))(SimpleName:getPlayedTime)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:Player.SCALE_MONTH)))(INFIX_EXPRESSION_OPERATOR:/)(NumberLiteral:3600)))(StringLiteral:<STR>)(ParenthesizedExpression(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:player))(SimpleName:getPlayedTime)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:Player.SCALE_OVERALL)))(INFIX_EXPRESSION_OPERATOR:/)(NumberLiteral:3600)))(StringLiteral:<STR>))))))(IfStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:message))(SimpleName:startsWith)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))(INFIX_EXPRESSION_OPERATOR:||)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:message))(SimpleName:startsWith)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))(Block(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:value)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:message))(SimpleName:substring)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:message))(SimpleName:indexOf)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))(INFIX_EXPRESSION_OPERATOR:+)(NumberLiteral:1))))))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:index)))(TryStatement(Block(ExpressionStatement(Assignment(SimpleName:index)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Integer))(SimpleName:parseInt)(METHOD_INVOCATION_ARGUMENTS(SimpleName:value))))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:Exception))(SimpleName:e))(Block(ExpressionStatement(Assignment(SimpleName:index)(ASSIGNMENT_OPERATOR:=)(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:-)(NumberLiteral:1)))))))(IfStatement(InfixExpression(InfixExpression(SimpleName:index)(INFIX_EXPRESSION_OPERATOR:<)(NumberLiteral:1))(INFIX_EXPRESSION_OPERATOR:||)(InfixExpression(SimpleName:index)(INFIX_EXPRESSION_OPERATOR:>)(NumberLiteral:999)))(Block(ExpressionStatement(Assignment(SimpleName:target)(ASSIGNMENT_OPERATOR:=)(SimpleName:TARGET_SELF)))(ExpressionStatement(Assignment(SimpleName:type)(ASSIGNMENT_OPERATOR:=)(SimpleName:TYPE_ERROR)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:content))(SimpleName:append)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))))(Block(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:channelName)(InfixExpression(QualifiedName:ChatManager.PUBLIC_CHANNEL_PREFIX)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:index))))(IfStatement(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ChatManager))(SimpleName:getInstance)))(SimpleName:isExistingChannel)(METHOD_INVOCATION_ARGUMENTS(SimpleName:channelName))))(Block(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:player))(SimpleName:hasRight)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:Player.PREMIUM)))(Block(ExpressionStatement(Assignment(SimpleName:target)(ASSIGNMENT_OPERATOR:=)(SimpleName:TARGET_SELF)))(ExpressionStatement(Assignment(SimpleName:type)(ASSIGNMENT_OPERATOR:=)(SimpleName:TYPE_INFO)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:content))(SimpleName:append)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:index)(StringLiteral:<STR>)))))(ExpressionStatement(Assignment(SimpleName:updateChannels)(ASSIGNMENT_OPERATOR:=)(BooleanLiteral:true)))(VariableDeclarationStatement(ParameterizedType(SimpleType(SimpleName:Set))(SimpleType(SimpleName:String)))(VariableDeclarationFragment(SimpleName:channels)(ClassInstanceCreation(ParameterizedType(SimpleType(SimpleName:HashSet))(SimpleType(SimpleName:String)))(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ChatManager))(SimpleName:getInstance)))(SimpleName:getPlayerChannels)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:player))(SimpleName:getId)))))))(EnhancedForStatement(SingleVariableDeclaration(SimpleType(SimpleName:String))(SimpleName:c))(SimpleName:channels)(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:c))(SimpleName:startsWith)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:ChatManager.PUBLIC_CHANNEL_PREFIX)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ChatManager))(SimpleName:getInstance)))(SimpleName:leaveChannel)(METHOD_INVOCATION_ARGUMENTS(SimpleName:c)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:player))(SimpleName:getId)))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ChatManager))(SimpleName:getInstance)))(SimpleName:joinChannel)(METHOD_INVOCATION_ARGUMENTS(SimpleName:channelName)(SimpleName:player)))))(Block(ExpressionStatement(Assignment(SimpleName:target)(ASSIGNMENT_OPERATOR:=)(SimpleName:TARGET_SELF)))(ExpressionStatement(Assignment(SimpleName:type)(ASSIGNMENT_OPERATOR:=)(SimpleName:TYPE_ERROR)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:content))(SimpleName:append)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))))))(Block(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ChatManager))(SimpleName:getInstance)))(SimpleName:getChannelPlayers)(METHOD_INVOCATION_ARGUMENTS(SimpleName:channelName))))(SimpleName:contains)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:player))(SimpleName:getId))))(Block(ExpressionStatement(Assignment(SimpleName:target)(ASSIGNMENT_OPERATOR:=)(SimpleName:TARGET_SELF)))(ExpressionStatement(Assignment(SimpleName:type)(ASSIGNMENT_OPERATOR:=)(SimpleName:TYPE_ERROR)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:content))(SimpleName:append)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:index)(StringLiteral:<STR>))))))(Block(ExpressionStatement(Assignment(SimpleName:target)(ASSIGNMENT_OPERATOR:=)(SimpleName:TARGET_SELF)))(ExpressionStatement(Assignment(SimpleName:type)(ASSIGNMENT_OPERATOR:=)(SimpleName:TYPE_INFO)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:content))(SimpleName:append)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:index)(StringLiteral:<STR>)))))(VariableDeclarationStatement(ParameterizedType(SimpleType(SimpleName:Set))(SimpleType(SimpleName:String)))(VariableDeclarationFragment(SimpleName:channels)(ClassInstanceCreation(ParameterizedType(SimpleType(SimpleName:HashSet))(SimpleType(SimpleName:String)))(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ChatManager))(SimpleName:getInstance)))(SimpleName:getPlayerChannels)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:player))(SimpleName:getId)))))))(ExpressionStatement(Assignment(SimpleName:updateChannels)(ASSIGNMENT_OPERATOR:=)(BooleanLiteral:true)))(EnhancedForStatement(SingleVariableDeclaration(SimpleType(SimpleName:String))(SimpleName:c))(SimpleName:channels)(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:c))(SimpleName:startsWith)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:ChatManager.PUBLIC_CHANNEL_PREFIX)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ChatManager))(SimpleName:getInstance)))(SimpleName:leaveChannel)(METHOD_INVOCATION_ARGUMENTS(SimpleName:c)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:player))(SimpleName:getId)))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ChatManager))(SimpleName:getInstance)))(SimpleName:joinChannel)(METHOD_INVOCATION_ARGUMENTS(SimpleName:channelName)(SimpleName:player)))))))))))(IfStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:message))(SimpleName:startsWith)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))(INFIX_EXPRESSION_OPERATOR:||)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:message))(SimpleName:startsWith)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:message))(SimpleName:startsWith)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))(Block(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:value)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:message))(SimpleName:substring)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:message))(SimpleName:indexOf)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))(INFIX_EXPRESSION_OPERATOR:+)(NumberLiteral:1))))))(IfStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:value))(SimpleName:length))(INFIX_EXPRESSION_OPERATOR:==)(NumberLiteral:0))(Block(ExpressionStatement(Assignment(SimpleName:target)(ASSIGNMENT_OPERATOR:=)(SimpleName:TARGET_SELF)))(ExpressionStatement(Assignment(SimpleName:type)(ASSIGNMENT_OPERATOR:=)(SimpleName:TYPE_ERROR)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:content))(SimpleName:append)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))))(Block(VariableDeclarationStatement(SimpleType(SimpleName:NameStringFormat))(VariableDeclarationFragment(SimpleName:format)(ClassInstanceCreation(SimpleType(SimpleName:NameStringFormat)))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:channelName)(CastExpression(SimpleType(SimpleName:String))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:format))(SimpleName:format)(METHOD_INVOCATION_ARGUMENTS(SimpleName:value))))))(IfStatement(InfixExpression(InfixExpression(SimpleName:channelName)(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(INFIX_EXPRESSION_OPERATOR:||)(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:channelName))(SimpleName:length))(INFIX_EXPRESSION_OPERATOR:>)(NumberLiteral:20)))(Block(ExpressionStatement(Assignment(SimpleName:target)(ASSIGNMENT_OPERATOR:=)(SimpleName:TARGET_SELF)))(ExpressionStatement(Assignment(SimpleName:type)(ASSIGNMENT_OPERATOR:=)(SimpleName:TYPE_ERROR)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:content))(SimpleName:append)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(StringLiteral:<STR>)(StringLiteral:<STR>))))))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Badwords))(SimpleName:containsBadwords)(METHOD_INVOCATION_ARGUMENTS(SimpleName:channelName)))(Block(ExpressionStatement(Assignment(SimpleName:target)(ASSIGNMENT_OPERATOR:=)(SimpleName:TARGET_SELF)))(ExpressionStatement(Assignment(SimpleName:type)(ASSIGNMENT_OPERATOR:=)(SimpleName:TYPE_ERROR)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:content))(SimpleName:append)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))))(Block(IfStatement(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ChatManager))(SimpleName:getInstance)))(SimpleName:isExistingChannel)(METHOD_INVOCATION_ARGUMENTS(SimpleName:channelName))))(Block(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:player))(SimpleName:hasRight)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:Player.PREMIUM)))(Block(ExpressionStatement(Assignment(SimpleName:target)(ASSIGNMENT_OPERATOR:=)(SimpleName:TARGET_SELF)))(ExpressionStatement(Assignment(SimpleName:type)(ASSIGNMENT_OPERATOR:=)(SimpleName:TYPE_INFO)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:content))(SimpleName:append)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:channelName)(StringLiteral:<STR>)))))(ExpressionStatement(Assignment(SimpleName:updateChannels)(ASSIGNMENT_OPERATOR:=)(BooleanLiteral:true)))(VariableDeclarationStatement(ParameterizedType(SimpleType(SimpleName:Set))(SimpleType(SimpleName:String)))(VariableDeclarationFragment(SimpleName:channels)(ClassInstanceCreation(ParameterizedType(SimpleType(SimpleName:HashSet))(SimpleType(SimpleName:String)))(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ChatManager))(SimpleName:getInstance)))(SimpleName:getPlayerChannels)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:player))(SimpleName:getId)))))))(EnhancedForStatement(SingleVariableDeclaration(SimpleType(SimpleName:String))(SimpleName:c))(SimpleName:channels)(Block(IfStatement(InfixExpression(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:c))(SimpleName:startsWith)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:ChatManager.ALLY_CHANNEL_PREFIX))))(INFIX_EXPRESSION_OPERATOR:&&)(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:c))(SimpleName:startsWith)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:ChatManager.EMBASSY_CHANNEL_PREFIX))))(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:c))(SimpleName:startsWith)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:ChatManager.PUBLIC_CHANNEL_PREFIX)))))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ChatManager))(SimpleName:getInstance)))(SimpleName:leaveChannel)(METHOD_INVOCATION_ARGUMENTS(SimpleName:c)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:player))(SimpleName:getId)))))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ChatManager))(SimpleName:getInstance)))(SimpleName:joinChannel)(METHOD_INVOCATION_ARGUMENTS(SimpleName:channelName)(SimpleName:player)))))(Block(ExpressionStatement(Assignment(SimpleName:target)(ASSIGNMENT_OPERATOR:=)(SimpleName:TARGET_SELF)))(ExpressionStatement(Assignment(SimpleName:type)(ASSIGNMENT_OPERATOR:=)(SimpleName:TYPE_ERROR)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:content))(SimpleName:append)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))))))(Block(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ChatManager))(SimpleName:getInstance)))(SimpleName:getChannelPlayers)(METHOD_INVOCATION_ARGUMENTS(SimpleName:channelName))))(SimpleName:contains)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:player))(SimpleName:getId))))(Block(ExpressionStatement(Assignment(SimpleName:target)(ASSIGNMENT_OPERATOR:=)(SimpleName:TARGET_SELF)))(ExpressionStatement(Assignment(SimpleName:type)(ASSIGNMENT_OPERATOR:=)(SimpleName:TYPE_ERROR)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:content))(SimpleName:append)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:channelName)(StringLiteral:<STR>))))))(Block(ExpressionStatement(Assignment(SimpleName:target)(ASSIGNMENT_OPERATOR:=)(SimpleName:TARGET_SELF)))(ExpressionStatement(Assignment(SimpleName:type)(ASSIGNMENT_OPERATOR:=)(SimpleName:TYPE_INFO)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:content))(SimpleName:append)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:channelName)(StringLiteral:<STR>)))))(VariableDeclarationStatement(ParameterizedType(SimpleType(SimpleName:Set))(SimpleType(SimpleName:String)))(VariableDeclarationFragment(SimpleName:channels)(ClassInstanceCreation(ParameterizedType(SimpleType(SimpleName:HashSet))(SimpleType(SimpleName:String)))(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ChatManager))(SimpleName:getInstance)))(SimpleName:getPlayerChannels)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:player))(SimpleName:getId)))))))(ExpressionStatement(Assignment(SimpleName:updateChannels)(ASSIGNMENT_OPERATOR:=)(BooleanLiteral:true)))(EnhancedForStatement(SingleVariableDeclaration(SimpleType(SimpleName:String))(SimpleName:c))(SimpleName:channels)(Block(IfStatement(InfixExpression(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:c))(SimpleName:startsWith)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:ChatManager.ALLY_CHANNEL_PREFIX))))(INFIX_EXPRESSION_OPERATOR:&&)(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:c))(SimpleName:startsWith)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:ChatManager.EMBASSY_CHANNEL_PREFIX))))(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:c))(SimpleName:startsWith)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:ChatManager.PUBLIC_CHANNEL_PREFIX)))))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ChatManager))(SimpleName:getInstance)))(SimpleName:leaveChannel)(METHOD_INVOCATION_ARGUMENTS(SimpleName:c)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:player))(SimpleName:getId)))))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ChatManager))(SimpleName:getInstance)))(SimpleName:joinChannel)(METHOD_INVOCATION_ARGUMENTS(SimpleName:channelName)(SimpleName:player))))))))))))))(IfStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:message))(SimpleName:startsWith)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))(INFIX_EXPRESSION_OPERATOR:||)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:message))(SimpleName:startsWith)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:message))(SimpleName:startsWith)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))(Block(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:embassy)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:message))(SimpleName:substring)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:message))(SimpleName:indexOf)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))(INFIX_EXPRESSION_OPERATOR:+)(NumberLiteral:1))))))(IfStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:embassy))(SimpleName:length))(INFIX_EXPRESSION_OPERATOR:==)(NumberLiteral:0))(Block(ExpressionStatement(Assignment(SimpleName:target)(ASSIGNMENT_OPERATOR:=)(SimpleName:TARGET_SELF)))(ExpressionStatement(Assignment(SimpleName:type)(ASSIGNMENT_OPERATOR:=)(SimpleName:TYPE_ERROR)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:content))(SimpleName:append)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))))(Block(VariableDeclarationStatement(SimpleType(SimpleName:Ally))(VariableDeclarationFragment(SimpleName:ally)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:DataAccess))(SimpleName:getAllyByName)(METHOD_INVOCATION_ARGUMENTS(SimpleName:embassy)))))(IfStatement(InfixExpression(SimpleName:ally)(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(ExpressionStatement(Assignment(SimpleName:ally)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:DataAccess))(SimpleName:getAllyByTag)(METHOD_INVOCATION_ARGUMENTS(SimpleName:embassy))))))(IfStatement(InfixExpression(SimpleName:ally)(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(Block(ExpressionStatement(Assignment(SimpleName:target)(ASSIGNMENT_OPERATOR:=)(SimpleName:TARGET_SELF)))(ExpressionStatement(Assignment(SimpleName:type)(ASSIGNMENT_OPERATOR:=)(SimpleName:TYPE_ERROR)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:content))(SimpleName:append)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:embassy)(StringLiteral:<STR>))))))(IfStatement(InfixExpression(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:player))(SimpleName:getIdAlly))(INFIX_EXPRESSION_OPERATOR:!=)(NumberLiteral:0))(INFIX_EXPRESSION_OPERATOR:&&)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:player))(SimpleName:getAlly)))(SimpleName:getTreatyWithAlly)(METHOD_INVOCATION_ARGUMENTS(SimpleName:ally))))(SimpleName:equals)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:Treaty.ENEMY))))(Block(ExpressionStatement(Assignment(SimpleName:target)(ASSIGNMENT_OPERATOR:=)(SimpleName:TARGET_SELF)))(ExpressionStatement(Assignment(SimpleName:type)(ASSIGNMENT_OPERATOR:=)(SimpleName:TYPE_ERROR)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:content))(SimpleName:append)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))))(IfStatement(InfixExpression(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:player))(SimpleName:getIdAlly))(INFIX_EXPRESSION_OPERATOR:!=)(NumberLiteral:0))(INFIX_EXPRESSION_OPERATOR:&&)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:embassy))(SimpleName:equals)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:player))(SimpleName:getAllyName)))))(Block(ExpressionStatement(Assignment(SimpleName:target)(ASSIGNMENT_OPERATOR:=)(SimpleName:TARGET_SELF)))(ExpressionStatement(Assignment(SimpleName:type)(ASSIGNMENT_OPERATOR:=)(SimpleName:TYPE_ERROR)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:content))(SimpleName:append)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))))(Block(ExpressionStatement(Assignment(SimpleName:target)(ASSIGNMENT_OPERATOR:=)(SimpleName:TARGET_SELF)))(ExpressionStatement(Assignment(SimpleName:type)(ASSIGNMENT_OPERATOR:=)(SimpleName:TYPE_INFO)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:content))(SimpleName:append)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ally))(SimpleName:getName))(StringLiteral:<STR>)))))(ExpressionStatement(Assignment(SimpleName:updateChannels)(ASSIGNMENT_OPERATOR:=)(BooleanLiteral:true)))(VariableDeclarationStatement(ParameterizedType(SimpleType(SimpleName:Set))(SimpleType(SimpleName:String)))(VariableDeclarationFragment(SimpleName:channels)(ClassInstanceCreation(ParameterizedType(SimpleType(SimpleName:HashSet))(SimpleType(SimpleName:String)))(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ChatManager))(SimpleName:getInstance)))(SimpleName:getPlayerChannels)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:player))(SimpleName:getId)))))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:playerAllyName)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:player))(SimpleName:getAllyName))))(EnhancedForStatement(SingleVariableDeclaration(SimpleType(SimpleName:String))(SimpleName:channelName))(SimpleName:channels)(Block(IfStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:channelName))(SimpleName:startsWith)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:ChatManager.EMBASSY_CHANNEL_PREFIX)))(INFIX_EXPRESSION_OPERATOR:&&)(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ChatManager))(SimpleName:getInstance)))(SimpleName:getChannelName)(METHOD_INVOCATION_ARGUMENTS(SimpleName:channelName))))(SimpleName:substring)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:1))))(SimpleName:equals)(METHOD_INVOCATION_ARGUMENTS(SimpleName:playerAllyName)))))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ChatManager))(SimpleName:getInstance)))(SimpleName:leaveChannel)(METHOD_INVOCATION_ARGUMENTS(SimpleName:channelName)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:player))(SimpleName:getId)))))(BreakStatement)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ChatManager))(SimpleName:getInstance)))(SimpleName:joinChannel)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(QualifiedName:ChatManager.EMBASSY_CHANNEL_PREFIX)(INFIX_EXPRESSION_OPERATOR:+)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ally))(SimpleName:getName)))(SimpleName:player)))))))))))(IfStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:message))(SimpleName:startsWith)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))(INFIX_EXPRESSION_OPERATOR:||)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:message))(SimpleName:startsWith)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))(Block(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:channel))(SimpleName:startsWith)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:ChatManager.EMBASSY_CHANNEL_PREFIX)))(Block(IfStatement(InfixExpression(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:player))(SimpleName:getIdAlly))(INFIX_EXPRESSION_OPERATOR:!=)(NumberLiteral:0))(INFIX_EXPRESSION_OPERATOR:&&)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ChatManager))(SimpleName:getInstance)))(SimpleName:getChannelName)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Utilities))(SimpleName:formatString)(METHOD_INVOCATION_ARGUMENTS(SimpleName:channel))))))(SimpleName:substring)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:1))))(SimpleName:equals)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:player))(SimpleName:getAllyName)))))(Block(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:login)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:message))(SimpleName:substring)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:message))(SimpleName:indexOf)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))(INFIX_EXPRESSION_OPERATOR:+)(NumberLiteral:1))))))(ExpressionStatement(Assignment(SimpleName:login)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:login))(SimpleName:trim))))(VariableDeclarationStatement(SimpleType(SimpleName:Player))(VariableDeclarationFragment(SimpleName:kickedPlayer)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:DataAccess))(SimpleName:getPlayerByLogin)(METHOD_INVOCATION_ARGUMENTS(SimpleName:login)))))(IfStatement(InfixExpression(SimpleName:kickedPlayer)(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(Block(ExpressionStatement(Assignment(SimpleName:target)(ASSIGNMENT_OPERATOR:=)(SimpleName:TARGET_SELF)))(ExpressionStatement(Assignment(SimpleName:type)(ASSIGNMENT_OPERATOR:=)(SimpleName:TYPE_ERROR)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:content))(SimpleName:append)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:login)(StringLiteral:<STR>))))))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:kickedPlayer))(SimpleName:getLogin)))(SimpleName:equals)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:player))(SimpleName:getLogin))))(Block(ExpressionStatement(Assignment(SimpleName:target)(ASSIGNMENT_OPERATOR:=)(SimpleName:TARGET_SELF)))(ExpressionStatement(Assignment(SimpleName:type)(ASSIGNMENT_OPERATOR:=)(SimpleName:TYPE_ERROR)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:content))(SimpleName:append)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))))(IfStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:kickedPlayer))(SimpleName:getIdAlly))(INFIX_EXPRESSION_OPERATOR:==)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:player))(SimpleName:getIdAlly)))(Block(ExpressionStatement(Assignment(SimpleName:target)(ASSIGNMENT_OPERATOR:=)(SimpleName:TARGET_SELF)))(ExpressionStatement(Assignment(SimpleName:type)(ASSIGNMENT_OPERATOR:=)(SimpleName:TYPE_ERROR)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:content))(SimpleName:append)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))))(IfStatement(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ChatManager))(SimpleName:getInstance)))(SimpleName:isInChannel)(METHOD_INVOCATION_ARGUMENTS(SimpleName:channel)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:kickedPlayer))(SimpleName:getId)))))(Block(ExpressionStatement(Assignment(SimpleName:target)(ASSIGNMENT_OPERATOR:=)(SimpleName:TARGET_SELF)))(ExpressionStatement(Assignment(SimpleName:type)(ASSIGNMENT_OPERATOR:=)(SimpleName:TYPE_ERROR)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:content))(SimpleName:append)(METHOD_INVOCATION_ARGUMENTS(SimpleName:login))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:content))(SimpleName:append)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))))(Block(ExpressionStatement(Assignment(SimpleName:target)(ASSIGNMENT_OPERATOR:=)(SimpleName:TARGET_CHANNEL)))(ExpressionStatement(Assignment(SimpleName:type)(ASSIGNMENT_OPERATOR:=)(SimpleName:TYPE_MODERATION)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ChatManager))(SimpleName:getInstance)))(SimpleName:leaveChannel)(METHOD_INVOCATION_ARGUMENTS(SimpleName:channel)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:kickedPlayer))(SimpleName:getId)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:UpdateTools))(SimpleName:queueChatChannelsUpdate)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:kickedPlayer))(SimpleName:getId)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:content))(SimpleName:append)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:kickedPlayer))(SimpleName:getLogin)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:content))(SimpleName:append)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:player))(SimpleName:getAllyName))(StringLiteral:<STR>)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:player))(SimpleName:getLogin))(StringLiteral:<STR>)))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:kickedPlayerContent)(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:player))(SimpleName:getAllyName))(StringLiteral:<STR>)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:player))(SimpleName:getLogin))(StringLiteral:<STR>))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:kickedPlayerChannel)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ChatManager))(SimpleName:getInstance)))(SimpleName:getChannelName)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ChatManager))(SimpleName:getInstance)))(SimpleName:getPlayerChannels)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:kickedPlayer))(SimpleName:getId)))))(SimpleName:iterator)))(SimpleName:next))))))(VariableDeclarationStatement(SimpleType(SimpleName:JSONObject))(VariableDeclarationFragment(SimpleName:json)(ClassInstanceCreation(SimpleType(SimpleName:JSONObject)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:json))(SimpleName:put)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:ChatMessageData.FIELD_CONTENT)(SimpleName:kickedPlayerContent))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:json))(SimpleName:put)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:ChatMessageData.FIELD_DATE)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Utilities))(SimpleName:now)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:json))(SimpleName:put)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:ChatMessageData.FIELD_TYPE)(SimpleName:TYPE_MODERATION))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:json))(SimpleName:put)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:ChatMessageData.FIELD_CHANNEL)(SimpleName:kickedPlayerChannel))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:json))(SimpleName:put)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:ChatMessageData.FIELD_AUTHOR)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:kickedPlayer))(SimpleName:getLogin)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:json))(SimpleName:put)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:ChatMessageData.FIELD_RIGHTS)(ConditionalExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:kickedPlayer))(SimpleName:hasRight)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:Player.MODERATOR)))(StringLiteral:<STR>)(StringLiteral:<STR>)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:json))(SimpleName:put)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:ChatMessageData.FIELD_ALLY_TAG)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:kickedPlayer))(SimpleName:getAllyTag)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:json))(SimpleName:put)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:ChatMessageData.FIELD_ALLY_NAME)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:kickedPlayer))(SimpleName:getAllyName)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:UpdateTools))(SimpleName:queueChatUpdate)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:kickedPlayer))(SimpleName:getId))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:json))(SimpleName:toString)))))))))))(Block(ExpressionStatement(Assignment(SimpleName:target)(ASSIGNMENT_OPERATOR:=)(SimpleName:TARGET_SELF)))(ExpressionStatement(Assignment(SimpleName:type)(ASSIGNMENT_OPERATOR:=)(SimpleName:TYPE_ERROR)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:content))(SimpleName:append)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))))))(IfStatement(InfixExpression(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:channel))(SimpleName:startsWith)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:ChatManager.PUBLIC_CHANNEL_PREFIX))))(INFIX_EXPRESSION_OPERATOR:&&)(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:channel))(SimpleName:startsWith)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:ChatManager.ALLY_CHANNEL_PREFIX)))))(Block(IfStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ChatManager))(SimpleName:getInstance)))(SimpleName:getChannelOwner)(METHOD_INVOCATION_ARGUMENTS(SimpleName:channel)))(INFIX_EXPRESSION_OPERATOR:==)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:player))(SimpleName:getId)))(Block(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:login)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:message))(SimpleName:substring)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:message))(SimpleName:indexOf)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))(INFIX_EXPRESSION_OPERATOR:+)(NumberLiteral:1))))))(ExpressionStatement(Assignment(SimpleName:login)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:login))(SimpleName:trim))))(VariableDeclarationStatement(SimpleType(SimpleName:Player))(VariableDeclarationFragment(SimpleName:kickedPlayer)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:DataAccess))(SimpleName:getPlayerByLogin)(METHOD_INVOCATION_ARGUMENTS(SimpleName:login)))))(IfStatement(InfixExpression(SimpleName:kickedPlayer)(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(Block(ExpressionStatement(Assignment(SimpleName:target)(ASSIGNMENT_OPERATOR:=)(SimpleName:TARGET_SELF)))(ExpressionStatement(Assignment(SimpleName:type)(ASSIGNMENT_OPERATOR:=)(SimpleName:TYPE_ERROR)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:content))(SimpleName:append)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:login)(StringLiteral:<STR>))))))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:kickedPlayer))(SimpleName:getLogin)))(SimpleName:equals)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:player))(SimpleName:getLogin))))(Block(ExpressionStatement(Assignment(SimpleName:target)(ASSIGNMENT_OPERATOR:=)(SimpleName:TARGET_SELF)))(ExpressionStatement(Assignment(SimpleName:type)(ASSIGNMENT_OPERATOR:=)(SimpleName:TYPE_ERROR)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:content))(SimpleName:append)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))))(IfStatement(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ChatManager))(SimpleName:getInstance)))(SimpleName:isInChannel)(METHOD_INVOCATION_ARGUMENTS(SimpleName:channel)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:kickedPlayer))(SimpleName:getId)))))(Block(ExpressionStatement(Assignment(SimpleName:target)(ASSIGNMENT_OPERATOR:=)(SimpleName:TARGET_SELF)))(ExpressionStatement(Assignment(SimpleName:type)(ASSIGNMENT_OPERATOR:=)(SimpleName:TYPE_ERROR)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:content))(SimpleName:append)(METHOD_INVOCATION_ARGUMENTS(SimpleName:login))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:content))(SimpleName:append)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))))(Block(ExpressionStatement(Assignment(SimpleName:target)(ASSIGNMENT_OPERATOR:=)(SimpleName:TARGET_CHANNEL)))(ExpressionStatement(Assignment(SimpleName:type)(ASSIGNMENT_OPERATOR:=)(SimpleName:TYPE_MODERATION)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ChatManager))(SimpleName:getInstance)))(SimpleName:leaveChannel)(METHOD_INVOCATION_ARGUMENTS(SimpleName:channel)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:kickedPlayer))(SimpleName:getId)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:UpdateTools))(SimpleName:queueChatChannelsUpdate)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:kickedPlayer))(SimpleName:getId)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:content))(SimpleName:append)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:kickedPlayer))(SimpleName:getLogin)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:content))(SimpleName:append)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:channel)(StringLiteral:<STR>)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:player))(SimpleName:getLogin))(StringLiteral:<STR>)))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:kickedPlayerContent)(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:channel)(StringLiteral:<STR>)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:player))(SimpleName:getLogin))(StringLiteral:<STR>))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:kickedPlayerChannel)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ChatManager))(SimpleName:getInstance)))(SimpleName:getChannelName)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ChatManager))(SimpleName:getInstance)))(SimpleName:getPlayerChannels)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:kickedPlayer))(SimpleName:getId)))))(SimpleName:iterator)))(SimpleName:next))))))(VariableDeclarationStatement(SimpleType(SimpleName:JSONObject))(VariableDeclarationFragment(SimpleName:json)(ClassInstanceCreation(SimpleType(SimpleName:JSONObject)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:json))(SimpleName:put)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:ChatMessageData.FIELD_CONTENT)(SimpleName:kickedPlayerContent))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:json))(SimpleName:put)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:ChatMessageData.FIELD_DATE)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Utilities))(SimpleName:now)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:json))(SimpleName:put)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:ChatMessageData.FIELD_TYPE)(SimpleName:TYPE_MODERATION))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:json))(SimpleName:put)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:ChatMessageData.FIELD_CHANNEL)(SimpleName:kickedPlayerChannel))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:json))(SimpleName:put)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:ChatMessageData.FIELD_AUTHOR)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:kickedPlayer))(SimpleName:getLogin)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:json))(SimpleName:put)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:ChatMessageData.FIELD_RIGHTS)(ConditionalExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:kickedPlayer))(SimpleName:hasRight)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:Player.MODERATOR)))(StringLiteral:<STR>)(StringLiteral:<STR>)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:json))(SimpleName:put)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:ChatMessageData.FIELD_ALLY_TAG)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:kickedPlayer))(SimpleName:getAllyTag)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:json))(SimpleName:put)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:ChatMessageData.FIELD_ALLY_NAME)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:kickedPlayer))(SimpleName:getAllyName)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:UpdateTools))(SimpleName:queueChatUpdate)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:kickedPlayer))(SimpleName:getId))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:json))(SimpleName:toString))))))))))(Block(ExpressionStatement(Assignment(SimpleName:target)(ASSIGNMENT_OPERATOR:=)(SimpleName:TARGET_SELF)))(ExpressionStatement(Assignment(SimpleName:type)(ASSIGNMENT_OPERATOR:=)(SimpleName:TYPE_ERROR)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:content))(SimpleName:append)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))))))(Block(ExpressionStatement(Assignment(SimpleName:target)(ASSIGNMENT_OPERATOR:=)(SimpleName:TARGET_SELF)))(ExpressionStatement(Assignment(SimpleName:type)(ASSIGNMENT_OPERATOR:=)(SimpleName:TYPE_ERROR)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:content))(SimpleName:append)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))))))(IfStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:message))(SimpleName:equals)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))(INFIX_EXPRESSION_OPERATOR:||)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:message))(SimpleName:equals)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:message))(SimpleName:equals)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))(Block(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:channel))(SimpleName:startsWith)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:ChatManager.EMBASSY_CHANNEL_PREFIX)))(Block(IfStatement(InfixExpression(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:player))(SimpleName:getIdAlly))(INFIX_EXPRESSION_OPERATOR:!=)(NumberLiteral:0))(INFIX_EXPRESSION_OPERATOR:&&)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ChatManager))(SimpleName:getInstance)))(SimpleName:getChannelName)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Utilities))(SimpleName:formatString)(METHOD_INVOCATION_ARGUMENTS(SimpleName:channel))))))(SimpleName:substring)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:1))))(SimpleName:equals)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:player))(SimpleName:getAllyName)))))(Block(ExpressionStatement(Assignment(SimpleName:target)(ASSIGNMENT_OPERATOR:=)(SimpleName:TARGET_SELF)))(ExpressionStatement(Assignment(SimpleName:type)(ASSIGNMENT_OPERATOR:=)(SimpleName:TYPE_ERROR)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:content))(SimpleName:append)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))))(Block(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:channelName)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ChatManager))(SimpleName:getInstance)))(SimpleName:getChannelName)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Utilities))(SimpleName:formatString)(METHOD_INVOCATION_ARGUMENTS(SimpleName:channel))))))(SimpleName:substring)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:1)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ChatManager))(SimpleName:getInstance)))(SimpleName:leaveChannel)(METHOD_INVOCATION_ARGUMENTS(SimpleName:channel)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:player))(SimpleName:getId)))))(ExpressionStatement(Assignment(SimpleName:updateChannels)(ASSIGNMENT_OPERATOR:=)(BooleanLiteral:true)))(ExpressionStatement(Assignment(SimpleName:target)(ASSIGNMENT_OPERATOR:=)(SimpleName:TARGET_SELF)))(ExpressionStatement(Assignment(SimpleName:type)(ASSIGNMENT_OPERATOR:=)(SimpleName:TYPE_INFO)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:content))(SimpleName:append)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:channelName)(StringLiteral:<STR>))))))))(IfStatement(InfixExpression(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:channel))(SimpleName:startsWith)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:ChatManager.ALLY_CHANNEL_PREFIX))))(INFIX_EXPRESSION_OPERATOR:&&)(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:channel))(SimpleName:startsWith)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:ChatManager.ALLY_CHANNEL_PREFIX)))))(Block(IfStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ChatManager))(SimpleName:getInstance)))(SimpleName:isExistingChannel)(METHOD_INVOCATION_ARGUMENTS(SimpleName:channel)))(INFIX_EXPRESSION_OPERATOR:&&)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ChatManager))(SimpleName:getInstance)))(SimpleName:getChannelPlayers)(METHOD_INVOCATION_ARGUMENTS(SimpleName:channel))))(SimpleName:contains)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:player))(SimpleName:getId)))))(Block(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:channelName)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ChatManager))(SimpleName:getInstance)))(SimpleName:getChannelName)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Utilities))(SimpleName:formatString)(METHOD_INVOCATION_ARGUMENTS(SimpleName:channel)))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ChatManager))(SimpleName:getInstance)))(SimpleName:leaveChannel)(METHOD_INVOCATION_ARGUMENTS(SimpleName:channel)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:player))(SimpleName:getId)))))(ExpressionStatement(Assignment(SimpleName:updateChannels)(ASSIGNMENT_OPERATOR:=)(BooleanLiteral:true)))(ExpressionStatement(Assignment(SimpleName:target)(ASSIGNMENT_OPERATOR:=)(SimpleName:TARGET_SELF)))(ExpressionStatement(Assignment(SimpleName:type)(ASSIGNMENT_OPERATOR:=)(SimpleName:TYPE_INFO)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:content))(SimpleName:append)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:channelName)(StringLiteral:<STR>))))))(Block(ExpressionStatement(Assignment(SimpleName:target)(ASSIGNMENT_OPERATOR:=)(SimpleName:TARGET_SELF)))(ExpressionStatement(Assignment(SimpleName:type)(ASSIGNMENT_OPERATOR:=)(SimpleName:TYPE_ERROR)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:content))(SimpleName:append)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))))))(Block(ExpressionStatement(Assignment(SimpleName:target)(ASSIGNMENT_OPERATOR:=)(SimpleName:TARGET_SELF)))(ExpressionStatement(Assignment(SimpleName:type)(ASSIGNMENT_OPERATOR:=)(SimpleName:TYPE_ERROR)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:content))(SimpleName:append)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))))))(IfStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:message))(SimpleName:equals)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))(INFIX_EXPRESSION_OPERATOR:||)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:message))(SimpleName:equals)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))(Block(ExpressionStatement(Assignment(SimpleName:target)(ASSIGNMENT_OPERATOR:=)(SimpleName:TARGET_SELF)))(ExpressionStatement(Assignment(SimpleName:type)(ASSIGNMENT_OPERATOR:=)(SimpleName:TYPE_WHO)))(VariableDeclarationStatement(ParameterizedType(SimpleType(SimpleName:Set))(SimpleType(SimpleName:Integer)))(VariableDeclarationFragment(SimpleName:players)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ChatManager))(SimpleName:getInstance)))(SimpleName:getChannelPlayers)(METHOD_INVOCATION_ARGUMENTS(SimpleName:channel)))))(VariableDeclarationStatement(ParameterizedType(SimpleType(SimpleName:List))(SimpleType(SimpleName:String)))(VariableDeclarationFragment(SimpleName:playersLogin)(ClassInstanceCreation(ParameterizedType(SimpleType(SimpleName:ArrayList))(SimpleType(SimpleName:String)))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:players))(SimpleName:size)))))(SynchronizedStatement(SimpleName:players)(Block(EnhancedForStatement(SingleVariableDeclaration(SimpleType(SimpleName:Integer))(SimpleName:idPlayer))(SimpleName:players)(Block(VariableDeclarationStatement(SimpleType(SimpleName:Player))(VariableDeclarationFragment(SimpleName:onlinePlayer)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:DataAccess))(SimpleName:getPlayerById)(METHOD_INVOCATION_ARGUMENTS(SimpleName:idPlayer)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:playersLogin))(SimpleName:add)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:onlinePlayer))(SimpleName:getLogin))(INFIX_EXPRESSION_OPERATOR:+)(ParenthesizedExpression(ConditionalExpression(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:onlinePlayer))(SimpleName:getIdAlly))(INFIX_EXPRESSION_OPERATOR:!=)(NumberLiteral:0))(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:onlinePlayer))(SimpleName:getAllyTag))(StringLiteral:<STR>)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:onlinePlayer))(SimpleName:getAllyName)))(StringLiteral:<STR>)))))))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Collections))(SimpleName:sort)(METHOD_INVOCATION_ARGUMENTS(SimpleName:playersLogin)(QualifiedName:String.CASE_INSENSITIVE_ORDER))))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:i)(NumberLiteral:0)))(EnhancedForStatement(SingleVariableDeclaration(SimpleType(SimpleName:String))(SimpleName:login))(SimpleName:playersLogin)(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:content))(SimpleName:append)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(ParenthesizedExpression(ConditionalExpression(InfixExpression(PostfixExpression(SimpleName:i)(POSTFIX_EXPRESSION_OPERATOR:++))(INFIX_EXPRESSION_OPERATOR:==)(NumberLiteral:0))(StringLiteral:<STR>)(StringLiteral:<STR>)))(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:login)))))))(IfStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:message))(SimpleName:startsWith)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))(INFIX_EXPRESSION_OPERATOR:||)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:message))(SimpleName:startsWith)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:message))(SimpleName:startsWith)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:message))(SimpleName:startsWith)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))(Block(VariableDeclarationStatement(ArrayType(SimpleType(SimpleName:String))(Dimension))(VariableDeclarationFragment(SimpleName:split)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:message))(SimpleName:split)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(NumberLiteral:3)))))(IfStatement(InfixExpression(QualifiedName:split.length)(INFIX_EXPRESSION_OPERATOR:<)(NumberLiteral:3))(Block(ExpressionStatement(Assignment(SimpleName:target)(ASSIGNMENT_OPERATOR:=)(SimpleName:TARGET_SELF)))(ExpressionStatement(Assignment(SimpleName:type)(ASSIGNMENT_OPERATOR:=)(SimpleName:TYPE_ERROR)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:content))(SimpleName:append)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))))(Block(IfStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(ArrayAccess(SimpleName:split)(NumberLiteral:1)))(SimpleName:startsWith)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))(INFIX_EXPRESSION_OPERATOR:&&)(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(ParenthesizedExpression(InfixExpression(ArrayAccess(SimpleName:split)(NumberLiteral:1))(INFIX_EXPRESSION_OPERATOR:+)(ArrayAccess(SimpleName:split)(NumberLiteral:2)))))(SimpleName:lastIndexOf)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))(INFIX_EXPRESSION_OPERATOR:!=)(NumberLiteral:0)))(ExpressionStatement(Assignment(SimpleName:split)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:message))(SimpleName:split)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(NumberLiteral:3))))))(ExpressionStatement(Assignment(SimpleName:whisperTarget)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:DataAccess))(SimpleName:getPlayerByLogin)(METHOD_INVOCATION_ARGUMENTS(ArrayAccess(SimpleName:split)(NumberLiteral:1))))))(IfStatement(InfixExpression(SimpleName:whisperTarget)(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(Block(ExpressionStatement(Assignment(SimpleName:target)(ASSIGNMENT_OPERATOR:=)(SimpleName:TARGET_SELF)))(ExpressionStatement(Assignment(SimpleName:type)(ASSIGNMENT_OPERATOR:=)(SimpleName:TYPE_ERROR)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:content))(SimpleName:append)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(ArrayAccess(SimpleName:split)(NumberLiteral:1))(StringLiteral:<STR>)(StringLiteral:<STR>)(StringLiteral:<STR>))))))(IfStatement(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ConnectionManager))(SimpleName:getInstance)))(SimpleName:isConnected)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:whisperTarget))(SimpleName:getId)))))(Block(ExpressionStatement(Assignment(SimpleName:target)(ASSIGNMENT_OPERATOR:=)(SimpleName:TARGET_SELF)))(ExpressionStatement(Assignment(SimpleName:type)(ASSIGNMENT_OPERATOR:=)(SimpleName:TYPE_ERROR)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:content))(SimpleName:append)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(ArrayAccess(SimpleName:split)(NumberLiteral:1))(INFIX_EXPRESSION_OPERATOR:+)(StringLiteral:<STR>))))))(IfStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:whisperTarget))(SimpleName:getBanChat))(INFIX_EXPRESSION_OPERATOR:>)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Utilities))(SimpleName:now)))(Block(ExpressionStatement(Assignment(SimpleName:target)(ASSIGNMENT_OPERATOR:=)(SimpleName:TARGET_SELF)))(ExpressionStatement(Assignment(SimpleName:type)(ASSIGNMENT_OPERATOR:=)(SimpleName:TYPE_ERROR)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:content))(SimpleName:append)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(ArrayAccess(SimpleName:split)(NumberLiteral:1))(INFIX_EXPRESSION_OPERATOR:+)(StringLiteral:<STR>))))))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:whisperTarget))(SimpleName:isIgnoring)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:player))(SimpleName:getId))))(Block(ExpressionStatement(Assignment(SimpleName:target)(ASSIGNMENT_OPERATOR:=)(SimpleName:TARGET_SELF)))(ExpressionStatement(Assignment(SimpleName:type)(ASSIGNMENT_OPERATOR:=)(SimpleName:TYPE_ERROR)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:content))(SimpleName:append)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(ArrayAccess(SimpleName:split)(NumberLiteral:1))(INFIX_EXPRESSION_OPERATOR:+)(StringLiteral:<STR>))))))(Block(ExpressionStatement(Assignment(SimpleName:target)(ASSIGNMENT_OPERATOR:=)(SimpleName:TARGET_WHISPER)))(ExpressionStatement(Assignment(SimpleName:type)(ASSIGNMENT_OPERATOR:=)(SimpleName:TYPE_WHISPER_SENT)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:content))(SimpleName:append)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(ArrayAccess(SimpleName:split)(NumberLiteral:2)))(SimpleName:trim)))))))))))))(IfStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:message))(SimpleName:equals)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))(INFIX_EXPRESSION_OPERATOR:||)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:message))(SimpleName:equals)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))(Block(ExpressionStatement(Assignment(SimpleName:target)(ASSIGNMENT_OPERATOR:=)(SimpleName:TARGET_SELF)))(ExpressionStatement(Assignment(SimpleName:type)(ASSIGNMENT_OPERATOR:=)(SimpleName:TYPE_INFO)))(VariableDeclarationStatement(SimpleType(SimpleName:Date))(VariableDeclarationFragment(SimpleName:date)(ClassInstanceCreation(SimpleType(SimpleName:Date)))))(VariableDeclarationStatement(SimpleType(SimpleName:SimpleDateFormat))(VariableDeclarationFragment(SimpleName:format)(ClassInstanceCreation(SimpleType(SimpleName:SimpleDateFormat))(StringLiteral:<STR>))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:content))(SimpleName:append)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:content))(SimpleName:append)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:format))(SimpleName:format)(METHOD_INVOCATION_ARGUMENTS(SimpleName:date)))))))(IfStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:message))(SimpleName:equals)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))(INFIX_EXPRESSION_OPERATOR:||)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:message))(SimpleName:equals)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:message))(SimpleName:equals)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))(Block(ExpressionStatement(Assignment(SimpleName:target)(ASSIGNMENT_OPERATOR:=)(SimpleName:TARGET_SELF)))(ExpressionStatement(Assignment(SimpleName:type)(ASSIGNMENT_OPERATOR:=)(SimpleName:TYPE_ONLINE)))(VariableDeclarationStatement(ParameterizedType(SimpleType(SimpleName:Set))(SimpleType(SimpleName:Integer)))(VariableDeclarationFragment(SimpleName:players)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ConnectionManager))(SimpleName:getInstance)))(SimpleName:getConnectedPlayers))))(VariableDeclarationStatement(ParameterizedType(SimpleType(SimpleName:List))(SimpleType(SimpleName:String)))(VariableDeclarationFragment(SimpleName:playersLogin)(ClassInstanceCreation(ParameterizedType(SimpleType(SimpleName:ArrayList))(SimpleType(SimpleName:String)))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:players))(SimpleName:size)))))(SynchronizedStatement(SimpleName:players)(Block(EnhancedForStatement(SingleVariableDeclaration(SimpleType(SimpleName:Integer))(SimpleName:idPlayer))(SimpleName:players)(Block(VariableDeclarationStatement(SimpleType(SimpleName:Player))(VariableDeclarationFragment(SimpleName:onlinePlayer)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:DataAccess))(SimpleName:getPlayerById)(METHOD_INVOCATION_ARGUMENTS(SimpleName:idPlayer)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:playersLogin))(SimpleName:add)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:onlinePlayer))(SimpleName:getLogin))(INFIX_EXPRESSION_OPERATOR:+)(ParenthesizedExpression(ConditionalExpression(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:onlinePlayer))(SimpleName:getIdAlly))(INFIX_EXPRESSION_OPERATOR:!=)(NumberLiteral:0))(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:onlinePlayer))(SimpleName:getAllyTag))(StringLiteral:<STR>)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:onlinePlayer))(SimpleName:getAllyName)))(StringLiteral:<STR>)))))))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Collections))(SimpleName:sort)(METHOD_INVOCATION_ARGUMENTS(SimpleName:playersLogin)(QualifiedName:String.CASE_INSENSITIVE_ORDER))))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:i)(NumberLiteral:0)))(EnhancedForStatement(SingleVariableDeclaration(SimpleType(SimpleName:String))(SimpleName:login))(SimpleName:playersLogin)(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:content))(SimpleName:append)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(ParenthesizedExpression(ConditionalExpression(InfixExpression(PostfixExpression(SimpleName:i)(POSTFIX_EXPRESSION_OPERATOR:++))(INFIX_EXPRESSION_OPERATOR:==)(NumberLiteral:0))(StringLiteral:<STR>)(StringLiteral:<STR>)))(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:login)))))))(IfStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:message))(SimpleName:equals)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))(INFIX_EXPRESSION_OPERATOR:||)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:message))(SimpleName:equals)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))(Block(ExpressionStatement(Assignment(SimpleName:target)(ASSIGNMENT_OPERATOR:=)(SimpleName:TARGET_SELF)))(ExpressionStatement(Assignment(SimpleName:type)(ASSIGNMENT_OPERATOR:=)(SimpleName:TYPE_ALLY_MEMBERS)))(VariableDeclarationStatement(SimpleType(SimpleName:Ally))(VariableDeclarationFragment(SimpleName:ally)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:player))(SimpleName:getAlly))))(IfStatement(InfixExpression(SimpleName:ally)(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(Block(ExpressionStatement(Assignment(SimpleName:type)(ASSIGNMENT_OPERATOR:=)(SimpleName:TYPE_ERROR)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:content))(SimpleName:append)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))))(Block(VariableDeclarationStatement(ParameterizedType(SimpleType(SimpleName:List))(SimpleType(SimpleName:Player)))(VariableDeclarationFragment(SimpleName:members)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ally))(SimpleName:getMembers))))(VariableDeclarationStatement(ParameterizedType(SimpleType(SimpleName:List))(SimpleType(SimpleName:String)))(VariableDeclarationFragment(SimpleName:playersLogin)(ClassInstanceCreation(ParameterizedType(SimpleType(SimpleName:ArrayList))(SimpleType(SimpleName:String)))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:members))(SimpleName:size)))))(SynchronizedStatement(SimpleName:members)(Block(EnhancedForStatement(SingleVariableDeclaration(SimpleType(SimpleName:Player))(SimpleName:member))(SimpleName:members)(Block(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ConnectionManager))(SimpleName:getInstance)))(SimpleName:isConnected)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:member))(SimpleName:getId))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:playersLogin))(SimpleName:add)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:member))(SimpleName:getLogin))))))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Collections))(SimpleName:sort)(METHOD_INVOCATION_ARGUMENTS(SimpleName:playersLogin)(QualifiedName:String.CASE_INSENSITIVE_ORDER))))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:i)(NumberLiteral:0)))(EnhancedForStatement(SingleVariableDeclaration(SimpleType(SimpleName:String))(SimpleName:login))(SimpleName:playersLogin)(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:content))(SimpleName:append)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(ParenthesizedExpression(ConditionalExpression(InfixExpression(PostfixExpression(SimpleName:i)(POSTFIX_EXPRESSION_OPERATOR:++))(INFIX_EXPRESSION_OPERATOR:==)(NumberLiteral:0))(StringLiteral:<STR>)(StringLiteral:<STR>)))(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:login)))))))))(IfStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:message))(SimpleName:equals)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))(INFIX_EXPRESSION_OPERATOR:||)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:message))(SimpleName:equals)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))(Block(ExpressionStatement(Assignment(SimpleName:target)(ASSIGNMENT_OPERATOR:=)(SimpleName:TARGET_SELF)))(ExpressionStatement(Assignment(SimpleName:type)(ASSIGNMENT_OPERATOR:=)(SimpleName:TYPE_INFO)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:content))(SimpleName:append)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(StringLiteral:<STR>))))))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:message))(SimpleName:startsWith)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))(Block(ExpressionStatement(Assignment(SimpleName:target)(ASSIGNMENT_OPERATOR:=)(SimpleName:TARGET_SELF)))(ExpressionStatement(Assignment(SimpleName:type)(ASSIGNMENT_OPERATOR:=)(SimpleName:TYPE_PING)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:content))(SimpleName:append)(METHOD_INVOCATION_ARGUMENTS(ConditionalExpression(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:message))(SimpleName:length))(INFIX_EXPRESSION_OPERATOR:>)(NumberLiteral:6))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:message))(SimpleName:substring)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:6)))(StringLiteral:<STR>))))))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:message))(SimpleName:startsWith)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))(Block(VariableDeclarationStatement(ArrayType(SimpleType(SimpleName:String))(Dimension))(VariableDeclarationFragment(SimpleName:split)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:message))(SimpleName:split)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(NumberLiteral:3)))))(IfStatement(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:player))(SimpleName:hasRight)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:Player.MODERATOR))))(Block(ExpressionStatement(Assignment(SimpleName:target)(ASSIGNMENT_OPERATOR:=)(SimpleName:TARGET_SELF)))(ExpressionStatement(Assignment(SimpleName:type)(ASSIGNMENT_OPERATOR:=)(SimpleName:TYPE_ERROR)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:content))(SimpleName:append)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))))(IfStatement(InfixExpression(QualifiedName:split.length)(INFIX_EXPRESSION_OPERATOR:<)(NumberLiteral:3))(Block(ExpressionStatement(Assignment(SimpleName:target)(ASSIGNMENT_OPERATOR:=)(SimpleName:TARGET_SELF)))(ExpressionStatement(Assignment(SimpleName:type)(ASSIGNMENT_OPERATOR:=)(SimpleName:TYPE_ERROR)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:content))(SimpleName:append)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(StringLiteral:<STR>)(StringLiteral:<STR>))))))(Block(IfStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(ArrayAccess(SimpleName:split)(NumberLiteral:1)))(SimpleName:startsWith)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))(INFIX_EXPRESSION_OPERATOR:&&)(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(ParenthesizedExpression(InfixExpression(ArrayAccess(SimpleName:split)(NumberLiteral:1))(INFIX_EXPRESSION_OPERATOR:+)(ArrayAccess(SimpleName:split)(NumberLiteral:2)))))(SimpleName:lastIndexOf)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))(INFIX_EXPRESSION_OPERATOR:!=)(NumberLiteral:0)))(ExpressionStatement(Assignment(SimpleName:split)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:message))(SimpleName:split)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(NumberLiteral:3))))))(ExpressionStatement(Assignment(ArrayAccess(SimpleName:split)(NumberLiteral:2))(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(ArrayAccess(SimpleName:split)(NumberLiteral:2)))(SimpleName:trim))))(VariableDeclarationStatement(SimpleType(SimpleName:Player))(VariableDeclarationFragment(SimpleName:bannedTarget)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:DataAccess))(SimpleName:getPlayerByLogin)(METHOD_INVOCATION_ARGUMENTS(ArrayAccess(SimpleName:split)(NumberLiteral:1))))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:lastChar)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:String))(SimpleName:valueOf)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(ArrayAccess(SimpleName:split)(NumberLiteral:2)))(SimpleName:charAt)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(ArrayAccess(SimpleName:split)(NumberLiteral:2)))(SimpleName:length))(INFIX_EXPRESSION_OPERATOR:-)(NumberLiteral:1))))))))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:length)(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:-)(NumberLiteral:1))))(TryStatement(Block(ExpressionStatement(Assignment(SimpleName:length)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Integer))(SimpleName:parseInt)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(ArrayAccess(SimpleName:split)(NumberLiteral:2)))(SimpleName:substring)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:0)(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(ArrayAccess(SimpleName:split)(NumberLiteral:2)))(SimpleName:length))(INFIX_EXPRESSION_OPERATOR:-)(NumberLiteral:1)))))))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:Exception))(SimpleName:e))(Block)))(IfStatement(InfixExpression(ParenthesizedExpression(InfixExpression(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:lastChar))(SimpleName:equalsIgnoreCase)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))(INFIX_EXPRESSION_OPERATOR:&&)(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:lastChar))(SimpleName:equalsIgnoreCase)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:lastChar))(SimpleName:equalsIgnoreCase)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))))(INFIX_EXPRESSION_OPERATOR:||)(InfixExpression(SimpleName:length)(INFIX_EXPRESSION_OPERATOR:<)(NumberLiteral:0)))(Block(ExpressionStatement(Assignment(SimpleName:target)(ASSIGNMENT_OPERATOR:=)(SimpleName:TARGET_SELF)))(ExpressionStatement(Assignment(SimpleName:type)(ASSIGNMENT_OPERATOR:=)(SimpleName:TYPE_ERROR)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:content))(SimpleName:append)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(StringLiteral:<STR>)(StringLiteral:<STR>))))))(IfStatement(InfixExpression(SimpleName:bannedTarget)(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(Block(ExpressionStatement(Assignment(SimpleName:target)(ASSIGNMENT_OPERATOR:=)(SimpleName:TARGET_SELF)))(ExpressionStatement(Assignment(SimpleName:type)(ASSIGNMENT_OPERATOR:=)(SimpleName:TYPE_ERROR)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:content))(SimpleName:append)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(ArrayAccess(SimpleName:split)(NumberLiteral:1))(StringLiteral:<STR>))))))(IfStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:bannedTarget))(SimpleName:hasRight)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:Player.MODERATOR)))(INFIX_EXPRESSION_OPERATOR:||)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:bannedTarget))(SimpleName:hasRight)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:Player.ADMINISTRATOR)))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:bannedTarget))(SimpleName:hasRight)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:Player.SUPER_ADMINISTRATOR))))(Block(ExpressionStatement(Assignment(SimpleName:target)(ASSIGNMENT_OPERATOR:=)(SimpleName:TARGET_SELF)))(ExpressionStatement(Assignment(SimpleName:type)(ASSIGNMENT_OPERATOR:=)(SimpleName:TYPE_ERROR)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:content))(SimpleName:append)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(StringLiteral:<STR>))))))(Block(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:lastChar))(SimpleName:equalsIgnoreCase)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))(ExpressionStatement(Assignment(SimpleName:length)(ASSIGNMENT_OPERATOR:*=)(NumberLiteral:60)))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:lastChar))(SimpleName:equalsIgnoreCase)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))(ExpressionStatement(Assignment(SimpleName:length)(ASSIGNMENT_OPERATOR:*=)(InfixExpression(NumberLiteral:60)(INFIX_EXPRESSION_OPERATOR:*)(NumberLiteral:60))))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:lastChar))(SimpleName:equalsIgnoreCase)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))(ExpressionStatement(Assignment(SimpleName:length)(ASSIGNMENT_OPERATOR:*=)(InfixExpression(NumberLiteral:60)(INFIX_EXPRESSION_OPERATOR:*)(NumberLiteral:60)(NumberLiteral:24)))))))(SynchronizedStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:bannedTarget))(SimpleName:getLock))(Block(ExpressionStatement(Assignment(SimpleName:bannedTarget)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:DataAccess))(SimpleName:getEditable)(METHOD_INVOCATION_ARGUMENTS(SimpleName:bannedTarget)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:bannedTarget))(SimpleName:setBanChat)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Utilities))(SimpleName:now))(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:length)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:DataAccess))(SimpleName:save)(METHOD_INVOCATION_ARGUMENTS(SimpleName:bannedTarget))))))(ExpressionStatement(Assignment(SimpleName:target)(ASSIGNMENT_OPERATOR:=)(SimpleName:TARGET_CHANNEL)))(ExpressionStatement(Assignment(SimpleName:type)(ASSIGNMENT_OPERATOR:=)(SimpleName:TYPE_MODERATION)))(VariableDeclarationStatement(SimpleType(SimpleName:Date))(VariableDeclarationFragment(SimpleName:date)(ClassInstanceCreation(SimpleType(SimpleName:Date))(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:bannedTarget))(SimpleName:getBanChat))(INFIX_EXPRESSION_OPERATOR:*)(NumberLiteral:1000)))))(VariableDeclarationStatement(SimpleType(SimpleName:SimpleDateFormat))(VariableDeclarationFragment(SimpleName:format)(ClassInstanceCreation(SimpleType(SimpleName:SimpleDateFormat))(StringLiteral:<STR>))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:content))(SimpleName:append)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:bannedTarget))(SimpleName:getLogin)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:content))(SimpleName:append)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:content))(SimpleName:append)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:content))(SimpleName:append)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:player))(SimpleName:getLogin)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:content))(SimpleName:append)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:content))(SimpleName:append)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:format))(SimpleName:format)(METHOD_INVOCATION_ARGUMENTS(SimpleName:date))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:content))(SimpleName:append)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))))))))))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:message))(SimpleName:startsWith)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))(Block(VariableDeclarationStatement(ArrayType(SimpleType(SimpleName:String))(Dimension))(VariableDeclarationFragment(SimpleName:split)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:message))(SimpleName:split)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(NumberLiteral:2)))))(IfStatement(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:player))(SimpleName:hasRight)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:Player.MODERATOR))))(Block(ExpressionStatement(Assignment(SimpleName:target)(ASSIGNMENT_OPERATOR:=)(SimpleName:TARGET_SELF)))(ExpressionStatement(Assignment(SimpleName:type)(ASSIGNMENT_OPERATOR:=)(SimpleName:TYPE_ERROR)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:content))(SimpleName:append)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))))(IfStatement(InfixExpression(QualifiedName:split.length)(INFIX_EXPRESSION_OPERATOR:<)(NumberLiteral:2))(Block(ExpressionStatement(Assignment(SimpleName:target)(ASSIGNMENT_OPERATOR:=)(SimpleName:TARGET_SELF)))(ExpressionStatement(Assignment(SimpleName:type)(ASSIGNMENT_OPERATOR:=)(SimpleName:TYPE_ERROR)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:content))(SimpleName:append)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))))(Block(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:login)(ArrayAccess(SimpleName:split)(NumberLiteral:1))))(IfStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:login))(SimpleName:startsWith)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))(INFIX_EXPRESSION_OPERATOR:&&)(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:login))(SimpleName:lastIndexOf)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))(INFIX_EXPRESSION_OPERATOR:!=)(NumberLiteral:0)))(ExpressionStatement(Assignment(SimpleName:login)(ASSIGNMENT_OPERATOR:=)(ArrayAccess(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:message))(SimpleName:split)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(NumberLiteral:3)))(NumberLiteral:1)))))(VariableDeclarationStatement(SimpleType(SimpleName:Player))(VariableDeclarationFragment(SimpleName:unbannedTarget)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:DataAccess))(SimpleName:getPlayerByLogin)(METHOD_INVOCATION_ARGUMENTS(SimpleName:login)))))(IfStatement(InfixExpression(SimpleName:unbannedTarget)(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(Block(ExpressionStatement(Assignment(SimpleName:target)(ASSIGNMENT_OPERATOR:=)(SimpleName:TARGET_SELF)))(ExpressionStatement(Assignment(SimpleName:type)(ASSIGNMENT_OPERATOR:=)(SimpleName:TYPE_ERROR)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:content))(SimpleName:append)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:login)(StringLiteral:<STR>))))))(IfStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:unbannedTarget))(SimpleName:hasRight)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:Player.MODERATOR)))(INFIX_EXPRESSION_OPERATOR:||)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:unbannedTarget))(SimpleName:hasRight)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:Player.ADMINISTRATOR)))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:unbannedTarget))(SimpleName:hasRight)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:Player.SUPER_ADMINISTRATOR))))(Block(ExpressionStatement(Assignment(SimpleName:target)(ASSIGNMENT_OPERATOR:=)(SimpleName:TARGET_SELF)))(ExpressionStatement(Assignment(SimpleName:type)(ASSIGNMENT_OPERATOR:=)(SimpleName:TYPE_ERROR)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:content))(SimpleName:append)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(StringLiteral:<STR>))))))(Block(SynchronizedStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:unbannedTarget))(SimpleName:getLock))(Block(ExpressionStatement(Assignment(SimpleName:unbannedTarget)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:DataAccess))(SimpleName:getEditable)(METHOD_INVOCATION_ARGUMENTS(SimpleName:unbannedTarget)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:unbannedTarget))(SimpleName:setBanChat)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:0))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:DataAccess))(SimpleName:save)(METHOD_INVOCATION_ARGUMENTS(SimpleName:unbannedTarget))))))(ExpressionStatement(Assignment(SimpleName:target)(ASSIGNMENT_OPERATOR:=)(SimpleName:TARGET_CHANNEL)))(ExpressionStatement(Assignment(SimpleName:type)(ASSIGNMENT_OPERATOR:=)(SimpleName:TYPE_MODERATION)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:content))(SimpleName:append)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:player))(SimpleName:getLogin)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:content))(SimpleName:append)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:content))(SimpleName:append)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:unbannedTarget))(SimpleName:getLogin)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:content))(SimpleName:append)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))))))))))(Block(ExpressionStatement(Assignment(SimpleName:target)(ASSIGNMENT_OPERATOR:=)(SimpleName:TARGET_SELF)))(ExpressionStatement(Assignment(SimpleName:type)(ASSIGNMENT_OPERATOR:=)(SimpleName:TYPE_ERROR)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:content))(SimpleName:append)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(StringLiteral:<STR>))))))))))))))))))))))))(Block(ExpressionStatement(Assignment(SimpleName:target)(ASSIGNMENT_OPERATOR:=)(SimpleName:TARGET_CHANNEL)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:content))(SimpleName:append)(METHOD_INVOCATION_ARGUMENTS(SimpleName:message))))(ExpressionStatement(Assignment(SimpleName:type)(ASSIGNMENT_OPERATOR:=)(SimpleName:TYPE_DEFAULT))))))(VariableDeclarationStatement(SimpleType(SimpleName:JSONObject))(VariableDeclarationFragment(SimpleName:json)(ClassInstanceCreation(SimpleType(SimpleName:JSONObject)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:json))(SimpleName:put)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:ChatMessageData.FIELD_CONTENT)(SimpleName:content))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:json))(SimpleName:put)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:ChatMessageData.FIELD_DATE)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Utilities))(SimpleName:now)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:json))(SimpleName:put)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:ChatMessageData.FIELD_TYPE)(SimpleName:type))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:json))(SimpleName:put)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:ChatMessageData.FIELD_CHANNEL)(SimpleName:channel))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:json))(SimpleName:put)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:ChatMessageData.FIELD_AUTHOR)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:player))(SimpleName:getLogin)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:json))(SimpleName:put)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:ChatMessageData.FIELD_RIGHTS)(ConditionalExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:player))(SimpleName:hasRight)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:Player.MODERATOR)))(StringLiteral:<STR>)(StringLiteral:<STR>)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:json))(SimpleName:put)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:ChatMessageData.FIELD_ALLY_TAG)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:player))(SimpleName:getAllyTag)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:json))(SimpleName:put)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:ChatMessageData.FIELD_ALLY_NAME)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:player))(SimpleName:getAllyName)))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:jsonString)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:json))(SimpleName:toString))))(IfStatement(SimpleName:updateChannels)(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:updates))(SimpleName:add)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Update))(SimpleName:getChatChannelsUpdate))))))(SwitchStatement(SimpleName:target)(SwitchCase(SimpleName:TARGET_CHANNEL))(VariableDeclarationStatement(ParameterizedType(SimpleType(SimpleName:Set))(SimpleType(SimpleName:Integer)))(VariableDeclarationFragment(SimpleName:players)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ChatManager))(SimpleName:getInstance)))(SimpleName:getChannelPlayers)(METHOD_INVOCATION_ARGUMENTS(SimpleName:channel)))))(SynchronizedStatement(SimpleName:players)(Block(ForStatement(VariableDeclarationExpression(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:i)(NumberLiteral:0)))(InfixExpression(SimpleName:i)(INFIX_EXPRESSION_OPERATOR:<)(NumberLiteral:2))(PostfixExpression(SimpleName:i)(POSTFIX_EXPRESSION_OPERATOR:++))(Block(EnhancedForStatement(SingleVariableDeclaration(SimpleType(SimpleName:Integer))(SimpleName:idPlayer))(SimpleName:players)(Block(VariableDeclarationStatement(SimpleType(SimpleName:Player))(VariableDeclarationFragment(SimpleName:chattingPlayer)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:DataAccess))(SimpleName:getPlayerById)(METHOD_INVOCATION_ARGUMENTS(SimpleName:idPlayer)))))(IfStatement(InfixExpression(ParenthesizedExpression(InfixExpression(InfixExpression(SimpleName:i)(INFIX_EXPRESSION_OPERATOR:==)(NumberLiteral:0))(INFIX_EXPRESSION_OPERATOR:&&)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:chattingPlayer))(SimpleName:isSettingsCensorship))))(INFIX_EXPRESSION_OPERATOR:||)(ParenthesizedExpression(InfixExpression(InfixExpression(SimpleName:i)(INFIX_EXPRESSION_OPERATOR:==)(NumberLiteral:1))(INFIX_EXPRESSION_OPERATOR:&&)(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:chattingPlayer))(SimpleName:isSettingsCensorship))))))(ContinueStatement))(IfStatement(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ChatManager))(SimpleName:getInstance)))(SimpleName:isChannelEnabled)(METHOD_INVOCATION_ARGUMENTS(SimpleName:chattingPlayer)(SimpleName:channel))))(ContinueStatement))(IfStatement(InfixExpression(SimpleName:idPlayer)(INFIX_EXPRESSION_OPERATOR:==)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:player))(SimpleName:getId)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:updates))(SimpleName:add)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Update))(SimpleName:getChatUpdate)(METHOD_INVOCATION_ARGUMENTS(SimpleName:jsonString))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:UpdateTools))(SimpleName:queueChatUpdate)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:chattingPlayer))(SimpleName:getId))(SimpleName:jsonString)))))))(IfStatement(InfixExpression(SimpleName:i)(INFIX_EXPRESSION_OPERATOR:==)(NumberLiteral:0))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:json))(SimpleName:put)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:ChatMessageData.FIELD_CONTENT)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Badwords))(SimpleName:parse)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:content))(SimpleName:toString)))))))(ExpressionStatement(Assignment(SimpleName:jsonString)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:json))(SimpleName:toString))))))))))(BreakStatement)(SwitchCase(SimpleName:TARGET_SELF))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:updates))(SimpleName:add)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Update))(SimpleName:getChatUpdate)(METHOD_INVOCATION_ARGUMENTS(SimpleName:jsonString))))))(BreakStatement)(SwitchCase(SimpleName:TARGET_WHISPER))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:player))(SimpleName:isSettingsCensorship))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:json))(SimpleName:put)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:ChatMessageData.FIELD_CONTENT)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Badwords))(SimpleName:parse)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:content))(SimpleName:toString))))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:json))(SimpleName:put)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:ChatMessageData.FIELD_TYPE)(SimpleName:TYPE_WHISPER_SENT))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:json))(SimpleName:put)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:ChatMessageData.FIELD_AUTHOR)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:whisperTarget))(SimpleName:getLogin)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:json))(SimpleName:put)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:ChatMessageData.FIELD_ALLY_TAG)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:whisperTarget))(SimpleName:getAllyTag)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:json))(SimpleName:put)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:ChatMessageData.FIELD_ALLY_NAME)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:whisperTarget))(SimpleName:getAllyName)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:updates))(SimpleName:add)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Update))(SimpleName:getChatUpdate)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:json))(SimpleName:toString)))))))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:whisperTarget))(SimpleName:isSettingsCensorship))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:json))(SimpleName:put)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:ChatMessageData.FIELD_CONTENT)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Badwords))(SimpleName:parse)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:content))(SimpleName:toString)))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:json))(SimpleName:put)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:ChatMessageData.FIELD_CONTENT)(SimpleName:content)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:json))(SimpleName:put)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:ChatMessageData.FIELD_TYPE)(SimpleName:TYPE_WHISPER_RECEIVED))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:json))(SimpleName:put)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:ChatMessageData.FIELD_AUTHOR)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:player))(SimpleName:getLogin)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:json))(SimpleName:put)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:ChatMessageData.FIELD_ALLY_TAG)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:player))(SimpleName:getAllyTag)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:json))(SimpleName:put)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:ChatMessageData.FIELD_ALLY_NAME)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:player))(SimpleName:getAllyName)))))(IfStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:whisperTarget))(SimpleName:getId))(INFIX_EXPRESSION_OPERATOR:==)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:player))(SimpleName:getId)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:updates))(SimpleName:add)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Update))(SimpleName:getChatUpdate)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:json))(SimpleName:toString)))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:UpdateTools))(SimpleName:queueChatUpdate)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:whisperTarget))(SimpleName:getId))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:json))(SimpleName:toString))))))(BreakStatement))(ReturnStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:UpdateTools))(SimpleName:formatUpdates)(METHOD_INVOCATION_ARGUMENTS(SimpleName:player)(SimpleName:updates))))))))