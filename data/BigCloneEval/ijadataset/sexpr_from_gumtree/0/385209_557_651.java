(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:public)(SimpleType(SimpleName:Message))(SimpleName:duplicate)(SingleVariableDeclaration(SimpleType(SimpleName:Destination))(SimpleName:to))(SingleVariableDeclaration(SimpleType(SimpleName:Message))(SimpleName:in))(SimpleType(SimpleName:JMSException))(Block(VariableDeclarationStatement(SimpleType(SimpleName:HermesConfig))(VariableDeclarationFragment(SimpleName:config)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:HermesBrowser))(SimpleName:getBrowser)))(SimpleName:getConfig))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Thread))(SimpleName:currentThread)))(SimpleName:setContextClassLoader)(METHOD_INVOCATION_ARGUMENTS(SimpleName:contextClassLoader))))(VariableDeclarationStatement(SimpleType(SimpleName:Message))(VariableDeclarationFragment(SimpleName:out)(NullLiteral)))(IfStatement(InstanceofExpression(SimpleName:in)(SimpleType(SimpleName:TextMessage)))(Block(ExpressionStatement(Assignment(SimpleName:out)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(SimpleName:createTextMessage)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(ParenthesizedExpression(CastExpression(SimpleType(SimpleName:TextMessage))(SimpleName:in))))(SimpleName:getText)))))))(IfStatement(InstanceofExpression(SimpleName:in)(SimpleType(SimpleName:ObjectMessage)))(Block(ExpressionStatement(Assignment(SimpleName:out)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(SimpleName:createObjectMessage))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(ParenthesizedExpression(CastExpression(SimpleType(SimpleName:ObjectMessage))(SimpleName:out))))(SimpleName:setObject)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(ParenthesizedExpression(CastExpression(SimpleType(SimpleName:ObjectMessage))(SimpleName:in))))(SimpleName:getObject))))))(IfStatement(InstanceofExpression(SimpleName:in)(SimpleType(SimpleName:MapMessage)))(Block(ExpressionStatement(Assignment(SimpleName:out)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(SimpleName:createMapMessage))))(VariableDeclarationStatement(Modifier:final)(SimpleType(SimpleName:MapMessage))(VariableDeclarationFragment(SimpleName:inMap)(CastExpression(SimpleType(SimpleName:MapMessage))(SimpleName:in))))(VariableDeclarationStatement(Modifier:final)(SimpleType(SimpleName:MapMessage))(VariableDeclarationFragment(SimpleName:outMap)(CastExpression(SimpleType(SimpleName:MapMessage))(SimpleName:out))))(ForStatement(VariableDeclarationExpression(SimpleType(SimpleName:Enumeration))(VariableDeclarationFragment(SimpleName:iter)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:inMap))(SimpleName:getMapNames))))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:iter))(SimpleName:hasMoreElements))(Block(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:key)(CastExpression(SimpleType(SimpleName:String))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:iter))(SimpleName:nextElement)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:outMap))(SimpleName:setObject)(METHOD_INVOCATION_ARGUMENTS(SimpleName:key)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:inMap))(SimpleName:getObject)(METHOD_INVOCATION_ARGUMENTS(SimpleName:key)))))))))(IfStatement(InstanceofExpression(SimpleName:in)(SimpleType(SimpleName:StreamMessage)))(Block(ExpressionStatement(Assignment(SimpleName:out)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(SimpleName:createStreamMessage))))(VariableDeclarationStatement(Modifier:final)(SimpleType(SimpleName:StreamMessage))(VariableDeclarationFragment(SimpleName:inS)(CastExpression(SimpleType(SimpleName:StreamMessage))(SimpleName:in))))(VariableDeclarationStatement(Modifier:final)(SimpleType(SimpleName:StreamMessage))(VariableDeclarationFragment(SimpleName:outS)(CastExpression(SimpleType(SimpleName:StreamMessage))(SimpleName:out))))(TryStatement(Block(ForStatement(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:outS))(SimpleName:writeObject)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:inS))(SimpleName:readObject))))))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:MessageEOFException))(SimpleName:ex2))(Block))))(IfStatement(InstanceofExpression(SimpleName:in)(SimpleType(SimpleName:BytesMessage)))(Block(ExpressionStatement(Assignment(SimpleName:out)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(SimpleName:createBytesMessage))))(VariableDeclarationStatement(Modifier:final)(SimpleType(SimpleName:BytesMessage))(VariableDeclarationFragment(SimpleName:inBytes)(CastExpression(SimpleType(SimpleName:BytesMessage))(SimpleName:in))))(VariableDeclarationStatement(Modifier:final)(SimpleType(SimpleName:BytesMessage))(VariableDeclarationFragment(SimpleName:outBytes)(CastExpression(SimpleType(SimpleName:BytesMessage))(SimpleName:out))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:inBytes))(SimpleName:reset)))(TryStatement(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:outBytes))(SimpleName:writeBytes)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:MessageUtils))(SimpleName:asBytes)(METHOD_INVOCATION_ARGUMENTS(SimpleName:inBytes)))))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:MessageEOFException))(SimpleName:ex2))(Block))))(IfStatement(InstanceofExpression(SimpleName:in)(SimpleType(SimpleName:Message)))(Block(ExpressionStatement(Assignment(SimpleName:out)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(SimpleName:createMessage)))))(Block(ThrowStatement(ClassInstanceCreation(SimpleType(SimpleName:HermesException))(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:in))(SimpleName:getClass)))(SimpleName:getName))))))))))))(TryStatement(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:out))(SimpleName:setJMSDestination)(METHOD_INVOCATION_ARGUMENTS(SimpleName:to)))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:Exception))(SimpleName:ex))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:log))(SimpleName:error)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ex))(SimpleName:getMessage))(SimpleName:ex)))))))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:config))(SimpleName:isCopyJMSCorrelationID))(Block(TryStatement(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:out))(SimpleName:setJMSCorrelationID)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:in))(SimpleName:getJMSCorrelationID))))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:JMSException))(SimpleName:ex))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:log))(SimpleName:error)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ex))(SimpleName:getMessage))(SimpleName:ex)))))))))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:config))(SimpleName:isCopyJMSExpiration))(Block(TryStatement(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:out))(SimpleName:setJMSExpiration)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:in))(SimpleName:getJMSExpiration))))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:JMSException))(SimpleName:ex))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:log))(SimpleName:error)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ex))(SimpleName:getMessage))(SimpleName:ex)))))))))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:config))(SimpleName:isCopyJMSPriority))(Block(TryStatement(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:out))(SimpleName:setJMSPriority)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:in))(SimpleName:getJMSPriority))))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:JMSException))(SimpleName:ex))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:log))(SimpleName:error)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ex))(SimpleName:getMessage))(SimpleName:ex)))))))))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:config))(SimpleName:isCopyJMSReplyTo))(Block(TryStatement(Block(IfStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:in))(SimpleName:getJMSReplyTo))(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:out))(SimpleName:setJMSReplyTo)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(SimpleName:getDestination)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(SimpleName:getDestinationName)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:in))(SimpleName:getJMSReplyTo))))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Domain))(SimpleName:getDomain)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:in))(SimpleName:getJMSReplyTo))))))))))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:JMSException))(SimpleName:ex))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:log))(SimpleName:error)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ex))(SimpleName:getMessage))(SimpleName:ex))))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:NamingException))(SimpleName:ex))(Block(ThrowStatement(ClassInstanceCreation(SimpleType(SimpleName:HermesRuntimeException))(SimpleName:ex))))))))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:config))(SimpleName:isCopyJMSType))(Block(TryStatement(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:out))(SimpleName:setJMSType)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:in))(SimpleName:getJMSType))))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:JMSException))(SimpleName:ex))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:log))(SimpleName:error)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ex))(SimpleName:getMessage))(SimpleName:ex)))))))))(IfStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:in))(SimpleName:getPropertyNames))(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(ForStatement(VariableDeclarationExpression(Modifier:final)(SimpleType(SimpleName:Enumeration))(VariableDeclarationFragment(SimpleName:iter)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:in))(SimpleName:getPropertyNames))))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:iter))(SimpleName:hasMoreElements))(Block(VariableDeclarationStatement(Modifier:final)(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:key)(CastExpression(SimpleType(SimpleName:String))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:iter))(SimpleName:nextElement)))))(IfStatement(InfixExpression(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:key))(SimpleName:startsWith)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))(INFIX_EXPRESSION_OPERATOR:||)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:config))(SimpleName:isCopyJMSProviderProperties)))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:out))(SimpleName:setObjectProperty)(METHOD_INVOCATION_ARGUMENTS(SimpleName:key)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:in))(SimpleName:getObjectProperty)(METHOD_INVOCATION_ARGUMENTS(SimpleName:key))))))))))))(ReturnStatement(SimpleName:out))))))