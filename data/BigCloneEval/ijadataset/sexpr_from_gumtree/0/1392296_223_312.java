(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:public)(SimpleType(SimpleName:Content))(SimpleName:update)(SingleVariableDeclaration(SimpleType(SimpleName:Content))(SimpleName:bean))(SingleVariableDeclaration(SimpleType(SimpleName:ContentExt))(SimpleName:ext))(SingleVariableDeclaration(SimpleType(SimpleName:ContentTxt))(SimpleName:txt))(SingleVariableDeclaration(ArrayType(SimpleType(SimpleName:String))(Dimension))(SimpleName:tagArr))(SingleVariableDeclaration(ArrayType(SimpleType(SimpleName:Integer))(Dimension))(SimpleName:channelIds))(SingleVariableDeclaration(ArrayType(SimpleType(SimpleName:Integer))(Dimension))(SimpleName:topicIds))(SingleVariableDeclaration(ArrayType(SimpleType(SimpleName:Integer))(Dimension))(SimpleName:viewGroupIds))(SingleVariableDeclaration(ArrayType(SimpleType(SimpleName:String))(Dimension))(SimpleName:attachmentPaths))(SingleVariableDeclaration(ArrayType(SimpleType(SimpleName:String))(Dimension))(SimpleName:attachmentNames))(SingleVariableDeclaration(ArrayType(SimpleType(SimpleName:String))(Dimension))(SimpleName:attachmentFilenames))(SingleVariableDeclaration(ArrayType(SimpleType(SimpleName:String))(Dimension))(SimpleName:picPaths))(SingleVariableDeclaration(ArrayType(SimpleType(SimpleName:String))(Dimension))(SimpleName:picDescs))(SingleVariableDeclaration(ParameterizedType(SimpleType(SimpleName:Map))(SimpleType(SimpleName:String))(SimpleType(SimpleName:String)))(SimpleName:attr))(SingleVariableDeclaration(SimpleType(SimpleName:Integer))(SimpleName:channelId))(SingleVariableDeclaration(SimpleType(SimpleName:Integer))(SimpleName:typeId))(SingleVariableDeclaration(SimpleType(SimpleName:Boolean))(SimpleName:draft))(SingleVariableDeclaration(SimpleType(SimpleName:CmsUser))(SimpleName:user))(SingleVariableDeclaration(PrimitiveType:boolean)(SimpleName:forMember))(Block(VariableDeclarationStatement(SimpleType(SimpleName:Content))(VariableDeclarationFragment(SimpleName:entity)(MethodInvocation(SimpleName:findById)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:bean))(SimpleName:getId))))))(VariableDeclarationStatement(ParameterizedType(SimpleType(SimpleName:List))(ParameterizedType(SimpleType(SimpleName:Map))(SimpleType(SimpleName:String))(SimpleType(SimpleName:Object))))(VariableDeclarationFragment(SimpleName:mapList)(MethodInvocation(SimpleName:preChange)(METHOD_INVOCATION_ARGUMENTS(SimpleName:entity)))))(VariableDeclarationStatement(ParameterizedType(SimpleType(SimpleName:Updater))(SimpleType(SimpleName:Content)))(VariableDeclarationFragment(SimpleName:updater)(ClassInstanceCreation(ParameterizedType(SimpleType(SimpleName:Updater))(SimpleType(SimpleName:Content)))(SimpleName:bean))))(ExpressionStatement(Assignment(SimpleName:bean)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:dao))(SimpleName:updateByUpdater)(METHOD_INVOCATION_ARGUMENTS(SimpleName:updater)))))(VariableDeclarationStatement(SimpleType(SimpleName:Byte))(VariableDeclarationFragment(SimpleName:userStep)))(IfStatement(SimpleName:forMember)(Block(ExpressionStatement(Assignment(SimpleName:userStep)(ASSIGNMENT_OPERATOR:=)(NumberLiteral:0))))(Block(VariableDeclarationStatement(SimpleType(SimpleName:CmsSite))(VariableDeclarationFragment(SimpleName:site)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:bean))(SimpleName:getSite))))(ExpressionStatement(Assignment(SimpleName:userStep)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:user))(SimpleName:getCheckStep)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:site))(SimpleName:getId))))))))(VariableDeclarationStatement(SimpleType(SimpleName:AfterCheckEnum))(VariableDeclarationFragment(SimpleName:after)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:bean))(SimpleName:getChannel)))(SimpleName:getAfterCheckEnum))))(IfStatement(InfixExpression(InfixExpression(SimpleName:after)(INFIX_EXPRESSION_OPERATOR:==)(QualifiedName:AfterCheckEnum.BACK_UPDATE))(INFIX_EXPRESSION_OPERATOR:&&)(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:bean))(SimpleName:getCheckStep))(INFIX_EXPRESSION_OPERATOR:>)(SimpleName:userStep)))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:bean))(SimpleName:getContentCheck)))(SimpleName:setCheckStep)(METHOD_INVOCATION_ARGUMENTS(SimpleName:userStep))))(IfStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:bean))(SimpleName:getCheckStep))(INFIX_EXPRESSION_OPERATOR:>=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:bean))(SimpleName:getChannel)))(SimpleName:getFinalStepExtends)))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:bean))(SimpleName:setStatus)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:ContentCheck.CHECKED)))))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:bean))(SimpleName:setStatus)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:ContentCheck.CHECKING))))))))(IfStatement(InfixExpression(SimpleName:draft)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(IfStatement(SimpleName:draft)(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:bean))(SimpleName:setStatus)(METHOD_INVOCATION_ARGUMENTS(SimpleName:DRAFT)))))(Block(IfStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:bean))(SimpleName:getStatus))(INFIX_EXPRESSION_OPERATOR:==)(SimpleName:DRAFT))(Block(IfStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:bean))(SimpleName:getCheckStep))(INFIX_EXPRESSION_OPERATOR:>=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:bean))(SimpleName:getChannel)))(SimpleName:getFinalStepExtends)))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:bean))(SimpleName:setStatus)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:ContentCheck.CHECKED)))))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:bean))(SimpleName:setStatus)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:ContentCheck.CHECKING))))))))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:bean))(SimpleName:setHasTitleImg)(METHOD_INVOCATION_ARGUMENTS(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:StringUtils))(SimpleName:isBlank)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ext))(SimpleName:getTitleImg))))))))(IfStatement(InfixExpression(SimpleName:channelId)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:bean))(SimpleName:setChannel)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:channelMng))(SimpleName:findById)(METHOD_INVOCATION_ARGUMENTS(SimpleName:channelId))))))))(IfStatement(InfixExpression(SimpleName:typeId)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:bean))(SimpleName:setType)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:contentTypeMng))(SimpleName:findById)(METHOD_INVOCATION_ARGUMENTS(SimpleName:typeId))))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:contentExtMng))(SimpleName:update)(METHOD_INVOCATION_ARGUMENTS(SimpleName:ext))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:contentTxtMng))(SimpleName:update)(METHOD_INVOCATION_ARGUMENTS(SimpleName:txt)(SimpleName:bean))))(IfStatement(InfixExpression(SimpleName:attr)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(VariableDeclarationStatement(ParameterizedType(SimpleType(SimpleName:Map))(SimpleType(SimpleName:String))(SimpleType(SimpleName:String)))(VariableDeclarationFragment(SimpleName:attrOrig)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:bean))(SimpleName:getAttr))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:attrOrig))(SimpleName:clear)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:attrOrig))(SimpleName:putAll)(METHOD_INVOCATION_ARGUMENTS(SimpleName:attr))))))(VariableDeclarationStatement(ParameterizedType(SimpleType(SimpleName:Set))(SimpleType(SimpleName:Channel)))(VariableDeclarationFragment(SimpleName:channels)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:bean))(SimpleName:getChannels))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:channels))(SimpleName:clear)))(IfStatement(InfixExpression(InfixExpression(SimpleName:channelIds)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(INFIX_EXPRESSION_OPERATOR:&&)(InfixExpression(QualifiedName:channelIds.length)(INFIX_EXPRESSION_OPERATOR:>)(NumberLiteral:0)))(Block(EnhancedForStatement(SingleVariableDeclaration(SimpleType(SimpleName:Integer))(SimpleName:cid))(SimpleName:channelIds)(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:channels))(SimpleName:add)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:channelMng))(SimpleName:findById)(METHOD_INVOCATION_ARGUMENTS(SimpleName:cid))))))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:channels))(SimpleName:add)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:bean))(SimpleName:getChannel)))))(VariableDeclarationStatement(ParameterizedType(SimpleType(SimpleName:Set))(SimpleType(SimpleName:CmsTopic)))(VariableDeclarationFragment(SimpleName:topics)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:bean))(SimpleName:getTopics))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:topics))(SimpleName:clear)))(IfStatement(InfixExpression(InfixExpression(SimpleName:topicIds)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(INFIX_EXPRESSION_OPERATOR:&&)(InfixExpression(QualifiedName:topicIds.length)(INFIX_EXPRESSION_OPERATOR:>)(NumberLiteral:0)))(Block(EnhancedForStatement(SingleVariableDeclaration(SimpleType(SimpleName:Integer))(SimpleName:tid))(SimpleName:topicIds)(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:topics))(SimpleName:add)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:cmsTopicMng))(SimpleName:findById)(METHOD_INVOCATION_ARGUMENTS(SimpleName:tid))))))))))(VariableDeclarationStatement(ParameterizedType(SimpleType(SimpleName:Set))(SimpleType(SimpleName:CmsGroup)))(VariableDeclarationFragment(SimpleName:groups)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:bean))(SimpleName:getViewGroups))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:groups))(SimpleName:clear)))(IfStatement(InfixExpression(InfixExpression(SimpleName:viewGroupIds)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(INFIX_EXPRESSION_OPERATOR:&&)(InfixExpression(QualifiedName:viewGroupIds.length)(INFIX_EXPRESSION_OPERATOR:>)(NumberLiteral:0)))(Block(EnhancedForStatement(SingleVariableDeclaration(SimpleType(SimpleName:Integer))(SimpleName:gid))(SimpleName:viewGroupIds)(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:groups))(SimpleName:add)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:cmsGroupMng))(SimpleName:findById)(METHOD_INVOCATION_ARGUMENTS(SimpleName:gid))))))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:contentTagMng))(SimpleName:updateTags)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:bean))(SimpleName:getTags))(SimpleName:tagArr))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:bean))(SimpleName:getAttachments)))(SimpleName:clear)))(IfStatement(InfixExpression(InfixExpression(SimpleName:attachmentPaths)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(INFIX_EXPRESSION_OPERATOR:&&)(InfixExpression(QualifiedName:attachmentPaths.length)(INFIX_EXPRESSION_OPERATOR:>)(NumberLiteral:0)))(Block(ForStatement(VariableDeclarationExpression(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:i)(NumberLiteral:0))(VariableDeclarationFragment(SimpleName:len)(QualifiedName:attachmentPaths.length)))(InfixExpression(SimpleName:i)(INFIX_EXPRESSION_OPERATOR:<)(SimpleName:len))(PostfixExpression(SimpleName:i)(POSTFIX_EXPRESSION_OPERATOR:++))(Block(IfStatement(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:StringUtils))(SimpleName:isBlank)(METHOD_INVOCATION_ARGUMENTS(ArrayAccess(SimpleName:attachmentPaths)(SimpleName:i)))))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:bean))(SimpleName:addToAttachmemts)(METHOD_INVOCATION_ARGUMENTS(ArrayAccess(SimpleName:attachmentPaths)(SimpleName:i))(ArrayAccess(SimpleName:attachmentNames)(SimpleName:i))(ArrayAccess(SimpleName:attachmentFilenames)(SimpleName:i)))))))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:bean))(SimpleName:getPictures)))(SimpleName:clear)))(IfStatement(InfixExpression(InfixExpression(SimpleName:picPaths)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(INFIX_EXPRESSION_OPERATOR:&&)(InfixExpression(QualifiedName:picPaths.length)(INFIX_EXPRESSION_OPERATOR:>)(NumberLiteral:0)))(Block(ForStatement(VariableDeclarationExpression(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:i)(NumberLiteral:0))(VariableDeclarationFragment(SimpleName:len)(QualifiedName:picPaths.length)))(InfixExpression(SimpleName:i)(INFIX_EXPRESSION_OPERATOR:<)(SimpleName:len))(PostfixExpression(SimpleName:i)(POSTFIX_EXPRESSION_OPERATOR:++))(Block(IfStatement(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:StringUtils))(SimpleName:isBlank)(METHOD_INVOCATION_ARGUMENTS(ArrayAccess(SimpleName:picPaths)(SimpleName:i)))))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:bean))(SimpleName:addToPictures)(METHOD_INVOCATION_ARGUMENTS(ArrayAccess(SimpleName:picPaths)(SimpleName:i))(ArrayAccess(SimpleName:picDescs)(SimpleName:i)))))))))))(ExpressionStatement(MethodInvocation(SimpleName:afterChange)(METHOD_INVOCATION_ARGUMENTS(SimpleName:bean)(SimpleName:mapList))))(ReturnStatement(SimpleName:bean))))))