(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:public)(PrimitiveType:int)(SimpleName:doStartTag)(SimpleType(SimpleName:JspException))(Block(VariableDeclarationStatement(SimpleType(SimpleName:HttpServletRequest))(VariableDeclarationFragment(SimpleName:request)(CastExpression(SimpleType(SimpleName:HttpServletRequest))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:pageContext))(SimpleName:getRequest)))))(VariableDeclarationStatement(SimpleType(SimpleName:HttpServletResponse))(VariableDeclarationFragment(SimpleName:response)(CastExpression(SimpleType(SimpleName:HttpServletResponse))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:pageContext))(SimpleName:getResponse)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(ThisExpression))(SimpleName:setTheme)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(ThisExpression))(SimpleName:getVisitedPortal)(METHOD_INVOCATION_ARGUMENTS(SimpleName:request))))))(VariableDeclarationStatement(SimpleType(SimpleName:User))(VariableDeclarationFragment(SimpleName:user)(MethodInvocation(METHOD_INVOCATION_RECEIVER(ThisExpression))(SimpleName:getUser)(METHOD_INVOCATION_ARGUMENTS(SimpleName:request)))))(VariableDeclarationStatement(SimpleType(SimpleName:Locale))(VariableDeclarationFragment(SimpleName:currentLocale)(CastExpression(SimpleType(SimpleName:Locale))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Config))(SimpleName:get)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:request))(SimpleName:getSession))(QualifiedName:Config.FMT_LOCALE))))))(IfStatement(InfixExpression(SimpleName:currentLocale)(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(Block(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:locale)(SimpleName:_DEFAULT_LOCALE)))(IfStatement(InfixExpression(SimpleName:user)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(ExpressionStatement(Assignment(SimpleName:locale)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:user))(SimpleName:getLanguage))))(Block(VariableDeclarationStatement(ArrayType(SimpleType(SimpleName:Cookie))(Dimension))(VariableDeclarationFragment(SimpleName:theCookies)(MethodInvocation(METHOD_INVOCATION_RECEIVER(ParenthesizedExpression(CastExpression(SimpleType(SimpleName:HttpServletRequest))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:pageContext))(SimpleName:getRequest)))))(SimpleName:getCookies))))(IfStatement(InfixExpression(SimpleName:theCookies)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(ForStatement(VariableDeclarationExpression(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:i)(NumberLiteral:0)))(InfixExpression(SimpleName:i)(INFIX_EXPRESSION_OPERATOR:<)(QualifiedName:theCookies.length))(PostfixExpression(SimpleName:i)(POSTFIX_EXPRESSION_OPERATOR:++))(Block(VariableDeclarationStatement(SimpleType(SimpleName:Cookie))(VariableDeclarationFragment(SimpleName:aCookie)(ArrayAccess(SimpleName:theCookies)(SimpleName:i))))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:aCookie))(SimpleName:getName)))(SimpleName:equals)(METHOD_INVOCATION_ARGUMENTS(SimpleName:_REMEMBER_LOCALE)))(Block(IfStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:aCookie))(SimpleName:getValue))(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(ExpressionStatement(Assignment(SimpleName:locale)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:aCookie))(SimpleName:getValue)))))(BreakStatement)))))))))(VariableDeclarationStatement(ArrayType(SimpleType(SimpleName:String))(Dimension))(VariableDeclarationFragment(SimpleName:localeParams)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:locale))(SimpleName:split)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))))(IfStatement(InfixExpression(QualifiedName:localeParams.length)(INFIX_EXPRESSION_OPERATOR:>)(NumberLiteral:1))(ExpressionStatement(Assignment(SimpleName:currentLocale)(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(SimpleType(SimpleName:Locale))(ArrayAccess(SimpleName:localeParams)(NumberLiteral:0))(ArrayAccess(SimpleName:localeParams)(NumberLiteral:1)))))(ExpressionStatement(Assignment(SimpleName:currentLocale)(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(SimpleType(SimpleName:Locale))(ArrayAccess(SimpleName:localeParams)(NumberLiteral:0))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Config))(SimpleName:set)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:request))(SimpleName:getSession))(QualifiedName:Config.FMT_LOCALE)(SimpleName:currentLocale))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:request))(SimpleName:getSession)))(SimpleName:setAttribute)(METHOD_INVOCATION_ARGUMENTS(SimpleName:_CURRENT_LOCALE)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:currentLocale))(SimpleName:toString)))))(TryStatement(Block(VariableDeclarationStatement(ParameterizedType(SimpleType(SimpleName:List))(SimpleType(SimpleName:LabelBean)))(VariableDeclarationFragment(SimpleName:list)(ClassInstanceCreation(ParameterizedType(SimpleType(SimpleName:LinkedList))(SimpleType(SimpleName:LabelBean))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:list))(SimpleName:add)(METHOD_INVOCATION_ARGUMENTS(ClassInstanceCreation(SimpleType(SimpleName:LabelBean))(StringLiteral:<STR>)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(ThisExpression))(SimpleName:runCommand)(METHOD_INVOCATION_ARGUMENTS(SimpleName:request)(SimpleName:response)(StringLiteral:<STR>))))(SimpleName:toString))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:request))(SimpleName:setAttribute)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(MethodInvocation(METHOD_INVOCATION_RECEIVER(ThisExpression))(SimpleName:getChannel)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:list))(SimpleName:add)(METHOD_INVOCATION_ARGUMENTS(ClassInstanceCreation(SimpleType(SimpleName:LabelBean))(StringLiteral:<STR>)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(ThisExpression))(SimpleName:runCommand)(METHOD_INVOCATION_ARGUMENTS(SimpleName:request)(SimpleName:response)(StringLiteral:<STR>))))(SimpleName:toString))))))(VariableDeclarationStatement(ParameterizedType(SimpleType(SimpleName:List))(SimpleType(SimpleName:PortalTab)))(VariableDeclarationFragment(SimpleName:tabs)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(SimpleName:getPortalService)))(SimpleName:getPortalTabByOwner)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(ThisExpression))(SimpleName:getChannel))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:OrganizationThreadLocal))(SimpleName:getOrg))))))(VariableDeclarationStatement(SimpleType(SimpleName:PortalTab))(VariableDeclarationFragment(SimpleName:defaultTab)(NullLiteral)))(WhileStatement(InfixExpression(InfixExpression(SimpleName:tabs)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(INFIX_EXPRESSION_OPERATOR:&&)(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:tabs))(SimpleName:size))(INFIX_EXPRESSION_OPERATOR:>)(NumberLiteral:0)))(Block(ExpressionStatement(Assignment(SimpleName:defaultTab)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:tabs))(SimpleName:get)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:0)))))(ExpressionStatement(Assignment(SimpleName:tabs)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(ThisExpression))(SimpleName:getPortalService)))(SimpleName:getPortalTabByParent)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:defaultTab))(SimpleName:getId))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:list))(SimpleName:add)(METHOD_INVOCATION_ARGUMENTS(ClassInstanceCreation(SimpleType(SimpleName:LabelBean))(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:defaultTab))(SimpleName:getId))(StringLiteral:<STR>))(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:JSONUtil))(SimpleName:getPortalTabData)(METHOD_INVOCATION_ARGUMENTS(SimpleName:request)(SimpleName:tabs)(BooleanLiteral:true)(MethodInvocation(SimpleName:isAdmin)(METHOD_INVOCATION_ARGUMENTS(SimpleName:request)))(SimpleName:user)(NumberLiteral:0))))(SimpleName:toString))))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:request))(SimpleName:setAttribute)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:String))(SimpleName:valueOf)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:defaultTab))(SimpleName:getId)))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:list))(SimpleName:add)(METHOD_INVOCATION_ARGUMENTS(ClassInstanceCreation(SimpleType(SimpleName:LabelBean))(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:defaultTab))(SimpleName:getId))(StringLiteral:<STR>))(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(ThisExpression))(SimpleName:runCommand)(METHOD_INVOCATION_ARGUMENTS(SimpleName:request)(SimpleName:response)(StringLiteral:<STR>))))(SimpleName:toString))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:request))(SimpleName:setAttribute)(METHOD_INVOCATION_ARGUMENTS(SimpleName:_PORTAL_INIT_LIST)(SimpleName:list)))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:Exception))(SimpleName:e))(Block(ThrowStatement(ClassInstanceCreation(SimpleType(SimpleName:RuntimeException))(SimpleName:e))))))(ReturnStatement(SimpleName:SKIP_BODY))))))