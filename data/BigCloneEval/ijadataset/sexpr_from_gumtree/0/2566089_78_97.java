(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:public)(Modifier:static)(PrimitiveType:void)(SimpleName:setDate)(SingleVariableDeclaration(SimpleType(SimpleName:String))(SimpleName:path))(SingleVariableDeclaration(SimpleType(SimpleName:Date))(SimpleName:date))(SimpleType(SimpleName:ImageReadException))(SimpleType(SimpleName:IOException))(SimpleType(SimpleName:ClassCastException))(SimpleType(SimpleName:ImageWriteException))(Block(VariableDeclarationStatement(SimpleType(SimpleName:File))(VariableDeclarationFragment(SimpleName:source)(ClassInstanceCreation(SimpleType(SimpleName:File))(SimpleName:path))))(VariableDeclarationStatement(SimpleType(SimpleName:File))(VariableDeclarationFragment(SimpleName:temp)(NullLiteral)))(VariableDeclarationStatement(SimpleType(SimpleName:OutputStream))(VariableDeclarationFragment(SimpleName:os)(NullLiteral)))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:stringDate)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:formatter))(SimpleName:format)(METHOD_INVOCATION_ARGUMENTS(SimpleName:date)))))(VariableDeclarationStatement(SimpleType(SimpleName:TiffOutputSet))(VariableDeclarationFragment(SimpleName:propiertiesSet)(ClassInstanceCreation(SimpleType(SimpleName:TiffOutputSet)))))(VariableDeclarationStatement(SimpleType(SimpleName:TiffOutputDirectory))(VariableDeclarationFragment(SimpleName:exifDirectory)))(ExpressionStatement(Assignment(SimpleName:propiertiesSet)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(ParenthesizedExpression(CastExpression(SimpleType(SimpleName:JpegImageMetadata))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Sanselan))(SimpleName:getMetadata)(METHOD_INVOCATION_ARGUMENTS(SimpleName:source))))))(SimpleName:getExif)))(SimpleName:getOutputSet))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:propiertiesSet))(SimpleName:removeField)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:TiffConstants.EXIF_TAG_DATE_TIME_ORIGINAL))))(VariableDeclarationStatement(SimpleType(SimpleName:TiffOutputField))(VariableDeclarationFragment(SimpleName:newfieldDate)(ClassInstanceCreation(SimpleType(SimpleName:TiffOutputField))(QualifiedName:ExifTagConstants.EXIF_TAG_DATE_TIME_ORIGINAL)(QualifiedName:TiffFieldTypeConstants.FIELD_TYPE_ASCII)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:stringDate))(SimpleName:length))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:stringDate))(SimpleName:getBytes)))))(ExpressionStatement(Assignment(SimpleName:exifDirectory)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:propiertiesSet))(SimpleName:getOrCreateExifDirectory))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:exifDirectory))(SimpleName:add)(METHOD_INVOCATION_ARGUMENTS(SimpleName:newfieldDate))))(ExpressionStatement(Assignment(SimpleName:temp)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:File))(SimpleName:createTempFile)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:System))(SimpleName:currentTimeMillis)))(StringLiteral:<STR>)))))(ExpressionStatement(Assignment(SimpleName:os)(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(SimpleType(SimpleName:FileOutputStream))(SimpleName:temp))))(ExpressionStatement(Assignment(SimpleName:os)(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(SimpleType(SimpleName:BufferedOutputStream))(SimpleName:os))))(VariableDeclarationStatement(SimpleType(SimpleName:ExifRewriter))(VariableDeclarationFragment(SimpleName:rewrite)(ClassInstanceCreation(SimpleType(SimpleName:ExifRewriter)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:rewrite))(SimpleName:updateExifMetadataLossless)(METHOD_INVOCATION_ARGUMENTS(SimpleName:source)(SimpleName:os)(SimpleName:propiertiesSet))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:os))(SimpleName:close)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:FileUtils))(SimpleName:copyFile)(METHOD_INVOCATION_ARGUMENTS(SimpleName:temp)(SimpleName:source))))))))