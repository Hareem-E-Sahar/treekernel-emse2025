(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:public)(PrimitiveType:void)(SimpleName:connect)(SingleVariableDeclaration(SimpleType(SimpleName:String))(SimpleName:server))(SingleVariableDeclaration(SimpleType(SimpleName:String))(SimpleName:user))(SingleVariableDeclaration(SimpleType(SimpleName:String))(SimpleName:password))(SingleVariableDeclaration(PrimitiveType:boolean)(SimpleName:newUser))(SimpleType(SimpleName:JabberMessageException))(SimpleType(SimpleName:UnknownHostException))(SimpleType(SimpleName:ConnectionFailedException))(SimpleType(SimpleName:SendMessageFailedException))(SimpleType(SimpleName:ParseException))(Block(IfStatement(InfixExpression(FieldAccess(ThisExpression)(SimpleName:session))(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(Block(IfStatement(InfixExpression(InfixExpression(InfixExpression(SimpleName:server)(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(INFIX_EXPRESSION_OPERATOR:||)(InfixExpression(SimpleName:user)(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral)))(INFIX_EXPRESSION_OPERATOR:||)(InfixExpression(SimpleName:password)(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral)))(ThrowStatement(ClassInstanceCreation(SimpleType(SimpleName:NullPointerException)))))(IfStatement(SimpleName:newUser)(Block(VariableDeclarationStatement(SimpleType(SimpleName:Jabber))(VariableDeclarationFragment(SimpleName:jabber)(ClassInstanceCreation(SimpleType(SimpleName:Jabber)))))(VariableDeclarationStatement(SimpleType(SimpleName:JabberContext))(VariableDeclarationFragment(SimpleName:context)(ClassInstanceCreation(SimpleType(SimpleName:JabberContext))(NullLiteral)(NullLiteral)(SimpleName:server))))(ExpressionStatement(Assignment(FieldAccess(ThisExpression)(SimpleName:session))(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:jabber))(SimpleName:createSession)(METHOD_INVOCATION_ARGUMENTS(SimpleName:context)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(FieldAccess(ThisExpression)(SimpleName:session)))(SimpleName:connect)(METHOD_INVOCATION_ARGUMENTS(SimpleName:server)(NumberLiteral:5222))))(VariableDeclarationStatement(SimpleType(SimpleName:JabberUserService))(VariableDeclarationFragment(SimpleName:userService)(MethodInvocation(METHOD_INVOCATION_RECEIVER(FieldAccess(ThisExpression)(SimpleName:session)))(SimpleName:getUserService))))(VariableDeclarationStatement(SimpleType(SimpleName:HashMap))(VariableDeclarationFragment(SimpleName:fieldMap)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:userService))(SimpleName:getRegisterFields)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))))(VariableDeclarationStatement(SimpleType(SimpleName:Iterator))(VariableDeclarationFragment(SimpleName:iter)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fieldMap))(SimpleName:keySet)))(SimpleName:iterator))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fieldMap))(SimpleName:put)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(SimpleName:user))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fieldMap))(SimpleName:put)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(SimpleName:password))))(TryStatement(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:userService))(SimpleName:register)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(SimpleName:fieldMap)))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:JabberMessageException))(SimpleName:e))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:JOptionPane))(SimpleName:showMessageDialog)(METHOD_INVOCATION_ARGUMENTS(ThisExpression)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:e))(SimpleName:getErrorMessage))(StringLiteral:<STR>)(QualifiedName:JOptionPane.ERROR_MESSAGE))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(FieldAccess(ThisExpression)(SimpleName:session)))(SimpleName:disconnect)))(ExpressionStatement(Assignment(FieldAccess(ThisExpression)(SimpleName:session))(ASSIGNMENT_OPERATOR:=)(NullLiteral)))(ReturnStatement))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(FieldAccess(ThisExpression)(SimpleName:session)))(SimpleName:disconnect)))))(VariableDeclarationStatement(SimpleType(SimpleName:Jabber))(VariableDeclarationFragment(SimpleName:jabber)(ClassInstanceCreation(SimpleType(SimpleName:Jabber)))))(VariableDeclarationStatement(SimpleType(SimpleName:DefaultMessageParser))(VariableDeclarationFragment(SimpleName:parser)(ClassInstanceCreation(SimpleType(SimpleName:DefaultMessageParser)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:parser))(SimpleName:setParser)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(QualifiedName:JabberCode.XMLNS_CHAT)(StringLiteral:<STR>))))(VariableDeclarationStatement(SimpleType(SimpleName:JabberContext))(VariableDeclarationFragment(SimpleName:context)(ClassInstanceCreation(SimpleType(SimpleName:JabberContext))(SimpleName:user)(SimpleName:password)(SimpleName:server))))(ExpressionStatement(Assignment(FieldAccess(ThisExpression)(SimpleName:session))(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:jabber))(SimpleName:createSession)(METHOD_INVOCATION_ARGUMENTS(SimpleName:context)(SimpleName:parser)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(FieldAccess(ThisExpression)(SimpleName:session)))(SimpleName:connect)(METHOD_INVOCATION_ARGUMENTS(SimpleName:server)(NumberLiteral:5222))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(FieldAccess(ThisExpression)(SimpleName:session)))(SimpleName:getUserService)))(SimpleName:login)))(VariableDeclarationStatement(SimpleType(SimpleName:JabberPresenceMessage))(VariableDeclarationFragment(SimpleName:msg)(ClassInstanceCreation(SimpleType(SimpleName:JabberPresenceMessage))(QualifiedName:PresenceCode.TYPE_AVAILABLE))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:msg))(SimpleName:setPriority)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:msg))(SimpleName:setShowState)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:msg))(SimpleName:setStatus)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:str)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:msg))(SimpleName:encode))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(FieldAccess(ThisExpression)(SimpleName:session)))(SimpleName:getPresenceService)))(SimpleName:setToAvailable)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(NullLiteral))))(VariableDeclarationStatement(Modifier:final)(SimpleType(SimpleName:ConveyFrame))(VariableDeclarationFragment(SimpleName:thisConveyFrame)(ThisExpression)))(VariableDeclarationStatement(SimpleType(SimpleName:JabberMessageListener))(VariableDeclarationFragment(SimpleName:listener)(ClassInstanceCreation(SimpleType(SimpleName:JabberMessageListener))(AnonymousClassDeclaration(MethodDeclaration(Modifier:public)(PrimitiveType:void)(SimpleName:messageReceived)(SingleVariableDeclaration(SimpleType(SimpleName:JabberMessageEvent))(SimpleName:evt))(Block(IfStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:evt))(SimpleName:getMessageType))(INFIX_EXPRESSION_OPERATOR:==)(QualifiedName:JabberCode.MSG_CHAT))(Block(VariableDeclarationStatement(SimpleType(SimpleName:JabberConveyMessage))(VariableDeclarationFragment(SimpleName:msg)(CastExpression(SimpleType(SimpleName:JabberConveyMessage))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:evt))(SimpleName:getMessage)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:thisConveyFrame))(SimpleName:handleMessage)(METHOD_INVOCATION_ARGUMENTS(SimpleName:msg))))))))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(FieldAccess(ThisExpression)(SimpleName:session)))(SimpleName:addMessageListener)(METHOD_INVOCATION_ARGUMENTS(SimpleName:listener))))(ExpressionStatement(Assignment(FieldAccess(ThisExpression)(SimpleName:from))(ASSIGNMENT_OPERATOR:=)(InfixExpression(SimpleName:user)(INFIX_EXPRESSION_OPERATOR:+)(StringLiteral:<STR>)(SimpleName:server))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(ThisExpression))(SimpleName:setTitle)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(FieldAccess(ThisExpression)(SimpleName:disconnectAction)))(SimpleName:setEnabled)(METHOD_INVOCATION_ARGUMENTS(BooleanLiteral:true))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(FieldAccess(ThisExpression)(SimpleName:chatAction)))(SimpleName:setEnabled)(METHOD_INVOCATION_ARGUMENTS(BooleanLiteral:true))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(FieldAccess(ThisExpression)(SimpleName:connectAction)))(SimpleName:setEnabled)(METHOD_INVOCATION_ARGUMENTS(BooleanLiteral:false))))))))))