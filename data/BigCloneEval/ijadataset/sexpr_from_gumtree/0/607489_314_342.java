(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:public)(PrimitiveType:void)(SimpleName:write)(SingleVariableDeclaration(PrimitiveType:int)(SimpleName:b))(SimpleType(SimpleName:IOException))(Block(IfStatement(InfixExpression(InfixExpression(FieldAccess(ThisExpression(SimpleName:BlockBasedQueue))(SimpleName:bytes))(INFIX_EXPRESSION_OPERATOR:>)(NumberLiteral:0))(INFIX_EXPRESSION_OPERATOR:&&)(InfixExpression(SimpleName:writeBlock)(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral)))(ExpressionStatement(Assignment(SimpleName:writeBlock)(ASSIGNMENT_OPERATOR:=)(ConditionalExpression(ParenthesizedExpression(InfixExpression(InfixExpression(SimpleName:readBlock)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(INFIX_EXPRESSION_OPERATOR:&&)(MethodInvocation(METHOD_INVOCATION_RECEIVER(FieldAccess(ThisExpression(SimpleName:BlockBasedQueue))(SimpleName:writeBlockId)))(SimpleName:equals)(METHOD_INVOCATION_ARGUMENTS(FieldAccess(ThisExpression(SimpleName:BlockBasedQueue))(SimpleName:readBlockId))))))(SimpleName:readBlock)(CastExpression(SimpleType(SimpleName:Block))(MethodInvocation(METHOD_INVOCATION_RECEIVER(FieldAccess(ThisExpression(SimpleName:BlockBasedQueue))(SimpleName:container)))(SimpleName:get)(METHOD_INVOCATION_ARGUMENTS(FieldAccess(ThisExpression(SimpleName:BlockBasedQueue))(SimpleName:writeBlockId))(BooleanLiteral:false))))))))(IfStatement(InfixExpression(InfixExpression(SimpleName:writeBlock)(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(INFIX_EXPRESSION_OPERATOR:||)(InfixExpression(FieldAccess(ThisExpression(SimpleName:BlockBasedQueue))(SimpleName:writeBlockOffset))(INFIX_EXPRESSION_OPERATOR:==)(FieldAccess(ThisExpression(SimpleName:BlockBasedQueue))(SimpleName:blockSize))))(Block(VariableDeclarationStatement(SimpleType(SimpleName:Block))(VariableDeclarationFragment(SimpleName:newWriteBlock)(ClassInstanceCreation(SimpleType(SimpleName:Block))(ArrayCreation(ArrayType(PrimitiveType:byte)(Dimension(FieldAccess(ThisExpression(SimpleName:BlockBasedQueue))(SimpleName:blockSize)))))(NumberLiteral:0)(FieldAccess(ThisExpression(SimpleName:BlockBasedQueue))(SimpleName:blockSize)))))(VariableDeclarationStatement(SimpleType(SimpleName:Object))(VariableDeclarationFragment(SimpleName:newWriteBlockId)(MethodInvocation(METHOD_INVOCATION_RECEIVER(FieldAccess(ThisExpression(SimpleName:BlockBasedQueue))(SimpleName:container)))(SimpleName:insert)(METHOD_INVOCATION_ARGUMENTS(SimpleName:dummyBlock)(BooleanLiteral:false)))))(IfStatement(InfixExpression(SimpleName:writeBlock)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(VariableDeclarationStatement(ArrayType(PrimitiveType:byte)(Dimension))(VariableDeclarationFragment(SimpleName:byteArray)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Converters))(SimpleName:toByteArray)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(FieldAccess(ThisExpression(SimpleName:BlockBasedQueue))(SimpleName:container)))(SimpleName:objectIdConverter))(SimpleName:newWriteBlockId)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:System))(SimpleName:arraycopy)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:writeBlock.array)(InfixExpression(InfixExpression(QualifiedName:writeBlock.offset)(INFIX_EXPRESSION_OPERATOR:+)(FieldAccess(ThisExpression(SimpleName:BlockBasedQueue))(SimpleName:blockSize)))(INFIX_EXPRESSION_OPERATOR:-)(QualifiedName:byteArray.length))(QualifiedName:newWriteBlock.array)(QualifiedName:ShortConverter.SIZE)(QualifiedName:byteArray.length))))(IfStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(FieldAccess(ThisExpression(SimpleName:BlockBasedQueue))(SimpleName:writeBlockId)))(SimpleName:equals)(METHOD_INVOCATION_ARGUMENTS(FieldAccess(ThisExpression(SimpleName:BlockBasedQueue))(SimpleName:readBlockId))))(INFIX_EXPRESSION_OPERATOR:&&)(InfixExpression(FieldAccess(ThisExpression(SimpleName:BlockBasedQueue))(SimpleName:readBlockOffset))(INFIX_EXPRESSION_OPERATOR:>=)(InfixExpression(FieldAccess(ThisExpression(SimpleName:BlockBasedQueue))(SimpleName:blockSize))(INFIX_EXPRESSION_OPERATOR:-)(QualifiedName:byteArray.length))))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(FieldAccess(ThisExpression(SimpleName:BlockBasedQueue))(SimpleName:container)))(SimpleName:remove)(METHOD_INVOCATION_ARGUMENTS(FieldAccess(ThisExpression(SimpleName:BlockBasedQueue))(SimpleName:readBlockId)))))(ExpressionStatement(Assignment(FieldAccess(ThisExpression(SimpleName:BlockBasedQueue))(SimpleName:readBlockId))(ASSIGNMENT_OPERATOR:=)(SimpleName:newWriteBlockId)))(ExpressionStatement(Assignment(FieldAccess(ThisExpression(SimpleName:BlockBasedQueue))(SimpleName:readBlockOffset))(ASSIGNMENT_OPERATOR:-=)(InfixExpression(FieldAccess(ThisExpression(SimpleName:BlockBasedQueue))(SimpleName:blockSize))(INFIX_EXPRESSION_OPERATOR:-)(QualifiedName:byteArray.length)(QualifiedName:ShortConverter.SIZE))))(ExpressionStatement(Assignment(SimpleName:readBlock)(ASSIGNMENT_OPERATOR:=)(SimpleName:newWriteBlock))))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:writeBlock))(SimpleName:dataOutputStream)))(SimpleName:writeShort)(METHOD_INVOCATION_ARGUMENTS(CastExpression(PrimitiveType:short)(QualifiedName:byteArray.length)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:System))(SimpleName:arraycopy)(METHOD_INVOCATION_ARGUMENTS(SimpleName:byteArray)(NumberLiteral:0)(QualifiedName:writeBlock.array)(InfixExpression(InfixExpression(QualifiedName:writeBlock.offset)(INFIX_EXPRESSION_OPERATOR:+)(FieldAccess(ThisExpression(SimpleName:BlockBasedQueue))(SimpleName:blockSize)))(INFIX_EXPRESSION_OPERATOR:-)(QualifiedName:byteArray.length))(QualifiedName:byteArray.length))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(FieldAccess(ThisExpression(SimpleName:BlockBasedQueue))(SimpleName:container)))(SimpleName:update)(METHOD_INVOCATION_ARGUMENTS(FieldAccess(ThisExpression(SimpleName:BlockBasedQueue))(SimpleName:writeBlockId))(SimpleName:writeBlock))))))(ExpressionStatement(Assignment(FieldAccess(ThisExpression(SimpleName:BlockBasedQueue))(SimpleName:writeBlockOffset))(ASSIGNMENT_OPERATOR:=)(InfixExpression(QualifiedName:ShortConverter.SIZE)(INFIX_EXPRESSION_OPERATOR:+)(QualifiedName:byteArray.length)))))(Block(ExpressionStatement(Assignment(FieldAccess(ThisExpression(SimpleName:BlockBasedQueue))(SimpleName:readBlockId))(ASSIGNMENT_OPERATOR:=)(SimpleName:newWriteBlockId)))(ExpressionStatement(Assignment(FieldAccess(ThisExpression(SimpleName:BlockBasedQueue))(SimpleName:writeBlockOffset))(ASSIGNMENT_OPERATOR:=)(QualifiedName:ShortConverter.SIZE)))))(ExpressionStatement(Assignment(FieldAccess(ThisExpression(SimpleName:BlockBasedQueue))(SimpleName:writeBlockId))(ASSIGNMENT_OPERATOR:=)(SimpleName:newWriteBlockId)))(ExpressionStatement(Assignment(SimpleName:writeBlock)(ASSIGNMENT_OPERATOR:=)(SimpleName:newWriteBlock)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:writeBlock))(SimpleName:set)(METHOD_INVOCATION_ARGUMENTS(PostfixExpression(FieldAccess(ThisExpression(SimpleName:BlockBasedQueue))(SimpleName:writeBlockOffset))(POSTFIX_EXPRESSION_OPERATOR:++))(CastExpression(PrimitiveType:byte)(SimpleName:b)))))(ExpressionStatement(PostfixExpression(FieldAccess(ThisExpression(SimpleName:BlockBasedQueue))(SimpleName:bytes))(POSTFIX_EXPRESSION_OPERATOR:++)))))))