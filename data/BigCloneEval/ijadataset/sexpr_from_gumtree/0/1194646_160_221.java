(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:public)(PrimitiveType:void)(SimpleName:compressImage)(SingleVariableDeclaration(SimpleType(SimpleName:InputStream))(SimpleName:input))(SingleVariableDeclaration(SimpleType(SimpleName:OutputStream))(SimpleName:output))(SingleVariableDeclaration(SimpleType(SimpleName:DjatokaEncodeParam))(SimpleName:params))(SimpleType(SimpleName:DjatokaException))(Block(IfStatement(InfixExpression(SimpleName:params)(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(ExpressionStatement(Assignment(SimpleName:params)(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(SimpleType(SimpleName:DjatokaEncodeParam))))))(VariableDeclarationStatement(SimpleType(SimpleName:File))(VariableDeclarationFragment(SimpleName:inputFile)(NullLiteral)))(TryStatement(Block(ExpressionStatement(Assignment(SimpleName:inputFile)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:File))(SimpleName:createTempFile)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(StringLiteral:<STR>)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:IOUtils))(SimpleName:copyStream)(METHOD_INVOCATION_ARGUMENTS(SimpleName:input)(ClassInstanceCreation(SimpleType(SimpleName:FileOutputStream))(SimpleName:inputFile)))))(IfStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:params))(SimpleName:getLevels))(INFIX_EXPRESSION_OPERATOR:==)(NumberLiteral:0))(Block(VariableDeclarationStatement(SimpleType(SimpleName:ImageRecord))(VariableDeclarationFragment(SimpleName:dim)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ImageRecordUtils))(SimpleName:getImageDimensions)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:inputFile))(SimpleName:getAbsolutePath))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:params))(SimpleName:setLevels)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ImageProcessingUtils))(SimpleName:getLevelCount)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:dim))(SimpleName:getWidth))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:dim))(SimpleName:getHeight)))))))(ExpressionStatement(Assignment(SimpleName:dim)(ASSIGNMENT_OPERATOR:=)(NullLiteral))))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:IOException))(SimpleName:e1))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:logger))(SimpleName:error)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(SimpleName:e1))))(ThrowStatement(ClassInstanceCreation(SimpleType(SimpleName:DjatokaException))(StringLiteral:<STR>))))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:out)(SimpleName:STDOUT)))(VariableDeclarationStatement(SimpleType(SimpleName:File))(VariableDeclarationFragment(SimpleName:winOut)(NullLiteral)))(IfStatement(SimpleName:isWindows)(Block(TryStatement(Block(ExpressionStatement(Assignment(SimpleName:winOut)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:File))(SimpleName:createTempFile)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(StringLiteral:<STR>))))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:IOException))(SimpleName:e))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:logger))(SimpleName:error)(METHOD_INVOCATION_ARGUMENTS(SimpleName:e)(SimpleName:e))))(ThrowStatement(ClassInstanceCreation(SimpleType(SimpleName:DjatokaException))(SimpleName:e))))))(ExpressionStatement(Assignment(SimpleName:out)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:winOut))(SimpleName:getAbsolutePath))))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:command)(MethodInvocation(SimpleName:getKduCompressCommand)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:inputFile))(SimpleName:getAbsolutePath))(SimpleName:out)(SimpleName:params)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:logger))(SimpleName:debug)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:command)))))(VariableDeclarationStatement(SimpleType(SimpleName:Runtime))(VariableDeclarationFragment(SimpleName:rt)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Runtime))(SimpleName:getRuntime))))(TryStatement(Block(VariableDeclarationStatement(Modifier:final)(SimpleType(SimpleName:Process))(VariableDeclarationFragment(SimpleName:process)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:rt))(SimpleName:exec)(METHOD_INVOCATION_ARGUMENTS(SimpleName:command)(SimpleName:envParams)(ClassInstanceCreation(SimpleType(SimpleName:File))(SimpleName:env))))))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:out))(SimpleName:equals)(METHOD_INVOCATION_ARGUMENTS(SimpleName:STDOUT)))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:IOUtils))(SimpleName:copyStream)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:process))(SimpleName:getInputStream))(SimpleName:output)))))(IfStatement(SimpleName:isWindows)(Block(VariableDeclarationStatement(SimpleType(SimpleName:FileInputStream))(VariableDeclarationFragment(SimpleName:fis)(ClassInstanceCreation(SimpleType(SimpleName:FileInputStream))(SimpleName:out))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:IOUtils))(SimpleName:copyStream)(METHOD_INVOCATION_ARGUMENTS(SimpleName:fis)(SimpleName:output))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fis))(SimpleName:close))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:process))(SimpleName:waitFor)))(IfStatement(InfixExpression(SimpleName:process)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:errorCheck)(NullLiteral)))(TryStatement(Block(ExpressionStatement(Assignment(SimpleName:errorCheck)(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(SimpleType(SimpleName:String))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:IOUtils))(SimpleName:getByteArray)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:process))(SimpleName:getErrorStream))))))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:Exception))(SimpleName:e1))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:logger))(SimpleName:error)(METHOD_INVOCATION_ARGUMENTS(SimpleName:e1)(SimpleName:e1)))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:process))(SimpleName:getInputStream)))(SimpleName:close)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:process))(SimpleName:getOutputStream)))(SimpleName:close)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:process))(SimpleName:getErrorStream)))(SimpleName:close)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:process))(SimpleName:destroy)))(IfStatement(InfixExpression(SimpleName:errorCheck)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(ThrowStatement(ClassInstanceCreation(SimpleType(SimpleName:DjatokaException))(SimpleName:errorCheck)))))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:IOException))(SimpleName:e))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:logger))(SimpleName:error)(METHOD_INVOCATION_ARGUMENTS(SimpleName:e)(SimpleName:e))))(ThrowStatement(ClassInstanceCreation(SimpleType(SimpleName:DjatokaException))(SimpleName:e)))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:InterruptedException))(SimpleName:e))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:logger))(SimpleName:error)(METHOD_INVOCATION_ARGUMENTS(SimpleName:e)(SimpleName:e))))(ThrowStatement(ClassInstanceCreation(SimpleType(SimpleName:DjatokaException))(SimpleName:e))))))(IfStatement(InfixExpression(SimpleName:inputFile)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:inputFile))(SimpleName:delete))))(IfStatement(InfixExpression(SimpleName:winOut)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:winOut))(SimpleName:delete))))))))