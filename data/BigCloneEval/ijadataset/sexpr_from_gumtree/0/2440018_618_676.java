(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:private)(ParameterizedType(SimpleType(SimpleName:Map))(SimpleType(SimpleName:BlockAddress))(SimpleType(SimpleName:DataBlock)))(SimpleName:readData)(SingleVariableDeclaration(SimpleType(SimpleName:PublicKey))(SimpleName:pkey))(SingleVariableDeclaration(ArrayType(SimpleType(SimpleName:BlockAddress))(Dimension))(SimpleName:addrs))(Block(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:key_prefix)(InfixExpression(SimpleName:root_dir)(INFIX_EXPRESSION_OPERATOR:+)(StringLiteral:<STR>)(MethodInvocation(SimpleName:printPkey)(METHOD_INVOCATION_ARGUMENTS(SimpleName:pkey))))))(VariableDeclarationStatement(ParameterizedType(SimpleType(SimpleName:Map))(SimpleType(SimpleName:Long))(ParameterizedType(SimpleType(SimpleName:SortedSet))(SimpleType(SimpleName:BlockAddress))))(VariableDeclarationFragment(SimpleName:map)(ClassInstanceCreation(ParameterizedType(SimpleType(SimpleName:LinkedHashMap))(SimpleType(SimpleName:Long))(ParameterizedType(SimpleType(SimpleName:SortedSet))(SimpleType(SimpleName:BlockAddress)))))))(VariableDeclarationStatement(ParameterizedType(SimpleType(SimpleName:Map))(SimpleType(SimpleName:BlockAddress))(SimpleType(SimpleName:DataBlock)))(VariableDeclarationFragment(SimpleName:map2)(ClassInstanceCreation(ParameterizedType(SimpleType(SimpleName:LinkedHashMap))(SimpleType(SimpleName:BlockAddress))(SimpleType(SimpleName:DataBlock))))))(EnhancedForStatement(SingleVariableDeclaration(SimpleType(SimpleName:BlockAddress))(SimpleName:addr))(SimpleName:addrs)(Block(VariableDeclarationStatement(ParameterizedType(SimpleType(SimpleName:SortedSet))(SimpleType(SimpleName:BlockAddress)))(VariableDeclarationFragment(SimpleName:set)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:map))(SimpleName:get)(METHOD_INVOCATION_ARGUMENTS(CastExpression(PrimitiveType:long)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:addr))(SimpleName:getSeqNum)))))))(IfStatement(InfixExpression(SimpleName:set)(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(Block(ExpressionStatement(Assignment(SimpleName:set)(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(ParameterizedType(SimpleType(SimpleName:TreeSet))(SimpleType(SimpleName:BlockAddress))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:map))(SimpleName:put)(METHOD_INVOCATION_ARGUMENTS(CastExpression(PrimitiveType:long)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:addr))(SimpleName:getSeqNum)))(SimpleName:set))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:set))(SimpleName:add)(METHOD_INVOCATION_ARGUMENTS(SimpleName:addr))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:map2))(SimpleName:put)(METHOD_INVOCATION_ARGUMENTS(SimpleName:addr)(CastExpression(SimpleType(SimpleName:DataBlock))(NullLiteral)))))))(EnhancedForStatement(SingleVariableDeclaration(ParameterizedType(SimpleType(QualifiedName:Map.Entry))(SimpleType(SimpleName:Long))(ParameterizedType(SimpleType(SimpleName:SortedSet))(SimpleType(SimpleName:BlockAddress))))(SimpleName:entry))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:map))(SimpleName:entrySet))(Block(VariableDeclarationStatement(SimpleType(SimpleName:Long))(VariableDeclarationFragment(SimpleName:seq_num)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:entry))(SimpleName:getKey))))(VariableDeclarationStatement(ParameterizedType(SimpleType(SimpleName:SortedSet))(SimpleType(SimpleName:BlockAddress)))(VariableDeclarationFragment(SimpleName:set)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:entry))(SimpleName:getValue))))(VariableDeclarationStatement(ArrayType(SimpleType(SimpleName:BlockAddress))(Dimension))(VariableDeclarationFragment(SimpleName:addrs2)(ArrayCreation(ArrayType(SimpleType(SimpleName:BlockAddress))(Dimension(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:set))(SimpleName:size)))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:set))(SimpleName:toArray)(METHOD_INVOCATION_ARGUMENTS(SimpleName:addrs2))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:key)(InfixExpression(SimpleName:key_prefix)(INFIX_EXPRESSION_OPERATOR:+)(StringLiteral:<STR>)(SimpleName:seq_num)(StringLiteral:<STR>))))(VariableDeclarationStatement(SimpleType(SimpleName:FileChannel))(VariableDeclarationFragment(SimpleName:fchannel)(NullLiteral)))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:open_writeable_files))(SimpleName:containsKey)(METHOD_INVOCATION_ARGUMENTS(SimpleName:key)))(Block(ExpressionStatement(Assignment(SimpleName:fchannel)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:open_writeable_files))(SimpleName:get)(METHOD_INVOCATION_ARGUMENTS(SimpleName:key))))))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:open_readonly_files))(SimpleName:containsKey)(METHOD_INVOCATION_ARGUMENTS(SimpleName:key)))(Block(ExpressionStatement(Assignment(SimpleName:fchannel)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:open_readonly_files))(SimpleName:get)(METHOD_INVOCATION_ARGUMENTS(SimpleName:key))))))(Block(VariableDeclarationStatement(SimpleType(SimpleName:File))(VariableDeclarationFragment(SimpleName:f)(ClassInstanceCreation(SimpleType(SimpleName:File))(SimpleName:key))))(AssertStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:f))(SimpleName:exists))(InfixExpression(SimpleName:key)(INFIX_EXPRESSION_OPERATOR:+)(StringLiteral:<STR>)))(VariableDeclarationStatement(SimpleType(SimpleName:RandomAccessFile))(VariableDeclarationFragment(SimpleName:file)(NullLiteral)))(TryStatement(Block(ExpressionStatement(Assignment(SimpleName:file)(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(SimpleType(SimpleName:RandomAccessFile))(SimpleName:f)(StringLiteral:<STR>)))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:IOException))(SimpleName:e))(Block(ExpressionStatement(MethodInvocation(SimpleName:BUG)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:e))))))))(ExpressionStatement(Assignment(SimpleName:fchannel)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:file))(SimpleName:getChannel))))(VariableDeclarationStatement(SimpleType(SimpleName:Pair))(VariableDeclarationFragment(SimpleName:victim)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:open_readonly_files))(SimpleName:put)(METHOD_INVOCATION_ARGUMENTS(SimpleName:key)(SimpleName:fchannel)))))(IfStatement(InfixExpression(SimpleName:victim)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:victim_key)(CastExpression(SimpleType(SimpleName:String))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:victim))(SimpleName:first)))))(VariableDeclarationStatement(SimpleType(SimpleName:FileChannel))(VariableDeclarationFragment(SimpleName:victim_channel)(CastExpression(SimpleType(SimpleName:FileChannel))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:victim))(SimpleName:second)))))(AssertStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:victim_channel))(SimpleName:isOpen)))(TryStatement(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:victim_channel))(SimpleName:close))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:IOException))(SimpleName:e))(Block(ExpressionStatement(MethodInvocation(SimpleName:BUG)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:victim_key)(StringLiteral:<STR>)(SimpleName:victim_channel)))))))))))))(VariableDeclarationStatement(ParameterizedType(SimpleType(SimpleName:Map))(SimpleType(SimpleName:BlockAddress))(SimpleType(SimpleName:DataBlockImpl)))(VariableDeclarationFragment(SimpleName:blocks)(MethodInvocation(SimpleName:readFile)(METHOD_INVOCATION_ARGUMENTS(SimpleName:fchannel)(SimpleName:addrs2)(TypeLiteral(SimpleType(SimpleName:DataBlockImpl)))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:map2))(SimpleName:putAll)(METHOD_INVOCATION_ARGUMENTS(SimpleName:blocks))))(IfStatement(InfixExpression(SimpleName:_compute_block_hash)(INFIX_EXPRESSION_OPERATOR:&&)(SimpleName:_verify_block_hash))(Block(EnhancedForStatement(SingleVariableDeclaration(ParameterizedType(SimpleType(QualifiedName:Map.Entry))(SimpleType(SimpleName:BlockAddress))(SimpleType(SimpleName:DataBlockImpl)))(SimpleName:entry2))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:blocks))(SimpleName:entrySet))(Block(VariableDeclarationStatement(SimpleType(SimpleName:BlockAddress))(VariableDeclarationFragment(SimpleName:addr)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:entry2))(SimpleName:getKey))))(VariableDeclarationStatement(SimpleType(SimpleName:DataBlock))(VariableDeclarationFragment(SimpleName:block)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:entry2))(SimpleName:getValue))))(VariableDeclarationStatement(SimpleType(SimpleName:BigInteger))(VariableDeclarationFragment(SimpleName:hash)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:LogUtils))(SimpleName:computeBlockName)(METHOD_INVOCATION_ARGUMENTS(SimpleName:block)))))(AssertStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:hash))(SimpleName:equals)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:addr))(SimpleName:getBlockName))))(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(MethodInvocation(SimpleName:guidToString)(METHOD_INVOCATION_ARGUMENTS(SimpleName:hash)))(StringLiteral:<STR>)(MethodInvocation(SimpleName:guidToString)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:addr))(SimpleName:getBlockName))))(StringLiteral:<STR>)(SimpleName:addr)(StringLiteral:<STR>)(SimpleName:block)))))))))(ReturnStatement(SimpleName:map2))))))