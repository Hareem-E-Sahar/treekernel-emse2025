(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(MarkerAnnotation(SimpleName:Override))(Modifier:public)(SimpleType(SimpleName:String))(SimpleName:sendMessageToMetafora)(SingleVariableDeclaration(SimpleType(SimpleName:String))(SimpleName:messageBody))(SingleVariableDeclaration(SimpleType(SimpleName:String))(SimpleName:recipients))(Block(IfStatement(InfixExpression(SimpleName:recipients)(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(Block(ReturnStatement(StringLiteral:<STR>))))(VariableDeclarationStatement(ArrayType(SimpleType(SimpleName:String))(Dimension))(VariableDeclarationFragment(SimpleName:recipientsArray)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:recipients))(SimpleName:split)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))))(VariableDeclarationStatement(ArrayType(SimpleType(SimpleName:JID))(Dimension))(VariableDeclarationFragment(SimpleName:jids)(ArrayCreation(ArrayType(SimpleType(SimpleName:JID))(Dimension(QualifiedName:recipientsArray.length))))))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:index)(NumberLiteral:0)))(EnhancedForStatement(SingleVariableDeclaration(SimpleType(SimpleName:String))(SimpleName:recipient))(SimpleName:recipientsArray)(Block(ExpressionStatement(Assignment(ArrayAccess(SimpleName:jids)(SimpleName:index))(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(SimpleType(SimpleName:JID))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:recipient))(SimpleName:trim)))))(ExpressionStatement(PostfixExpression(SimpleName:index)(POSTFIX_EXPRESSION_OPERATOR:++)))))(VariableDeclarationStatement(SimpleType(SimpleName:Message))(VariableDeclarationFragment(SimpleName:message)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(ClassInstanceCreation(SimpleType(SimpleName:MessageBuilder))))(SimpleName:withRecipientJids)(METHOD_INVOCATION_ARGUMENTS(SimpleName:jids))))(SimpleName:withBody)(METHOD_INVOCATION_ARGUMENTS(SimpleName:messageBody))))(SimpleName:withFromJid)(METHOD_INVOCATION_ARGUMENTS(SimpleName:fromJID))))(SimpleName:build))))(VariableDeclarationStatement(SimpleType(SimpleName:SendResponse))(VariableDeclarationFragment(SimpleName:response)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:metaforaXMPP))(SimpleName:sendMessage)(METHOD_INVOCATION_ARGUMENTS(SimpleName:message)))))(VariableDeclarationStatement(SimpleType(SimpleName:Status))(VariableDeclarationFragment(SimpleName:statusCode)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:response))(SimpleName:getStatusMap)))(SimpleName:get)(METHOD_INVOCATION_ARGUMENTS(ArrayAccess(SimpleName:jids)(NumberLiteral:0))))))(VariableDeclarationStatement(PrimitiveType:boolean)(VariableDeclarationFragment(SimpleName:messageSent)(ParenthesizedExpression(InfixExpression(SimpleName:statusCode)(INFIX_EXPRESSION_OPERATOR:==)(QualifiedName:SendResponse.Status.SUCCESS)))))(IfStatement(SimpleName:messageSent)(Block(ReturnStatement(NullLiteral)))(Block(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:error)(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:statusCode))(SimpleName:toString))(StringLiteral:<STR>)(SimpleName:messageBody))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ServerUtils))(SimpleName:severe)(METHOD_INVOCATION_ARGUMENTS(SimpleName:error))))(ReturnStatement(SimpleName:error))))))))