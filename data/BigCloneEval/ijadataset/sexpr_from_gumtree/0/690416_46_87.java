(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(MarkerAnnotation(SimpleName:Override))(Modifier:public)(PrimitiveType:void)(SimpleName:messageReceived)(SingleVariableDeclaration(SimpleType(SimpleName:ChannelHandlerContext))(SimpleName:ctx))(SingleVariableDeclaration(Modifier:final)(SimpleType(SimpleName:MessageEvent))(SimpleName:e))(SimpleType(SimpleName:Exception))(Block(ExpressionStatement(Assignment(SimpleName:localChannel)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:e))(SimpleName:getChannel))))(IfStatement(InfixExpression(NullLiteral)(INFIX_EXPRESSION_OPERATOR:==)(SimpleName:eventService))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:e))(SimpleName:getChannel)))(SimpleName:write)(METHOD_INVOCATION_ARGUMENTS(ClassInstanceCreation(SimpleType(SimpleName:DefaultHttpResponse))(QualifiedName:HttpVersion.HTTP_1_1)(QualifiedName:HttpResponseStatus.NOT_IMPLEMENTED)))))(SimpleName:addListener)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:ChannelFutureListener.CLOSE))))(ReturnStatement)))(IfStatement(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(SimpleName:isReadingChunks))(Block(IfStatement(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(SimpleName:ishttps))(Block(IfStatement(InstanceofExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:e))(SimpleName:getMessage))(SimpleType(SimpleName:HttpRequest)))(Block(VariableDeclarationStatement(SimpleType(SimpleName:HttpRequest))(VariableDeclarationFragment(SimpleName:request)(CastExpression(SimpleType(SimpleName:HttpRequest))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:e))(SimpleName:getMessage)))))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:request))(SimpleName:getMethod)))(SimpleName:equals)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:HttpMethod.CONNECT)))(Block(ExpressionStatement(Assignment(SimpleName:ishttps)(ASSIGNMENT_OPERATOR:=)(BooleanLiteral:true)))))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:request))(SimpleName:isChunked))(Block(ExpressionStatement(Assignment(SimpleName:isReadingChunks)(ASSIGNMENT_OPERATOR:=)(BooleanLiteral:true)))))(VariableDeclarationStatement(SimpleType(SimpleName:HttpProxyEventType))(VariableDeclarationFragment(SimpleName:type)(ConditionalExpression(SimpleName:ishttps)(QualifiedName:HttpProxyEventType.RECV_HTTPS_REQUEST)(QualifiedName:HttpProxyEventType.RECV_HTTP_REQUEST))))(VariableDeclarationStatement(SimpleType(SimpleName:HttpProxyEvent))(VariableDeclarationFragment(SimpleName:event)(ClassInstanceCreation(SimpleType(SimpleName:HttpProxyEvent))(SimpleName:type)(SimpleName:request)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:e))(SimpleName:getChannel)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:eventService))(SimpleName:handleEvent)(METHOD_INVOCATION_ARGUMENTS(SimpleName:event)(ThisExpression)))))(Block(VariableDeclarationStatement(SimpleType(SimpleName:HttpProxyEvent))(VariableDeclarationFragment(SimpleName:event)(ClassInstanceCreation(SimpleType(SimpleName:HttpProxyEvent))(QualifiedName:HttpProxyEventType.RECV_HTTP_CHUNK)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:e))(SimpleName:getMessage))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:e))(SimpleName:getChannel)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:eventService))(SimpleName:handleEvent)(METHOD_INVOCATION_ARGUMENTS(SimpleName:event)(ThisExpression)))))))(Block(IfStatement(InstanceofExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:e))(SimpleName:getMessage))(SimpleType(SimpleName:HttpRequest)))(Block(VariableDeclarationStatement(SimpleType(SimpleName:HttpProxyEvent))(VariableDeclarationFragment(SimpleName:event)(ClassInstanceCreation(SimpleType(SimpleName:HttpProxyEvent))(QualifiedName:HttpProxyEventType.RECV_HTTPS_REQUEST)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:e))(SimpleName:getMessage))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:e))(SimpleName:getChannel)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:eventService))(SimpleName:handleEvent)(METHOD_INVOCATION_ARGUMENTS(SimpleName:event)(ThisExpression)))))(Block(VariableDeclarationStatement(SimpleType(SimpleName:HttpProxyEvent))(VariableDeclarationFragment(SimpleName:event)(ClassInstanceCreation(SimpleType(SimpleName:HttpProxyEvent))(QualifiedName:HttpProxyEventType.RECV_HTTPS_CHUNK)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:e))(SimpleName:getMessage))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:e))(SimpleName:getChannel)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:eventService))(SimpleName:handleEvent)(METHOD_INVOCATION_ARGUMENTS(SimpleName:event)(ThisExpression)))))))))(Block(VariableDeclarationStatement(SimpleType(SimpleName:HttpChunk))(VariableDeclarationFragment(SimpleName:chunk)(CastExpression(SimpleType(SimpleName:HttpChunk))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:e))(SimpleName:getMessage)))))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:chunk))(SimpleName:isLast))(Block(ExpressionStatement(Assignment(SimpleName:isReadingChunks)(ASSIGNMENT_OPERATOR:=)(BooleanLiteral:false)))))(VariableDeclarationStatement(SimpleType(SimpleName:HttpProxyEvent))(VariableDeclarationFragment(SimpleName:event)(ClassInstanceCreation(SimpleType(SimpleName:HttpProxyEvent))(QualifiedName:HttpProxyEventType.RECV_HTTP_CHUNK)(SimpleName:chunk)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:e))(SimpleName:getChannel)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:eventService))(SimpleName:handleEvent)(METHOD_INVOCATION_ARGUMENTS(SimpleName:event)(ThisExpression))))))))))