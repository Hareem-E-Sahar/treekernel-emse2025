(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:public)(PrimitiveType:void)(SimpleName:doTestJabber)(SimpleType(SimpleName:Exception))(Block(VariableDeclarationStatement(ArrayType(SimpleType(SimpleName:String))(Dimension))(VariableDeclarationFragment(SimpleName:icqAccountsStrings)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:TEST_PROPERTIES))(SimpleName:getProperty)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))(SimpleName:split)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))))(ExpressionStatement(Assignment(SimpleName:ICQ_ACCOUNTS)(ASSIGNMENT_OPERATOR:=)(ArrayCreation(ArrayType(SimpleType(SimpleName:String))(Dimension(QualifiedName:icqAccountsStrings.length))(Dimension)))))(ForStatement(VariableDeclarationExpression(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:i)(NumberLiteral:0)))(InfixExpression(SimpleName:i)(INFIX_EXPRESSION_OPERATOR:<)(QualifiedName:icqAccountsStrings.length))(PostfixExpression(SimpleName:i)(POSTFIX_EXPRESSION_OPERATOR:++))(Block(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:icqAccountsString)(ArrayAccess(SimpleName:icqAccountsStrings)(SimpleName:i))))(VariableDeclarationStatement(ArrayType(SimpleType(SimpleName:String))(Dimension))(VariableDeclarationFragment(SimpleName:icqAccountStrings)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:icqAccountsString))(SimpleName:split)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(NumberLiteral:2)))))(ExpressionStatement(Assignment(ArrayAccess(SimpleName:ICQ_ACCOUNTS)(SimpleName:i))(ASSIGNMENT_OPERATOR:=)(SimpleName:icqAccountStrings)))))(VariableDeclarationStatement(SimpleType(SimpleName:ConnectionConfiguration))(VariableDeclarationFragment(SimpleName:config)(ClassInstanceCreation(SimpleType(SimpleName:ConnectionConfiguration))(SimpleName:JABBER_SERVER)(SimpleName:JABBER_PORT)(SimpleName:JABBER_SERVICE))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:config))(SimpleName:setSASLAuthenticationEnabled)(METHOD_INVOCATION_ARGUMENTS(SimpleName:JABBER_SASL_AUTHENTICATION_ENABLED))))(ExpressionStatement(Assignment(SimpleName:conn)(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(SimpleType(SimpleName:XMPPConnection))(SimpleName:config))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:conn))(SimpleName:connect)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:conn))(SimpleName:addPacketListener)(METHOD_INVOCATION_ARGUMENTS(ClassInstanceCreation(SimpleType(SimpleName:PacketListener))(AnonymousClassDeclaration(MethodDeclaration(Modifier:public)(PrimitiveType:void)(SimpleName:processPacket)(SingleVariableDeclaration(SimpleType(SimpleName:Packet))(SimpleName:packet))(Block(IfStatement(InstanceofExpression(SimpleName:packet)(SimpleType(SimpleName:Presence)))(Block(ExpressionStatement(Assignment(SimpleName:presenceExists)(ASSIGNMENT_OPERATOR:=)(BooleanLiteral:true)))(VariableDeclarationStatement(SimpleType(SimpleName:Presence))(VariableDeclarationFragment(SimpleName:presence)(CastExpression(SimpleType(SimpleName:Presence))(SimpleName:packet))))(IfStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:presence))(SimpleName:getType))(INFIX_EXPRESSION_OPERATOR:==)(QualifiedName:Presence.Type.subscribe))(Block(VariableDeclarationStatement(SimpleType(SimpleName:Presence))(VariableDeclarationFragment(SimpleName:response)(ClassInstanceCreation(SimpleType(SimpleName:Presence))(QualifiedName:Presence.Type.subscribed))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:response))(SimpleName:setTo)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:presence))(SimpleName:getFrom)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:conn))(SimpleName:sendPacket)(METHOD_INVOCATION_ARGUMENTS(SimpleName:response))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:log))(SimpleName:info)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:presence))(SimpleName:getFrom))))))(IfStatement(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:presence))(SimpleName:getFrom)))(SimpleName:endsWith)(METHOD_INVOCATION_ARGUMENTS(SimpleName:gatewayJid))))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:log))(SimpleName:warn)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:presence))(SimpleName:getFrom)))))))))(IfStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:presence))(SimpleName:getType))(INFIX_EXPRESSION_OPERATOR:==)(QualifiedName:Presence.Type.unsubscribe))(Block(VariableDeclarationStatement(SimpleType(SimpleName:Presence))(VariableDeclarationFragment(SimpleName:response)(ClassInstanceCreation(SimpleType(SimpleName:Presence))(QualifiedName:Presence.Type.unsubscribed))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:response))(SimpleName:setFrom)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:conn))(SimpleName:getUser)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:response))(SimpleName:setTo)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:presence))(SimpleName:getFrom)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:conn))(SimpleName:sendPacket)(METHOD_INVOCATION_ARGUMENTS(SimpleName:response))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:log))(SimpleName:info)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:presence))(SimpleName:getFrom)))))))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:log))(SimpleName:trace)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:presence))(SimpleName:getFrom))(StringLiteral:<STR>)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:presence))(SimpleName:toXML))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:presenceData))(SimpleName:put)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:presence))(SimpleName:getFrom)))(SimpleName:replaceAll)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(StringLiteral:<STR>)))(SimpleName:presence)))))))))))))(NullLiteral))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:conn))(SimpleName:addPacketWriterListener)(METHOD_INVOCATION_ARGUMENTS(ClassInstanceCreation(SimpleType(SimpleName:PacketListener))(AnonymousClassDeclaration(MethodDeclaration(Modifier:public)(PrimitiveType:void)(SimpleName:processPacket)(SingleVariableDeclaration(SimpleType(SimpleName:Packet))(SimpleName:packet))(Block))))(NullLiteral))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:conn))(SimpleName:login)(METHOD_INVOCATION_ARGUMENTS(SimpleName:JABBER_LOGIN)(SimpleName:JABBER_PASSWORD)(SimpleName:JABBER_CLIENT))))(VariableDeclarationStatement(SimpleType(SimpleName:Roster))(VariableDeclarationFragment(SimpleName:roster)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:conn))(SimpleName:getRoster))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:roster))(SimpleName:setSubscriptionMode)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:Roster.SubscriptionMode.manual))))(Block(VariableDeclarationStatement(SimpleType(SimpleName:Presence))(VariableDeclarationFragment(SimpleName:presence)(ClassInstanceCreation(SimpleType(SimpleName:Presence))(QualifiedName:Presence.Type.available))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:presence))(SimpleName:setStatus)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:conn))(SimpleName:sendPacket)(METHOD_INVOCATION_ARGUMENTS(SimpleName:presence)))))(ExpressionStatement(Assignment(SimpleName:discoManager)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ServiceDiscoveryManager))(SimpleName:getInstanceFor)(METHOD_INVOCATION_ARGUMENTS(SimpleName:conn)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:simpleMessageListener))(SimpleName:setDaemon)(METHOD_INVOCATION_ARGUMENTS(BooleanLiteral:true))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:simpleMessageListener))(SimpleName:start)))(EnhancedForStatement(SingleVariableDeclaration(SimpleType(SimpleName:String))(SimpleName:jabberGateway))(SimpleName:ICQ_GATEWAYS)(Block(TryStatement(Block(IfStatement(InfixExpression(MethodInvocation(SimpleName:testJabberGateway)(METHOD_INVOCATION_ARGUMENTS(SimpleName:jabberGateway)))(INFIX_EXPRESSION_OPERATOR:==)(NumberLiteral:0))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:testResults))(SimpleName:put)(METHOD_INVOCATION_ARGUMENTS(SimpleName:jabberGateway)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:EnumSet))(SimpleName:of)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:ServerType.nogateway)))))))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:Exception))(SimpleName:e))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:testResults))(SimpleName:put)(METHOD_INVOCATION_ARGUMENTS(SimpleName:jabberGateway)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:EnumSet))(SimpleName:of)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:ServerType.unavailable)))))))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:conn))(SimpleName:disconnect)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:log))(SimpleName:info)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))(EnhancedForStatement(SingleVariableDeclaration(ParameterizedType(SimpleType(QualifiedName:Map.Entry))(SimpleType(SimpleName:String))(ParameterizedType(SimpleType(SimpleName:Set))(SimpleType(SimpleName:ServerType))))(SimpleName:stringSetEntry))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:testResults))(SimpleName:entrySet))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:log))(SimpleName:info)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:stringSetEntry))(SimpleName:getKey))(StringLiteral:<STR>)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:stringSetEntry))(SimpleName:getValue))))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:log))(SimpleName:info)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))(EnhancedForStatement(SingleVariableDeclaration(SimpleType(SimpleName:String))(SimpleName:aliveServer))(SimpleName:aliveServers)(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:log))(SimpleName:info)(METHOD_INVOCATION_ARGUMENTS(SimpleName:aliveServer))))))))))