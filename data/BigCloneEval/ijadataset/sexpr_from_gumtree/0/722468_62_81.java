(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:public)(PrimitiveType:int)(SimpleName:next)(Block(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:sequenceValue)(MethodInvocation(SimpleName:current))))(TryStatement(Block(VariableDeclarationStatement(SimpleType(SimpleName:Update))(VariableDeclarationFragment(SimpleName:update)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:dbi))(SimpleName:getUpdate))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:update))(SimpleName:setTableName)(METHOD_INVOCATION_ARGUMENTS(SimpleName:sequenceTable))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:update))(SimpleName:assignValue)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:--)(SimpleName:sequenceValue)))))(VariableDeclarationStatement(SimpleType(SimpleName:Search))(VariableDeclarationFragment(SimpleName:search)(ClassInstanceCreation(SimpleType(SimpleName:Search)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:search))(SimpleName:addAttributeCriteria)(METHOD_INVOCATION_ARGUMENTS(SimpleName:sequenceTable)(StringLiteral:<STR>)(QualifiedName:Search.EQUAL)(SimpleName:sequenceName))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:update))(SimpleName:where)(METHOD_INVOCATION_ARGUMENTS(SimpleName:search))))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:affectedRows)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:dbi))(SimpleName:getConnection)))(SimpleName:createStatement)))(SimpleName:executeUpdate)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:update))(SimpleName:toString))))))(IfStatement(InfixExpression(SimpleName:affectedRows)(INFIX_EXPRESSION_OPERATOR:==)(NumberLiteral:1))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:dbi))(SimpleName:getConnection)))(SimpleName:commit))))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:dbi))(SimpleName:getConnection)))(SimpleName:rollback))))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:SQLException))(SimpleName:sqle))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(QualifiedName:System.err))(SimpleName:println)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:sqle))(SimpleName:getMessage)))))))))(ReturnStatement(SimpleName:sequenceValue))))))