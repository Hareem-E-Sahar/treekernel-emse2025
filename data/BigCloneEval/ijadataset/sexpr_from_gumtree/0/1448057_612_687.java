(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:public)(Modifier:static)(PrimitiveType:boolean)(SimpleName:exportAsGAMETELLearningObject)(SingleVariableDeclaration(SimpleType(SimpleName:String))(SimpleName:zipFilename))(SingleVariableDeclaration(SimpleType(SimpleName:String))(SimpleName:loName))(SingleVariableDeclaration(SimpleType(SimpleName:String))(SimpleName:authorName))(SingleVariableDeclaration(SimpleType(SimpleName:String))(SimpleName:organization))(SingleVariableDeclaration(PrimitiveType:boolean)(SimpleName:windowed))(SingleVariableDeclaration(SimpleType(SimpleName:String))(SimpleName:gameFilename))(SingleVariableDeclaration(SimpleType(SimpleName:String))(SimpleName:testReturnURI))(SingleVariableDeclaration(SimpleType(SimpleName:String))(SimpleName:testUserID))(SingleVariableDeclaration(SimpleType(SimpleName:AdventureDataControl))(SimpleName:adventureData))(Block(VariableDeclarationStatement(PrimitiveType:boolean)(VariableDeclarationFragment(SimpleName:dataSaved)(BooleanLiteral:true)))(TryStatement(Block(VariableDeclarationStatement(SimpleType(SimpleName:DocumentBuilderFactory))(VariableDeclarationFragment(SimpleName:dbf)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:DocumentBuilderFactory))(SimpleName:newInstance))))(VariableDeclarationStatement(SimpleType(SimpleName:TransformerFactory))(VariableDeclarationFragment(SimpleName:tFactory)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:TransformerFactory))(SimpleName:newInstance))))(VariableDeclarationStatement(SimpleType(SimpleName:DocumentBuilder))(VariableDeclarationFragment(SimpleName:db)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:dbf))(SimpleName:newDocumentBuilder))))(VariableDeclarationStatement(SimpleType(SimpleName:Document))(VariableDeclarationFragment(SimpleName:doc)(NullLiteral)))(VariableDeclarationStatement(SimpleType(SimpleName:Transformer))(VariableDeclarationFragment(SimpleName:transformer)(NullLiteral)))(VariableDeclarationStatement(SimpleType(SimpleName:OutputStream))(VariableDeclarationFragment(SimpleName:fout)(NullLiteral)))(VariableDeclarationStatement(SimpleType(SimpleName:OutputStreamWriter))(VariableDeclarationFragment(SimpleName:writeFile)(NullLiteral)))(VariableDeclarationStatement(SimpleType(SimpleName:File))(VariableDeclarationFragment(SimpleName:tempDir)(ClassInstanceCreation(SimpleType(SimpleName:File))(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Controller))(SimpleName:createTempDirectory)))(SimpleName:getAbsolutePath)))))(EnhancedForStatement(SingleVariableDeclaration(SimpleType(SimpleName:File))(SimpleName:tempFile))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:tempDir))(SimpleName:listFiles))(Block(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:tempFile))(SimpleName:isDirectory))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:tempFile))(SimpleName:deleteAll))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:tempFile))(SimpleName:delete)))))(VariableDeclarationStatement(ParameterizedType(SimpleType(SimpleName:HashMap))(SimpleType(SimpleName:String))(SimpleType(SimpleName:String)))(VariableDeclarationFragment(SimpleName:additionalParams)(ClassInstanceCreation(ParameterizedType(SimpleType(SimpleName:HashMap))(SimpleType(SimpleName:String))(SimpleType(SimpleName:String))))))(IfStatement(InfixExpression(InfixExpression(InfixExpression(InfixExpression(SimpleName:testReturnURI)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(INFIX_EXPRESSION_OPERATOR:&&)(InfixExpression(SimpleName:testUserID)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral)))(INFIX_EXPRESSION_OPERATOR:&&)(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:testReturnURI))(SimpleName:length))(INFIX_EXPRESSION_OPERATOR:>)(NumberLiteral:0)))(INFIX_EXPRESSION_OPERATOR:&&)(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:testUserID))(SimpleName:length))(INFIX_EXPRESSION_OPERATOR:>)(NumberLiteral:0)))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:additionalParams))(SimpleName:put)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(SimpleName:testReturnURI))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:additionalParams))(SimpleName:put)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(SimpleName:testUserID))))))(ExpressionStatement(Assignment(SimpleName:dataSaved)(ASSIGNMENT_OPERATOR:&=)(MethodInvocation(SimpleName:writeWebPage)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:tempDir))(SimpleName:getAbsolutePath))(SimpleName:loName)(SimpleName:windowed)(StringLiteral:<STR>)(SimpleName:additionalParams)))))(VariableDeclarationStatement(SimpleType(SimpleName:File))(VariableDeclarationFragment(SimpleName:jarUnsigned)(ClassInstanceCreation(SimpleType(SimpleName:File))(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:tempDir))(SimpleName:getAbsolutePath))(INFIX_EXPRESSION_OPERATOR:+)(StringLiteral:<STR>)))))(VariableDeclarationStatement(SimpleType(SimpleName:FileOutputStream))(VariableDeclarationFragment(SimpleName:mergedFile)(ClassInstanceCreation(SimpleType(SimpleName:FileOutputStream))(SimpleName:jarUnsigned))))(VariableDeclarationStatement(SimpleType(SimpleName:ZipOutputStream))(VariableDeclarationFragment(SimpleName:os)(ClassInstanceCreation(SimpleType(SimpleName:ZipOutputStream))(SimpleName:mergedFile))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:manifestText)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Writer))(SimpleName:defaultManifestFile)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))))(VariableDeclarationStatement(SimpleType(SimpleName:ZipEntry))(VariableDeclarationFragment(SimpleName:manifestEntry)(ClassInstanceCreation(SimpleType(SimpleName:ZipEntry))(StringLiteral:<STR>))))(VariableDeclarationStatement(SimpleType(SimpleName:ZipEntry))(VariableDeclarationFragment(SimpleName:manifestEntry2)(ClassInstanceCreation(SimpleType(SimpleName:ZipEntry))(StringLiteral:<STR>))))(VariableDeclarationStatement(SimpleType(SimpleName:ZipEntry))(VariableDeclarationFragment(SimpleName:manifestEntry3)(ClassInstanceCreation(SimpleType(SimpleName:ZipEntry))(StringLiteral:<STR>))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:os))(SimpleName:putNextEntry)(METHOD_INVOCATION_ARGUMENTS(SimpleName:manifestEntry))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:os))(SimpleName:write)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:manifestText))(SimpleName:getBytes)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:os))(SimpleName:putNextEntry)(METHOD_INVOCATION_ARGUMENTS(SimpleName:manifestEntry2))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:os))(SimpleName:putNextEntry)(METHOD_INVOCATION_ARGUMENTS(SimpleName:manifestEntry3))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:os))(SimpleName:closeEntry)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:File))(SimpleName:mergeZipAndDirToJar)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(SimpleName:gameFilename)(SimpleName:os))))(ExpressionStatement(MethodInvocation(SimpleName:addNeededLibrariesToJar)(METHOD_INVOCATION_ARGUMENTS(SimpleName:os)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Controller))(SimpleName:getInstance)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:os))(SimpleName:close)))(ExpressionStatement(Assignment(SimpleName:dataSaved)(ASSIGNMENT_OPERATOR:&=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:jarUnsigned))(SimpleName:renameTo)(METHOD_INVOCATION_ARGUMENTS(ClassInstanceCreation(SimpleType(SimpleName:File))(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:tempDir))(SimpleName:getAbsolutePath))(INFIX_EXPRESSION_OPERATOR:+)(StringLiteral:<STR>)(SimpleName:loName)(StringLiteral:<STR>)))))))(ExpressionStatement(Assignment(SimpleName:dataSaved)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:JARSigner))(SimpleName:signJar)(METHOD_INVOCATION_ARGUMENTS(SimpleName:authorName)(SimpleName:organization)(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:tempDir))(SimpleName:getAbsolutePath))(INFIX_EXPRESSION_OPERATOR:+)(StringLiteral:<STR>)(SimpleName:loName)(StringLiteral:<STR>))(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:tempDir))(SimpleName:getAbsolutePath))(INFIX_EXPRESSION_OPERATOR:+)(StringLiteral:<STR>)(SimpleName:loName)(StringLiteral:<STR>))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(ClassInstanceCreation(SimpleType(SimpleName:File))(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:tempDir))(SimpleName:getAbsolutePath))(INFIX_EXPRESSION_OPERATOR:+)(StringLiteral:<STR>)(SimpleName:loName)(StringLiteral:<STR>))))(SimpleName:delete)))(VariableDeclarationStatement(SimpleType(SimpleName:File))(VariableDeclarationFragment(SimpleName:splashScreen)(ClassInstanceCreation(SimpleType(SimpleName:File))(StringLiteral:<STR>))))(IfStatement(SimpleName:windowed)(Block(ExpressionStatement(Assignment(SimpleName:splashScreen)(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(SimpleType(SimpleName:File))(StringLiteral:<STR>))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:splashScreen))(SimpleName:copyTo)(METHOD_INVOCATION_ARGUMENTS(ClassInstanceCreation(SimpleType(SimpleName:File))(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:tempDir))(SimpleName:getAbsolutePath))(INFIX_EXPRESSION_OPERATOR:+)(StringLiteral:<STR>))))))(ExpressionStatement(Assignment(SimpleName:db)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:dbf))(SimpleName:newDocumentBuilder))))(ExpressionStatement(Assignment(SimpleName:doc)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:db))(SimpleName:newDocument))))(VariableDeclarationStatement(SimpleType(SimpleName:Element))(VariableDeclarationFragment(SimpleName:param)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ExpectedGameIODOMWriter))(SimpleName:buildExpectedInputs)(METHOD_INVOCATION_ARGUMENTS(SimpleName:doc)(MethodInvocation(SimpleName:getAdaptationRules)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:adventureData))(SimpleName:getAdventureData)))(SimpleName:getChapters))))(MethodInvocation(SimpleName:getAssessmemtRules)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:adventureData))(SimpleName:getAdventureData)))(SimpleName:getChapters))))))))(ExpressionStatement(MethodInvocation(SimpleName:indentDOM)(METHOD_INVOCATION_ARGUMENTS(SimpleName:param)(NumberLiteral:0))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:doc))(SimpleName:adoptNode)(METHOD_INVOCATION_ARGUMENTS(SimpleName:param))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:doc))(SimpleName:appendChild)(METHOD_INVOCATION_ARGUMENTS(SimpleName:param))))(ExpressionStatement(Assignment(SimpleName:transformer)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:tFactory))(SimpleName:newTransformer))))(ExpressionStatement(Assignment(SimpleName:fout)(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(SimpleType(SimpleName:FileOutputStream))(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:tempDir))(SimpleName:getAbsolutePath))(INFIX_EXPRESSION_OPERATOR:+)(StringLiteral:<STR>)))))(ExpressionStatement(Assignment(SimpleName:writeFile)(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(SimpleType(SimpleName:OutputStreamWriter))(SimpleName:fout)(StringLiteral:<STR>))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:transformer))(SimpleName:transform)(METHOD_INVOCATION_ARGUMENTS(ClassInstanceCreation(SimpleType(SimpleName:DOMSource))(SimpleName:doc))(ClassInstanceCreation(SimpleType(SimpleName:StreamResult))(SimpleName:writeFile)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:writeFile))(SimpleName:close)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fout))(SimpleName:close)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:File))(SimpleName:zipDirectory)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:tempDir))(SimpleName:getAbsolutePath))(INFIX_EXPRESSION_OPERATOR:+)(StringLiteral:<STR>))(SimpleName:zipFilename)))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:IOException))(SimpleName:exception))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Controller))(SimpleName:getInstance)))(SimpleName:showErrorDialog)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:TC))(SimpleName:get)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:TC))(SimpleName:get)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ReportDialog))(SimpleName:GenerateErrorReport)(METHOD_INVOCATION_ARGUMENTS(SimpleName:exception)(BooleanLiteral:true)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:TC))(SimpleName:get)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))))(ExpressionStatement(Assignment(SimpleName:dataSaved)(ASSIGNMENT_OPERATOR:=)(BooleanLiteral:false)))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:ParserConfigurationException))(SimpleName:exception))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Controller))(SimpleName:getInstance)))(SimpleName:showErrorDialog)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:TC))(SimpleName:get)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:TC))(SimpleName:get)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ReportDialog))(SimpleName:GenerateErrorReport)(METHOD_INVOCATION_ARGUMENTS(SimpleName:exception)(BooleanLiteral:true)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:TC))(SimpleName:get)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))))(ExpressionStatement(Assignment(SimpleName:dataSaved)(ASSIGNMENT_OPERATOR:=)(BooleanLiteral:false)))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:TransformerConfigurationException))(SimpleName:exception))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Controller))(SimpleName:getInstance)))(SimpleName:showErrorDialog)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:TC))(SimpleName:get)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:TC))(SimpleName:get)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ReportDialog))(SimpleName:GenerateErrorReport)(METHOD_INVOCATION_ARGUMENTS(SimpleName:exception)(BooleanLiteral:true)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:TC))(SimpleName:get)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))))(ExpressionStatement(Assignment(SimpleName:dataSaved)(ASSIGNMENT_OPERATOR:=)(BooleanLiteral:false)))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:TransformerException))(SimpleName:exception))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Controller))(SimpleName:getInstance)))(SimpleName:showErrorDialog)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:TC))(SimpleName:get)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:TC))(SimpleName:get)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ReportDialog))(SimpleName:GenerateErrorReport)(METHOD_INVOCATION_ARGUMENTS(SimpleName:exception)(BooleanLiteral:true)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:TC))(SimpleName:get)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))))(ExpressionStatement(Assignment(SimpleName:dataSaved)(ASSIGNMENT_OPERATOR:=)(BooleanLiteral:false))))))(ReturnStatement(SimpleName:dataSaved))))))