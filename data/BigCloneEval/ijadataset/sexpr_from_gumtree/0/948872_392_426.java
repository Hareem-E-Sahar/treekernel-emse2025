(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:public)(SimpleType(SimpleName:SubtitleFile))(SimpleName:napiSearchForSubtitles)(SingleVariableDeclaration(SimpleType(SimpleName:String))(SimpleName:language))(SimpleType(SimpleName:UnknownHostException))(SimpleType(SimpleName:MalformedURLException))(SimpleType(SimpleName:FileNotFoundException))(SimpleType(SimpleName:IOException))(SimpleType(SimpleName:NoSuchAlgorithmException))(SimpleType(SimpleName:LanguageNotSupportedException))(SimpleType(SimpleName:SevenZipException))(SimpleType(SimpleName:SubtitlesNotFoundException))(SimpleType(SimpleName:InterruptedException))(SimpleType(SimpleName:TimeoutException))(Block(IfStatement(InfixExpression(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:language))(SimpleName:equals)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))(INFIX_EXPRESSION_OPERATOR:==)(BooleanLiteral:false))(INFIX_EXPRESSION_OPERATOR:&&)(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:language))(SimpleName:equals)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))(INFIX_EXPRESSION_OPERATOR:==)(BooleanLiteral:false)))(Block(ThrowStatement(ClassInstanceCreation(SimpleType(SimpleName:SubtitlesNotFoundException))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:String))(SimpleName:format)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(QualifiedName:Bundles.subgetBundle))(SimpleName:getString)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Language))(SimpleName:XXToName)(METHOD_INVOCATION_ARGUMENTS(SimpleName:language)))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:file))(SimpleName:getName))))))))(IfStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Global))(SimpleName:check7z))(INFIX_EXPRESSION_OPERATOR:==)(BooleanLiteral:false))(Block(ThrowStatement(ParenthesizedExpression(ClassInstanceCreation(SimpleType(SimpleName:SevenZipException))(MethodInvocation(METHOD_INVOCATION_RECEIVER(QualifiedName:Bundles.subgetBundle))(SimpleName:getString)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))))))(VariableDeclarationStatement(SimpleType(SimpleName:OutputStream))(VariableDeclarationFragment(SimpleName:out)(NullLiteral)))(VariableDeclarationStatement(SimpleType(SimpleName:URLConnection))(VariableDeclarationFragment(SimpleName:conn)(NullLiteral)))(VariableDeclarationStatement(SimpleType(SimpleName:InputStream))(VariableDeclarationFragment(SimpleName:in)(NullLiteral)))(VariableDeclarationStatement(SimpleType(SimpleName:URL))(VariableDeclarationFragment(SimpleName:url)(ClassInstanceCreation(SimpleType(SimpleName:URL))(MethodInvocation(SimpleName:getNapiDownloadUrl)(METHOD_INVOCATION_ARGUMENTS(SimpleName:language))))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:subtitles7z)(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Global))(SimpleName:getPathToTmpDir))(INFIX_EXPRESSION_OPERATOR:+)(QualifiedName:File.separator)(SimpleName:napiMd5sum)(StringLiteral:<STR>))))(ExpressionStatement(Assignment(SimpleName:out)(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(SimpleType(SimpleName:BufferedOutputStream))(ClassInstanceCreation(SimpleType(SimpleName:FileOutputStream))(SimpleName:subtitles7z)))))(ExpressionStatement(Assignment(SimpleName:conn)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:url))(SimpleName:openConnection)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Global))(SimpleName:getProxy))))))(ExpressionStatement(Assignment(SimpleName:in)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Timeouts))(SimpleName:getInputStream)(METHOD_INVOCATION_ARGUMENTS(SimpleName:conn)))))(VariableDeclarationStatement(ArrayType(PrimitiveType:byte)(Dimension))(VariableDeclarationFragment(SimpleName:buffer)(ArrayCreation(ArrayType(PrimitiveType:byte)(Dimension(NumberLiteral:1024))))))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:numRead)))(WhileStatement(InfixExpression(ParenthesizedExpression(Assignment(SimpleName:numRead)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:in))(SimpleName:read)(METHOD_INVOCATION_ARGUMENTS(SimpleName:buffer)))))(INFIX_EXPRESSION_OPERATOR:!=)(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:-)(NumberLiteral:1)))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:out))(SimpleName:write)(METHOD_INVOCATION_ARGUMENTS(SimpleName:buffer)(NumberLiteral:0)(SimpleName:numRead))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:in))(SimpleName:close)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:out))(SimpleName:close)))(VariableDeclarationStatement(SimpleType(SimpleName:File))(VariableDeclarationFragment(SimpleName:subtitles7zFile)(ClassInstanceCreation(SimpleType(SimpleName:File))(SimpleName:subtitles7z))))(IfStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:subtitles7zFile))(SimpleName:length))(INFIX_EXPRESSION_OPERATOR:<=)(NumberLiteral:4))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:subtitles7zFile))(SimpleName:delete)))(VariableDeclarationStatement(SimpleType(SimpleName:SubtitlesNotFoundException))(VariableDeclarationFragment(SimpleName:e)(ClassInstanceCreation(SimpleType(SimpleName:SubtitlesNotFoundException))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:String))(SimpleName:format)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(QualifiedName:Bundles.subgetBundle))(SimpleName:getString)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Language))(SimpleName:XXToName)(METHOD_INVOCATION_ARGUMENTS(SimpleName:language)))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:file))(SimpleName:getName)))))))(ThrowStatement(SimpleName:e))))(VariableDeclarationStatement(SimpleType(SimpleName:SubtitleFile))(VariableDeclarationFragment(SimpleName:sub)(ClassInstanceCreation(SimpleType(SimpleName:SubtitleFile))(SimpleName:subtitles7z)(SimpleName:outputSubsFileName)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:outputSubsDir))(SimpleName:getAbsolutePath))(SimpleName:language))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:sub))(SimpleName:napiUnpack)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:sub))(SimpleName:detectFormat)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:sub))(SimpleName:setFromBase)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:Global.SubDataBase.BASE_NAPI))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:sub))(SimpleName:setDisplayName)(METHOD_INVOCATION_ARGUMENTS(SimpleName:outputSubsFileName))))(ReturnStatement(SimpleName:sub))))))