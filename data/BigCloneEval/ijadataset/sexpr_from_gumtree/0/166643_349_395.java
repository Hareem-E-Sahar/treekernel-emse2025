(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(PrimitiveType:void)(SimpleName:execute)(SingleVariableDeclaration(SimpleType(SimpleName:Connection))(SimpleName:conn))(SingleVariableDeclaration(SimpleType(SimpleName:Component))(SimpleName:parent))(SingleVariableDeclaration(SimpleType(SimpleName:String))(SimpleName:context))(SingleVariableDeclaration(Modifier:final)(SimpleType(SimpleName:ProgressMonitor))(SimpleName:progressMonitor))(SingleVariableDeclaration(SimpleType(SimpleName:ProgressWrapper))(SimpleName:progressWrapper))(SimpleType(SimpleName:Exception))(Block(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:noOfComponents)(QualifiedName:m_components.length)))(VariableDeclarationStatement(SimpleType(SimpleName:Statement))(VariableDeclarationFragment(SimpleName:statement)(NullLiteral)))(VariableDeclarationStatement(SimpleType(SimpleName:StringBuffer))(VariableDeclarationFragment(SimpleName:pmNoteBuf)(ClassInstanceCreation(SimpleType(SimpleName:StringBuffer))(ConditionalExpression(SimpleName:m_update)(StringLiteral:<STR>)(StringLiteral:<STR>)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:pmNoteBuf))(SimpleName:append)(METHOD_INVOCATION_ARGUMENTS(SimpleName:m_itemNameAbbrev))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:pmNoteBuf))(SimpleName:append)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:pmNoteBuf))(SimpleName:append)(METHOD_INVOCATION_ARGUMENTS(SimpleName:m_itemNameValue))))(VariableDeclarationStatement(Modifier:final)(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:pmNote)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:pmNoteBuf))(SimpleName:toString))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:progressMonitor))(SimpleName:setNote)(METHOD_INVOCATION_ARGUMENTS(SimpleName:pmNote))))(TryStatement(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:conn))(SimpleName:setAutoCommit)(METHOD_INVOCATION_ARGUMENTS(BooleanLiteral:false))))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:id)(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:-)(NumberLiteral:1))))(IfStatement(SimpleName:m_update)(Block(ExpressionStatement(Assignment(SimpleName:statement)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:conn))(SimpleName:createStatement))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:sql)(MethodInvocation(SimpleName:getUpdateSql)(METHOD_INVOCATION_ARGUMENTS(SimpleName:noOfComponents)(SimpleName:m_id)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:statement))(SimpleName:executeUpdate)(METHOD_INVOCATION_ARGUMENTS(SimpleName:sql))))(ExpressionStatement(Assignment(SimpleName:id)(ASSIGNMENT_OPERATOR:=)(SimpleName:m_id)))(IfStatement(SimpleName:m_indexesChanged)(ExpressionStatement(MethodInvocation(SimpleName:deleteComponents)(METHOD_INVOCATION_ARGUMENTS(SimpleName:conn)(SimpleName:id))))))(Block(VariableDeclarationStatement(SimpleType(SimpleName:PreparedStatement))(VariableDeclarationFragment(SimpleName:pStmt)(MethodInvocation(SimpleName:getInsertPrepStmt)(METHOD_INVOCATION_ARGUMENTS(SimpleName:conn)(SimpleName:noOfComponents)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:pStmt))(SimpleName:executeUpdate)))(VariableDeclarationStatement(SimpleType(SimpleName:Integer))(VariableDeclarationFragment(SimpleName:res)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:DbCommon))(SimpleName:getAutoGenId)(METHOD_INVOCATION_ARGUMENTS(SimpleName:parent)(SimpleName:context)(SimpleName:pStmt)))))(IfStatement(InfixExpression(SimpleName:res)(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(ReturnStatement))(ExpressionStatement(Assignment(SimpleName:id)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:res))(SimpleName:intValue))))))(IfStatement(InfixExpression(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(SimpleName:m_update))(INFIX_EXPRESSION_OPERATOR:||)(SimpleName:m_indexesChanged))(Block(VariableDeclarationStatement(SimpleType(SimpleName:PreparedStatement))(VariableDeclarationFragment(SimpleName:insertCompPrepStmt)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:conn))(SimpleName:prepareStatement)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(SimpleName:getInsertComponentPrepStmtSql))))))(ForStatement(VariableDeclarationExpression(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:i)(NumberLiteral:0)))(InfixExpression(SimpleName:i)(INFIX_EXPRESSION_OPERATOR:<)(SimpleName:noOfComponents))(PostfixExpression(SimpleName:i)(POSTFIX_EXPRESSION_OPERATOR:++))(Block(ExpressionStatement(MethodInvocation(SimpleName:createComponent)(METHOD_INVOCATION_ARGUMENTS(SimpleName:progressMonitor)(SimpleName:m_components)(SimpleName:pmNote)(SimpleName:id)(SimpleName:i)(SimpleName:insertCompPrepStmt))))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:conn))(SimpleName:commit)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:m_itemTable))(SimpleName:getPrimaryId)))(SimpleName:setVal)(METHOD_INVOCATION_ARGUMENTS(SimpleName:m_item)(SimpleName:id))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:m_itemCache))(SimpleName:updateCache)(METHOD_INVOCATION_ARGUMENTS(SimpleName:m_item)(SimpleName:id)))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:SQLException))(SimpleName:ex))(Block(TryStatement(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:conn))(SimpleName:rollback))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:SQLException))(SimpleName:e))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:e))(SimpleName:printStackTrace))))))(ThrowStatement(SimpleName:ex))))(Block(IfStatement(InfixExpression(SimpleName:statement)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:statement))(SimpleName:close)))))))))))