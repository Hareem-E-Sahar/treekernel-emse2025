(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(MarkerAnnotation(SimpleName:Override))(Modifier:public)(PrimitiveType:void)(SimpleName:scale)(SingleVariableDeclaration(SimpleType(SimpleName:File))(SimpleName:src))(SingleVariableDeclaration(SimpleType(SimpleName:File))(SimpleName:dest))(SingleVariableDeclaration(PrimitiveType:int)(SimpleName:w))(SingleVariableDeclaration(PrimitiveType:int)(SimpleName:h))(SimpleType(SimpleName:ImgException))(Block(IfStatement(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:dest))(SimpleName:getParentFile)))(SimpleName:exists)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:dest))(SimpleName:getParentFile)))(SimpleName:mkdirs))))(TryStatement(Block(IfStatement(InfixExpression(InfixExpression(SimpleName:w)(INFIX_EXPRESSION_OPERATOR:<=)(NumberLiteral:0))(INFIX_EXPRESSION_OPERATOR:&&)(InfixExpression(SimpleName:h)(INFIX_EXPRESSION_OPERATOR:<=)(NumberLiteral:0)))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:FileUtils))(SimpleName:copyFile)(METHOD_INVOCATION_ARGUMENTS(SimpleName:src)(SimpleName:dest))))(ReturnStatement)))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:ext)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:FilenameUtils))(SimpleName:getExtension)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:dest))(SimpleName:getName)))))(SimpleName:toLowerCase))))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(StringLiteral:<STR>))(SimpleName:equalsIgnoreCase)(METHOD_INVOCATION_ARGUMENTS(SimpleName:ext)))(Block(VariableDeclarationStatement(SimpleType(SimpleName:GifImage))(VariableDeclarationFragment(SimpleName:gifImage)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:GifDecoder))(SimpleName:decode)(METHOD_INVOCATION_ARGUMENTS(SimpleName:src)))))(VariableDeclarationStatement(SimpleType(SimpleName:GifImage))(VariableDeclarationFragment(SimpleName:newGif)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:GifTransformer))(SimpleName:resize)(METHOD_INVOCATION_ARGUMENTS(SimpleName:gifImage)(SimpleName:w)(SimpleName:h)(BooleanLiteral:false)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:GifEncoder))(SimpleName:encode)(METHOD_INVOCATION_ARGUMENTS(SimpleName:newGif)(SimpleName:dest)))))(Block(VariableDeclarationStatement(SimpleType(SimpleName:BufferedImage))(VariableDeclarationFragment(SimpleName:bi)(CastExpression(SimpleType(SimpleName:BufferedImage))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ImageIO))(SimpleName:read)(METHOD_INVOCATION_ARGUMENTS(SimpleName:src))))))(VariableDeclarationStatement(SimpleType(SimpleName:MyScaleFilter))(VariableDeclarationFragment(SimpleName:scale)(ClassInstanceCreation(SimpleType(SimpleName:MyScaleFilter))(SimpleName:w)(SimpleName:h))))(VariableDeclarationStatement(SimpleType(SimpleName:BufferedImage))(VariableDeclarationFragment(SimpleName:bi_scale)(ClassInstanceCreation(SimpleType(SimpleName:BufferedImage))(SimpleName:w)(SimpleName:h)(ConditionalExpression(ParenthesizedExpression(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:bi))(SimpleName:getType))(INFIX_EXPRESSION_OPERATOR:!=)(NumberLiteral:0)))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:bi))(SimpleName:getType))(QualifiedName:BufferedImage.TYPE_INT_RGB)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:scale))(SimpleName:filter)(METHOD_INVOCATION_ARGUMENTS(SimpleName:bi)(SimpleName:bi_scale))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ImageIO))(SimpleName:write)(METHOD_INVOCATION_ARGUMENTS(SimpleName:bi_scale)(ConditionalExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ext))(SimpleName:equals)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))(StringLiteral:<STR>)(StringLiteral:<STR>))(SimpleName:dest)))))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:IOException))(SimpleName:e))(Block(ThrowStatement(ClassInstanceCreation(SimpleType(SimpleName:ImgException))(StringLiteral:<STR>)(SimpleName:e))))))))))