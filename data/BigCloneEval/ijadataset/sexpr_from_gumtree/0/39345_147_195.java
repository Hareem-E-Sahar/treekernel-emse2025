(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(PrimitiveType:void)(SimpleName:handleStatusEvent)(SingleVariableDeclaration(SimpleType(SimpleName:StatusEvent))(SimpleName:event))(Block(VariableDeclarationStatement(SimpleType(SimpleName:AsteriskChannelImpl))(VariableDeclarationFragment(SimpleName:channel)))(VariableDeclarationStatement(Modifier:final)(SimpleType(SimpleName:Extension))(VariableDeclarationFragment(SimpleName:extension)))(VariableDeclarationStatement(PrimitiveType:boolean)(VariableDeclarationFragment(SimpleName:isNew)(BooleanLiteral:false)))(VariableDeclarationStatement(ParameterizedType(SimpleType(SimpleName:Map))(SimpleType(SimpleName:String))(SimpleType(SimpleName:String)))(VariableDeclarationFragment(SimpleName:variables)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:event))(SimpleName:getVariables))))(ExpressionStatement(Assignment(SimpleName:channel)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(SimpleName:getChannelImplById)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:event))(SimpleName:getUniqueId))))))(IfStatement(InfixExpression(SimpleName:channel)(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(Block(VariableDeclarationStatement(SimpleType(SimpleName:Date))(VariableDeclarationFragment(SimpleName:dateOfCreation)))(IfStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:event))(SimpleName:getSeconds))(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(ExpressionStatement(Assignment(SimpleName:dateOfCreation)(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(SimpleType(SimpleName:Date))(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:DateUtil))(SimpleName:getDate)))(SimpleName:getTime))(INFIX_EXPRESSION_OPERATOR:-)(ParenthesizedExpression(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:event))(SimpleName:getSeconds))(INFIX_EXPRESSION_OPERATOR:*)(NumberLiteral:1000L))))))))(Block(ExpressionStatement(Assignment(SimpleName:dateOfCreation)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:DateUtil))(SimpleName:getDate))))))(ExpressionStatement(Assignment(SimpleName:channel)(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(SimpleType(SimpleName:AsteriskChannelImpl))(SimpleName:server)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:event))(SimpleName:getChannel))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:event))(SimpleName:getUniqueId))(SimpleName:dateOfCreation))))(ExpressionStatement(Assignment(SimpleName:isNew)(ASSIGNMENT_OPERATOR:=)(BooleanLiteral:true)))(IfStatement(InfixExpression(SimpleName:variables)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(EnhancedForStatement(SingleVariableDeclaration(SimpleType(SimpleName:String))(SimpleName:variable))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:variables))(SimpleName:keySet))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:channel))(SimpleName:updateVariable)(METHOD_INVOCATION_ARGUMENTS(SimpleName:variable)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:variables))(SimpleName:get)(METHOD_INVOCATION_ARGUMENTS(SimpleName:variable))))))))))))(IfStatement(InfixExpression(InfixExpression(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:event))(SimpleName:getContext))(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(INFIX_EXPRESSION_OPERATOR:&&)(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:event))(SimpleName:getExtension))(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral)))(INFIX_EXPRESSION_OPERATOR:&&)(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:event))(SimpleName:getPriority))(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral)))(Block(ExpressionStatement(Assignment(SimpleName:extension)(ASSIGNMENT_OPERATOR:=)(NullLiteral))))(Block(ExpressionStatement(Assignment(SimpleName:extension)(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(SimpleType(SimpleName:Extension))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:event))(SimpleName:getContext))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:event))(SimpleName:getExtension))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:event))(SimpleName:getPriority)))))))(SynchronizedStatement(SimpleName:channel)(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:channel))(SimpleName:setCallerId)(METHOD_INVOCATION_ARGUMENTS(ClassInstanceCreation(SimpleType(SimpleName:CallerId))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:event))(SimpleName:getCallerIdName))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:event))(SimpleName:getCallerIdNum))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:channel))(SimpleName:setAccount)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:event))(SimpleName:getAccountCode)))))(IfStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:event))(SimpleName:getChannelState))(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:channel))(SimpleName:stateChanged)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:event))(SimpleName:getDateReceived))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ChannelState))(SimpleName:valueOf)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:event))(SimpleName:getChannelState)))))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:channel))(SimpleName:extensionVisited)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:event))(SimpleName:getDateReceived))(SimpleName:extension))))(IfStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:event))(SimpleName:getBridgedChannel))(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(VariableDeclarationStatement(Modifier:final)(SimpleType(SimpleName:AsteriskChannelImpl))(VariableDeclarationFragment(SimpleName:linkedChannel)(MethodInvocation(SimpleName:getChannelImplByName)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:event))(SimpleName:getBridgedChannel))))))(IfStatement(InfixExpression(SimpleName:linkedChannel)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:channel))(SimpleName:channelLinked)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:event))(SimpleName:getDateReceived))(SimpleName:linkedChannel))))(SynchronizedStatement(SimpleName:linkedChannel)(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:linkedChannel))(SimpleName:channelLinked)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:event))(SimpleName:getDateReceived))(SimpleName:channel))))))))))))(IfStatement(SimpleName:isNew)(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:logger))(SimpleName:info)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:channel))(SimpleName:getName))))))(ExpressionStatement(MethodInvocation(SimpleName:addChannel)(METHOD_INVOCATION_ARGUMENTS(SimpleName:channel))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:server))(SimpleName:fireNewAsteriskChannel)(METHOD_INVOCATION_ARGUMENTS(SimpleName:channel))))))))))