(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(MarkerAnnotation(SimpleName:Override))(Modifier:public)(SimpleType(SimpleName:URL))(SimpleName:uploadPicture)(SingleVariableDeclaration(SimpleType(SimpleName:Picture))(SimpleName:picture))(SingleVariableDeclaration(ArrayType(SimpleType(SimpleName:ConfigurationValue))(Dimension))(SimpleName:configurationValues))(SimpleType(SimpleName:Exception))(Block(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:username)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ConfigurationValue))(SimpleName:getConfigurationValue)(METHOD_INVOCATION_ARGUMENTS(SimpleName:FTP_USERNAME)(SimpleName:configurationValues)))))(IfStatement(InfixExpression(InfixExpression(SimpleName:username)(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(INFIX_EXPRESSION_OPERATOR:||)(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:username))(SimpleName:length))(INFIX_EXPRESSION_OPERATOR:==)(NumberLiteral:0)))(Block(ThrowStatement(ClassInstanceCreation(SimpleType(SimpleName:CommonException))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Language))(SimpleName:translateStatic)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:password)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ConfigurationValue))(SimpleName:getConfigurationValue)(METHOD_INVOCATION_ARGUMENTS(SimpleName:FTP_PASSWORD)(SimpleName:configurationValues)))))(IfStatement(InfixExpression(InfixExpression(SimpleName:password)(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(INFIX_EXPRESSION_OPERATOR:||)(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:password))(SimpleName:length))(INFIX_EXPRESSION_OPERATOR:==)(NumberLiteral:0)))(Block(ThrowStatement(ClassInstanceCreation(SimpleType(SimpleName:CommonException))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Language))(SimpleName:translateStatic)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:ftpFolder)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ConfigurationValue))(SimpleName:getConfigurationValue)(METHOD_INVOCATION_ARGUMENTS(SimpleName:FTP_PICTUREFOLDER)(SimpleName:configurationValues)))))(IfStatement(InfixExpression(SimpleName:ftpFolder)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(IfStatement(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ftpFolder))(SimpleName:startsWith)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))(Block(ExpressionStatement(Assignment(SimpleName:ftpFolder)(ASSIGNMENT_OPERATOR:=)(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:ftpFolder))))))(IfStatement(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ftpFolder))(SimpleName:endsWith)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))(Block(ExpressionStatement(Assignment(SimpleName:ftpFolder)(ASSIGNMENT_OPERATOR:=)(InfixExpression(SimpleName:ftpFolder)(INFIX_EXPRESSION_OPERATOR:+)(StringLiteral:<STR>)))))))(Block(ExpressionStatement(Assignment(SimpleName:ftpFolder)(ASSIGNMENT_OPERATOR:=)(StringLiteral:<STR>)))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:host)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ConfigurationValue))(SimpleName:getConfigurationValue)(METHOD_INVOCATION_ARGUMENTS(SimpleName:FTP_HOSTNAME)(SimpleName:configurationValues)))))(IfStatement(InfixExpression(InfixExpression(SimpleName:host)(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(INFIX_EXPRESSION_OPERATOR:||)(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:host))(SimpleName:length))(INFIX_EXPRESSION_OPERATOR:==)(NumberLiteral:0)))(Block(ThrowStatement(ClassInstanceCreation(SimpleType(SimpleName:CommonException))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Language))(SimpleName:translateStatic)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))))))(VariableDeclarationStatement(SimpleType(SimpleName:Integer))(VariableDeclarationFragment(SimpleName:port)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ConfigurationValue))(SimpleName:getConfigurationValue)(METHOD_INVOCATION_ARGUMENTS(SimpleName:FTP_PORT)(SimpleName:configurationValues)))))(IfStatement(InfixExpression(SimpleName:port)(INFIX_EXPRESSION_OPERATOR:<)(NumberLiteral:1))(Block(ExpressionStatement(Assignment(SimpleName:port)(ASSIGNMENT_OPERATOR:=)(NumberLiteral:21)))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:filename)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:picture))(SimpleName:getFileName))))(VariableDeclarationStatement(SimpleType(SimpleName:URL))(VariableDeclarationFragment(SimpleName:url)(ClassInstanceCreation(SimpleType(SimpleName:URL))(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:URLEncoder))(SimpleName:encode)(METHOD_INVOCATION_ARGUMENTS(SimpleName:username)(StringLiteral:<STR>)))(StringLiteral:<STR>)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:URLEncoder))(SimpleName:encode)(METHOD_INVOCATION_ARGUMENTS(SimpleName:password)(StringLiteral:<STR>)))(StringLiteral:<STR>)(SimpleName:host)(StringLiteral:<STR>)(SimpleName:port)(SimpleName:ftpFolder)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:URLEncoder))(SimpleName:encode)(METHOD_INVOCATION_ARGUMENTS(SimpleName:filename)(StringLiteral:<STR>)))))))(VariableDeclarationStatement(SimpleType(SimpleName:URLConnection))(VariableDeclarationFragment(SimpleName:connection)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:url))(SimpleName:openConnection))))(VariableDeclarationStatement(SimpleType(SimpleName:OutputStream))(VariableDeclarationFragment(SimpleName:outputStream)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:connection))(SimpleName:getOutputStream))))(VariableDeclarationStatement(SimpleType(SimpleName:FileInputStream))(VariableDeclarationFragment(SimpleName:fileInputStream)(ClassInstanceCreation(SimpleType(SimpleName:FileInputStream))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:picture))(SimpleName:getFile)))))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:read)(NumberLiteral:0)))(VariableDeclarationStatement(ArrayType(PrimitiveType:byte)(Dimension))(VariableDeclarationFragment(SimpleName:buffer)(ArrayCreation(ArrayType(PrimitiveType:byte)(Dimension(NumberLiteral:1024))))))(WhileStatement(InfixExpression(SimpleName:read)(INFIX_EXPRESSION_OPERATOR:!=)(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:-)(NumberLiteral:1)))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:outputStream))(SimpleName:write)(METHOD_INVOCATION_ARGUMENTS(SimpleName:buffer)(NumberLiteral:0)(SimpleName:read))))(ExpressionStatement(Assignment(SimpleName:read)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fileInputStream))(SimpleName:read)(METHOD_INVOCATION_ARGUMENTS(SimpleName:buffer)))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fileInputStream))(SimpleName:close)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:outputStream))(SimpleName:close)))(VariableDeclarationStatement(SimpleType(SimpleName:URL))(VariableDeclarationFragment(SimpleName:pictureURL)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ConfigurationValue))(SimpleName:getConfigurationValue)(METHOD_INVOCATION_ARGUMENTS(SimpleName:FTP_HTTPPREFIX)(SimpleName:configurationValues)))))(IfStatement(InfixExpression(SimpleName:pictureURL)(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(Block(ReturnStatement(ClassInstanceCreation(SimpleType(SimpleName:URL))(InfixExpression(SimpleName:host)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:ftpFolder)(SimpleName:filename)))))(Block(ReturnStatement(ClassInstanceCreation(SimpleType(SimpleName:URL))(InfixExpression(SimpleName:pictureURL)(INFIX_EXPRESSION_OPERATOR:+)(StringLiteral:<STR>)(SimpleName:filename))))))))))