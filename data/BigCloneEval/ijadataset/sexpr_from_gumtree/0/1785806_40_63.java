(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:public)(Modifier:static)(SimpleType(SimpleName:String))(SimpleName:replaceTemplateVariables)(SingleVariableDeclaration(SimpleType(SimpleName:String))(SimpleName:text))(SingleVariableDeclaration(ParameterizedType(SimpleType(SimpleName:Map))(SimpleType(SimpleName:String))(SimpleType(SimpleName:String)))(SimpleName:replacements))(Block(VariableDeclarationStatement(SimpleType(SimpleName:StringBuilder))(VariableDeclarationFragment(SimpleName:output)(ClassInstanceCreation(SimpleType(SimpleName:StringBuilder)))))(VariableDeclarationStatement(SimpleType(SimpleName:Pattern))(VariableDeclarationFragment(SimpleName:tokenPattern)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Pattern))(SimpleName:compile)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))))(VariableDeclarationStatement(SimpleType(SimpleName:Matcher))(VariableDeclarationFragment(SimpleName:tokenMatcher)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:tokenPattern))(SimpleName:matcher)(METHOD_INVOCATION_ARGUMENTS(SimpleName:text)))))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:cursor)(NumberLiteral:0)))(WhileStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:tokenMatcher))(SimpleName:find))(Block(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:tokenStart)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:tokenMatcher))(SimpleName:start))))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:tokenEnd)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:tokenMatcher))(SimpleName:end))))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:keyStart)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:tokenMatcher))(SimpleName:start)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:1)))))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:keyEnd)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:tokenMatcher))(SimpleName:end)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:1)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:output))(SimpleName:append)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:text))(SimpleName:substring)(METHOD_INVOCATION_ARGUMENTS(SimpleName:cursor)(SimpleName:tokenStart))))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:token)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:text))(SimpleName:substring)(METHOD_INVOCATION_ARGUMENTS(SimpleName:tokenStart)(SimpleName:tokenEnd)))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:key)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:text))(SimpleName:substring)(METHOD_INVOCATION_ARGUMENTS(SimpleName:keyStart)(SimpleName:keyEnd)))))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:replacements))(SimpleName:containsKey)(METHOD_INVOCATION_ARGUMENTS(SimpleName:key)))(Block(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:value)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:replacements))(SimpleName:get)(METHOD_INVOCATION_ARGUMENTS(SimpleName:key)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:output))(SimpleName:append)(METHOD_INVOCATION_ARGUMENTS(SimpleName:value)))))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:output))(SimpleName:append)(METHOD_INVOCATION_ARGUMENTS(SimpleName:token))))))(ExpressionStatement(Assignment(SimpleName:cursor)(ASSIGNMENT_OPERATOR:=)(SimpleName:tokenEnd)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:output))(SimpleName:append)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:text))(SimpleName:substring)(METHOD_INVOCATION_ARGUMENTS(SimpleName:cursor))))))(ReturnStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:output))(SimpleName:toString)))))))