(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(MarkerAnnotation(SimpleName:Test))(SingleMemberAnnotation(SimpleName:Browsers)(QualifiedName:Browser.NONE))(Modifier:public)(PrimitiveType:void)(SimpleName:testUploadFileWithNonASCIIName_HttpClient)(SimpleType(SimpleName:Exception))(Block(VariableDeclarationStatement(Modifier:final)(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:filename)(StringLiteral:<STR>)))(VariableDeclarationStatement(Modifier:final)(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:path)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(SimpleName:getClass)))(SimpleName:getClassLoader)))(SimpleName:getResource)(METHOD_INVOCATION_ARGUMENTS(SimpleName:filename))))(SimpleName:toExternalForm))))(VariableDeclarationStatement(Modifier:final)(SimpleType(SimpleName:File))(VariableDeclarationFragment(SimpleName:file)(ClassInstanceCreation(SimpleType(SimpleName:File))(ClassInstanceCreation(SimpleType(SimpleName:URI))(SimpleName:path)))))(ExpressionStatement(MethodInvocation(SimpleName:assertTrue)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:file))(SimpleName:exists)))))(VariableDeclarationStatement(Modifier:final)(ParameterizedType(SimpleType(SimpleName:Map))(SimpleType(SimpleName:String))(ParameterizedType(SimpleType(SimpleName:Class))(WildcardType(SimpleType(SimpleName:Servlet)))))(VariableDeclarationFragment(SimpleName:servlets)(ClassInstanceCreation(ParameterizedType(SimpleType(SimpleName:HashMap))(SimpleType(SimpleName:String))(ParameterizedType(SimpleType(SimpleName:Class))(WildcardType(SimpleType(SimpleName:Servlet))))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:servlets))(SimpleName:put)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(TypeLiteral(SimpleType(SimpleName:Upload2Servlet))))))(ExpressionStatement(MethodInvocation(SimpleName:startWebServer)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(NullLiteral)(SimpleName:servlets))))(VariableDeclarationStatement(Modifier:final)(SimpleType(SimpleName:HttpPost))(VariableDeclarationFragment(SimpleName:filePost)(ClassInstanceCreation(SimpleType(SimpleName:HttpPost))(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:PORT)(StringLiteral:<STR>)))))(VariableDeclarationStatement(Modifier:final)(SimpleType(SimpleName:MultipartEntity))(VariableDeclarationFragment(SimpleName:reqEntity)(ClassInstanceCreation(SimpleType(SimpleName:MultipartEntity))(QualifiedName:HttpMultipartMode.BROWSER_COMPATIBLE)(NullLiteral)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Charset))(SimpleName:forName)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:reqEntity))(SimpleName:addPart)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(ClassInstanceCreation(SimpleType(SimpleName:FileBody))(SimpleName:file)(StringLiteral:<STR>)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:filePost))(SimpleName:setEntity)(METHOD_INVOCATION_ARGUMENTS(SimpleName:reqEntity))))(VariableDeclarationStatement(Modifier:final)(SimpleType(SimpleName:HttpClient))(VariableDeclarationFragment(SimpleName:client)(ClassInstanceCreation(SimpleType(SimpleName:DefaultHttpClient)))))(VariableDeclarationStatement(Modifier:final)(SimpleType(SimpleName:HttpResponse))(VariableDeclarationFragment(SimpleName:httpResponse)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:client))(SimpleName:execute)(METHOD_INVOCATION_ARGUMENTS(SimpleName:filePost)))))(VariableDeclarationStatement(SimpleType(SimpleName:InputStream))(VariableDeclarationFragment(SimpleName:content)(NullLiteral)))(TryStatement(Block(ExpressionStatement(Assignment(SimpleName:content)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:httpResponse))(SimpleName:getEntity)))(SimpleName:getContent))))(VariableDeclarationStatement(Modifier:final)(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:response)(ClassInstanceCreation(SimpleType(SimpleName:String))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:IOUtils))(SimpleName:toByteArray)(METHOD_INVOCATION_ARGUMENTS(SimpleName:content))))))(ExpressionStatement(MethodInvocation(SimpleName:assertFalse)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(StringLiteral:<STR>))(SimpleName:equals)(METHOD_INVOCATION_ARGUMENTS(SimpleName:response)))))))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:IOUtils))(SimpleName:closeQuietly)(METHOD_INVOCATION_ARGUMENTS(SimpleName:content))))))))))