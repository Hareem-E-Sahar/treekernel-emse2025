(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:public)(Modifier:static)(SimpleType(SimpleName:GL20ResourceShaderFragment))(SimpleName:getShaderFragment)(SingleVariableDeclaration(SimpleType(SimpleName:ChannelMap))(SimpleName:channelMap))(Block(IfStatement(InfixExpression(SimpleName:channelMap)(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(ReturnStatement(NullLiteral)))(IfStatement(InfixExpression(SimpleName:singleton)(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(ExpressionStatement(ClassInstanceCreation(SimpleType(SimpleName:GL20ShaderServer)))))(VariableDeclarationStatement(SimpleType(SimpleName:GL20ResourceShaderFragment))(VariableDeclarationFragment(SimpleName:returnValue)(NullLiteral)))(VariableDeclarationStatement(Modifier:final)(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:fragmentCount)(MethodInvocation(METHOD_INVOCATION_RECEIVER(QualifiedName:singleton.fragmentStack))(SimpleName:size))))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:fragmentIndex)(NumberLiteral:0)))(WhileStatement(InfixExpression(SimpleName:fragmentIndex)(INFIX_EXPRESSION_OPERATOR:<)(SimpleName:fragmentCount))(Block(IfStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(QualifiedName:singleton.fragmentStack))(SimpleName:get)(METHOD_INVOCATION_ARGUMENTS(SimpleName:fragmentIndex))))(SimpleName:getChannelMap))(INFIX_EXPRESSION_OPERATOR:==)(SimpleName:channelMap))(BreakStatement)(ExpressionStatement(PostfixExpression(SimpleName:fragmentIndex)(POSTFIX_EXPRESSION_OPERATOR:++))))))(IfStatement(InfixExpression(SimpleName:fragmentIndex)(INFIX_EXPRESSION_OPERATOR:>=)(SimpleName:fragmentCount))(Block(VariableDeclarationStatement(SimpleType(SimpleName:GL20ResourceShaderFragment))(VariableDeclarationFragment(SimpleName:newFragment)(NullLiteral)))(IfStatement(InstanceofExpression(SimpleName:channelMap)(SimpleType(SimpleName:ColorMap)))(Block(IfStatement(InstanceofExpression(SimpleName:channelMap)(SimpleType(SimpleName:Graytone)))(ExpressionStatement(Assignment(SimpleName:newFragment)(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(SimpleType(SimpleName:GL20ResourceShaderFragmentGraytone)))))(IfStatement(InstanceofExpression(SimpleName:channelMap)(SimpleType(SimpleName:RGBColor)))(ExpressionStatement(Assignment(SimpleName:newFragment)(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(SimpleType(SimpleName:GL20ResourceShaderFragmentRGBColor))))))))(IfStatement(InstanceofExpression(SimpleName:channelMap)(SimpleType(SimpleName:ChannelMapNode)))(Block(IfStatement(InstanceofExpression(SimpleName:channelMap)(SimpleType(SimpleName:ChannelBlend)))(ExpressionStatement(Assignment(SimpleName:newFragment)(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(SimpleType(SimpleName:GL20ResourceShaderFragmentBlend)))))))))(IfStatement(InfixExpression(SimpleName:newFragment)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:newFragment))(SimpleName:setChannelMap)(METHOD_INVOCATION_ARGUMENTS(SimpleName:channelMap))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:newFragment))(SimpleName:update)))(ExpressionStatement(Assignment(SimpleName:returnValue)(ASSIGNMENT_OPERATOR:=)(SimpleName:newFragment)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(QualifiedName:singleton.fragmentStack))(SimpleName:add)(METHOD_INVOCATION_ARGUMENTS(SimpleName:newFragment)))))))(ExpressionStatement(Assignment(SimpleName:returnValue)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(QualifiedName:singleton.fragmentStack))(SimpleName:get)(METHOD_INVOCATION_ARGUMENTS(SimpleName:fragmentIndex))))))(ReturnStatement(SimpleName:returnValue))))))