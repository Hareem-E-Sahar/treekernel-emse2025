(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:public)(PrimitiveType:void)(SimpleName:run)(Block(VariableDeclarationStatement(SimpleType(SimpleName:RandomAccessFile))(VariableDeclarationFragment(SimpleName:raf)(NullLiteral)))(TryStatement(Block(ExpressionStatement(Assignment(SimpleName:raf)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(SimpleName:reserveRAF))))(VariableDeclarationStatement(PrimitiveType:long)(VariableDeclarationFragment(SimpleName:pos)(SimpleName:position)))(VariableDeclarationStatement(PrimitiveType:long)(VariableDeclarationFragment(SimpleName:rem)(SimpleName:length)))(WhileStatement(InfixExpression(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(SimpleName:destroyed))(INFIX_EXPRESSION_OPERATOR:&&)(InfixExpression(SimpleName:rem)(INFIX_EXPRESSION_OPERATOR:>)(NumberLiteral:0)))(Block(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:limit)))(IfStatement(SimpleName:paused)(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Thread))(SimpleName:sleep)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:250))))(ExpressionStatement(Assignment(SimpleName:limit)(ASSIGNMENT_OPERATOR:=)(NumberLiteral:1))))(Block(IfStatement(InfixExpression(SimpleName:max_bytes_per_sec)(INFIX_EXPRESSION_OPERATOR:>)(NumberLiteral:0))(Block(ExpressionStatement(Assignment(SimpleName:limit)(ASSIGNMENT_OPERATOR:=)(SimpleName:bytes_available)))(IfStatement(InfixExpression(SimpleName:limit)(INFIX_EXPRESSION_OPERATOR:<=)(NumberLiteral:0))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Thread))(SimpleName:sleep)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:25))))(ContinueStatement)))(ExpressionStatement(Assignment(SimpleName:limit)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Math))(SimpleName:min)(METHOD_INVOCATION_ARGUMENTS(SimpleName:BUFFER_SIZE)(SimpleName:limit))))))(Block(ExpressionStatement(Assignment(SimpleName:limit)(ASSIGNMENT_OPERATOR:=)(SimpleName:BUFFER_SIZE)))))(ExpressionStatement(Assignment(SimpleName:limit)(ASSIGNMENT_OPERATOR:=)(CastExpression(PrimitiveType:int)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Math))(SimpleName:min)(METHOD_INVOCATION_ARGUMENTS(SimpleName:rem)(SimpleName:limit))))))))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:read_length)(NumberLiteral:0)))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:buffer_start)(NumberLiteral:0)))(VariableDeclarationStatement(ArrayType(PrimitiveType:byte)(Dimension))(VariableDeclarationFragment(SimpleName:buffer)(NullLiteral)))(SynchronizedStatement(ThisExpression(SimpleName:TranscodePipe))(Block(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:c_num)(NumberLiteral:0)))(VariableDeclarationStatement(ParameterizedType(SimpleType(SimpleName:Iterator))(SimpleType(SimpleName:bufferCache)))(VariableDeclarationFragment(SimpleName:it)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:buffer_cache))(SimpleName:iterator))))(WhileStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:it))(SimpleName:hasNext))(Block(VariableDeclarationStatement(SimpleType(SimpleName:bufferCache))(VariableDeclarationFragment(SimpleName:b)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:it))(SimpleName:next))))(VariableDeclarationStatement(PrimitiveType:long)(VariableDeclarationFragment(SimpleName:rel_offset)(InfixExpression(SimpleName:pos)(INFIX_EXPRESSION_OPERATOR:-)(QualifiedName:b.offset))))(IfStatement(InfixExpression(SimpleName:rel_offset)(INFIX_EXPRESSION_OPERATOR:>=)(NumberLiteral:0))(Block(VariableDeclarationStatement(ArrayType(PrimitiveType:byte)(Dimension))(VariableDeclarationFragment(SimpleName:data)(QualifiedName:b.data)))(VariableDeclarationStatement(PrimitiveType:long)(VariableDeclarationFragment(SimpleName:avail)(InfixExpression(QualifiedName:data.length)(INFIX_EXPRESSION_OPERATOR:-)(SimpleName:rel_offset))))(IfStatement(InfixExpression(SimpleName:avail)(INFIX_EXPRESSION_OPERATOR:>)(NumberLiteral:0))(Block(ExpressionStatement(Assignment(SimpleName:read_length)(ASSIGNMENT_OPERATOR:=)(CastExpression(PrimitiveType:int)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Math))(SimpleName:min)(METHOD_INVOCATION_ARGUMENTS(SimpleName:avail)(SimpleName:limit))))))(ExpressionStatement(Assignment(SimpleName:buffer)(ASSIGNMENT_OPERATOR:=)(SimpleName:data)))(ExpressionStatement(Assignment(SimpleName:buffer_start)(ASSIGNMENT_OPERATOR:=)(CastExpression(PrimitiveType:int)(SimpleName:rel_offset))))(IfStatement(InfixExpression(SimpleName:c_num)(INFIX_EXPRESSION_OPERATOR:>)(NumberLiteral:0))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:it))(SimpleName:remove)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:buffer_cache))(SimpleName:addFirst)(METHOD_INVOCATION_ARGUMENTS(SimpleName:b))))))(BreakStatement)))))(ExpressionStatement(PostfixExpression(SimpleName:c_num)(POSTFIX_EXPRESSION_OPERATOR:++)))))(IfStatement(InfixExpression(SimpleName:buffer)(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(Block(ExpressionStatement(Assignment(SimpleName:buffer)(ASSIGNMENT_OPERATOR:=)(ArrayCreation(ArrayType(PrimitiveType:byte)(Dimension(SimpleName:limit))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:raf))(SimpleName:seek)(METHOD_INVOCATION_ARGUMENTS(SimpleName:pos))))(ExpressionStatement(Assignment(SimpleName:read_length)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:raf))(SimpleName:read)(METHOD_INVOCATION_ARGUMENTS(SimpleName:buffer)))))(IfStatement(InfixExpression(SimpleName:read_length)(INFIX_EXPRESSION_OPERATOR:!=)(SimpleName:limit))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Debug))(SimpleName:out)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))(ThrowStatement(ParenthesizedExpression(ClassInstanceCreation(SimpleType(SimpleName:IOException))(StringLiteral:<STR>))))))(VariableDeclarationStatement(SimpleType(SimpleName:bufferCache))(VariableDeclarationFragment(SimpleName:b)(ClassInstanceCreation(SimpleType(SimpleName:bufferCache))(SimpleName:pos)(SimpleName:buffer))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:buffer_cache))(SimpleName:addFirst)(METHOD_INVOCATION_ARGUMENTS(SimpleName:b))))(ExpressionStatement(Assignment(SimpleName:buffer_cache_size)(ASSIGNMENT_OPERATOR:+=)(SimpleName:limit)))(WhileStatement(InfixExpression(SimpleName:buffer_cache_size)(INFIX_EXPRESSION_OPERATOR:>)(SimpleName:BUFFER_CACHE_SIZE))(Block(ExpressionStatement(Assignment(SimpleName:b)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:buffer_cache))(SimpleName:removeLast))))(ExpressionStatement(Assignment(SimpleName:buffer_cache_size)(ASSIGNMENT_OPERATOR:-=)(QualifiedName:b.data.length)))))))))(IfStatement(InfixExpression(SimpleName:read_length)(INFIX_EXPRESSION_OPERATOR:<=)(NumberLiteral:0))(Block(BreakStatement)))(ExpressionStatement(Assignment(SimpleName:rem)(ASSIGNMENT_OPERATOR:-=)(SimpleName:read_length)))(ExpressionStatement(Assignment(SimpleName:pos)(ASSIGNMENT_OPERATOR:+=)(SimpleName:read_length)))(IfStatement(InfixExpression(SimpleName:max_bytes_per_sec)(INFIX_EXPRESSION_OPERATOR:>)(NumberLiteral:0))(Block(ExpressionStatement(Assignment(SimpleName:bytes_available)(ASSIGNMENT_OPERATOR:-=)(SimpleName:read_length)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:os))(SimpleName:write)(METHOD_INVOCATION_ARGUMENTS(SimpleName:buffer)(SimpleName:buffer_start)(SimpleName:read_length))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:write_speed))(SimpleName:addValue)(METHOD_INVOCATION_ARGUMENTS(SimpleName:read_length))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:os))(SimpleName:flush))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:Throwable))(SimpleName:e))(Block(IfStatement(InfixExpression(SimpleName:raf)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(TryStatement(Block(SynchronizedStatement(ThisExpression(SimpleName:TranscodePipe))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:raf))(SimpleName:seek)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:0))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:raf))(SimpleName:read)(METHOD_INVOCATION_ARGUMENTS(ArrayCreation(ArrayType(PrimitiveType:byte)(Dimension(NumberLiteral:1))))))))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:Throwable))(SimpleName:f))(Block(ExpressionStatement(MethodInvocation(SimpleName:reportError)(METHOD_INVOCATION_ARGUMENTS(SimpleName:e)))))))))))(Block(TryStatement(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:os))(SimpleName:close))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:Throwable))(SimpleName:e))(Block)))(IfStatement(InfixExpression(SimpleName:raf)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(ExpressionStatement(MethodInvocation(SimpleName:releaseRAF)(METHOD_INVOCATION_ARGUMENTS(SimpleName:raf))))))))))))