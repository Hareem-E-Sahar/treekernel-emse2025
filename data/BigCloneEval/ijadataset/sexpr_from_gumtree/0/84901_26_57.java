(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:public)(SimpleName:G8RResponse)(SingleVariableDeclaration(SimpleType(SimpleName:InputStream))(SimpleName:source))(SimpleType(SimpleName:G8RException))(SimpleType(SimpleName:EOFException))(Block(VariableDeclarationStatement(SimpleType(SimpleName:G8RMessageReader))(VariableDeclarationFragment(SimpleName:reader)(ClassInstanceCreation(SimpleType(SimpleName:G8RMessageReader))(SimpleName:source))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:buffer)))(VariableDeclarationStatement(SimpleType(SimpleName:Scanner))(VariableDeclarationFragment(SimpleName:firstLine)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:reader))(SimpleName:readLine))))(IfStatement(InfixExpression(SimpleName:firstLine)(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(Block(ThrowStatement(ClassInstanceCreation(SimpleType(SimpleName:G8RException))(QualifiedName:G8RErrors.EMPTY)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:G8RProtocolUtility))(SimpleName:checkVersion)(METHOD_INVOCATION_ARGUMENTS(SimpleName:firstLine))))(ExpressionStatement(Assignment(SimpleName:buffer)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:firstLine))(SimpleName:next))))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:buffer))(SimpleName:equals)(METHOD_INVOCATION_ARGUMENTS(SimpleName:OK)))(Block(ExpressionStatement(Assignment(SimpleName:status)(ASSIGNMENT_OPERATOR:=)(SimpleName:buffer))))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:buffer))(SimpleName:equals)(METHOD_INVOCATION_ARGUMENTS(SimpleName:ERROR)))(Block(ExpressionStatement(Assignment(SimpleName:status)(ASSIGNMENT_OPERATOR:=)(SimpleName:buffer))))(Block(ThrowStatement(ClassInstanceCreation(SimpleType(SimpleName:G8RException))(QualifiedName:G8RErrors.STATUS))))))(ExpressionStatement(MethodInvocation(SimpleName:setFunction)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:firstLine))(SimpleName:next)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:G8RProtocolUtility))(SimpleName:validateToken)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(SimpleName:getFunction)))))(TryStatement(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:firstLine))(SimpleName:skip)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:NoSuchElementException))(SimpleName:e))(Block(ThrowStatement(ClassInstanceCreation(SimpleType(SimpleName:G8RException))(QualifiedName:G8RErrors.SPACE))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:firstLine))(SimpleName:useDelimiter)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:firstLine))(SimpleName:hasNext)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))(Block(ExpressionStatement(Assignment(SimpleName:message)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:firstLine))(SimpleName:next)))))(Block(ExpressionStatement(Assignment(SimpleName:message)(ASSIGNMENT_OPERATOR:=)(StringLiteral:<STR>)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:firstLine))(SimpleName:close)))(ExpressionStatement(MethodInvocation(SimpleName:setCookies)(METHOD_INVOCATION_ARGUMENTS(ClassInstanceCreation(SimpleType(SimpleName:CookieList))(SimpleName:reader)))))))))