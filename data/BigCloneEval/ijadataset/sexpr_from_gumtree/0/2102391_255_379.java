(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:public)(SimpleType(SimpleName:Request))(SimpleName:buildRequestWithAuthorizationHeader)(SingleVariableDeclaration(SimpleType(SimpleName:ResponseEvent))(SimpleName:event))(SingleVariableDeclaration(SimpleType(SimpleName:String))(SimpleName:password))(SimpleType(SimpleName:TransactionUnavailableException))(Block(VariableDeclarationStatement(SimpleType(SimpleName:Request))(VariableDeclarationFragment(SimpleName:request)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:event))(SimpleName:getClientTransaction)))(SimpleName:getRequest))))(VariableDeclarationStatement(SimpleType(SimpleName:Response))(VariableDeclarationFragment(SimpleName:response)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:event))(SimpleName:getResponse))))(IfStatement(InfixExpression(SimpleName:request)(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(Block(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:log))(SimpleName:isDebugEnabled))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:log))(SimpleName:debug)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))))(ReturnStatement(NullLiteral)))(Block(VariableDeclarationStatement(SimpleType(SimpleName:CSeqHeader))(VariableDeclarationFragment(SimpleName:cseqHeader)(CastExpression(SimpleType(SimpleName:CSeqHeader))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:request))(SimpleName:getHeader)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:CSeqHeader.NAME))))))(VariableDeclarationStatement(SimpleType(SimpleName:FromHeader))(VariableDeclarationFragment(SimpleName:fromHeaderReq)(CastExpression(SimpleType(SimpleName:FromHeader))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:request))(SimpleName:getHeader)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:FromHeader.NAME))))))(VariableDeclarationStatement(SimpleType(SimpleName:Address))(VariableDeclarationFragment(SimpleName:fromAddressReq)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fromHeaderReq))(SimpleName:getAddress))))(VariableDeclarationStatement(SimpleType(SimpleName:ToHeader))(VariableDeclarationFragment(SimpleName:toHeader)(CastExpression(SimpleType(SimpleName:ToHeader))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:request))(SimpleName:getHeader)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:ToHeader.NAME))))))(VariableDeclarationStatement(SimpleType(SimpleName:Address))(VariableDeclarationFragment(SimpleName:toAddress)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:toHeader))(SimpleName:getAddress))))(VariableDeclarationStatement(SimpleType(SimpleName:Request))(VariableDeclarationFragment(SimpleName:newRequest)(NullLiteral)))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:callId)(MethodInvocation(METHOD_INVOCATION_RECEIVER(ParenthesizedExpression(CastExpression(SimpleType(SimpleName:CallIdHeader))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:response))(SimpleName:getHeader)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:CallIdHeader.NAME))))))(SimpleName:getCallId))))(TryStatement(Block(ExpressionStatement(Assignment(SimpleName:newRequest)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(SimpleName:buildInvite)(METHOD_INVOCATION_ARGUMENTS(SimpleName:fromAddressReq)(SimpleName:toAddress)(NullLiteral)(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:cseqHeader))(SimpleName:getSequenceNumber))(INFIX_EXPRESSION_OPERATOR:+)(NumberLiteral:1))(SimpleName:callId))))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:ParseException))(SimpleName:parseExc))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:parseExc))(SimpleName:printStackTrace)))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:InvalidArgumentException))(SimpleName:invaliArgExc))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:invaliArgExc))(SimpleName:printStackTrace))))))(VariableDeclarationStatement(SimpleType(SimpleName:WWWAuthenticateHeader))(VariableDeclarationFragment(SimpleName:wwwAuthenticateHeader)(CastExpression(SimpleType(SimpleName:WWWAuthenticateHeader))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:response))(SimpleName:getHeader)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:WWWAuthenticateHeader.NAME))))))(VariableDeclarationStatement(SimpleType(SimpleName:ProxyAuthenticateHeader))(VariableDeclarationFragment(SimpleName:proxyAuthenticateHeader)(CastExpression(SimpleType(SimpleName:ProxyAuthenticateHeader))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:response))(SimpleName:getHeader)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:ProxyAuthenticateHeader.NAME))))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:realm)(NullLiteral)))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:nonce)(NullLiteral)))(IfStatement(InfixExpression(SimpleName:wwwAuthenticateHeader)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:log))(SimpleName:isDebugEnabled))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:log))(SimpleName:debug)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))))(ExpressionStatement(Assignment(SimpleName:realm)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:wwwAuthenticateHeader))(SimpleName:getRealm))))(ExpressionStatement(Assignment(SimpleName:nonce)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:wwwAuthenticateHeader))(SimpleName:getNonce)))))(IfStatement(InfixExpression(SimpleName:proxyAuthenticateHeader)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:log))(SimpleName:isDebugEnabled))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:log))(SimpleName:debug)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))))(ExpressionStatement(Assignment(SimpleName:realm)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:proxyAuthenticateHeader))(SimpleName:getRealm))))(ExpressionStatement(Assignment(SimpleName:nonce)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:proxyAuthenticateHeader))(SimpleName:getNonce)))))(Block(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:log))(SimpleName:isDebugEnabled))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:log))(SimpleName:debug)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))))(ReturnStatement(NullLiteral)))))(VariableDeclarationStatement(Modifier:final)(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:method)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:cseqHeader))(SimpleName:getMethod))))(VariableDeclarationStatement(Modifier:final)(SimpleType(SimpleName:FromHeader))(VariableDeclarationFragment(SimpleName:fromHeader)(ParenthesizedExpression(CastExpression(SimpleType(SimpleName:FromHeader))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:response))(SimpleName:getHeader)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:FromHeader.NAME)))))))(VariableDeclarationStatement(SimpleType(SimpleName:Address))(VariableDeclarationFragment(SimpleName:address)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fromHeader))(SimpleName:getAddress))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:fromHost)(NullLiteral)))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:fromUser)(NullLiteral)))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:fromPort)(NumberLiteral:0)))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:toHost)(NullLiteral)))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:toUser)(NullLiteral)))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:toPort)(NumberLiteral:0)))(VariableDeclarationStatement(SimpleType(SimpleName:SipURI))(VariableDeclarationFragment(SimpleName:fromSipURI)(NullLiteral)))(VariableDeclarationStatement(SimpleType(SimpleName:SipURI))(VariableDeclarationFragment(SimpleName:toSipURI)(NullLiteral)))(TryStatement(Block(ExpressionStatement(Assignment(SimpleName:fromSipURI)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(SimpleName:convertAddressToSipURI)(METHOD_INVOCATION_ARGUMENTS(SimpleName:address)))))(ExpressionStatement(Assignment(SimpleName:toSipURI)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(SimpleName:convertAddressToSipURI)(METHOD_INVOCATION_ARGUMENTS(SimpleName:toAddress))))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:ParseException))(SimpleName:e2))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:e2))(SimpleName:printStackTrace))))))(ExpressionStatement(Assignment(SimpleName:fromHost)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fromSipURI))(SimpleName:getHost))))(ExpressionStatement(Assignment(SimpleName:fromUser)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fromSipURI))(SimpleName:getUser))))(ExpressionStatement(Assignment(SimpleName:fromPort)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fromSipURI))(SimpleName:getPort))))(ExpressionStatement(Assignment(SimpleName:toHost)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:toSipURI))(SimpleName:getHost))))(ExpressionStatement(Assignment(SimpleName:toUser)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:toSipURI))(SimpleName:getUser))))(ExpressionStatement(Assignment(SimpleName:toPort)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:toSipURI))(SimpleName:getPort))))(IfStatement(InfixExpression(SimpleName:fromPort)(INFIX_EXPRESSION_OPERATOR:!=)(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:-)(NumberLiteral:1)))(Block(ExpressionStatement(Assignment(SimpleName:fromHost)(ASSIGNMENT_OPERATOR:+=)(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:fromPort))))))(VariableDeclarationStatement(SimpleType(SimpleName:SipURI))(VariableDeclarationFragment(SimpleName:uri)(NullLiteral)))(TryStatement(Block(ExpressionStatement(Assignment(SimpleName:uri)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:addressFactory))(SimpleName:createSipURI)(METHOD_INVOCATION_ARGUMENTS(SimpleName:toUser)(SimpleName:toHost))))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:ParseException))(SimpleName:e1))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:e1))(SimpleName:printStackTrace))))))(VariableDeclarationStatement(SimpleType(SimpleName:MessageDigest))(VariableDeclarationFragment(SimpleName:md5)(NullLiteral)))(TryStatement(Block(ExpressionStatement(Assignment(SimpleName:md5)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:MessageDigest))(SimpleName:getInstance)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:NoSuchAlgorithmException))(SimpleName:e))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:e))(SimpleName:printStackTrace))))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:A1)(InfixExpression(SimpleName:fromUser)(INFIX_EXPRESSION_OPERATOR:+)(StringLiteral:<STR>)(SimpleName:realm)(StringLiteral:<STR>)(SimpleName:password))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:A2)(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:method))(SimpleName:toUpperCase))(INFIX_EXPRESSION_OPERATOR:+)(StringLiteral:<STR>)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:uri))(SimpleName:toString)))))(VariableDeclarationStatement(PrimitiveType:byte)(VariableDeclarationFragment(SimpleName:mdbytes)(Dimension)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:md5))(SimpleName:digest)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:A1))(SimpleName:getBytes))))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:HA1)(MethodInvocation(SimpleName:toHexString)(METHOD_INVOCATION_ARGUMENTS(SimpleName:mdbytes)))))(ExpressionStatement(Assignment(SimpleName:mdbytes)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:md5))(SimpleName:digest)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:A2))(SimpleName:getBytes))))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:HA2)(MethodInvocation(SimpleName:toHexString)(METHOD_INVOCATION_ARGUMENTS(SimpleName:mdbytes)))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:KD)(InfixExpression(SimpleName:HA1)(INFIX_EXPRESSION_OPERATOR:+)(StringLiteral:<STR>)(SimpleName:nonce)(StringLiteral:<STR>)(SimpleName:HA2))))(ExpressionStatement(Assignment(SimpleName:mdbytes)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:md5))(SimpleName:digest)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:KD))(SimpleName:getBytes))))))(IfStatement(InfixExpression(SimpleName:wwwAuthenticateHeader)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(VariableDeclarationStatement(SimpleType(SimpleName:AuthorizationHeader))(VariableDeclarationFragment(SimpleName:ah)(NullLiteral)))(TryStatement(Block(ExpressionStatement(Assignment(SimpleName:ah)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:headerFactory))(SimpleName:createAuthorizationHeader)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ah))(SimpleName:setUsername)(METHOD_INVOCATION_ARGUMENTS(SimpleName:fromUser))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ah))(SimpleName:setRealm)(METHOD_INVOCATION_ARGUMENTS(SimpleName:realm))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ah))(SimpleName:setAlgorithm)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ah))(SimpleName:setURI)(METHOD_INVOCATION_ARGUMENTS(SimpleName:uri))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ah))(SimpleName:setNonce)(METHOD_INVOCATION_ARGUMENTS(SimpleName:nonce))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ah))(SimpleName:setResponse)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(SimpleName:toHexString)(METHOD_INVOCATION_ARGUMENTS(SimpleName:mdbytes))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:newRequest))(SimpleName:setHeader)(METHOD_INVOCATION_ARGUMENTS(SimpleName:ah)))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:ParseException))(SimpleName:e))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:e))(SimpleName:printStackTrace)))))))(Block(VariableDeclarationStatement(SimpleType(SimpleName:ProxyAuthorizationHeader))(VariableDeclarationFragment(SimpleName:pah)(NullLiteral)))(TryStatement(Block(ExpressionStatement(Assignment(SimpleName:pah)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:headerFactory))(SimpleName:createProxyAuthorizationHeader)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:pah))(SimpleName:setUsername)(METHOD_INVOCATION_ARGUMENTS(SimpleName:fromUser))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:pah))(SimpleName:setRealm)(METHOD_INVOCATION_ARGUMENTS(SimpleName:realm))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:pah))(SimpleName:setAlgorithm)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:pah))(SimpleName:setURI)(METHOD_INVOCATION_ARGUMENTS(SimpleName:uri))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:pah))(SimpleName:setNonce)(METHOD_INVOCATION_ARGUMENTS(SimpleName:nonce))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:pah))(SimpleName:setResponse)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(SimpleName:toHexString)(METHOD_INVOCATION_ARGUMENTS(SimpleName:mdbytes))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:newRequest))(SimpleName:setHeader)(METHOD_INVOCATION_ARGUMENTS(SimpleName:pah)))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:ParseException))(SimpleName:e))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:e))(SimpleName:printStackTrace))))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:log))(SimpleName:debug)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:log))(SimpleName:debug)(METHOD_INVOCATION_ARGUMENTS(SimpleName:newRequest))))(ReturnStatement(SimpleName:newRequest))))))))