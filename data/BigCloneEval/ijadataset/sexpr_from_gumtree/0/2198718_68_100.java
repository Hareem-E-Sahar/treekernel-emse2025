(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:public)(PrimitiveType:int)(SimpleName:doEndTag)(SimpleType(SimpleName:JspException))(Block(TryStatement(Block(VariableDeclarationStatement(SimpleType(SimpleName:StringWriter))(VariableDeclarationFragment(SimpleName:writer)(ClassInstanceCreation(SimpleType(SimpleName:StringWriter)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:bodyContent))(SimpleName:writeOut)(METHOD_INVOCATION_ARGUMENTS(SimpleName:writer))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:body)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:writer))(SimpleName:toString))))(VariableDeclarationStatement(SimpleType(SimpleName:Message))(VariableDeclarationFragment(SimpleName:msg)(ClassInstanceCreation(SimpleType(SimpleName:MimeMessage))(SimpleName:mailSession))))(VariableDeclarationStatement(ArrayType(SimpleType(SimpleName:Address))(Dimension))(VariableDeclarationFragment(SimpleName:reciadds)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:InternetAddress))(SimpleName:parse)(METHOD_INVOCATION_ARGUMENTS(FieldAccess(ThisExpression)(SimpleName:recipient))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:msg))(SimpleName:setRecipients)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:Message.RecipientType.TO)(SimpleName:reciadds))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:msg))(SimpleName:setFrom)(METHOD_INVOCATION_ARGUMENTS(ClassInstanceCreation(SimpleType(SimpleName:InternetAddress))(FieldAccess(ThisExpression)(SimpleName:replyTo))(FieldAccess(ThisExpression)(SimpleName:sender))))))(VariableDeclarationStatement(ArrayType(SimpleType(SimpleName:Address))(Dimension))(VariableDeclarationFragment(SimpleName:reply)(ArrayInitializer(ClassInstanceCreation(SimpleType(SimpleName:InternetAddress))(FieldAccess(ThisExpression)(SimpleName:replyTo))(FieldAccess(ThisExpression)(SimpleName:sender))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:msg))(SimpleName:setReplyTo)(METHOD_INVOCATION_ARGUMENTS(SimpleName:reply))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:msg))(SimpleName:setSubject)(METHOD_INVOCATION_ARGUMENTS(FieldAccess(ThisExpression)(SimpleName:subject)))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:useCharSet)(FieldAccess(ThisExpression)(SimpleName:charSet))))(IfStatement(InfixExpression(SimpleName:useCharSet)(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(Block(ExpressionStatement(Assignment(SimpleName:useCharSet)(ASSIGNMENT_OPERATOR:=)(StringLiteral:<STR>)))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:useMimeType)(FieldAccess(ThisExpression)(SimpleName:contentType))))(IfStatement(InfixExpression(SimpleName:useMimeType)(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(Block(ExpressionStatement(Assignment(SimpleName:useMimeType)(ASSIGNMENT_OPERATOR:=)(StringLiteral:<STR>)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(QualifiedName:System.err))(SimpleName:println)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:useMimeType)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(QualifiedName:System.err))(SimpleName:println)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:useCharSet)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:msg))(SimpleName:setContent)(METHOD_INVOCATION_ARGUMENTS(ClassInstanceCreation(SimpleType(SimpleName:String))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:body))(SimpleName:getBytes)))(InfixExpression(SimpleName:useMimeType)(INFIX_EXPRESSION_OPERATOR:+)(StringLiteral:<STR>)(SimpleName:useCharSet)(StringLiteral:<STR>)))))(VariableDeclarationStatement(SimpleType(SimpleName:Transport))(VariableDeclarationFragment(SimpleName:trans)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:mailSession))(SimpleName:getTransport))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Transport))(SimpleName:send)(METHOD_INVOCATION_ARGUMENTS(SimpleName:msg)))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:Exception))(SimpleName:e))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(QualifiedName:System.err))(SimpleName:println)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:e)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:e))(SimpleName:printStackTrace))))))(ExpressionStatement(Assignment(FieldAccess(ThisExpression)(SimpleName:charSet))(ASSIGNMENT_OPERATOR:=)(NullLiteral)))(ExpressionStatement(Assignment(FieldAccess(ThisExpression)(SimpleName:contentType))(ASSIGNMENT_OPERATOR:=)(NullLiteral)))(ReturnStatement(SimpleName:EVAL_PAGE))))))