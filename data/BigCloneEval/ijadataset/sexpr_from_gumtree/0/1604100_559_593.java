(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(MarkerAnnotation(SimpleName:Override))(Modifier:public)(PrimitiveType:int)(SimpleName:read)(SingleVariableDeclaration(PrimitiveType:boolean)(SimpleName:firstRead))(SingleVariableDeclaration(PrimitiveType:long)(SimpleName:readCount))(Block(IfStatement(InfixExpression(InfixExpression(SimpleName:readCount)(INFIX_EXPRESSION_OPERATOR:>)(SimpleName:INITIAL_BUFFER_SIZE))(INFIX_EXPRESSION_OPERATOR:&&)(InfixExpression(SimpleName:readCount)(INFIX_EXPRESSION_OPERATOR:<)(SimpleName:maxMemorySize)))(Block(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:newMargin)(InfixExpression(SimpleName:maxMemorySize)(INFIX_EXPRESSION_OPERATOR:-)(SimpleName:MARGIN_MEDIUM))))(IfStatement(InfixExpression(SimpleName:bufferOverflowWarning)(INFIX_EXPRESSION_OPERATOR:!=)(SimpleName:newMargin))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:logger))(SimpleName:debug)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))))(ExpressionStatement(Assignment(FieldAccess(ThisExpression)(SimpleName:bufferOverflowWarning))(ASSIGNMENT_OPERATOR:=)(SimpleName:newMargin)))))(IfStatement(InfixExpression(SimpleName:eof)(INFIX_EXPRESSION_OPERATOR:&&)(InfixExpression(SimpleName:readCount)(INFIX_EXPRESSION_OPERATOR:>=)(SimpleName:writeCount)))(Block(ReturnStatement(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:-)(NumberLiteral:1)))))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:c)(NumberLiteral:0)))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:minBufferS)(ConditionalExpression(SimpleName:firstRead)(SimpleName:minMemorySize)(SimpleName:secondread_minsize))))(WhileStatement(InfixExpression(InfixExpression(InfixExpression(InfixExpression(SimpleName:writeCount)(INFIX_EXPRESSION_OPERATOR:-)(SimpleName:readCount))(INFIX_EXPRESSION_OPERATOR:<=)(SimpleName:minBufferS))(INFIX_EXPRESSION_OPERATOR:&&)(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(SimpleName:eof)))(INFIX_EXPRESSION_OPERATOR:&&)(InfixExpression(SimpleName:c)(INFIX_EXPRESSION_OPERATOR:<)(NumberLiteral:15)))(Block(IfStatement(InfixExpression(SimpleName:c)(INFIX_EXPRESSION_OPERATOR:==)(NumberLiteral:0))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:logger))(SimpleName:trace)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:readCount)(StringLiteral:<STR>)(SimpleName:writeCount)))))))(ExpressionStatement(PostfixExpression(SimpleName:c)(POSTFIX_EXPRESSION_OPERATOR:++)))(TryStatement(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Thread))(SimpleName:sleep)(METHOD_INVOCATION_ARGUMENTS(SimpleName:CHECK_INTERVAL)))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:InterruptedException))(SimpleName:e))(Block)))))(IfStatement(InfixExpression(SimpleName:attachedThread)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:attachedThread))(SimpleName:setReadyToStop)(METHOD_INVOCATION_ARGUMENTS(BooleanLiteral:false))))))(IfStatement(InfixExpression(SimpleName:c)(INFIX_EXPRESSION_OPERATOR:>)(NumberLiteral:0))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:logger))(SimpleName:trace)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:readCount)(StringLiteral:<STR>)(SimpleName:writeCount)))))))(IfStatement(InfixExpression(InfixExpression(SimpleName:buffer)(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(INFIX_EXPRESSION_OPERATOR:||)(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(SimpleName:buffered)))(Block(ReturnStatement(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:-)(NumberLiteral:1)))))(ReturnStatement(InfixExpression(NumberLiteral:0xff)(INFIX_EXPRESSION_OPERATOR:&)(ArrayAccess(SimpleName:buffer)(CastExpression(PrimitiveType:int)(ParenthesizedExpression(InfixExpression(SimpleName:readCount)(INFIX_EXPRESSION_OPERATOR:%)(SimpleName:maxMemorySize)))))))))))