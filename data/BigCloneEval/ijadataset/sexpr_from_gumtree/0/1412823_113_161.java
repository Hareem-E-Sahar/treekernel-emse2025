(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:public)(PrimitiveType:boolean)(SimpleName:decode)(SingleVariableDeclaration(SimpleType(SimpleName:ByteBuffer))(SimpleName:in))(SingleVariableDeclaration(SimpleType(SimpleName:RtmpSession))(SimpleName:session))(Block(VariableDeclarationStatement(Modifier:final)(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:position)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:in))(SimpleName:position))))(ExpressionStatement(Assignment(SimpleName:header)(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(SimpleType(SimpleName:Header)))))(IfStatement(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:header))(SimpleName:decode)(METHOD_INVOCATION_ARGUMENTS(SimpleName:in)(SimpleName:session))))(Block(ReturnStatement(BooleanLiteral:false))))(VariableDeclarationStatement(Modifier:final)(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:channelId)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:header))(SimpleName:getChannelId))))(VariableDeclarationStatement(SimpleType(SimpleName:Packet))(VariableDeclarationFragment(SimpleName:prevPacket)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:session))(SimpleName:getPrevPacketsIn)))(SimpleName:get)(METHOD_INVOCATION_ARGUMENTS(SimpleName:channelId)))))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:toReadRemaining)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:header))(SimpleName:getSize))))(IfStatement(InfixExpression(SimpleName:prevPacket)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(ExpressionStatement(Assignment(SimpleName:toReadRemaining)(ASSIGNMENT_OPERATOR:-=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(QualifiedName:prevPacket.data))(SimpleName:position))))))(VariableDeclarationStatement(Modifier:final)(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:chunkSize)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:session))(SimpleName:getChunkSize))))(VariableDeclarationStatement(Modifier:final)(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:toReadNow)(ConditionalExpression(InfixExpression(SimpleName:toReadRemaining)(INFIX_EXPRESSION_OPERATOR:>)(SimpleName:chunkSize))(SimpleName:chunkSize)(SimpleName:toReadRemaining))))(IfStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:in))(SimpleName:remaining))(INFIX_EXPRESSION_OPERATOR:<)(SimpleName:toReadNow))(Block(ReturnStatement(BooleanLiteral:false))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:session))(SimpleName:getPrevHeadersIn)))(SimpleName:put)(METHOD_INVOCATION_ARGUMENTS(SimpleName:channelId)(SimpleName:header))))(VariableDeclarationStatement(PrimitiveType:boolean)(VariableDeclarationFragment(SimpleName:isNewPacket)(BooleanLiteral:false)))(IfStatement(InfixExpression(SimpleName:prevPacket)(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(Block(ExpressionStatement(Assignment(SimpleName:isNewPacket)(ASSIGNMENT_OPERATOR:=)(BooleanLiteral:true)))(ExpressionStatement(Assignment(SimpleName:prevPacket)(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(SimpleType(SimpleName:Packet))(SimpleName:header)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:header))(SimpleName:getSize)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:session))(SimpleName:getPrevPacketsIn)))(SimpleName:put)(METHOD_INVOCATION_ARGUMENTS(SimpleName:channelId)(SimpleName:prevPacket)))))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:header))(SimpleName:setRelative)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(QualifiedName:prevPacket.header))(SimpleName:isRelative)))))))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:logger))(SimpleName:isDebugEnabled))(Block(VariableDeclarationStatement(ArrayType(PrimitiveType:byte)(Dimension))(VariableDeclarationFragment(SimpleName:bytes)(ArrayCreation(ArrayType(PrimitiveType:byte)(Dimension(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:in))(SimpleName:position))(INFIX_EXPRESSION_OPERATOR:-)(SimpleName:position)))))))(ForStatement(VariableDeclarationExpression(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:i)(NumberLiteral:0)))(InfixExpression(SimpleName:i)(INFIX_EXPRESSION_OPERATOR:<)(QualifiedName:bytes.length))(PostfixExpression(SimpleName:i)(POSTFIX_EXPRESSION_OPERATOR:++))(Block(ExpressionStatement(Assignment(ArrayAccess(SimpleName:bytes)(SimpleName:i))(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:in))(SimpleName:get)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(SimpleName:position)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:i))))))))(IfStatement(SimpleName:isNewPacket)(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:logger))(SimpleName:debug)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:logger))(SimpleName:debug)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:header)(StringLiteral:<STR>)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Utils))(SimpleName:toHex)(METHOD_INVOCATION_ARGUMENTS(SimpleName:bytes))))))))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:logger))(SimpleName:debug)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:header)(StringLiteral:<STR>)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Utils))(SimpleName:toHex)(METHOD_INVOCATION_ARGUMENTS(SimpleName:bytes)))(StringLiteral:<STR>)(QualifiedName:prevPacket.header)))))))))(ExpressionStatement(Assignment(SimpleName:data)(ASSIGNMENT_OPERATOR:=)(QualifiedName:prevPacket.data)))(VariableDeclarationStatement(ArrayType(PrimitiveType:byte)(Dimension))(VariableDeclarationFragment(SimpleName:bytes)(ArrayCreation(ArrayType(PrimitiveType:byte)(Dimension(SimpleName:toReadNow))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:in))(SimpleName:get)(METHOD_INVOCATION_ARGUMENTS(SimpleName:bytes))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:data))(SimpleName:put)(METHOD_INVOCATION_ARGUMENTS(SimpleName:bytes))))(IfStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:data))(SimpleName:position))(INFIX_EXPRESSION_OPERATOR:==)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:header))(SimpleName:getSize)))(Block(ExpressionStatement(Assignment(SimpleName:complete)(ASSIGNMENT_OPERATOR:=)(BooleanLiteral:true)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:session))(SimpleName:getPrevPacketsIn)))(SimpleName:remove)(METHOD_INVOCATION_ARGUMENTS(SimpleName:channelId))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:data))(SimpleName:flip)))))(ReturnStatement(BooleanLiteral:true))))))