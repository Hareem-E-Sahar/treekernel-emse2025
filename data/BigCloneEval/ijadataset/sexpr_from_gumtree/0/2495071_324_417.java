(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(MarkerAnnotation(SimpleName:Override))(Modifier:public)(ParameterizedType(SimpleType(SimpleName:List))(SimpleType(SimpleName:Integer)))(SimpleName:executeUpdateGetGeneratedKeys)(SingleVariableDeclaration(SimpleType(SimpleName:IBBDBeanAPI))(SimpleName:storedProcedure))(SingleVariableDeclaration(SingleVariableDeclaration(VARARGS_TYPE(SimpleType(SimpleName:Object)))(SimpleName:params)))(SimpleType(SimpleName:SQLException))(Block(VariableDeclarationStatement(ParameterizedType(SimpleType(SimpleName:ArrayList))(SimpleType(SimpleName:Integer)))(VariableDeclarationFragment(SimpleName:sqlAL)(ClassInstanceCreation(SimpleType(SimpleName:ArrayList)))))(VariableDeclarationStatement(SimpleType(SimpleName:Statement))(VariableDeclarationFragment(SimpleName:stmt)(NullLiteral)))(VariableDeclarationStatement(SimpleType(SimpleName:PreparedStatement))(VariableDeclarationFragment(SimpleName:pstmt)(NullLiteral)))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:updatedRows)(NumberLiteral:0)))(VariableDeclarationStatement(SimpleType(SimpleName:ResultSet))(VariableDeclarationFragment(SimpleName:rs)(NullLiteral)))(VariableDeclarationStatement(SimpleType(SimpleName:BBDAPIPrincipal))(VariableDeclarationFragment(SimpleName:principal)(CastExpression(SimpleType(SimpleName:BBDAPIPrincipal))(MethodInvocation(METHOD_INVOCATION_RECEIVER(ParenthesizedExpression(CastExpression(SimpleType(SimpleName:BBDBeanAPI))(SimpleName:storedProcedure))))(SimpleName:getBbdPrincipal)))))(VariableDeclarationStatement(PrimitiveType:boolean)(VariableDeclarationFragment(SimpleName:mySQL)(BooleanLiteral:true)))(TryStatement(Block(IfStatement(InfixExpression(QualifiedName:params.length)(INFIX_EXPRESSION_OPERATOR:==)(NumberLiteral:0))(Block(ExpressionStatement(Assignment(SimpleName:stmt)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(SimpleName:getConnection)(METHOD_INVOCATION_ARGUMENTS(SimpleName:principal))))(SimpleName:createStatement))))(ExpressionStatement(Assignment(SimpleName:updatedRows)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:stmt))(SimpleName:executeUpdate)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(SimpleName:getSQL)(METHOD_INVOCATION_ARGUMENTS(SimpleName:storedProcedure)))(QualifiedName:Statement.RETURN_GENERATED_KEYS)))))(IfStatement(SimpleName:mySQL)(Block(ExpressionStatement(Assignment(SimpleName:rs)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:stmt))(SimpleName:getResultSet)))))(Block(ExpressionStatement(Assignment(SimpleName:rs)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:stmt))(SimpleName:getGeneratedKeys)))))))(Block(ExpressionStatement(Assignment(SimpleName:pstmt)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(SimpleName:getConnection)(METHOD_INVOCATION_ARGUMENTS(SimpleName:principal))))(SimpleName:prepareStatement)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(SimpleName:getSQL)(METHOD_INVOCATION_ARGUMENTS(SimpleName:storedProcedure)))(QualifiedName:Statement.RETURN_GENERATED_KEYS)))))(ExpressionStatement(MethodInvocation(SimpleName:insertArguments)(METHOD_INVOCATION_ARGUMENTS(SimpleName:storedProcedure)(SimpleName:params)(SimpleName:pstmt))))(ExpressionStatement(Assignment(SimpleName:updatedRows)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:pstmt))(SimpleName:executeUpdate))))(IfStatement(SimpleName:mySQL)(Block(ExpressionStatement(Assignment(SimpleName:rs)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:pstmt))(SimpleName:getResultSet)))))(Block(ExpressionStatement(Assignment(SimpleName:rs)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:pstmt))(SimpleName:getGeneratedKeys))))))))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:rowsChanged)(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:-)(NumberLiteral:1))))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:endOfKeysIndex)(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:-)(NumberLiteral:1))))(IfStatement(SimpleName:mySQL)(Block(WhileStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:rs))(SimpleName:next))(Block(ExpressionStatement(Assignment(SimpleName:rowsChanged)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:rs))(SimpleName:getInt)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:1)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:sqlAL))(SimpleName:add)(METHOD_INVOCATION_ARGUMENTS(SimpleName:rowsChanged))))(ExpressionStatement(Assignment(SimpleName:endOfKeysIndex)(ASSIGNMENT_OPERATOR:=)(InfixExpression(SimpleName:rowsChanged)(INFIX_EXPRESSION_OPERATOR:+)(NumberLiteral:2))))(ForStatement(VariableDeclarationExpression(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:i)(NumberLiteral:2)))(InfixExpression(SimpleName:i)(INFIX_EXPRESSION_OPERATOR:<)(SimpleName:endOfKeysIndex))(PostfixExpression(SimpleName:i)(POSTFIX_EXPRESSION_OPERATOR:++))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:sqlAL))(SimpleName:add)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:rs))(SimpleName:getInt)(METHOD_INVOCATION_ARGUMENTS(SimpleName:i))))))))))(IfStatement(InfixExpression(QualifiedName:params.length)(INFIX_EXPRESSION_OPERATOR:==)(NumberLiteral:0))(Block(WhileStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:stmt))(SimpleName:getMoreResults))(Block(ExpressionStatement(Assignment(SimpleName:rs)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:stmt))(SimpleName:getResultSet))))(WhileStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:rs))(SimpleName:next))(Block(ExpressionStatement(Assignment(SimpleName:rowsChanged)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:rs))(SimpleName:getInt)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:1)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:sqlAL))(SimpleName:add)(METHOD_INVOCATION_ARGUMENTS(SimpleName:rowsChanged))))(ExpressionStatement(Assignment(SimpleName:endOfKeysIndex)(ASSIGNMENT_OPERATOR:=)(InfixExpression(SimpleName:rowsChanged)(INFIX_EXPRESSION_OPERATOR:+)(NumberLiteral:2))))(ForStatement(VariableDeclarationExpression(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:i)(NumberLiteral:2)))(InfixExpression(SimpleName:i)(INFIX_EXPRESSION_OPERATOR:<)(SimpleName:endOfKeysIndex))(PostfixExpression(SimpleName:i)(POSTFIX_EXPRESSION_OPERATOR:++))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:sqlAL))(SimpleName:add)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:rs))(SimpleName:getInt)(METHOD_INVOCATION_ARGUMENTS(SimpleName:i)))))))))))))(Block(WhileStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:pstmt))(SimpleName:getMoreResults))(Block(ExpressionStatement(Assignment(SimpleName:rs)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:pstmt))(SimpleName:getResultSet))))(WhileStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:rs))(SimpleName:next))(Block(ExpressionStatement(Assignment(SimpleName:rowsChanged)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:rs))(SimpleName:getInt)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:1)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:sqlAL))(SimpleName:add)(METHOD_INVOCATION_ARGUMENTS(SimpleName:rowsChanged))))(ExpressionStatement(Assignment(SimpleName:endOfKeysIndex)(ASSIGNMENT_OPERATOR:=)(InfixExpression(SimpleName:rowsChanged)(INFIX_EXPRESSION_OPERATOR:+)(NumberLiteral:2))))(ForStatement(VariableDeclarationExpression(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:i)(NumberLiteral:2)))(InfixExpression(SimpleName:i)(INFIX_EXPRESSION_OPERATOR:<)(SimpleName:endOfKeysIndex))(PostfixExpression(SimpleName:i)(POSTFIX_EXPRESSION_OPERATOR:++))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:sqlAL))(SimpleName:add)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:rs))(SimpleName:getInt)(METHOD_INVOCATION_ARGUMENTS(SimpleName:i)))))))))))))))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:sqlAL))(SimpleName:add)(METHOD_INVOCATION_ARGUMENTS(SimpleName:updatedRows))))(WhileStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:rs))(SimpleName:next))(Block(ForStatement(VariableDeclarationExpression(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:i)(NumberLiteral:2)))(InfixExpression(SimpleName:i)(INFIX_EXPRESSION_OPERATOR:<)(InfixExpression(SimpleName:updatedRows)(INFIX_EXPRESSION_OPERATOR:+)(NumberLiteral:2)))(PostfixExpression(SimpleName:i)(POSTFIX_EXPRESSION_OPERATOR:++))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:sqlAL))(SimpleName:add)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:rs))(SimpleName:getInt)(METHOD_INVOCATION_ARGUMENTS(SimpleName:i))))))))))))(IfStatement(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(SimpleName:getConnection)(METHOD_INVOCATION_ARGUMENTS(SimpleName:principal))))(SimpleName:getAutoCommit)))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(SimpleName:getConnection)(METHOD_INVOCATION_ARGUMENTS(SimpleName:principal))))(SimpleName:commit))))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:SQLException))(SimpleName:sqle))(Block(ExpressionStatement(MethodInvocation(SimpleName:logExceptions)(METHOD_INVOCATION_ARGUMENTS(SimpleName:sqle))))(IfStatement(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(SimpleName:getConnection)(METHOD_INVOCATION_ARGUMENTS(SimpleName:principal))))(SimpleName:getAutoCommit)))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(SimpleName:getConnection)(METHOD_INVOCATION_ARGUMENTS(SimpleName:principal))))(SimpleName:rollback)))))(ThrowStatement(SimpleName:sqle))))(Block(IfStatement(InfixExpression(SimpleName:stmt)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:stmt))(SimpleName:close)))))(IfStatement(InfixExpression(SimpleName:pstmt)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:pstmt))(SimpleName:close)))))(IfStatement(InfixExpression(SimpleName:rs)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:rs))(SimpleName:close)))))))(ReturnStatement(SimpleName:sqlAL))))))