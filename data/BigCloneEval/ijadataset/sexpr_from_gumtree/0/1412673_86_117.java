(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:public)(PrimitiveType:void)(SimpleName:addAndWriteTransaction)(SingleVariableDeclaration(SimpleType(SimpleName:Transaction))(SimpleName:transaction))(Block(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:backend))(SimpleName:isReadOnly))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(QualifiedName:System.out))(SimpleName:println)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))(ReturnStatement)))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:transactionIdentifier)(QualifiedName:transaction.identifier)))(VariableDeclarationStatement(SimpleType(SimpleName:Boolean))(VariableDeclarationFragment(SimpleName:added)(BooleanLiteral:false)))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:backend))(SimpleName:supportsTransactionObjects))(Block(ExpressionStatement(Assignment(SimpleName:added)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:backend))(SimpleName:storeTransactionForTransactionIdentifier)(METHOD_INVOCATION_ARGUMENTS(SimpleName:transactionIdentifier)(SimpleName:transaction))))))(Block(VariableDeclarationStatement(SimpleType(SimpleName:ByteArrayOutputStream))(VariableDeclarationFragment(SimpleName:outputStream)(ClassInstanceCreation(SimpleType(SimpleName:ByteArrayOutputStream)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:transaction))(SimpleName:writeToUTF8Stream)(METHOD_INVOCATION_ARGUMENTS(SimpleName:outputStream))))(VariableDeclarationStatement(ArrayType(PrimitiveType:byte)(Dimension))(VariableDeclarationFragment(SimpleName:bytes)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:outputStream))(SimpleName:toByteArray))))(VariableDeclarationStatement(SimpleType(SimpleName:InputStream))(VariableDeclarationFragment(SimpleName:inputStream)(ClassInstanceCreation(SimpleType(SimpleName:ByteArrayInputStream))(SimpleName:bytes))))(TryStatement(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:outputStream))(SimpleName:close))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:IOException))(SimpleName:e))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:e))(SimpleName:printStackTrace))))))(ExpressionStatement(Assignment(SimpleName:added)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:backend))(SimpleName:storeDataForTransactionIdentifier)(METHOD_INVOCATION_ARGUMENTS(SimpleName:transactionIdentifier)(SimpleName:inputStream)(QualifiedName:bytes.length)))))(TryStatement(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:inputStream))(SimpleName:close))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:IOException))(SimpleName:e))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:e))(SimpleName:printStackTrace))))))))(IfStatement(SimpleName:added)(Block(ExpressionStatement(MethodInvocation(SimpleName:addTransactionToCache)(METHOD_INVOCATION_ARGUMENTS(SimpleName:transactionIdentifier)(SimpleName:transaction)))))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(QualifiedName:System.out))(SimpleName:println)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))))))))