(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:protected)(PrimitiveType:void)(SimpleName:processRequest)(SingleVariableDeclaration(SimpleType(SimpleName:HttpServletRequest))(SimpleName:request))(SingleVariableDeclaration(SimpleType(SimpleName:HttpServletResponse))(SimpleName:response))(SimpleType(SimpleName:ServletException))(SimpleType(SimpleName:IOException))(Block(TryStatement(Block(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:xml)(StringLiteral:<STR>)))(VariableDeclarationStatement(SimpleType(QualifiedName:java.io.InputStream))(VariableDeclarationFragment(SimpleName:ios)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:request))(SimpleName:getInputStream))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:xmlStr)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:newGenXMLGenerator))(SimpleName:getXMLDocument)(METHOD_INVOCATION_ARGUMENTS(SimpleName:ios)))))(VariableDeclarationStatement(SimpleType(QualifiedName:org.jdom.Document))(VariableDeclarationFragment(SimpleName:doc)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:newGenXMLGenerator))(SimpleName:getDocFromXMLDocument)(METHOD_INVOCATION_ARGUMENTS(SimpleName:xmlStr)))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:operationid)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:doc))(SimpleName:getRootElement)))(SimpleName:getAttributeValue)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:operationid))(SimpleName:equals)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))(Block(VariableDeclarationStatement(SimpleType(QualifiedName:javax.servlet.http.HttpSession))(VariableDeclarationFragment(SimpleName:session)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:request))(SimpleName:getSession)(METHOD_INVOCATION_ARGUMENTS(BooleanLiteral:true)))))(ExpressionStatement(Assignment(SimpleName:xml)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(ParenthesizedExpression(ClassInstanceCreation(SimpleType(SimpleName:AccessioningReportServletHandler))(SimpleName:home))))(SimpleName:getAccessionDetails)(METHOD_INVOCATION_ARGUMENTS(SimpleName:doc)(SimpleName:session)))))(TryStatement(Block)(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:Exception))(SimpleName:exp))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:exp))(SimpleName:printStackTrace))))))(VariableDeclarationStatement(SimpleType(QualifiedName:java.io.OutputStream))(VariableDeclarationFragment(SimpleName:os)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:response))(SimpleName:getOutputStream))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:newGenXMLGenerator))(SimpleName:compressXMLDocument)(METHOD_INVOCATION_ARGUMENTS(SimpleName:os)(SimpleName:xml)))))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:operationid))(SimpleName:equals)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))(Block(ExpressionStatement(Assignment(SimpleName:xml)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(ParenthesizedExpression(ClassInstanceCreation(SimpleType(SimpleName:AccessioningReportServletHandler))(SimpleName:home))))(SimpleName:getAccessionSeriesDetails)(METHOD_INVOCATION_ARGUMENTS(SimpleName:doc)))))(TryStatement(Block)(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:Exception))(SimpleName:exp))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:exp))(SimpleName:printStackTrace))))))(VariableDeclarationStatement(SimpleType(QualifiedName:java.io.OutputStream))(VariableDeclarationFragment(SimpleName:os)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:response))(SimpleName:getOutputStream))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:newGenXMLGenerator))(SimpleName:compressXMLDocument)(METHOD_INVOCATION_ARGUMENTS(SimpleName:os)(SimpleName:xml)))))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:operationid))(SimpleName:equals)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))(Block(ExpressionStatement(Assignment(SimpleName:xml)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(ParenthesizedExpression(ClassInstanceCreation(SimpleType(SimpleName:AccessioningReportServletHandler))(SimpleName:home))))(SimpleName:getCompleteRecord)(METHOD_INVOCATION_ARGUMENTS(SimpleName:doc)))))(TryStatement(Block)(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:Exception))(SimpleName:exp))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:exp))(SimpleName:printStackTrace))))))(VariableDeclarationStatement(SimpleType(QualifiedName:java.io.OutputStream))(VariableDeclarationFragment(SimpleName:os)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:response))(SimpleName:getOutputStream))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:newGenXMLGenerator))(SimpleName:compressXMLDocument)(METHOD_INVOCATION_ARGUMENTS(SimpleName:os)(SimpleName:xml)))))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:operationid))(SimpleName:equals)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))(Block(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:file)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:doc))(SimpleName:getRootElement)))(SimpleName:getChildText)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))))(VariableDeclarationStatement(SimpleType(QualifiedName:java.nio.channels.FileChannel))(VariableDeclarationFragment(SimpleName:fc)(MethodInvocation(METHOD_INVOCATION_RECEIVER(ParenthesizedExpression(ClassInstanceCreation(SimpleType(QualifiedName:java.io.FileInputStream))(SimpleName:file))))(SimpleName:getChannel))))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:fileLength)(CastExpression(PrimitiveType:int)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fc))(SimpleName:size)))))(VariableDeclarationStatement(SimpleType(QualifiedName:java.nio.MappedByteBuffer))(VariableDeclarationFragment(SimpleName:bb)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fc))(SimpleName:map)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:java.nio.channels.FileChannel.MapMode.READ_ONLY)(NumberLiteral:0)(SimpleName:fileLength)))))(VariableDeclarationStatement(SimpleType(QualifiedName:java.util.StringTokenizer))(VariableDeclarationFragment(SimpleName:stk)(ClassInstanceCreation(SimpleType(QualifiedName:java.util.StringTokenizer))(SimpleName:file)(StringLiteral:<STR>))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:stk))(SimpleName:nextToken)))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:ext)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:stk))(SimpleName:nextToken))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:contenttype)(StringLiteral:<STR>)))(TryStatement(Block(ExpressionStatement(Assignment(SimpleName:contenttype)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(QualifiedName:java.util.ResourceBundle))(SimpleName:getBundle)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))(SimpleName:getString)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ext))(SimpleName:trim)))(SimpleName:toUpperCase)))))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:Exception))(SimpleName:e))(Block(VariableDeclarationStatement(SimpleType(QualifiedName:java.util.Properties))(VariableDeclarationFragment(SimpleName:p1)(ClassInstanceCreation(SimpleType(QualifiedName:java.util.Properties)))))(VariableDeclarationStatement(SimpleType(QualifiedName:java.io.File))(VariableDeclarationFragment(SimpleName:propfile)(ClassInstanceCreation(SimpleType(QualifiedName:java.io.File))(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(QualifiedName:ejb.bprocess.util.NewGenLibRoot))(SimpleName:getRoot))(INFIX_EXPRESSION_OPERATOR:+)(StringLiteral:<STR>)))))(VariableDeclarationStatement(SimpleType(QualifiedName:java.io.FileInputStream))(VariableDeclarationFragment(SimpleName:f1)(ClassInstanceCreation(SimpleType(QualifiedName:java.io.FileInputStream))(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(QualifiedName:ejb.bprocess.util.NewGenLibRoot))(SimpleName:getRoot))(INFIX_EXPRESSION_OPERATOR:+)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(QualifiedName:java.util.ResourceBundle))(SimpleName:getBundle)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))(SimpleName:getString)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))(StringLiteral:<STR>)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:p1))(SimpleName:load)(METHOD_INVOCATION_ARGUMENTS(SimpleName:f1))))(ExpressionStatement(Assignment(SimpleName:contenttype)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:p1))(SimpleName:getProperty)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ext))(SimpleName:trim)))(SimpleName:toUpperCase))(StringLiteral:<STR>))))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:response))(SimpleName:setContentType)(METHOD_INVOCATION_ARGUMENTS(SimpleName:contenttype))))(VariableDeclarationStatement(SimpleType(QualifiedName:java.nio.channels.WritableByteChannel))(VariableDeclarationFragment(SimpleName:wbc)(MethodInvocation(METHOD_INVOCATION_RECEIVER(QualifiedName:java.nio.channels.Channels))(SimpleName:newChannel)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:response))(SimpleName:getOutputStream))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:wbc))(SimpleName:write)(METHOD_INVOCATION_ARGUMENTS(SimpleName:bb))))))))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:Exception))(SimpleName:exp))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:exp))(SimpleName:printStackTrace))))))))))