(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:private)(PrimitiveType:boolean)(SimpleName:check)(SingleVariableDeclaration(PrimitiveType:int)(SimpleName:userId))(SingleVariableDeclaration(SimpleType(SimpleName:String))(SimpleName:objectName))(SingleVariableDeclaration(SimpleType(SimpleName:String))(SimpleName:action))(SingleVariableDeclaration(SimpleType(SimpleName:String))(SimpleName:objectType))(SimpleType(SimpleName:DataAccessException))(Block(VariableDeclarationStatement(PrimitiveType:boolean)(VariableDeclarationFragment(SimpleName:allowed)(BooleanLiteral:false)))(VariableDeclarationStatement(SimpleType(SimpleName:Connection))(VariableDeclarationFragment(SimpleName:connection)))(VariableDeclarationStatement(SimpleType(SimpleName:ConfigManager))(VariableDeclarationFragment(SimpleName:settings)))(VariableDeclarationStatement(SimpleType(SimpleName:ResultSet))(VariableDeclarationFragment(SimpleName:results)))(VariableDeclarationStatement(SimpleType(SimpleName:Statement))(VariableDeclarationFragment(SimpleName:st)))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:tableGroup)))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:tableMembership)))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:tablePermission)))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:tablePermissionGroup)))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:ownerOrganisation)))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:localSQL)))(ExpressionStatement(MethodInvocation(SimpleName:resetStartTime)))(ExpressionStatement(Assignment(SimpleName:settings)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ConfigManager))(SimpleName:getInstance))))(ExpressionStatement(Assignment(SimpleName:tableGroup)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:settings))(SimpleName:getDefaultGroupTableName))))(ExpressionStatement(Assignment(SimpleName:tableMembership)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:settings))(SimpleName:getDefaultMembershipTableName))))(ExpressionStatement(Assignment(SimpleName:tablePermission)(ASSIGNMENT_OPERATOR:=)(ConditionalExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:objectType))(SimpleName:equals)(METHOD_INVOCATION_ARGUMENTS(SimpleName:OBJECT_TYPE_BLOCK)))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:settings))(SimpleName:getDefaultBlockPermissionsTableName))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:settings))(SimpleName:getDefaultTablePermissionsTableName)))))(ExpressionStatement(Assignment(SimpleName:tablePermissionGroup)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:settings))(SimpleName:getDefaultGroupPermissionsTableName))))(ExpressionStatement(Assignment(SimpleName:localSQL)(ASSIGNMENT_OPERATOR:=)(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:tableMembership)(StringLiteral:<STR>)(SimpleName:tableMembership)(StringLiteral:<STR>)(SimpleName:tableMembership)(StringLiteral:<STR>)(SimpleName:userId))))(ExpressionStatement(Assignment(SimpleName:m_lastSQL)(ASSIGNMENT_OPERATOR:=)(SimpleName:localSQL)))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:m_logger))(SimpleName:isDebugEnabled))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:m_logger))(SimpleName:debug)(METHOD_INVOCATION_ARGUMENTS(SimpleName:m_lastSQL))))))(ExpressionStatement(Assignment(SimpleName:connection)(ASSIGNMENT_OPERATOR:=)(NullLiteral)))(ExpressionStatement(Assignment(SimpleName:ownerOrganisation)(ASSIGNMENT_OPERATOR:=)(NullLiteral)))(TryStatement(Block(ExpressionStatement(Assignment(SimpleName:connection)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(SimpleName:getConnection))))(ExpressionStatement(Assignment(SimpleName:st)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(SimpleName:getStatement)(METHOD_INVOCATION_ARGUMENTS(SimpleName:connection)))))(ExpressionStatement(Assignment(SimpleName:results)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(SimpleName:executeQueryAsync)(METHOD_INVOCATION_ARGUMENTS(SimpleName:st)(SimpleName:localSQL)))))(WhileStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:results))(SimpleName:next))(INFIX_EXPRESSION_OPERATOR:==)(BooleanLiteral:true))(Block(ExpressionStatement(Assignment(SimpleName:ownerOrganisation)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:results))(SimpleName:getString)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))))))(ExpressionStatement(Assignment(SimpleName:localSQL)(ASSIGNMENT_OPERATOR:=)(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:tablePermission)(StringLiteral:<STR>)(SimpleName:tablePermission)(StringLiteral:<STR>)(SimpleName:tablePermission)(StringLiteral:<STR>)(SimpleName:tablePermission)(StringLiteral:<STR>)(SimpleName:tablePermissionGroup)(StringLiteral:<STR>)(SimpleName:tableGroup)(StringLiteral:<STR>)(SimpleName:tablePermission)(StringLiteral:<STR>)(SimpleName:tableGroup)(StringLiteral:<STR>)(SimpleName:tablePermissionGroup)(StringLiteral:<STR>)(SimpleName:tableGroup)(StringLiteral:<STR>)(SimpleName:tablePermissionGroup)(StringLiteral:<STR>)(SimpleName:userId)(StringLiteral:<STR>)(SimpleName:tablePermission)(StringLiteral:<STR>)(SimpleName:objectType)(StringLiteral:<STR>)(SimpleName:objectName)(StringLiteral:<STR>)(SimpleName:tablePermission)(StringLiteral:<STR>)(SimpleName:ownerOrganisation)(StringLiteral:<STR>))))(ExpressionStatement(Assignment(SimpleName:m_lastSQL)(ASSIGNMENT_OPERATOR:=)(SimpleName:localSQL)))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:m_logger))(SimpleName:isDebugEnabled))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:m_logger))(SimpleName:debug)(METHOD_INVOCATION_ARGUMENTS(SimpleName:m_lastSQL))))))(ExpressionStatement(Assignment(SimpleName:results)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(SimpleName:executeQueryAsync)(METHOD_INVOCATION_ARGUMENTS(SimpleName:st)(SimpleName:localSQL)))))(WhileStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:results))(SimpleName:next))(INFIX_EXPRESSION_OPERATOR:==)(BooleanLiteral:true))(Block(ExpressionStatement(Assignment(SimpleName:allowed)(ASSIGNMENT_OPERATOR:|=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:results))(SimpleName:getBoolean)(METHOD_INVOCATION_ARGUMENTS(SimpleName:action))))))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:Exception))(SimpleName:except))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:m_logger))(SimpleName:error)(METHOD_INVOCATION_ARGUMENTS(SimpleName:except)(SimpleName:except))))(ThrowStatement(ClassInstanceCreation(SimpleType(SimpleName:DataAccessException))(StringLiteral:<STR>)(SimpleName:except)))))(Block(ExpressionStatement(MethodInvocation(SimpleName:closeConnection)(METHOD_INVOCATION_ARGUMENTS(SimpleName:connection))))))(ReturnStatement(SimpleName:allowed))))))