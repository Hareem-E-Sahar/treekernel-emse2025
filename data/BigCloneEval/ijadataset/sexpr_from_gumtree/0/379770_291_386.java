(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:public)(PrimitiveType:void)(SimpleName:sendScreenshot)(SingleVariableDeclaration(Modifier:final)(SimpleType(SimpleName:ChatRoomButton))(SimpleName:button))(SingleVariableDeclaration(Modifier:final)(SimpleType(SimpleName:ChatRoom))(SimpleName:room))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:button))(SimpleName:setEnabled)(METHOD_INVOCATION_ARGUMENTS(BooleanLiteral:false))))(VariableDeclarationStatement(Modifier:final)(SimpleType(SimpleName:MainWindow))(VariableDeclarationFragment(SimpleName:mainWindow)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:SparkManager))(SimpleName:getMainWindow))))(VariableDeclarationStatement(Modifier:final)(SimpleType(SimpleName:ChatFrame))(VariableDeclarationFragment(SimpleName:chatFrame)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:SparkManager))(SimpleName:getChatManager)))(SimpleName:getChatContainer)))(SimpleName:getChatFrame))))(VariableDeclarationStatement(Modifier:final)(PrimitiveType:boolean)(VariableDeclarationFragment(SimpleName:mainWindowVisible)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:mainWindow))(SimpleName:isVisible))))(VariableDeclarationStatement(Modifier:final)(PrimitiveType:boolean)(VariableDeclarationFragment(SimpleName:chatFrameVisible)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:chatFrame))(SimpleName:isVisible))))(IfStatement(SimpleName:mainWindowVisible)(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:mainWindow))(SimpleName:setVisible)(METHOD_INVOCATION_ARGUMENTS(BooleanLiteral:false))))))(IfStatement(SimpleName:chatFrameVisible)(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:chatFrame))(SimpleName:setVisible)(METHOD_INVOCATION_ARGUMENTS(BooleanLiteral:false))))))(VariableDeclarationStatement(Modifier:final)(SimpleType(SimpleName:SwingWorker))(VariableDeclarationFragment(SimpleName:worker)(ClassInstanceCreation(SimpleType(SimpleName:SwingWorker))(AnonymousClassDeclaration(MethodDeclaration(Modifier:public)(SimpleType(SimpleName:Object))(SimpleName:construct)(Block(TryStatement(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Thread))(SimpleName:sleep)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:1000))))(VariableDeclarationStatement(SimpleType(SimpleName:Rectangle))(VariableDeclarationFragment(SimpleName:area)(ClassInstanceCreation(SimpleType(SimpleName:Rectangle))(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Toolkit))(SimpleName:getDefaultToolkit)))(SimpleName:getScreenSize)))))(ReturnStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:robot))(SimpleName:createScreenCapture)(METHOD_INVOCATION_ARGUMENTS(SimpleName:area)))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:Throwable))(SimpleName:e))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Log))(SimpleName:error)(METHOD_INVOCATION_ARGUMENTS(SimpleName:e))))(IfStatement(SimpleName:mainWindowVisible)(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:mainWindow))(SimpleName:setVisible)(METHOD_INVOCATION_ARGUMENTS(BooleanLiteral:true))))))(IfStatement(SimpleName:chatFrameVisible)(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:chatFrame))(SimpleName:setVisible)(METHOD_INVOCATION_ARGUMENTS(BooleanLiteral:true)))))))))(ReturnStatement(NullLiteral))))(MethodDeclaration(Modifier:public)(PrimitiveType:void)(SimpleName:finished)(Block(ExpressionStatement(Assignment(SimpleName:bufferedImage)(ASSIGNMENT_OPERATOR:=)(CastExpression(SimpleType(SimpleName:BufferedImage))(MethodInvocation(SimpleName:get)))))(IfStatement(InfixExpression(SimpleName:bufferedImage)(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:JOptionPane))(SimpleName:showMessageDialog)(METHOD_INVOCATION_ARGUMENTS(NullLiteral)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Res))(SimpleName:getString)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))(StringLiteral:<STR>)(QualifiedName:JOptionPane.ERROR_MESSAGE))))(ReturnStatement)))(VariableDeclarationStatement(Modifier:final)(SimpleType(SimpleName:Frame))(VariableDeclarationFragment(SimpleName:frame)(ClassInstanceCreation(SimpleType(SimpleName:Frame)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:frame))(SimpleName:setCursor)(METHOD_INVOCATION_ARGUMENTS(ClassInstanceCreation(SimpleType(SimpleName:Cursor))(QualifiedName:Cursor.CROSSHAIR_CURSOR)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:selectionPanel))(SimpleName:setImage)(METHOD_INVOCATION_ARGUMENTS(SimpleName:bufferedImage))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:selectionPanel))(SimpleName:validate)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:selectionPanel))(SimpleName:addMouseListener)(METHOD_INVOCATION_ARGUMENTS(ClassInstanceCreation(SimpleType(SimpleName:MouseAdapter))(AnonymousClassDeclaration(MethodDeclaration(Modifier:public)(PrimitiveType:void)(SimpleName:mouseReleased)(SingleVariableDeclaration(SimpleType(SimpleName:MouseEvent))(SimpleName:e))(Block(VariableDeclarationStatement(SimpleType(SimpleName:Rectangle))(VariableDeclarationFragment(SimpleName:clip)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:selectionPanel))(SimpleName:getClip))))(VariableDeclarationStatement(SimpleType(SimpleName:BufferedImage))(VariableDeclarationFragment(SimpleName:newImage)(NullLiteral)))(TryStatement(Block(ExpressionStatement(Assignment(SimpleName:newImage)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:bufferedImage))(SimpleName:getSubimage)(METHOD_INVOCATION_ARGUMENTS(CastExpression(PrimitiveType:int)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:clip))(SimpleName:getX)))(CastExpression(PrimitiveType:int)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:clip))(SimpleName:getY)))(CastExpression(PrimitiveType:int)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:clip))(SimpleName:getWidth)))(CastExpression(PrimitiveType:int)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:clip))(SimpleName:getHeight))))))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:Exception))(SimpleName:e1))(Block)))(IfStatement(InfixExpression(SimpleName:newImage)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(ExpressionStatement(MethodInvocation(SimpleName:sendImage)(METHOD_INVOCATION_ARGUMENTS(SimpleName:newImage)(SimpleName:room))))(ExpressionStatement(Assignment(SimpleName:bufferedImage)(ASSIGNMENT_OPERATOR:=)(NullLiteral)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:selectionPanel))(SimpleName:clear)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:frame))(SimpleName:dispose)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:frame))(SimpleName:setCursor)(METHOD_INVOCATION_ARGUMENTS(ClassInstanceCreation(SimpleType(SimpleName:Cursor))(QualifiedName:Cursor.DEFAULT_CURSOR)))))(IfStatement(SimpleName:mainWindowVisible)(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:mainWindow))(SimpleName:setVisible)(METHOD_INVOCATION_ARGUMENTS(BooleanLiteral:true))))))(IfStatement(SimpleName:chatFrameVisible)(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:chatFrame))(SimpleName:setVisible)(METHOD_INVOCATION_ARGUMENTS(BooleanLiteral:true))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:selectionPanel))(SimpleName:removeMouseListener)(METHOD_INVOCATION_ARGUMENTS(ThisExpression)))))))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:frame))(SimpleName:addKeyListener)(METHOD_INVOCATION_ARGUMENTS(ClassInstanceCreation(SimpleType(SimpleName:KeyAdapter))(AnonymousClassDeclaration(MethodDeclaration(Modifier:public)(PrimitiveType:void)(SimpleName:keyReleased)(SingleVariableDeclaration(SimpleType(SimpleName:KeyEvent))(SimpleName:e))(Block(IfStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:e))(SimpleName:getKeyChar))(INFIX_EXPRESSION_OPERATOR:==)(QualifiedName:KeyEvent.VK_ESCAPE))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:frame))(SimpleName:dispose)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:frame))(SimpleName:setCursor)(METHOD_INVOCATION_ARGUMENTS(ClassInstanceCreation(SimpleType(SimpleName:Cursor))(QualifiedName:Cursor.DEFAULT_CURSOR)))))(IfStatement(SimpleName:mainWindowVisible)(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:mainWindow))(SimpleName:setVisible)(METHOD_INVOCATION_ARGUMENTS(BooleanLiteral:true))))))(IfStatement(SimpleName:chatFrameVisible)(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:chatFrame))(SimpleName:setVisible)(METHOD_INVOCATION_ARGUMENTS(BooleanLiteral:true)))))))))))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:frame))(SimpleName:setSize)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:bufferedImage))(SimpleName:getWidth)(METHOD_INVOCATION_ARGUMENTS(NullLiteral)))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:bufferedImage))(SimpleName:getHeight)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:frame))(SimpleName:add)(METHOD_INVOCATION_ARGUMENTS(SimpleName:selectionPanel))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:frame))(SimpleName:setUndecorated)(METHOD_INVOCATION_ARGUMENTS(BooleanLiteral:true))))(VariableDeclarationStatement(SimpleType(SimpleName:GraphicsEnvironment))(VariableDeclarationFragment(SimpleName:ge)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:GraphicsEnvironment))(SimpleName:getLocalGraphicsEnvironment))))(VariableDeclarationStatement(SimpleType(SimpleName:GraphicsDevice))(VariableDeclarationFragment(SimpleName:gs)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ge))(SimpleName:getDefaultScreenDevice))))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:gs))(SimpleName:isFullScreenSupported))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:gs))(SimpleName:setFullScreenWindow)(METHOD_INVOCATION_ARGUMENTS(SimpleName:frame)))))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:frame))(SimpleName:setVisible)(METHOD_INVOCATION_ARGUMENTS(BooleanLiteral:true))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:button))(SimpleName:setEnabled)(METHOD_INVOCATION_ARGUMENTS(BooleanLiteral:true))))))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:worker))(SimpleName:start)))))))