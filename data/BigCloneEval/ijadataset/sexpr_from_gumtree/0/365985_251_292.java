(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:public)(PrimitiveType:void)(SimpleName:generateCaption)(SingleVariableDeclaration(SimpleType(SimpleName:Context))(SimpleName:context))(Block(IfStatement(SimpleName:mClusterChanged)(Block(VariableDeclarationStatement(SimpleType(SimpleName:Resources))(VariableDeclarationFragment(SimpleName:resources)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:context))(SimpleName:getResources))))(VariableDeclarationStatement(PrimitiveType:long)(VariableDeclarationFragment(SimpleName:minTimestamp)(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:-)(NumberLiteral:1L))))(VariableDeclarationStatement(PrimitiveType:long)(VariableDeclarationFragment(SimpleName:maxTimestamp)(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:-)(NumberLiteral:1L))))(IfStatement(MethodInvocation(SimpleName:areTimestampsAvailable))(Block(ExpressionStatement(Assignment(SimpleName:minTimestamp)(ASSIGNMENT_OPERATOR:=)(SimpleName:mMinTimestamp)))(ExpressionStatement(Assignment(SimpleName:maxTimestamp)(ASSIGNMENT_OPERATOR:=)(SimpleName:mMaxTimestamp))))(IfStatement(MethodInvocation(SimpleName:areAddedTimestampsAvailable))(Block(ExpressionStatement(Assignment(SimpleName:minTimestamp)(ASSIGNMENT_OPERATOR:=)(SimpleName:mMinAddedTimestamp)))(ExpressionStatement(Assignment(SimpleName:maxTimestamp)(ASSIGNMENT_OPERATOR:=)(SimpleName:mMaxAddedTimestamp))))))(IfStatement(InfixExpression(SimpleName:minTimestamp)(INFIX_EXPRESSION_OPERATOR:!=)(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:-)(NumberLiteral:1L)))(Block(IfStatement(SimpleName:mIsPicassaAlbum)(Block(ExpressionStatement(Assignment(SimpleName:minTimestamp)(ASSIGNMENT_OPERATOR:-=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(QualifiedName:App.CURRENT_TIME_ZONE))(SimpleName:getOffset)(METHOD_INVOCATION_ARGUMENTS(SimpleName:minTimestamp)))))(ExpressionStatement(Assignment(SimpleName:maxTimestamp)(ASSIGNMENT_OPERATOR:-=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(QualifiedName:App.CURRENT_TIME_ZONE))(SimpleName:getOffset)(METHOD_INVOCATION_ARGUMENTS(SimpleName:maxTimestamp)))))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:minDay)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:DateFormat))(SimpleName:format)(METHOD_INVOCATION_ARGUMENTS(SimpleName:MMDDYY_FORMAT)(SimpleName:minTimestamp))))(SimpleName:toString))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:maxDay)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:DateFormat))(SimpleName:format)(METHOD_INVOCATION_ARGUMENTS(SimpleName:MMDDYY_FORMAT)(SimpleName:maxTimestamp))))(SimpleName:toString))))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:minDay))(SimpleName:substring)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:4))))(SimpleName:equals)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:maxDay))(SimpleName:substring)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:4)))))(Block(ExpressionStatement(Assignment(SimpleName:mName)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:DateUtils))(SimpleName:formatDateRange)(METHOD_INVOCATION_ARGUMENTS(SimpleName:context)(SimpleName:minTimestamp)(SimpleName:maxTimestamp)(QualifiedName:DateUtils.FORMAT_ABBREV_ALL)))))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:minDay))(SimpleName:equals)(METHOD_INVOCATION_ARGUMENTS(SimpleName:maxDay)))(Block(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:flags)(InfixExpression(QualifiedName:DateUtils.FORMAT_ABBREV_MONTH)(INFIX_EXPRESSION_OPERATOR:|)(QualifiedName:DateUtils.FORMAT_SHOW_DATE))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:dateRangeWithOptionalYear)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:DateUtils))(SimpleName:formatDateTime)(METHOD_INVOCATION_ARGUMENTS(SimpleName:context)(SimpleName:minTimestamp)(SimpleName:flags)))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:dateRangeWithYear)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:DateUtils))(SimpleName:formatDateTime)(METHOD_INVOCATION_ARGUMENTS(SimpleName:context)(SimpleName:minTimestamp)(InfixExpression(SimpleName:flags)(INFIX_EXPRESSION_OPERATOR:|)(QualifiedName:DateUtils.FORMAT_SHOW_YEAR))))))(IfStatement(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:dateRangeWithOptionalYear))(SimpleName:equals)(METHOD_INVOCATION_ARGUMENTS(SimpleName:dateRangeWithYear))))(Block(VariableDeclarationStatement(PrimitiveType:long)(VariableDeclarationFragment(SimpleName:midTimestamp)(InfixExpression(ParenthesizedExpression(InfixExpression(SimpleName:minTimestamp)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:maxTimestamp)))(INFIX_EXPRESSION_OPERATOR:/)(NumberLiteral:2))))(ExpressionStatement(Assignment(SimpleName:mName)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:DateUtils))(SimpleName:formatDateRange)(METHOD_INVOCATION_ARGUMENTS(SimpleName:context)(SimpleName:midTimestamp)(SimpleName:midTimestamp)(InfixExpression(QualifiedName:DateUtils.FORMAT_SHOW_TIME)(INFIX_EXPRESSION_OPERATOR:|)(SimpleName:flags)))))))))))(Block(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:flags)(InfixExpression(QualifiedName:DateUtils.FORMAT_NO_MONTH_DAY)(INFIX_EXPRESSION_OPERATOR:|)(QualifiedName:DateUtils.FORMAT_ABBREV_MONTH)(QualifiedName:DateUtils.FORMAT_SHOW_DATE))))(ExpressionStatement(Assignment(SimpleName:mName)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:DateUtils))(SimpleName:formatDateRange)(METHOD_INVOCATION_ARGUMENTS(SimpleName:context)(SimpleName:minTimestamp)(SimpleName:maxTimestamp)(SimpleName:flags))))))))(Block(ExpressionStatement(Assignment(SimpleName:mName)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:resources))(SimpleName:getString)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:Res.string.date_unknown)))))))(ExpressionStatement(MethodInvocation(SimpleName:updateNumExpectedItems)))(ExpressionStatement(MethodInvocation(SimpleName:generateTitle)(METHOD_INVOCATION_ARGUMENTS(BooleanLiteral:false))))(ExpressionStatement(Assignment(SimpleName:mClusterChanged)(ASSIGNMENT_OPERATOR:=)(BooleanLiteral:false)))))))))