(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:private)(Modifier:static)(SimpleType(SimpleName:Handle))(SimpleName:selectApplication)(SingleVariableDeclaration(PrimitiveType:boolean)(SimpleName:forSAT))(SingleVariableDeclaration(ArrayType(PrimitiveType:byte)(Dimension))(SimpleName:selectAPDU))(SingleVariableDeclaration(PrimitiveType:int)(SimpleName:slot))(SimpleType(SimpleName:IOException))(Block(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:channel)))(VariableDeclarationStatement(SimpleType(SimpleName:Slot))(VariableDeclarationFragment(SimpleName:cardSlot)(ArrayAccess(SimpleName:slots)(SimpleName:slot))))(IfStatement(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(MethodInvocation(SimpleName:isAlive)(METHOD_INVOCATION_ARGUMENTS(SimpleName:cardSlot))))(Block(ThrowStatement(ClassInstanceCreation(SimpleType(SimpleName:ConnectionNotFoundException))(StringLiteral:<STR>)))))(IfStatement(InfixExpression(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(SimpleName:forSAT))(INFIX_EXPRESSION_OPERATOR:&&)(ParenthesizedExpression(InfixExpression(QualifiedName:cardSlot.basicChannelInUse)(INFIX_EXPRESSION_OPERATOR:||)(QualifiedName:cardSlot.SIMPresent))))(Block(VariableDeclarationStatement(ArrayType(PrimitiveType:byte)(Dimension))(VariableDeclarationFragment(SimpleName:response)(MethodInvocation(SimpleName:exchangeAPDU)(METHOD_INVOCATION_ARGUMENTS(SimpleName:cardSlot)(QualifiedName:cardSlot.getChannelAPDU)))))(IfStatement(InfixExpression(QualifiedName:response.length)(INFIX_EXPRESSION_OPERATOR:==)(NumberLiteral:2))(Block(ThrowStatement(ClassInstanceCreation(SimpleType(SimpleName:IOException))(StringLiteral:<STR>)))))(ExpressionStatement(Assignment(SimpleName:channel)(ASSIGNMENT_OPERATOR:=)(ArrayAccess(SimpleName:response)(NumberLiteral:0)))))(Block(ExpressionStatement(Assignment(QualifiedName:cardSlot.basicChannelInUse)(ASSIGNMENT_OPERATOR:=)(BooleanLiteral:true)))(ExpressionStatement(Assignment(SimpleName:channel)(ASSIGNMENT_OPERATOR:=)(NumberLiteral:0)))))(ExpressionStatement(Assignment(ArrayAccess(SimpleName:selectAPDU)(NumberLiteral:0))(ASSIGNMENT_OPERATOR:=)(CastExpression(PrimitiveType:byte)(ParenthesizedExpression(InfixExpression(ParenthesizedExpression(InfixExpression(ArrayAccess(SimpleName:selectAPDU)(NumberLiteral:0))(INFIX_EXPRESSION_OPERATOR:&)(NumberLiteral:0xFC)))(INFIX_EXPRESSION_OPERATOR:|)(SimpleName:channel))))))(VariableDeclarationStatement(ArrayType(PrimitiveType:byte)(Dimension))(VariableDeclarationFragment(SimpleName:result)(MethodInvocation(SimpleName:exchangeAPDU)(METHOD_INVOCATION_ARGUMENTS(SimpleName:cardSlot)(SimpleName:selectAPDU)))))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:sw1)(InfixExpression(ArrayAccess(SimpleName:result)(InfixExpression(QualifiedName:result.length)(INFIX_EXPRESSION_OPERATOR:-)(NumberLiteral:2)))(INFIX_EXPRESSION_OPERATOR:&)(NumberLiteral:0xFF))))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:sw2)(InfixExpression(ArrayAccess(SimpleName:result)(InfixExpression(QualifiedName:result.length)(INFIX_EXPRESSION_OPERATOR:-)(NumberLiteral:1)))(INFIX_EXPRESSION_OPERATOR:&)(NumberLiteral:0xFF))))(IfStatement(InfixExpression(InfixExpression(ParenthesizedExpression(InfixExpression(SimpleName:sw1)(INFIX_EXPRESSION_OPERATOR:<<)(NumberLiteral:8)))(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:sw2))(INFIX_EXPRESSION_OPERATOR:!=)(NumberLiteral:0x9000))(Block(ExpressionStatement(MethodInvocation(SimpleName:closeChannel)(METHOD_INVOCATION_ARGUMENTS(SimpleName:cardSlot)(SimpleName:channel))))(ThrowStatement(ClassInstanceCreation(SimpleType(SimpleName:ConnectionNotFoundException))(StringLiteral:<STR>)))))(ExpressionStatement(Assignment(QualifiedName:cardSlot.FCI)(ASSIGNMENT_OPERATOR:=)(SimpleName:result)))(ReturnStatement(ClassInstanceCreation(SimpleType(SimpleName:Handle))(SimpleName:slot)(SimpleName:channel)))))))