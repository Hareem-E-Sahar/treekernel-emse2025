(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:private)(SimpleType(SimpleName:Command))(SimpleName:createCommand)(SingleVariableDeclaration(ParameterizedType(SimpleType(SimpleName:List))(WildcardType))(SimpleName:selection))(Block(VariableDeclarationStatement(SimpleType(SimpleName:GraphicalViewer))(VariableDeclarationFragment(SimpleName:viewer)(CastExpression(SimpleType(SimpleName:GraphicalViewer))(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(SimpleName:getWorkbenchPart)))(SimpleName:getAdapter)(METHOD_INVOCATION_ARGUMENTS(TypeLiteral(SimpleType(SimpleName:GraphicalViewer))))))))(VariableDeclarationStatement(SimpleType(SimpleName:CompoundCommand))(VariableDeclarationFragment(SimpleName:result)(ClassInstanceCreation(SimpleType(SimpleName:CompoundCommand))(SimpleName:TEXT))))(EnhancedForStatement(SingleVariableDeclaration(SimpleType(SimpleName:Object))(SimpleName:object))(SimpleName:selection)(Block(IfStatement(InstanceofExpression(SimpleName:object)(SimpleType(SimpleName:GraphicalEditPart)))(Block(VariableDeclarationStatement(SimpleType(SimpleName:GraphicalEditPart))(VariableDeclarationFragment(SimpleName:editPart)(CastExpression(SimpleType(SimpleName:GraphicalEditPart))(SimpleName:object))))(VariableDeclarationStatement(SimpleType(SimpleName:Object))(VariableDeclarationFragment(SimpleName:model)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:editPart))(SimpleName:getModel))))(IfStatement(InfixExpression(SimpleName:viewer)(INFIX_EXPRESSION_OPERATOR:!=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:editPart))(SimpleName:getViewer)))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(QualifiedName:System.err))(SimpleName:println)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(MethodInvocation(SimpleName:getClass))))))))(IfStatement(InfixExpression(InstanceofExpression(SimpleName:model)(SimpleType(SimpleName:ILockable)))(INFIX_EXPRESSION_OPERATOR:&&)(MethodInvocation(METHOD_INVOCATION_RECEIVER(ParenthesizedExpression(CastExpression(SimpleType(SimpleName:ILockable))(SimpleName:model))))(SimpleName:isLocked)))(Block(ContinueStatement)))(IfStatement(InstanceofExpression(SimpleName:model)(SimpleType(SimpleName:IDiagramModelObject)))(Block(VariableDeclarationStatement(SimpleType(SimpleName:IDiagramModelObject))(VariableDeclarationFragment(SimpleName:diagramObject)(CastExpression(SimpleType(SimpleName:IDiagramModelObject))(SimpleName:model))))(VariableDeclarationStatement(SimpleType(SimpleName:IDiagramModelContainer))(VariableDeclarationFragment(SimpleName:parent)(CastExpression(SimpleType(SimpleName:IDiagramModelContainer))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:diagramObject))(SimpleName:eContainer)))))(IfStatement(InfixExpression(SimpleName:parent)(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(Block(ContinueStatement)))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:originalPos)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:parent))(SimpleName:getChildren)))(SimpleName:indexOf)(METHOD_INVOCATION_ARGUMENTS(SimpleName:diagramObject)))))(IfStatement(InfixExpression(SimpleName:originalPos)(INFIX_EXPRESSION_OPERATOR:>)(NumberLiteral:0))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:result))(SimpleName:add)(METHOD_INVOCATION_ARGUMENTS(ClassInstanceCreation(SimpleType(SimpleName:SendBackwardCommand))(SimpleName:parent)(SimpleName:originalPos)))))))))))))(ReturnStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:result))(SimpleName:unwrap)))))))