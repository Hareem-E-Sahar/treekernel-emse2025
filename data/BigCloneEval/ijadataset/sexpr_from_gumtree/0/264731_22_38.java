(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(MarkerAnnotation(SimpleName:Override))(Modifier:public)(TypeParameter(SimpleName:T)(SimpleType(SimpleName:Serializable)))(ParameterizedType(SimpleType(SimpleName:Channel))(SimpleType(SimpleName:T)))(SimpleName:getChannel)(SingleVariableDeclaration(SimpleType(SimpleName:String))(SimpleName:channelName))(SingleVariableDeclaration(PrimitiveType:boolean)(SimpleName:persistence))(Block(VariableDeclarationStatement(Modifier:final)(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:namespace)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ChannelServiceFactory))(SimpleName:getNamespace)(METHOD_INVOCATION_ARGUMENTS(SimpleName:channelName)))))(VariableDeclarationStatement(SimpleType(SimpleName:Cache))(VariableDeclarationFragment(SimpleName:cache)(NullLiteral)))(VariableDeclarationStatement(Modifier:final)(SimpleType(SimpleName:CacheManager))(VariableDeclarationFragment(SimpleName:manager)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:CacheManager))(SimpleName:getInstance))))(WhileStatement(InfixExpression(SimpleName:cache)(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(Block(TryStatement(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:manager))(SimpleName:registerCache)(METHOD_INVOCATION_ARGUMENTS(SimpleName:namespace)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:manager))(SimpleName:getCacheFactory)))(SimpleName:createCache)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Collections))(SimpleName:emptyMap))))))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:CacheException))(SimpleName:e))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:e))(SimpleName:printStackTrace))))))(ExpressionStatement(Assignment(SimpleName:cache)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:manager))(SimpleName:getCache)(METHOD_INVOCATION_ARGUMENTS(SimpleName:namespace)))))))(VariableDeclarationStatement(Modifier:final)(SimpleType(SimpleName:NamedCounter))(VariableDeclarationFragment(SimpleName:rOffset)(ClassInstanceCreation(SimpleType(SimpleName:JCacheCounter))(SimpleName:cache)(StringLiteral:<STR>))))(VariableDeclarationStatement(Modifier:final)(SimpleType(SimpleName:NamedCounter))(VariableDeclarationFragment(SimpleName:wOffset)(ClassInstanceCreation(SimpleType(SimpleName:JCacheCounter))(SimpleName:cache)(StringLiteral:<STR>))))(ReturnStatement(ClassInstanceCreation(ParameterizedType(SimpleType(SimpleName:ChannelImpl))(SimpleType(SimpleName:T)))(SimpleName:namespace)(SimpleName:cache)(SimpleName:rOffset)(SimpleName:wOffset)(SimpleName:persistence)))))))