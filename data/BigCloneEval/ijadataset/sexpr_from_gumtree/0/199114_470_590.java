(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:public)(PrimitiveType:void)(SimpleName:testSplitAndAutoFix)(SimpleType(SimpleName:Exception))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:TestUtil))(SimpleName:printTitle)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))(VariableDeclarationStatement(SimpleType(SimpleName:File))(VariableDeclarationFragment(SimpleName:dir)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:TempFileUtil))(SimpleName:createTemporaryDirectory))))(VariableDeclarationStatement(SimpleType(SimpleName:DataBlockUtilLog))(VariableDeclarationFragment(SimpleName:logger)(NullLiteral)))(TryStatement(Block(VariableDeclarationStatement(SimpleType(SimpleName:DataDirectoryConfiguration))(VariableDeclarationFragment(SimpleName:ddc)(ClassInstanceCreation(SimpleType(SimpleName:DataDirectoryConfiguration))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:dir))(SimpleName:getAbsolutePath))(QualifiedName:Long.MAX_VALUE))))(VariableDeclarationStatement(SimpleType(SimpleName:DataBlockUtil))(VariableDeclarationFragment(SimpleName:dbu)(ClassInstanceCreation(SimpleType(SimpleName:DataBlockUtil)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:dbu))(SimpleName:add)(METHOD_INVOCATION_ARGUMENTS(SimpleName:ddc))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:DataBlockUtil))(SimpleName:setIsLogging)(METHOD_INVOCATION_ARGUMENTS(BooleanLiteral:true))))(ExpressionStatement(Assignment(SimpleName:logger)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:DataBlockUtil))(SimpleName:getLogger))))(VariableDeclarationStatement(ParameterizedType(SimpleType(SimpleName:ArrayList))(SimpleType(SimpleName:BigHash)))(VariableDeclarationFragment(SimpleName:contrivedHashes)(ClassInstanceCreation(SimpleType(SimpleName:ArrayList)))))(VariableDeclarationStatement(ParameterizedType(SimpleType(SimpleName:ArrayList))(SimpleType(SimpleName:BigHash)))(VariableDeclarationFragment(SimpleName:realHashes)(ClassInstanceCreation(SimpleType(SimpleName:ArrayList)))))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:bytesWritten)(NumberLiteral:0)))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:maxFileSize)(InfixExpression(NumberLiteral:100)(INFIX_EXPRESSION_OPERATOR:*)(NumberLiteral:1024))))(WhileStatement(InfixExpression(SimpleName:bytesWritten)(INFIX_EXPRESSION_OPERATOR:<=)(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:DataBlock))(SimpleName:getMaxBlockSize))(INFIX_EXPRESSION_OPERATOR:*)(NumberLiteral:2)))(Block(VariableDeclarationStatement(ArrayType(PrimitiveType:byte)(Dimension))(VariableDeclarationFragment(SimpleName:randomData)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Utils))(SimpleName:makeRandomData)(METHOD_INVOCATION_ARGUMENTS(CastExpression(PrimitiveType:int)(ParenthesizedExpression(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Math))(SimpleName:random))(INFIX_EXPRESSION_OPERATOR:*)(SimpleName:maxFileSize))))))))(VariableDeclarationStatement(SimpleType(SimpleName:BigHash))(VariableDeclarationFragment(SimpleName:hash)(ClassInstanceCreation(SimpleType(SimpleName:BigHash))(SimpleName:randomData))))(VariableDeclarationStatement(ArrayType(PrimitiveType:byte)(Dimension))(VariableDeclarationFragment(SimpleName:hashBytes)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:hash))(SimpleName:toByteArray))))(VariableDeclarationStatement(ArrayType(PrimitiveType:byte)(Dimension))(VariableDeclarationFragment(SimpleName:copy)(ArrayCreation(ArrayType(PrimitiveType:byte)(Dimension(QualifiedName:hashBytes.length))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:System))(SimpleName:arraycopy)(METHOD_INVOCATION_ARGUMENTS(SimpleName:hashBytes)(NumberLiteral:0)(SimpleName:copy)(NumberLiteral:0)(QualifiedName:copy.length))))(ExpressionStatement(Assignment(ArrayAccess(SimpleName:copy)(NumberLiteral:0))(ASSIGNMENT_OPERATOR:=)(NumberLiteral:0)))(ExpressionStatement(Assignment(ArrayAccess(SimpleName:copy)(NumberLiteral:1))(ASSIGNMENT_OPERATOR:=)(NumberLiteral:1)))(VariableDeclarationStatement(SimpleType(SimpleName:BigHash))(VariableDeclarationFragment(SimpleName:fakeHash)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:BigHash))(SimpleName:createFromBytes)(METHOD_INVOCATION_ARGUMENTS(SimpleName:copy)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:dbu))(SimpleName:addData)(METHOD_INVOCATION_ARGUMENTS(SimpleName:fakeHash)(SimpleName:randomData))))(ExpressionStatement(Assignment(SimpleName:bytesWritten)(ASSIGNMENT_OPERATOR:+=)(QualifiedName:randomData.length)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:contrivedHashes))(SimpleName:add)(METHOD_INVOCATION_ARGUMENTS(SimpleName:fakeHash))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:realHashes))(SimpleName:add)(METHOD_INVOCATION_ARGUMENTS(SimpleName:hash))))))(VariableDeclarationStatement(ArrayType(SimpleType(SimpleName:String))(Dimension))(VariableDeclarationFragment(SimpleName:checkForDir)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:dir))(SimpleName:list))))(ExpressionStatement(MethodInvocation(SimpleName:assertTrue)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(InfixExpression(NumberLiteral:2)(INFIX_EXPRESSION_OPERATOR:==)(QualifiedName:checkForDir.length))(INFIX_EXPRESSION_OPERATOR:||)(InfixExpression(NumberLiteral:1)(INFIX_EXPRESSION_OPERATOR:==)(QualifiedName:checkForDir.length))))))(VariableDeclarationStatement(PrimitiveType:boolean)(VariableDeclarationFragment(SimpleName:atLeastOneDirectory)(BooleanLiteral:false)))(EnhancedForStatement(SingleVariableDeclaration(SimpleType(SimpleName:File))(SimpleName:f))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:dir))(SimpleName:listFiles))(Block(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:f))(SimpleName:isDirectory))(Block(ExpressionStatement(Assignment(SimpleName:atLeastOneDirectory)(ASSIGNMENT_OPERATOR:=)(BooleanLiteral:true)))))))(ExpressionStatement(MethodInvocation(SimpleName:assertTrue)(METHOD_INVOCATION_ARGUMENTS(SimpleName:atLeastOneDirectory))))(Block(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:fileCount)(NumberLiteral:0)))(VariableDeclarationStatement(ParameterizedType(SimpleType(SimpleName:ArrayList))(SimpleType(SimpleName:File)))(VariableDeclarationFragment(SimpleName:filesToCount)(ClassInstanceCreation(SimpleType(SimpleName:ArrayList)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:filesToCount))(SimpleName:add)(METHOD_INVOCATION_ARGUMENTS(SimpleName:dir))))(WhileStatement(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:filesToCount))(SimpleName:isEmpty)))(Block(VariableDeclarationStatement(SimpleType(SimpleName:File))(VariableDeclarationFragment(SimpleName:fileToCount)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:filesToCount))(SimpleName:remove)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:0)))))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fileToCount))(SimpleName:isDirectory))(Block(VariableDeclarationStatement(ArrayType(SimpleType(SimpleName:File))(Dimension))(VariableDeclarationFragment(SimpleName:files)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fileToCount))(SimpleName:listFiles))))(EnhancedForStatement(SingleVariableDeclaration(SimpleType(SimpleName:File))(SimpleName:file))(SimpleName:files)(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:filesToCount))(SimpleName:add)(METHOD_INVOCATION_ARGUMENTS(SimpleName:file)))))))(Block(ExpressionStatement(PostfixExpression(SimpleName:fileCount)(POSTFIX_EXPRESSION_OPERATOR:++)))))))(ExpressionStatement(MethodInvocation(SimpleName:assertTrue)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(InfixExpression(NumberLiteral:1)(INFIX_EXPRESSION_OPERATOR:<)(SimpleName:fileCount))))))(ForStatement(VariableDeclarationExpression(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:i)(NumberLiteral:0)))(InfixExpression(SimpleName:i)(INFIX_EXPRESSION_OPERATOR:<)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:contrivedHashes))(SimpleName:size)))(PostfixExpression(SimpleName:i)(POSTFIX_EXPRESSION_OPERATOR:++))(Block(VariableDeclarationStatement(ArrayType(PrimitiveType:byte)(Dimension))(VariableDeclarationFragment(SimpleName:data)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:dbu))(SimpleName:getData)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:contrivedHashes))(SimpleName:get)(METHOD_INVOCATION_ARGUMENTS(SimpleName:i)))))))(VariableDeclarationStatement(SimpleType(SimpleName:BigHash))(VariableDeclarationFragment(SimpleName:check)(ClassInstanceCreation(SimpleType(SimpleName:BigHash))(SimpleName:data))))(ExpressionStatement(MethodInvocation(SimpleName:assertTrue)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:check))(SimpleName:equals)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:realHashes))(SimpleName:get)(METHOD_INVOCATION_ARGUMENTS(SimpleName:i))))))))))(Block(VariableDeclarationStatement(SimpleType(SimpleName:DataBlock))(VariableDeclarationFragment(SimpleName:block)(NullLiteral)))(ForStatement(VariableDeclarationExpression(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:i)(NumberLiteral:0)))(InfixExpression(SimpleName:i)(INFIX_EXPRESSION_OPERATOR:<)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:contrivedHashes))(SimpleName:size)))(PostfixExpression(SimpleName:i)(POSTFIX_EXPRESSION_OPERATOR:++))(Block(ExpressionStatement(Assignment(SimpleName:block)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:dbu))(SimpleName:getDataBlockToAddChunk)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:contrivedHashes))(SimpleName:get)(METHOD_INVOCATION_ARGUMENTS(SimpleName:i)))))))(IfStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:block))(SimpleName:getHashes)(METHOD_INVOCATION_ARGUMENTS(BooleanLiteral:false))))(SimpleName:size))(INFIX_EXPRESSION_OPERATOR:>)(NumberLiteral:0))(Block(BreakStatement)))))(ExpressionStatement(Assignment(QualifiedName:dbu.purposelyFailMerge)(ASSIGNMENT_OPERATOR:=)(NumberLiteral:0)))(TryStatement(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:block))(SimpleName:cleanUpDataBlock)(METHOD_INVOCATION_ARGUMENTS(BooleanLiteral:true))))(ExpressionStatement(MethodInvocation(SimpleName:fail)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:Exception))(SimpleName:e))(Block)))(ExpressionStatement(Assignment(QualifiedName:dbu.purposelyFailMerge)(ASSIGNMENT_OPERATOR:=)(QualifiedName:Integer.MAX_VALUE))))(VariableDeclarationStatement(ParameterizedType(SimpleType(SimpleName:ArrayList))(SimpleType(SimpleName:BigHash)))(VariableDeclarationFragment(SimpleName:missingData)(ClassInstanceCreation(SimpleType(SimpleName:ArrayList)))))(ForStatement(VariableDeclarationExpression(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:i)(NumberLiteral:0)))(InfixExpression(SimpleName:i)(INFIX_EXPRESSION_OPERATOR:<)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:contrivedHashes))(SimpleName:size)))(PostfixExpression(SimpleName:i)(POSTFIX_EXPRESSION_OPERATOR:++))(Block(TryStatement(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:dbu))(SimpleName:getData)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:contrivedHashes))(SimpleName:get)(METHOD_INVOCATION_ARGUMENTS(SimpleName:i)))))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:FileNotFoundException))(SimpleName:e))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:missingData))(SimpleName:add)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:contrivedHashes))(SimpleName:get)(METHOD_INVOCATION_ARGUMENTS(SimpleName:i)))))))))))(ExpressionStatement(MethodInvocation(SimpleName:assertTrue)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:missingData))(SimpleName:size))(INFIX_EXPRESSION_OPERATOR:>)(NumberLiteral:0)))))(VariableDeclarationStatement(SimpleType(SimpleName:File))(VariableDeclarationFragment(SimpleName:toAddFile)(NullLiteral)))(VariableDeclarationStatement(ParameterizedType(SimpleType(SimpleName:ArrayList))(SimpleType(SimpleName:File)))(VariableDeclarationFragment(SimpleName:filesToCount)(ClassInstanceCreation(SimpleType(SimpleName:ArrayList)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:filesToCount))(SimpleName:add)(METHOD_INVOCATION_ARGUMENTS(SimpleName:dir))))(WhileStatement(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:filesToCount))(SimpleName:isEmpty)))(Block(VariableDeclarationStatement(SimpleType(SimpleName:File))(VariableDeclarationFragment(SimpleName:fileToCount)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:filesToCount))(SimpleName:remove)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:0)))))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fileToCount))(SimpleName:isDirectory))(Block(VariableDeclarationStatement(ArrayType(SimpleType(SimpleName:File))(Dimension))(VariableDeclarationFragment(SimpleName:files)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fileToCount))(SimpleName:listFiles))))(EnhancedForStatement(SingleVariableDeclaration(SimpleType(SimpleName:File))(SimpleName:file))(SimpleName:files)(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:filesToCount))(SimpleName:add)(METHOD_INVOCATION_ARGUMENTS(SimpleName:file)))))))(Block(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fileToCount))(SimpleName:getName)))(SimpleName:endsWith)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))(Block(IfStatement(InfixExpression(SimpleName:toAddFile)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(ExpressionStatement(MethodInvocation(SimpleName:fail)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))))(ExpressionStatement(Assignment(SimpleName:toAddFile)(ASSIGNMENT_OPERATOR:=)(SimpleName:fileToCount)))))))))(ExpressionStatement(MethodInvocation(SimpleName:assertNotNull)(METHOD_INVOCATION_ARGUMENTS(SimpleName:toAddFile))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:dbu))(SimpleName:mergeOldDataBlock)(METHOD_INVOCATION_ARGUMENTS(SimpleName:toAddFile))))(ForStatement(VariableDeclarationExpression(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:i)(NumberLiteral:0)))(InfixExpression(SimpleName:i)(INFIX_EXPRESSION_OPERATOR:<)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:contrivedHashes))(SimpleName:size)))(PostfixExpression(SimpleName:i)(POSTFIX_EXPRESSION_OPERATOR:++))(Block(VariableDeclarationStatement(ArrayType(PrimitiveType:byte)(Dimension))(VariableDeclarationFragment(SimpleName:data)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:dbu))(SimpleName:getData)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:contrivedHashes))(SimpleName:get)(METHOD_INVOCATION_ARGUMENTS(SimpleName:i)))))))(VariableDeclarationStatement(SimpleType(SimpleName:BigHash))(VariableDeclarationFragment(SimpleName:check)(ClassInstanceCreation(SimpleType(SimpleName:BigHash))(SimpleName:data))))(ExpressionStatement(MethodInvocation(SimpleName:assertTrue)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:check))(SimpleName:equals)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:realHashes))(SimpleName:get)(METHOD_INVOCATION_ARGUMENTS(SimpleName:i))))))))))(ExpressionStatement(MethodInvocation(SimpleName:assertTrue)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:logger))(SimpleName:getRuntime))(INFIX_EXPRESSION_OPERATOR:>)(NumberLiteral:0)))))(ExpressionStatement(MethodInvocation(SimpleName:assertTrue)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:logger))(SimpleName:getTimeSpentMerging))(INFIX_EXPRESSION_OPERATOR:>)(NumberLiteral:0)))))(ExpressionStatement(MethodInvocation(SimpleName:assertTrue)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:logger))(SimpleName:getRuntime))(INFIX_EXPRESSION_OPERATOR:>)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:logger))(SimpleName:getTimeSpentMerging)))))))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:IOUtil))(SimpleName:recursiveDelete)(METHOD_INVOCATION_ARGUMENTS(SimpleName:dir))))(IfStatement(InfixExpression(SimpleName:logger)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:logger))(SimpleName:close)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:DataBlockUtil))(SimpleName:setIsLogging)(METHOD_INVOCATION_ARGUMENTS(BooleanLiteral:false))))))))))