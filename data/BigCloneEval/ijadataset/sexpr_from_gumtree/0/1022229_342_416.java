(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:public)(PrimitiveType:void)(SimpleName:doLayout)(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:levels))(SimpleName:clear)))(VariableDeclarationStatement(ParameterizedType(SimpleType(SimpleName:ArrayList))(SimpleType(SimpleName:NodeObj)))(VariableDeclarationFragment(SimpleName:nodeList)(ClassInstanceCreation(ParameterizedType(SimpleType(SimpleName:ArrayList))(SimpleType(SimpleName:NodeObj)))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:nodes))(SimpleName:values)))))(VariableDeclarationStatement(ArrayType(PrimitiveType:boolean)(Dimension))(VariableDeclarationFragment(SimpleName:seenem)(ArrayCreation(ArrayType(PrimitiveType:boolean)(Dimension(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:nodes))(SimpleName:size)))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Collections))(SimpleName:sort)(METHOD_INVOCATION_ARGUMENTS(SimpleName:nodeList)(ClassInstanceCreation(ParameterizedType(SimpleType(SimpleName:Comparator))(SimpleType(SimpleName:NodeObj)))(AnonymousClassDeclaration(MethodDeclaration(Modifier:public)(PrimitiveType:int)(SimpleName:compare)(SingleVariableDeclaration(SimpleType(SimpleName:NodeObj))(SimpleName:o1))(SingleVariableDeclaration(SimpleType(SimpleName:NodeObj))(SimpleName:o2))(Block(ReturnStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:objectComparator))(SimpleName:compare)(METHOD_INVOCATION_ARGUMENTS(SimpleName:o1)(SimpleName:o2)))))))))))(ForStatement(VariableDeclarationExpression(ParameterizedType(SimpleType(SimpleName:Iterator))(SimpleType(SimpleName:NodeObj)))(VariableDeclarationFragment(SimpleName:i)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:nodeList))(SimpleName:iterator))))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:i))(SimpleName:hasNext))(Block(VariableDeclarationStatement(SimpleType(SimpleName:NodeObj))(VariableDeclarationFragment(SimpleName:n)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:i))(SimpleName:next))))(ExpressionStatement(MethodInvocation(SimpleName:findLevel)(METHOD_INVOCATION_ARGUMENTS(SimpleName:maxLevelSize)(SimpleName:n)(SimpleName:seenem))))))(ExpressionStatement(MethodInvocation(SimpleName:rationalise)))(ForStatement(VariableDeclarationExpression(ParameterizedType(SimpleType(SimpleName:Iterator))(SimpleType(SimpleName:Level)))(VariableDeclarationFragment(SimpleName:i)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:levels))(SimpleName:iterator))))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:i))(SimpleName:hasNext))(Block(VariableDeclarationStatement(SimpleType(SimpleName:Level))(VariableDeclarationFragment(SimpleName:l)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:i))(SimpleName:next))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:l))(SimpleName:calcInitialPositions)))))(ExpressionStatement(MethodInvocation(SimpleName:orderNodesInLevels)))(ExpressionStatement(MethodInvocation(SimpleName:calcLevelLocations)))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:minStart)(QualifiedName:Integer.MAX_VALUE)))(ForStatement(VariableDeclarationExpression(ParameterizedType(SimpleType(SimpleName:Iterator))(SimpleType(SimpleName:Level)))(VariableDeclarationFragment(SimpleName:i)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:levels))(SimpleName:iterator))))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:i))(SimpleName:hasNext))(ExpressionStatement(Assignment(SimpleName:minStart)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Math))(SimpleName:min)(METHOD_INVOCATION_ARGUMENTS(SimpleName:minStart)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:i))(SimpleName:next)))(SimpleName:getStart)))))))(ForStatement(VariableDeclarationExpression(ParameterizedType(SimpleType(SimpleName:Iterator))(SimpleType(SimpleName:Level)))(VariableDeclarationFragment(SimpleName:i)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:levels))(SimpleName:iterator))))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:i))(SimpleName:hasNext))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:i))(SimpleName:next)))(SimpleName:shiftLeft)(METHOD_INVOCATION_ARGUMENTS(SimpleName:minStart)))))(ExpressionStatement(Assignment(SimpleName:posMap)(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(ParameterizedType(SimpleType(SimpleName:HashMap))(SimpleType(SimpleName:Object))(SimpleType(SimpleName:Shape))))))(ExpressionStatement(Assignment(SimpleName:edgeShapes)(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(ParameterizedType(SimpleType(SimpleName:HashMap))(SimpleType(SimpleName:DummyEdge))(SimpleType(SimpleName:Shape))))))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:multiplier)(NumberLiteral:1)))(IfStatement(InfixExpression(InfixExpression(SimpleName:orientation)(INFIX_EXPRESSION_OPERATOR:==)(SimpleName:PARENT_BOTTOM))(INFIX_EXPRESSION_OPERATOR:||)(InfixExpression(SimpleName:orientation)(INFIX_EXPRESSION_OPERATOR:==)(SimpleName:PARENT_RIGHT)))(Block(ExpressionStatement(Assignment(SimpleName:multiplier)(ASSIGNMENT_OPERATOR:=)(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:-)(NumberLiteral:1))))))(EnhancedForStatement(SingleVariableDeclaration(SimpleType(SimpleName:NodeObj))(SimpleName:n))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:nodes))(SimpleName:values))(Block(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:n))(SimpleName:isDummy))(ContinueStatement))(VariableDeclarationStatement(SimpleType(SimpleName:Point2D))(VariableDeclarationFragment(SimpleName:offset)(ClassInstanceCreation(SimpleType(QualifiedName:Point2D.Double)))))(IfStatement(InfixExpression(InfixExpression(SimpleName:orientation)(INFIX_EXPRESSION_OPERATOR:==)(SimpleName:PARENT_TOP))(INFIX_EXPRESSION_OPERATOR:||)(InfixExpression(SimpleName:orientation)(INFIX_EXPRESSION_OPERATOR:==)(SimpleName:PARENT_BOTTOM)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:offset))(SimpleName:setLocation)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:n))(SimpleName:getLocation))(InfixExpression(SimpleName:multiplier)(INFIX_EXPRESSION_OPERATOR:*)(FieldAccess(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:n))(SimpleName:getLevel))(SimpleName:location))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:offset))(SimpleName:setLocation)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(SimpleName:multiplier)(INFIX_EXPRESSION_OPERATOR:*)(FieldAccess(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:n))(SimpleName:getLevel))(SimpleName:location)))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:n))(SimpleName:getLocation))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:offset))(SimpleName:setLocation)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:offset))(SimpleName:getX))(INFIX_EXPRESSION_OPERATOR:-)(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:n))(SimpleName:getWidth))(INFIX_EXPRESSION_OPERATOR:/)(NumberLiteral:2)))(InfixExpression(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:offset))(SimpleName:getY))(INFIX_EXPRESSION_OPERATOR:-)(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:n))(SimpleName:getHeight))(INFIX_EXPRESSION_OPERATOR:/)(NumberLiteral:2)))(INFIX_EXPRESSION_OPERATOR:-)(NumberLiteral:5)))))(VariableDeclarationStatement(SimpleType(SimpleName:Rectangle))(VariableDeclarationFragment(SimpleName:r)(ClassInstanceCreation(SimpleType(SimpleName:Rectangle))(CastExpression(PrimitiveType:int)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:offset))(SimpleName:getX)))(CastExpression(PrimitiveType:int)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:offset))(SimpleName:getY)))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:n))(SimpleName:getWidth))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:n))(SimpleName:getHeight)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:posMap))(SimpleName:put)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:n))(SimpleName:getNode))(SimpleName:r))))))(EnhancedForStatement(SingleVariableDeclaration(SimpleType(SimpleName:DummyEdge))(SimpleName:n))(SimpleName:dummyEdges)(Block(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:n))(SimpleName:isDummy))(ContinueStatement))(VariableDeclarationStatement(SimpleType(SimpleName:GeneralPath))(VariableDeclarationFragment(SimpleName:shape)(ClassInstanceCreation(SimpleType(SimpleName:GeneralPath)))))(EnhancedForStatement(SingleVariableDeclaration(SimpleType(SimpleName:DummyEdge))(SimpleName:edge))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:n))(SimpleName:getComponentEdges))(Block(VariableDeclarationStatement(SimpleType(SimpleName:NodeObj))(VariableDeclarationFragment(SimpleName:parent)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:edge))(SimpleName:getLayoutParent))))(VariableDeclarationStatement(SimpleType(SimpleName:NodeObj))(VariableDeclarationFragment(SimpleName:child)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:edge))(SimpleName:getLayoutChild))))(IfStatement(InfixExpression(SimpleName:child)(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(ContinueStatement))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:parentLocation)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:parent))(SimpleName:getLocation))))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:childLocation)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:child))(SimpleName:getLocation))))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:levelParent)(InfixExpression(FieldAccess(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:parent))(SimpleName:getLevel))(SimpleName:location))(INFIX_EXPRESSION_OPERATOR:+)(InfixExpression(FieldAccess(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:parent))(SimpleName:getLevel))(SimpleName:depth))(INFIX_EXPRESSION_OPERATOR:/)(NumberLiteral:2)))))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:levelChild)(InfixExpression(FieldAccess(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:child))(SimpleName:getLevel))(SimpleName:location))(INFIX_EXPRESSION_OPERATOR:-)(InfixExpression(FieldAccess(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:child))(SimpleName:getLevel))(SimpleName:depth))(INFIX_EXPRESSION_OPERATOR:/)(NumberLiteral:2)))))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:levelCentre)(InfixExpression(ParenthesizedExpression(InfixExpression(SimpleName:levelParent)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:levelChild)))(INFIX_EXPRESSION_OPERATOR:/)(NumberLiteral:2))))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:nodeParent)))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:nodeChild)))(IfStatement(SimpleName:drawEdgesToNodeCenters)(Block(ExpressionStatement(Assignment(SimpleName:nodeParent)(ASSIGNMENT_OPERATOR:=)(FieldAccess(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:parent))(SimpleName:getLevel))(SimpleName:location))))(ExpressionStatement(Assignment(SimpleName:nodeChild)(ASSIGNMENT_OPERATOR:=)(FieldAccess(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:child))(SimpleName:getLevel))(SimpleName:location)))))(Block(ExpressionStatement(Assignment(SimpleName:nodeParent)(ASSIGNMENT_OPERATOR:=)(InfixExpression(FieldAccess(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:parent))(SimpleName:getLevel))(SimpleName:location))(INFIX_EXPRESSION_OPERATOR:+)(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:parent))(SimpleName:getLayoutHeight))(INFIX_EXPRESSION_OPERATOR:/)(NumberLiteral:2)))))(ExpressionStatement(Assignment(SimpleName:nodeChild)(ASSIGNMENT_OPERATOR:=)(InfixExpression(FieldAccess(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:child))(SimpleName:getLevel))(SimpleName:location))(INFIX_EXPRESSION_OPERATOR:-)(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:child))(SimpleName:getLayoutHeight))(INFIX_EXPRESSION_OPERATOR:/)(NumberLiteral:2)))))))(IfStatement(InfixExpression(InfixExpression(SimpleName:orientation)(INFIX_EXPRESSION_OPERATOR:==)(SimpleName:PARENT_TOP))(INFIX_EXPRESSION_OPERATOR:||)(InfixExpression(SimpleName:orientation)(INFIX_EXPRESSION_OPERATOR:==)(SimpleName:PARENT_BOTTOM)))(Block(IfStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:shape))(SimpleName:getCurrentPoint))(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:shape))(SimpleName:moveTo)(METHOD_INVOCATION_ARGUMENTS(SimpleName:parentLocation)(InfixExpression(SimpleName:multiplier)(INFIX_EXPRESSION_OPERATOR:*)(SimpleName:nodeParent)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:shape))(SimpleName:lineTo)(METHOD_INVOCATION_ARGUMENTS(SimpleName:parentLocation)(InfixExpression(SimpleName:multiplier)(INFIX_EXPRESSION_OPERATOR:*)(SimpleName:nodeParent))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:shape))(SimpleName:lineTo)(METHOD_INVOCATION_ARGUMENTS(SimpleName:parentLocation)(InfixExpression(SimpleName:multiplier)(INFIX_EXPRESSION_OPERATOR:*)(SimpleName:levelParent)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:shape))(SimpleName:curveTo)(METHOD_INVOCATION_ARGUMENTS(SimpleName:parentLocation)(InfixExpression(SimpleName:multiplier)(INFIX_EXPRESSION_OPERATOR:*)(SimpleName:levelCentre))(SimpleName:childLocation)(InfixExpression(SimpleName:multiplier)(INFIX_EXPRESSION_OPERATOR:*)(SimpleName:levelCentre))(SimpleName:childLocation)(InfixExpression(SimpleName:multiplier)(INFIX_EXPRESSION_OPERATOR:*)(SimpleName:levelChild)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:shape))(SimpleName:lineTo)(METHOD_INVOCATION_ARGUMENTS(SimpleName:childLocation)(InfixExpression(SimpleName:multiplier)(INFIX_EXPRESSION_OPERATOR:*)(SimpleName:nodeChild))))))(Block(IfStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:shape))(SimpleName:getCurrentPoint))(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:shape))(SimpleName:moveTo)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(SimpleName:multiplier)(INFIX_EXPRESSION_OPERATOR:*)(SimpleName:nodeParent))(SimpleName:parentLocation))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:shape))(SimpleName:lineTo)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(SimpleName:multiplier)(INFIX_EXPRESSION_OPERATOR:*)(SimpleName:nodeParent))(SimpleName:parentLocation)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:shape))(SimpleName:lineTo)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(SimpleName:multiplier)(INFIX_EXPRESSION_OPERATOR:*)(SimpleName:levelParent))(SimpleName:parentLocation))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:shape))(SimpleName:curveTo)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(SimpleName:multiplier)(INFIX_EXPRESSION_OPERATOR:*)(SimpleName:levelCentre))(SimpleName:parentLocation)(InfixExpression(SimpleName:multiplier)(INFIX_EXPRESSION_OPERATOR:*)(SimpleName:levelCentre))(SimpleName:childLocation)(InfixExpression(SimpleName:multiplier)(INFIX_EXPRESSION_OPERATOR:*)(SimpleName:levelChild))(SimpleName:childLocation))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:shape))(SimpleName:lineTo)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(SimpleName:multiplier)(INFIX_EXPRESSION_OPERATOR:*)(SimpleName:nodeChild))(SimpleName:childLocation))))))))(IfStatement(InfixExpression(InfixExpression(SimpleName:orientation)(INFIX_EXPRESSION_OPERATOR:==)(SimpleName:PARENT_TOP))(INFIX_EXPRESSION_OPERATOR:||)(InfixExpression(SimpleName:orientation)(INFIX_EXPRESSION_OPERATOR:==)(SimpleName:PARENT_LEFT)))(ExpressionStatement(Assignment(SimpleName:shape)(ASSIGNMENT_OPERATOR:=)(CastExpression(SimpleType(SimpleName:GeneralPath))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ShapeUtil))(SimpleName:reverseShape)(METHOD_INVOCATION_ARGUMENTS(SimpleName:shape)(NullLiteral)))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:edgeShapes))(SimpleName:put)(METHOD_INVOCATION_ARGUMENTS(SimpleName:n)(SimpleName:shape))))))))))