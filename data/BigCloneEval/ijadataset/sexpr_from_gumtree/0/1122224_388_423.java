(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:public)(Modifier:static)(PrimitiveType:void)(SimpleName:savePresetPackage)(SingleVariableDeclaration(SimpleType(SimpleName:PresetPackage))(SimpleName:pkg))(SingleVariableDeclaration(SimpleType(SimpleName:File))(SimpleName:pkgFile))(SingleVariableDeclaration(SimpleType(SimpleName:ProgressCallback))(SimpleName:prog))(SimpleType(SimpleName:PackageGenerationException))(Block(TryStatement(Block(IfStatement(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(ParenthesizedExpression(InstanceofExpression(SimpleName:pkg)(SimpleType(SimpleName:Impl_PresetPackage)))))(ThrowStatement(ClassInstanceCreation(SimpleType(SimpleName:PackageGenerationException))(StringLiteral:<STR>))))(VariableDeclarationStatement(SimpleType(SimpleName:ZipOutputStream))(VariableDeclarationFragment(SimpleName:os)(NullLiteral)))(VariableDeclarationStatement(SimpleType(SimpleName:ObjectOutputStream))(VariableDeclarationFragment(SimpleName:oos)(NullLiteral)))(TryStatement(Block(ExpressionStatement(Assignment(SimpleName:os)(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(SimpleType(SimpleName:ZipOutputStream))(ClassInstanceCreation(SimpleType(SimpleName:FileOutputStream))(SimpleName:pkgFile)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:os))(SimpleName:setMethod)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:ZipOutputStream.DEFLATED))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:os))(SimpleName:setLevel)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:Deflater.BEST_SPEED))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:os))(SimpleName:putNextEntry)(METHOD_INVOCATION_ARGUMENTS(ClassInstanceCreation(SimpleType(SimpleName:ZipEntry))(QualifiedName:PresetPackage.PRESET_PKG_CONTENT_ENTRY)))))(ExpressionStatement(Assignment(SimpleName:oos)(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(SimpleType(SimpleName:ObjectOutputStream))(SimpleName:os))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:oos))(SimpleName:writeObject)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:pkg))(SimpleName:getHeader)))))(TryStatement(Block(ExpressionStatement(MethodInvocation(SimpleName:makeIsolatedPresetsSerializable)(METHOD_INVOCATION_ARGUMENTS(CastExpression(SimpleType(SimpleName:Impl_PresetPackage))(SimpleName:pkg))))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:PresetException))(SimpleName:e))(Block(ThrowStatement(ClassInstanceCreation(SimpleType(SimpleName:PackageGenerationException))(StringLiteral:<STR>))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:oos))(SimpleName:writeObject)(METHOD_INVOCATION_ARGUMENTS(SimpleName:pkg))))(IfStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:pkg))(SimpleName:getSamplePackage))(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(VariableDeclarationStatement(SimpleType(SimpleName:File))(VariableDeclarationFragment(SimpleName:smplDir)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ZUtilities))(SimpleName:replaceExtension)(METHOD_INVOCATION_ARGUMENTS(SimpleName:pkgFile)(QualifiedName:SamplePackage.SAMPLE_DIR_EXT)))))(TryStatement(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:os))(SimpleName:putNextEntry)(METHOD_INVOCATION_ARGUMENTS(ClassInstanceCreation(SimpleType(SimpleName:ZipEntry))(QualifiedName:SamplePackage.SAMPLE_PKG_CONTENT_ENTRY))))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:IOException))(SimpleName:e))(Block(ThrowStatement(ClassInstanceCreation(SimpleType(SimpleName:PackageGenerationException))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:e))(SimpleName:getMessage)))))))(ExpressionStatement(MethodInvocation(SimpleName:writeSamplePackage)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:pkg))(SimpleName:getSamplePackage))(SimpleName:oos)(SimpleName:smplDir)(SimpleName:prog))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:oos))(SimpleName:close))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:IOException))(SimpleName:e))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:pkgFile))(SimpleName:delete)))(ThrowStatement(ClassInstanceCreation(SimpleType(SimpleName:PackageGenerationException))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:e))(SimpleName:getMessage))))))))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:prog))(SimpleName:updateProgress)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:1))))))))))