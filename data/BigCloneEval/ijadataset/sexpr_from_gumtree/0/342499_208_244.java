(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:private)(PrimitiveType:void)(SimpleName:writeData)(Block(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:writeTask))(SimpleName:ready))(Block(VariableDeclarationStatement(PrimitiveType:long)(VariableDeclarationFragment(SimpleName:writeTime)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:writeTask))(SimpleName:getWriteTime))))(VariableDeclarationStatement(ParameterizedType(SimpleType(SimpleName:Iterator))(SimpleType(SimpleName:Connection)))(VariableDeclarationFragment(SimpleName:iter)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:writeQueue))(SimpleName:iterator))))(WhileStatement(InfixExpression(InfixExpression(SimpleName:writeTime)(INFIX_EXPRESSION_OPERATOR:>=)(NumberLiteral:0))(INFIX_EXPRESSION_OPERATOR:&&)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:iter))(SimpleName:hasNext)))(Block(IfStatement(SimpleName:emptyQueueLastWrite)(Block(ExpressionStatement(Assignment(SimpleName:writeTime)(ASSIGNMENT_OPERATOR:=)(NumberLiteral:0)))(ExpressionStatement(Assignment(SimpleName:emptyQueueLastWrite)(ASSIGNMENT_OPERATOR:=)(BooleanLiteral:false)))))(VariableDeclarationStatement(SimpleType(SimpleName:Connection))(VariableDeclarationFragment(SimpleName:connection)(CastExpression(SimpleType(SimpleName:Connection))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:iter))(SimpleName:next)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:iter))(SimpleName:remove)))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:connection))(SimpleName:isClosed))(Block(ContinueStatement)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:connection))(SimpleName:setInterestWrite)))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:bytesWritten)(NumberLiteral:0)))(TryStatement(Block(ExpressionStatement(Assignment(SimpleName:bytesWritten)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:connection))(SimpleName:writeData))))(ExpressionStatement(Assignment(SimpleName:bytesSent)(ASSIGNMENT_OPERATOR:+=)(SimpleName:bytesWritten)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:logger))(SimpleName:finest)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(SimpleName:connection)(INFIX_EXPRESSION_OPERATOR:+)(StringLiteral:<STR>)(SimpleName:bytesWritten)(StringLiteral:<STR>))))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:IOException))(SimpleName:e))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:connection))(SimpleName:close)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))))))(VariableDeclarationStatement(PrimitiveType:long)(VariableDeclarationFragment(SimpleName:writeWaitingTime)(InfixExpression(ParenthesizedExpression(InfixExpression(CastExpression(PrimitiveType:long)(SimpleName:bytesWritten))(INFIX_EXPRESSION_OPERATOR:*)(CastExpression(PrimitiveType:long)(SimpleName:ONE_SECOND))))(INFIX_EXPRESSION_OPERATOR:/)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:settings))(SimpleName:getUploadSpeedMax)))))(ExpressionStatement(Assignment(SimpleName:writeTime)(ASSIGNMENT_OPERATOR:-=)(SimpleName:writeWaitingTime)))))(IfStatement(InfixExpression(SimpleName:writeTime)(INFIX_EXPRESSION_OPERATOR:<)(NumberLiteral:0))(Block(ExpressionStatement(Assignment(SimpleName:writeTask)(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(SimpleType(SimpleName:WriteTask)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:writeTask))(SimpleName:schedule)(METHOD_INVOCATION_ARGUMENTS(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:-)(SimpleName:writeTime))))))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:writeTask))(SimpleName:reset)))))(IfStatement(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:iter))(SimpleName:hasNext)))(Block(ExpressionStatement(Assignment(SimpleName:emptyQueueLastWrite)(ASSIGNMENT_OPERATOR:=)(BooleanLiteral:true)))))))))))