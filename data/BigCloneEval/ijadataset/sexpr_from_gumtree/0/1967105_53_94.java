(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:private)(PrimitiveType:void)(SimpleName:forBundle)(SingleVariableDeclaration(SimpleType(SimpleName:BundleManipulator))(SimpleName:manip))(Block(VariableDeclarationStatement(SimpleType(SimpleName:ByteArrayOutputStream))(VariableDeclarationFragment(SimpleName:bout)(NullLiteral)))(TryStatement(Block(ExpressionStatement(Assignment(SimpleName:bout)(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(SimpleType(SimpleName:ByteArrayOutputStream)))))(VariableDeclarationStatement(SimpleType(SimpleName:ZipOutputStream))(VariableDeclarationFragment(SimpleName:zout)(ClassInstanceCreation(SimpleType(SimpleName:ZipOutputStream))(SimpleName:bout))))(VariableDeclarationStatement(SimpleType(SimpleName:Bundle))(VariableDeclarationFragment(SimpleName:bundle)(MethodInvocation(SimpleName:getBundle))))(VariableDeclarationStatement(ParameterizedType(SimpleType(SimpleName:Enumeration))(SimpleType(SimpleName:URL)))(VariableDeclarationFragment(SimpleName:files)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:bundle))(SimpleName:findEntries)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(StringLiteral:<STR>)(BooleanLiteral:false)))))(IfStatement(InfixExpression(SimpleName:files)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(WhileStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:files))(SimpleName:hasMoreElements))(Block(VariableDeclarationStatement(SimpleType(SimpleName:URL))(VariableDeclarationFragment(SimpleName:url)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:files))(SimpleName:nextElement))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:name)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:url))(SimpleName:getFile))))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:name))(SimpleName:startsWith)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))(Block(ExpressionStatement(Assignment(SimpleName:name)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:name))(SimpleName:substring)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:1)))))))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:manip))(SimpleName:includeEntry)(METHOD_INVOCATION_ARGUMENTS(SimpleName:name)))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:zout))(SimpleName:putNextEntry)(METHOD_INVOCATION_ARGUMENTS(ClassInstanceCreation(SimpleType(SimpleName:ZipEntry))(SimpleName:name)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:IOUtils))(SimpleName:copy)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:url))(SimpleName:openStream))(SimpleName:zout))))))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:manip))(SimpleName:finish)(METHOD_INVOCATION_ARGUMENTS(SimpleName:bundle)(SimpleName:zout))))(VariableDeclarationStatement(SimpleType(SimpleName:Manifest))(VariableDeclarationFragment(SimpleName:mf)(ClassInstanceCreation(SimpleType(SimpleName:Manifest))(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:bundle))(SimpleName:getEntry)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))(SimpleName:openStream)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:zout))(SimpleName:putNextEntry)(METHOD_INVOCATION_ARGUMENTS(ClassInstanceCreation(SimpleType(SimpleName:ZipEntry))(StringLiteral:<STR>)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:mf))(SimpleName:write)(METHOD_INVOCATION_ARGUMENTS(SimpleName:zout))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:zout))(SimpleName:close)))(VariableDeclarationStatement(SimpleType(SimpleName:File))(VariableDeclarationFragment(SimpleName:tmpFile)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:File))(SimpleName:createTempFile)(METHOD_INVOCATION_ARGUMENTS(SimpleName:TEMPLATES_SYMBOLIC_NAME)(StringLiteral:<STR>)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:FileUtils))(SimpleName:writeByteArrayToFile)(METHOD_INVOCATION_ARGUMENTS(SimpleName:tmpFile)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:bout))(SimpleName:toByteArray)))))(IfStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:pluginAccessor))(SimpleName:getPlugin)(METHOD_INVOCATION_ARGUMENTS(SimpleName:TEMPLATES_SYMBOLIC_NAME)))(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:pluginController))(SimpleName:uninstall)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:pluginAccessor))(SimpleName:getPlugin)(METHOD_INVOCATION_ARGUMENTS(SimpleName:TEMPLATES_SYMBOLIC_NAME)))))))(IfStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:pluginAccessor))(SimpleName:getPlugin)(METHOD_INVOCATION_ARGUMENTS(SimpleName:TEMPLATES_PLUGIN_KEY)))(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:pluginController))(SimpleName:uninstall)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:pluginAccessor))(SimpleName:getPlugin)(METHOD_INVOCATION_ARGUMENTS(SimpleName:TEMPLATES_PLUGIN_KEY)))))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:pluginController))(SimpleName:installPlugin)(METHOD_INVOCATION_ARGUMENTS(ClassInstanceCreation(SimpleType(SimpleName:JarPluginArtifact))(SimpleName:tmpFile)))))(VariableDeclarationStatement(SimpleType(SimpleName:ServiceReference))(VariableDeclarationFragment(SimpleName:ref)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:bundleContext))(SimpleName:getServiceReference)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(TypeLiteral(SimpleType(SimpleName:PackageAdmin))))(SimpleName:getName))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(ParenthesizedExpression(CastExpression(SimpleType(SimpleName:PackageAdmin))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:bundleContext))(SimpleName:getService)(METHOD_INVOCATION_ARGUMENTS(SimpleName:ref))))))(SimpleName:refreshPackages)(METHOD_INVOCATION_ARGUMENTS(NullLiteral))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:tmpFile))(SimpleName:delete))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:IOException))(SimpleName:e))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:e))(SimpleName:printStackTrace)))))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:IOUtils))(SimpleName:closeQuietly)(METHOD_INVOCATION_ARGUMENTS(SimpleName:bout))))))))))