(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:public)(SimpleName:sendhtml)(SingleVariableDeclaration(ArrayType(SimpleType(SimpleName:String))(Dimension))(SimpleName:argv))(Block(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:to))(VariableDeclarationFragment(SimpleName:subject)(NullLiteral))(VariableDeclarationFragment(SimpleName:from)(NullLiteral))(VariableDeclarationFragment(SimpleName:cc)(NullLiteral))(VariableDeclarationFragment(SimpleName:bcc)(NullLiteral))(VariableDeclarationFragment(SimpleName:url)(NullLiteral)))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:mailhost)(NullLiteral)))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:mailer)(StringLiteral:<STR>)))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:protocol)(NullLiteral))(VariableDeclarationFragment(SimpleName:host)(NullLiteral))(VariableDeclarationFragment(SimpleName:user)(NullLiteral))(VariableDeclarationFragment(SimpleName:password)(NullLiteral)))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:record)(NullLiteral)))(VariableDeclarationStatement(PrimitiveType:boolean)(VariableDeclarationFragment(SimpleName:debug)(BooleanLiteral:false)))(VariableDeclarationStatement(SimpleType(SimpleName:BufferedReader))(VariableDeclarationFragment(SimpleName:in)(ClassInstanceCreation(SimpleType(SimpleName:BufferedReader))(ClassInstanceCreation(SimpleType(SimpleName:InputStreamReader))(QualifiedName:System.in)))))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:optind)))(ForStatement(Assignment(SimpleName:optind)(ASSIGNMENT_OPERATOR:=)(NumberLiteral:0))(InfixExpression(SimpleName:optind)(INFIX_EXPRESSION_OPERATOR:<)(QualifiedName:argv.length))(PostfixExpression(SimpleName:optind)(POSTFIX_EXPRESSION_OPERATOR:++))(Block(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(ArrayAccess(SimpleName:argv)(SimpleName:optind)))(SimpleName:equals)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))(Block(ExpressionStatement(Assignment(SimpleName:protocol)(ASSIGNMENT_OPERATOR:=)(ArrayAccess(SimpleName:argv)(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:++)(SimpleName:optind))))))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(ArrayAccess(SimpleName:argv)(SimpleName:optind)))(SimpleName:equals)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))(Block(ExpressionStatement(Assignment(SimpleName:host)(ASSIGNMENT_OPERATOR:=)(ArrayAccess(SimpleName:argv)(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:++)(SimpleName:optind))))))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(ArrayAccess(SimpleName:argv)(SimpleName:optind)))(SimpleName:equals)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))(Block(ExpressionStatement(Assignment(SimpleName:user)(ASSIGNMENT_OPERATOR:=)(ArrayAccess(SimpleName:argv)(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:++)(SimpleName:optind))))))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(ArrayAccess(SimpleName:argv)(SimpleName:optind)))(SimpleName:equals)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))(Block(ExpressionStatement(Assignment(SimpleName:password)(ASSIGNMENT_OPERATOR:=)(ArrayAccess(SimpleName:argv)(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:++)(SimpleName:optind))))))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(ArrayAccess(SimpleName:argv)(SimpleName:optind)))(SimpleName:equals)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))(Block(ExpressionStatement(Assignment(SimpleName:mailhost)(ASSIGNMENT_OPERATOR:=)(ArrayAccess(SimpleName:argv)(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:++)(SimpleName:optind))))))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(ArrayAccess(SimpleName:argv)(SimpleName:optind)))(SimpleName:equals)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))(Block(ExpressionStatement(Assignment(SimpleName:record)(ASSIGNMENT_OPERATOR:=)(ArrayAccess(SimpleName:argv)(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:++)(SimpleName:optind))))))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(ArrayAccess(SimpleName:argv)(SimpleName:optind)))(SimpleName:equals)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))(Block(ExpressionStatement(Assignment(SimpleName:subject)(ASSIGNMENT_OPERATOR:=)(ArrayAccess(SimpleName:argv)(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:++)(SimpleName:optind))))))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(ArrayAccess(SimpleName:argv)(SimpleName:optind)))(SimpleName:equals)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))(Block(ExpressionStatement(Assignment(SimpleName:from)(ASSIGNMENT_OPERATOR:=)(ArrayAccess(SimpleName:argv)(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:++)(SimpleName:optind))))))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(ArrayAccess(SimpleName:argv)(SimpleName:optind)))(SimpleName:equals)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))(Block(ExpressionStatement(Assignment(SimpleName:cc)(ASSIGNMENT_OPERATOR:=)(ArrayAccess(SimpleName:argv)(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:++)(SimpleName:optind))))))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(ArrayAccess(SimpleName:argv)(SimpleName:optind)))(SimpleName:equals)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))(Block(ExpressionStatement(Assignment(SimpleName:bcc)(ASSIGNMENT_OPERATOR:=)(ArrayAccess(SimpleName:argv)(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:++)(SimpleName:optind))))))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(ArrayAccess(SimpleName:argv)(SimpleName:optind)))(SimpleName:equals)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))(Block(ExpressionStatement(Assignment(SimpleName:url)(ASSIGNMENT_OPERATOR:=)(ArrayAccess(SimpleName:argv)(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:++)(SimpleName:optind))))))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(ArrayAccess(SimpleName:argv)(SimpleName:optind)))(SimpleName:equals)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))(Block(ExpressionStatement(Assignment(SimpleName:debug)(ASSIGNMENT_OPERATOR:=)(BooleanLiteral:true))))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(ArrayAccess(SimpleName:argv)(SimpleName:optind)))(SimpleName:equals)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))(Block(ExpressionStatement(PostfixExpression(SimpleName:optind)(POSTFIX_EXPRESSION_OPERATOR:++)))(BreakStatement))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(ArrayAccess(SimpleName:argv)(SimpleName:optind)))(SimpleName:startsWith)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(QualifiedName:System.out))(SimpleName:println)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(QualifiedName:System.out))(SimpleName:println)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(QualifiedName:System.out))(SimpleName:println)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:System))(SimpleName:exit)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:1)))))(Block(BreakStatement))))))))))))))))))(TryStatement(Block(IfStatement(InfixExpression(SimpleName:optind)(INFIX_EXPRESSION_OPERATOR:<)(QualifiedName:argv.length))(Block(ExpressionStatement(Assignment(SimpleName:to)(ASSIGNMENT_OPERATOR:=)(ArrayAccess(SimpleName:argv)(SimpleName:optind))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(QualifiedName:System.out))(SimpleName:println)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:to))))))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(QualifiedName:System.out))(SimpleName:print)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(QualifiedName:System.out))(SimpleName:flush)))(ExpressionStatement(Assignment(SimpleName:to)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:in))(SimpleName:readLine))))))(IfStatement(InfixExpression(SimpleName:subject)(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(QualifiedName:System.out))(SimpleName:print)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(QualifiedName:System.out))(SimpleName:flush)))(ExpressionStatement(Assignment(SimpleName:subject)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:in))(SimpleName:readLine)))))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(QualifiedName:System.out))(SimpleName:println)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:subject)))))))(VariableDeclarationStatement(SimpleType(SimpleName:Properties))(VariableDeclarationFragment(SimpleName:props)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:System))(SimpleName:getProperties))))(IfStatement(InfixExpression(SimpleName:mailhost)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:props))(SimpleName:put)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(SimpleName:mailhost)))))(VariableDeclarationStatement(SimpleType(SimpleName:Session))(VariableDeclarationFragment(SimpleName:session)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Session))(SimpleName:getInstance)(METHOD_INVOCATION_ARGUMENTS(SimpleName:props)(NullLiteral)))))(IfStatement(SimpleName:debug)(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:session))(SimpleName:setDebug)(METHOD_INVOCATION_ARGUMENTS(BooleanLiteral:true)))))(VariableDeclarationStatement(SimpleType(SimpleName:Message))(VariableDeclarationFragment(SimpleName:msg)(ClassInstanceCreation(SimpleType(SimpleName:MimeMessage))(SimpleName:session))))(IfStatement(InfixExpression(SimpleName:from)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:msg))(SimpleName:setFrom)(METHOD_INVOCATION_ARGUMENTS(ClassInstanceCreation(SimpleType(SimpleName:InternetAddress))(SimpleName:from)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:msg))(SimpleName:setFrom))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:msg))(SimpleName:setRecipients)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:Message.RecipientType.TO)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:InternetAddress))(SimpleName:parse)(METHOD_INVOCATION_ARGUMENTS(SimpleName:to)(BooleanLiteral:false))))))(IfStatement(InfixExpression(SimpleName:cc)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:msg))(SimpleName:setRecipients)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:Message.RecipientType.CC)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:InternetAddress))(SimpleName:parse)(METHOD_INVOCATION_ARGUMENTS(SimpleName:cc)(BooleanLiteral:false)))))))(IfStatement(InfixExpression(SimpleName:bcc)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:msg))(SimpleName:setRecipients)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:Message.RecipientType.BCC)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:InternetAddress))(SimpleName:parse)(METHOD_INVOCATION_ARGUMENTS(SimpleName:bcc)(BooleanLiteral:false)))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:msg))(SimpleName:setSubject)(METHOD_INVOCATION_ARGUMENTS(SimpleName:subject))))(ExpressionStatement(MethodInvocation(SimpleName:collect)(METHOD_INVOCATION_ARGUMENTS(SimpleName:in)(SimpleName:msg))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:msg))(SimpleName:setHeader)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(SimpleName:mailer))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:msg))(SimpleName:setSentDate)(METHOD_INVOCATION_ARGUMENTS(ClassInstanceCreation(SimpleType(SimpleName:Date))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Transport))(SimpleName:send)(METHOD_INVOCATION_ARGUMENTS(SimpleName:msg))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(QualifiedName:System.out))(SimpleName:println)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))(IfStatement(InfixExpression(SimpleName:record)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(VariableDeclarationStatement(SimpleType(SimpleName:Store))(VariableDeclarationFragment(SimpleName:store)(NullLiteral)))(IfStatement(InfixExpression(SimpleName:url)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(VariableDeclarationStatement(SimpleType(SimpleName:URLName))(VariableDeclarationFragment(SimpleName:urln)(ClassInstanceCreation(SimpleType(SimpleName:URLName))(SimpleName:url))))(ExpressionStatement(Assignment(SimpleName:store)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:session))(SimpleName:getStore)(METHOD_INVOCATION_ARGUMENTS(SimpleName:urln)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:store))(SimpleName:connect))))(Block(IfStatement(InfixExpression(SimpleName:protocol)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(ExpressionStatement(Assignment(SimpleName:store)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:session))(SimpleName:getStore)(METHOD_INVOCATION_ARGUMENTS(SimpleName:protocol)))))(ExpressionStatement(Assignment(SimpleName:store)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:session))(SimpleName:getStore)))))(IfStatement(InfixExpression(InfixExpression(InfixExpression(SimpleName:host)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(INFIX_EXPRESSION_OPERATOR:||)(InfixExpression(SimpleName:user)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral)))(INFIX_EXPRESSION_OPERATOR:||)(InfixExpression(SimpleName:password)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:store))(SimpleName:connect)(METHOD_INVOCATION_ARGUMENTS(SimpleName:host)(SimpleName:user)(SimpleName:password))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:store))(SimpleName:connect))))))(VariableDeclarationStatement(SimpleType(SimpleName:Folder))(VariableDeclarationFragment(SimpleName:folder)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:store))(SimpleName:getFolder)(METHOD_INVOCATION_ARGUMENTS(SimpleName:record)))))(IfStatement(InfixExpression(SimpleName:folder)(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(QualifiedName:System.err))(SimpleName:println)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:System))(SimpleName:exit)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:1))))))(IfStatement(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:folder))(SimpleName:exists)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:folder))(SimpleName:create)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:Folder.HOLDS_MESSAGES)))))(VariableDeclarationStatement(ArrayType(SimpleType(SimpleName:Message))(Dimension))(VariableDeclarationFragment(SimpleName:msgs)(ArrayCreation(ArrayType(SimpleType(SimpleName:Message))(Dimension(NumberLiteral:1))))))(ExpressionStatement(Assignment(ArrayAccess(SimpleName:msgs)(NumberLiteral:0))(ASSIGNMENT_OPERATOR:=)(SimpleName:msg)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:folder))(SimpleName:appendMessages)(METHOD_INVOCATION_ARGUMENTS(SimpleName:msgs))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(QualifiedName:System.out))(SimpleName:println)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:Exception))(SimpleName:e))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:e))(SimpleName:printStackTrace))))))))))