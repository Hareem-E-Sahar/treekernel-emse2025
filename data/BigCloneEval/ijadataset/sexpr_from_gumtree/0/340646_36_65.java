(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:public)(PrimitiveType:void)(SimpleName:channelUpdated)(SingleVariableDeclaration(SimpleType(SimpleName:ChannelEvent))(SimpleName:event))(Block(VariableDeclarationStatement(ParameterizedType(SimpleType(SimpleName:List))(SimpleType(SimpleName:ChannelBeanMetaData)))(VariableDeclarationFragment(SimpleName:updateInfo)(CastExpression(ParameterizedType(SimpleType(SimpleName:List))(SimpleType(SimpleName:ChannelBeanMetaData)))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:event))(SimpleName:getAttribute)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:ChannelEvent.metadata))))))(IfStatement(InfixExpression(SimpleName:updateInfo)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(VariableDeclarationStatement(ParameterizedType(SimpleType(SimpleName:Map))(SimpleType(SimpleName:String))(SimpleType(SimpleName:List)))(VariableDeclarationFragment(SimpleName:changeLogMap)(ClassInstanceCreation(ParameterizedType(SimpleType(SimpleName:HashMap))(SimpleType(SimpleName:String))(SimpleType(SimpleName:List))))))(EnhancedForStatement(SingleVariableDeclaration(SimpleType(SimpleName:ChannelBeanMetaData))(SimpleName:cour))(SimpleName:updateInfo)(Block(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:deviceId)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:cour))(SimpleName:getDeviceId))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:beanId)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:cour))(SimpleName:getBeanId))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:channel)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:cour))(SimpleName:getChannel))))(VariableDeclarationStatement(SimpleType(SimpleName:ChannelUpdateType))(VariableDeclarationFragment(SimpleName:updateType)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:cour))(SimpleName:getUpdateType))))(VariableDeclarationStatement(SimpleType(SimpleName:List))(VariableDeclarationFragment(SimpleName:changelog)(MethodInvocation(METHOD_INVOCATION_RECEIVER(ThisExpression))(SimpleName:findChangeLog)(METHOD_INVOCATION_ARGUMENTS(SimpleName:changeLogMap)(SimpleName:deviceId)))))(VariableDeclarationStatement(SimpleType(SimpleName:ChangeLogEntry))(VariableDeclarationFragment(SimpleName:entry)(ClassInstanceCreation(SimpleType(SimpleName:ChangeLogEntry)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:entry))(SimpleName:setNodeId)(METHOD_INVOCATION_ARGUMENTS(SimpleName:channel))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:entry))(SimpleName:setTarget)(METHOD_INVOCATION_ARGUMENTS(SimpleName:deviceId))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:entry))(SimpleName:setRecordId)(METHOD_INVOCATION_ARGUMENTS(SimpleName:beanId))))(IfStatement(InfixExpression(SimpleName:updateType)(INFIX_EXPRESSION_OPERATOR:==)(QualifiedName:ChannelUpdateType.ADD))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:entry))(SimpleName:setOperation)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:ServerSyncEngine.OPERATION_ADD)))))(IfStatement(InfixExpression(SimpleName:updateType)(INFIX_EXPRESSION_OPERATOR:==)(QualifiedName:ChannelUpdateType.REPLACE))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:entry))(SimpleName:setOperation)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:ServerSyncEngine.OPERATION_UPDATE)))))(IfStatement(InfixExpression(SimpleName:updateType)(INFIX_EXPRESSION_OPERATOR:==)(QualifiedName:ChannelUpdateType.DELETE))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:entry))(SimpleName:setOperation)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:ServerSyncEngine.OPERATION_DELETE))))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:changelog))(SimpleName:add)(METHOD_INVOCATION_ARGUMENTS(SimpleName:entry))))))(VariableDeclarationStatement(ParameterizedType(SimpleType(SimpleName:Set))(SimpleType(SimpleName:String)))(VariableDeclarationFragment(SimpleName:updatedDevices)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:changeLogMap))(SimpleName:keySet))))(EnhancedForStatement(SingleVariableDeclaration(SimpleType(SimpleName:String))(SimpleName:updatedDevice))(SimpleName:updatedDevices)(Block(VariableDeclarationStatement(SimpleType(SimpleName:List))(VariableDeclarationFragment(SimpleName:changelogEntries)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:changeLogMap))(SimpleName:get)(METHOD_INVOCATION_ARGUMENTS(SimpleName:updatedDevice)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(ThisExpression))(SimpleName:updateChangeLog)(METHOD_INVOCATION_ARGUMENTS(SimpleName:updatedDevice)(SimpleName:changelogEntries))))))))))))