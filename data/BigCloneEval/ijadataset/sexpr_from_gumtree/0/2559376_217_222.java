(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:private)(SimpleType(SimpleName:FileChannelStagelet))(SimpleName:createFileStagelet)(SingleVariableDeclaration(SimpleType(SimpleName:File))(SimpleName:file))(SingleVariableDeclaration(SimpleType(SimpleName:RequestHeader))(SimpleName:request))(SingleVariableDeclaration(SimpleType(SimpleName:StageletStack))(SimpleName:stack))(SimpleType(SimpleName:IOException))(Block(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:contentType)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:mimeMap))(SimpleName:getMimeType)(METHOD_INVOCATION_ARGUMENTS(SimpleName:file)))))(VariableDeclarationStatement(SimpleType(SimpleName:FileChannelStagelet))(VariableDeclarationFragment(SimpleName:stage)(ClassInstanceCreation(SimpleType(SimpleName:FileChannelStagelet))(MethodInvocation(METHOD_INVOCATION_RECEIVER(ClassInstanceCreation(SimpleType(SimpleName:FileInputStream))(SimpleName:file)))(SimpleName:getChannel))(SimpleName:stack)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:request))(SimpleName:isPersistentConnection))(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:request))(SimpleName:getVerb))(INFIX_EXPRESSION_OPERATOR:==)(QualifiedName:Verb.HEAD)))))(IfStatement(InfixExpression(SimpleName:contentType)(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:stage))(SimpleName:getHeaders)))(SimpleName:setContentTypeAppOctet)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:stage))(SimpleName:getHeaders)))(SimpleName:setContentType)(METHOD_INVOCATION_ARGUMENTS(SimpleName:contentType)))))(ReturnStatement(SimpleName:stage))))))