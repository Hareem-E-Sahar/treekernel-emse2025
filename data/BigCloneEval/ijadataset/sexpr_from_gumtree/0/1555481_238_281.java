(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(MarkerAnnotation(SimpleName:Override))(Modifier:public)(PrimitiveType:int)(SimpleName:send)(SingleVariableDeclaration(SimpleType(SimpleName:ALMailContext))(SimpleName:context))(Block(TryStatement(Block(VariableDeclarationStatement(SimpleType(SimpleName:ALSmtpMailContext))(VariableDeclarationFragment(SimpleName:mcontext)(CastExpression(SimpleType(SimpleName:ALSmtpMailContext))(SimpleName:context))))(VariableDeclarationStatement(SimpleType(SimpleName:ALLocalMailMessage))(VariableDeclarationFragment(SimpleName:msg)(MethodInvocation(SimpleName:createMessage)(METHOD_INVOCATION_ARGUMENTS(SimpleName:mcontext)))))(IfStatement(InfixExpression(SimpleName:msg)(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(Block(ReturnStatement(SimpleName:SEND_MSG_FAIL))))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:mailSize)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:msg))(SimpleName:getSize))))(IfStatement(InfixExpression(SimpleName:mailSize)(INFIX_EXPRESSION_OPERATOR:>)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ALMailUtils))(SimpleName:getMaxMailSize)))(Block(ReturnStatement(SimpleName:SEND_MSG_OVER_MAIL_MAX_SIZE))))(IfStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:scontext))(SimpleName:getAuthSendFlag))(INFIX_EXPRESSION_OPERATOR:==)(SimpleName:AUTH_SEND_NONE))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Transport))(SimpleName:send)(METHOD_INVOCATION_ARGUMENTS(SimpleName:msg)))))(IfStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:scontext))(SimpleName:getAuthSendFlag))(INFIX_EXPRESSION_OPERATOR:==)(SimpleName:AUTH_SEND_POP_BEFORE_SMTP))(Block(VariableDeclarationStatement(PrimitiveType:boolean)(VariableDeclarationFragment(SimpleName:success)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ALPop3MailReceiver))(SimpleName:isAuthenticatedUser)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:scontext))(SimpleName:getPop3Host))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:scontext))(SimpleName:getPop3Port))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:scontext))(SimpleName:getPop3UserId))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:scontext))(SimpleName:getPop3UserPasswd))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:scontext))(SimpleName:getPop3EncryptionFlag))))))(IfStatement(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(SimpleName:success))(Block(ReturnStatement(SimpleName:SEND_MSG_FAIL_POP_BEFORE_SMTP_AUTH)))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Thread))(SimpleName:sleep)(METHOD_INVOCATION_ARGUMENTS(SimpleName:POP_BEFORE_SMTP_WAIT_TIME))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Transport))(SimpleName:send)(METHOD_INVOCATION_ARGUMENTS(SimpleName:msg)))))(IfStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:scontext))(SimpleName:getAuthSendFlag))(INFIX_EXPRESSION_OPERATOR:==)(SimpleName:AUTH_SEND_SMTP_AUTH))(Block(VariableDeclarationStatement(SimpleType(SimpleName:Transport))(VariableDeclarationFragment(SimpleName:transport)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:session))(SimpleName:getTransport)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))))(VariableDeclarationStatement(SimpleType(SimpleName:SMTPTransport))(VariableDeclarationFragment(SimpleName:smtpt)(CastExpression(SimpleType(SimpleName:SMTPTransport))(SimpleName:transport))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:smtpt))(SimpleName:setSASLRealm)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:smtpt))(SimpleName:connect)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:scontext))(SimpleName:getSmtpHost))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:scontext))(SimpleName:getAuthSendUserId))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:scontext))(SimpleName:getAuthSendUserPassword)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:smtpt))(SimpleName:sendMessage)(METHOD_INVOCATION_ARGUMENTS(SimpleName:msg)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:msg))(SimpleName:getAllRecipients)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:smtpt))(SimpleName:close)))))))(VariableDeclarationStatement(SimpleType(SimpleName:ALFolder))(VariableDeclarationFragment(SimpleName:sendFolder)(MethodInvocation(SimpleName:getALFolder))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:sendFolder))(SimpleName:saveMail)(METHOD_INVOCATION_ARGUMENTS(SimpleName:msg)(NullLiteral)))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:AuthenticationFailedException))(SimpleName:ex))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:logger))(SimpleName:error)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(SimpleName:ex))))(ReturnStatement(SimpleName:SEND_MSG_FAIL_SMTP_AUTH))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:Exception))(SimpleName:ex))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:logger))(SimpleName:error)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(SimpleName:ex))))(ReturnStatement(SimpleName:SEND_MSG_FAIL))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:Throwable))(SimpleName:e))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:logger))(SimpleName:error)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(SimpleName:e))))(ReturnStatement(SimpleName:SEND_MSG_FAIL)))))(ReturnStatement(SimpleName:SEND_MSG_SUCCESS))))))