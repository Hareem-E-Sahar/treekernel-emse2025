(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(MarkerAnnotation(SimpleName:Override))(Modifier:public)(PrimitiveType:void)(SimpleName:handlePacket)(SingleVariableDeclaration(SimpleType(SimpleName:SeekableLittleEndianAccessor))(SimpleName:slea))(SingleVariableDeclaration(SimpleType(SimpleName:MapleClient))(SimpleName:c))(Block(IfStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:c))(SimpleName:getPlayer)))(SimpleName:getNoPets))(INFIX_EXPRESSION_OPERATOR:==)(NumberLiteral:0))(Block(ReturnStatement)))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:previousFullness)(NumberLiteral:100)))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:slot)(NumberLiteral:0)))(VariableDeclarationStatement(ArrayType(SimpleType(SimpleName:MaplePet))(Dimension))(VariableDeclarationFragment(SimpleName:pets)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:c))(SimpleName:getPlayer)))(SimpleName:getPets))))(ForStatement(VariableDeclarationExpression(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:i)(NumberLiteral:0)))(InfixExpression(SimpleName:i)(INFIX_EXPRESSION_OPERATOR:<)(NumberLiteral:3))(PostfixExpression(SimpleName:i)(POSTFIX_EXPRESSION_OPERATOR:++))(Block(IfStatement(InfixExpression(ArrayAccess(SimpleName:pets)(SimpleName:i))(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(IfStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(ArrayAccess(SimpleName:pets)(SimpleName:i)))(SimpleName:getFullness))(INFIX_EXPRESSION_OPERATOR:<)(SimpleName:previousFullness))(Block(ExpressionStatement(Assignment(SimpleName:slot)(ASSIGNMENT_OPERATOR:=)(SimpleName:i)))(ExpressionStatement(Assignment(SimpleName:previousFullness)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(ArrayAccess(SimpleName:pets)(SimpleName:i)))(SimpleName:getFullness))))))))))(VariableDeclarationStatement(SimpleType(SimpleName:MaplePet))(VariableDeclarationFragment(SimpleName:pet)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:c))(SimpleName:getPlayer)))(SimpleName:getPet)(METHOD_INVOCATION_ARGUMENTS(SimpleName:slot)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:slea))(SimpleName:readInt)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:slea))(SimpleName:readShort)))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:itemId)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:slea))(SimpleName:readInt))))(VariableDeclarationStatement(PrimitiveType:boolean)(VariableDeclarationFragment(SimpleName:gainCloseness)(BooleanLiteral:false)))(VariableDeclarationStatement(SimpleType(SimpleName:Random))(VariableDeclarationFragment(SimpleName:rand)(ClassInstanceCreation(SimpleType(SimpleName:Random)))))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:random)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:rand))(SimpleName:nextInt)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:101)))))(IfStatement(InfixExpression(SimpleName:random)(INFIX_EXPRESSION_OPERATOR:<=)(NumberLiteral:50))(Block(ExpressionStatement(Assignment(SimpleName:gainCloseness)(ASSIGNMENT_OPERATOR:=)(BooleanLiteral:true)))))(IfStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:pet))(SimpleName:getFullness))(INFIX_EXPRESSION_OPERATOR:<)(NumberLiteral:100))(Block(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:newFullness)(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:pet))(SimpleName:getFullness))(INFIX_EXPRESSION_OPERATOR:+)(NumberLiteral:30))))(IfStatement(InfixExpression(SimpleName:newFullness)(INFIX_EXPRESSION_OPERATOR:>)(NumberLiteral:100))(Block(ExpressionStatement(Assignment(SimpleName:newFullness)(ASSIGNMENT_OPERATOR:=)(NumberLiteral:100)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:pet))(SimpleName:setFullness)(METHOD_INVOCATION_ARGUMENTS(SimpleName:newFullness))))(IfStatement(InfixExpression(SimpleName:gainCloseness)(INFIX_EXPRESSION_OPERATOR:&&)(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:pet))(SimpleName:getCloseness))(INFIX_EXPRESSION_OPERATOR:<)(NumberLiteral:30000)))(Block(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:newCloseness)(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:pet))(SimpleName:getCloseness))(INFIX_EXPRESSION_OPERATOR:+)(ParenthesizedExpression(InfixExpression(NumberLiteral:1)(INFIX_EXPRESSION_OPERATOR:*)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:c))(SimpleName:getChannelServer)))(SimpleName:getPetExpRate)))))))(IfStatement(InfixExpression(SimpleName:newCloseness)(INFIX_EXPRESSION_OPERATOR:>)(NumberLiteral:30000))(Block(ExpressionStatement(Assignment(SimpleName:newCloseness)(ASSIGNMENT_OPERATOR:=)(NumberLiteral:30000)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:pet))(SimpleName:setCloseness)(METHOD_INVOCATION_ARGUMENTS(SimpleName:newCloseness))))(IfStatement(InfixExpression(SimpleName:newCloseness)(INFIX_EXPRESSION_OPERATOR:>=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ExpTable))(SimpleName:getClosenessNeededForLevel)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:pet))(SimpleName:getLevel))(INFIX_EXPRESSION_OPERATOR:+)(NumberLiteral:1)))))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:pet))(SimpleName:setLevel)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:pet))(SimpleName:getLevel))(INFIX_EXPRESSION_OPERATOR:+)(NumberLiteral:1)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:c))(SimpleName:getSession)))(SimpleName:write)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:MaplePacketCreator))(SimpleName:showOwnPetLevelUp)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:c))(SimpleName:getPlayer)))(SimpleName:getPetIndex)(METHOD_INVOCATION_ARGUMENTS(SimpleName:pet))))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:c))(SimpleName:getPlayer)))(SimpleName:getMap)))(SimpleName:broadcastMessage)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:MaplePacketCreator))(SimpleName:showPetLevelUp)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:c))(SimpleName:getPlayer))(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:c))(SimpleName:getPlayer)))(SimpleName:getPetIndex)(METHOD_INVOCATION_ARGUMENTS(SimpleName:pet))))))))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:c))(SimpleName:getSession)))(SimpleName:write)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:MaplePacketCreator))(SimpleName:updatePet)(METHOD_INVOCATION_ARGUMENTS(SimpleName:pet)(BooleanLiteral:true))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:c))(SimpleName:getPlayer)))(SimpleName:getMap)))(SimpleName:broadcastMessage)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:c))(SimpleName:getPlayer))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:MaplePacketCreator))(SimpleName:commandResponse)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:c))(SimpleName:getPlayer)))(SimpleName:getId))(CastExpression(PrimitiveType:byte)(NumberLiteral:1))(SimpleName:slot)(BooleanLiteral:true)(BooleanLiteral:true)))(BooleanLiteral:true)))))(Block(IfStatement(SimpleName:gainCloseness)(Block(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:newCloseness)(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:pet))(SimpleName:getCloseness))(INFIX_EXPRESSION_OPERATOR:-)(ParenthesizedExpression(InfixExpression(NumberLiteral:1)(INFIX_EXPRESSION_OPERATOR:*)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:c))(SimpleName:getChannelServer)))(SimpleName:getPetExpRate)))))))(IfStatement(InfixExpression(SimpleName:newCloseness)(INFIX_EXPRESSION_OPERATOR:<)(NumberLiteral:0))(Block(ExpressionStatement(Assignment(SimpleName:newCloseness)(ASSIGNMENT_OPERATOR:=)(NumberLiteral:0)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:pet))(SimpleName:setCloseness)(METHOD_INVOCATION_ARGUMENTS(SimpleName:newCloseness))))(IfStatement(InfixExpression(SimpleName:newCloseness)(INFIX_EXPRESSION_OPERATOR:<)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ExpTable))(SimpleName:getClosenessNeededForLevel)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:pet))(SimpleName:getLevel)))))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:pet))(SimpleName:setLevel)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:pet))(SimpleName:getLevel))(INFIX_EXPRESSION_OPERATOR:-)(NumberLiteral:1)))))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:c))(SimpleName:getSession)))(SimpleName:write)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:MaplePacketCreator))(SimpleName:updatePet)(METHOD_INVOCATION_ARGUMENTS(SimpleName:pet)(BooleanLiteral:true))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:c))(SimpleName:getPlayer)))(SimpleName:getMap)))(SimpleName:broadcastMessage)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:c))(SimpleName:getPlayer))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:MaplePacketCreator))(SimpleName:commandResponse)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:c))(SimpleName:getPlayer)))(SimpleName:getId))(CastExpression(PrimitiveType:byte)(NumberLiteral:1))(SimpleName:slot)(BooleanLiteral:false)(BooleanLiteral:true)))(BooleanLiteral:true))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:MapleInventoryManipulator))(SimpleName:removeById)(METHOD_INVOCATION_ARGUMENTS(SimpleName:c)(QualifiedName:MapleInventoryType.USE)(SimpleName:itemId)(NumberLiteral:1)(BooleanLiteral:true)(BooleanLiteral:false))))))))