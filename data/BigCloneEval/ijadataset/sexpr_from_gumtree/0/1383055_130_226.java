(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:public)(SimpleType(SimpleName:ICommand))(SimpleName:getCommand)(SingleVariableDeclaration(SimpleType(SimpleName:IGlobalActionContext))(SimpleName:cntxt))(Block(VariableDeclarationStatement(SimpleType(SimpleName:IWorkbenchPart))(VariableDeclarationFragment(SimpleName:part)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:cntxt))(SimpleName:getActivePart))))(IfStatement(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(ParenthesizedExpression(InstanceofExpression(SimpleName:part)(SimpleType(SimpleName:IDiagramWorkbenchPart)))))(Block(ReturnStatement(NullLiteral))))(VariableDeclarationStatement(SimpleType(SimpleName:IDiagramWorkbenchPart))(VariableDeclarationFragment(SimpleName:diagramPart)(CastExpression(SimpleType(SimpleName:IDiagramWorkbenchPart))(SimpleName:part))))(VariableDeclarationStatement(SimpleType(SimpleName:ICommand))(VariableDeclarationFragment(SimpleName:command)(NullLiteral)))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:actionId)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:cntxt))(SimpleName:getActionId))))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:actionId))(SimpleName:equals)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:GlobalActionId.DELETE)))(Block(ExpressionStatement(SuperMethodInvocation(SimpleName:getCommand)(SimpleName:cntxt))))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:actionId))(SimpleName:equals)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:GlobalActionId.COPY)))(Block(ExpressionStatement(Assignment(SimpleName:command)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(SimpleName:getCopyCommand)(METHOD_INVOCATION_ARGUMENTS(SimpleName:cntxt)(SimpleName:diagramPart)(BooleanLiteral:false)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:editPartClipboard))(SimpleName:clear)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:cutClipboard))(SimpleName:clear)))(VariableDeclarationStatement(ArrayType(SimpleType(SimpleName:Object))(Dimension))(VariableDeclarationFragment(SimpleName:objects)(MethodInvocation(METHOD_INVOCATION_RECEIVER(ParenthesizedExpression(CastExpression(SimpleType(SimpleName:IStructuredSelection))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:cntxt))(SimpleName:getSelection)))))(SimpleName:toArray))))(EnhancedForStatement(SingleVariableDeclaration(SimpleType(SimpleName:Object))(SimpleName:o))(SimpleName:objects)(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:editPartClipboard))(SimpleName:add)(METHOD_INVOCATION_ARGUMENTS(CastExpression(SimpleType(SimpleName:EditPart))(SimpleName:o))))))))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:actionId))(SimpleName:equals)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:GlobalActionId.CUT)))(Block(ExpressionStatement(Assignment(SimpleName:command)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(SimpleName:getCutCommand)(METHOD_INVOCATION_ARGUMENTS(SimpleName:cntxt)(SimpleName:diagramPart)))))(VariableDeclarationStatement(ParameterizedType(SimpleType(SimpleName:HashMap))(SimpleType(SimpleName:EObject))(SimpleType(SimpleName:EObject)))(VariableDeclarationFragment(SimpleName:m)(ClassInstanceCreation(ParameterizedType(SimpleType(SimpleName:HashMap))(SimpleType(SimpleName:EObject))(SimpleType(SimpleName:EObject))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:editPartClipboard))(SimpleName:clear)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:cutClipboard))(SimpleName:clear)))(VariableDeclarationStatement(ArrayType(SimpleType(SimpleName:Object))(Dimension))(VariableDeclarationFragment(SimpleName:objects2)(MethodInvocation(METHOD_INVOCATION_RECEIVER(ParenthesizedExpression(CastExpression(SimpleType(SimpleName:IStructuredSelection))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:cntxt))(SimpleName:getSelection)))))(SimpleName:toArray))))(EnhancedForStatement(SingleVariableDeclaration(SimpleType(SimpleName:Object))(SimpleName:ep))(SimpleName:objects2)(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:editPartClipboard))(SimpleName:add)(METHOD_INVOCATION_ARGUMENTS(CastExpression(SimpleType(SimpleName:EditPart))(SimpleName:ep)))))(VariableDeclarationStatement(Modifier:final)(SimpleType(SimpleName:EObject))(VariableDeclarationFragment(SimpleName:o)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(ParenthesizedExpression(CastExpression(SimpleType(SimpleName:IGraphicalEditPart))(SimpleName:ep))))(SimpleName:getNotationView)))(SimpleName:getElement))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:cutClipboard))(SimpleName:add)(METHOD_INVOCATION_ARGUMENTS(SimpleName:o))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:m))(SimpleName:put)(METHOD_INVOCATION_ARGUMENTS(SimpleName:o)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:cutClipboard))(SimpleName:get)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:cutClipboard))(SimpleName:indexOf)(METHOD_INVOCATION_ARGUMENTS(SimpleName:o))))))))))(ExpressionStatement(Assignment(SimpleName:cutDeleted)(ASSIGNMENT_OPERATOR:=)(BooleanLiteral:false))))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:actionId))(SimpleName:equals)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:GlobalActionId.OPEN)))(Block(ExpressionStatement(SuperMethodInvocation(SimpleName:getCommand)(SimpleName:cntxt))))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:actionId))(SimpleName:equals)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:GlobalActionId.PASTE)))(Block(VariableDeclarationStatement(SimpleType(SimpleName:PasteViewRequest))(VariableDeclarationFragment(SimpleName:pasteReq)(MethodInvocation(SimpleName:createPasteViewRequest))))(VariableDeclarationStatement(ArrayType(SimpleType(SimpleName:Object))(Dimension))(VariableDeclarationFragment(SimpleName:objects)(MethodInvocation(METHOD_INVOCATION_RECEIVER(ParenthesizedExpression(CastExpression(SimpleType(SimpleName:IStructuredSelection))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:cntxt))(SimpleName:getSelection)))))(SimpleName:toArray))))(IfStatement(InfixExpression(QualifiedName:objects.length)(INFIX_EXPRESSION_OPERATOR:==)(NumberLiteral:1))(Block(VariableDeclarationStatement(SimpleType(SimpleName:Command))(VariableDeclarationFragment(SimpleName:paste)))(VariableDeclarationStatement(SimpleType(SimpleName:EditPart))(VariableDeclarationFragment(SimpleName:ep)(CastExpression(SimpleType(SimpleName:EditPart))(ArrayAccess(SimpleName:objects)(NumberLiteral:0)))))(IfStatement(InstanceofExpression(ArrayAccess(SimpleName:objects)(NumberLiteral:0))(SimpleType(SimpleName:ActorEditPart)))(Block(ExpressionStatement(Assignment(SimpleName:ep)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(ParenthesizedExpression(CastExpression(SimpleType(SimpleName:ActorEditPart))(ArrayAccess(SimpleName:objects)(NumberLiteral:0)))))(SimpleName:getChildBySemanticHint)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Integer))(SimpleName:toString)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:ActorActorCompartmentEditPart.VISUAL_ID)))))))(ExpressionStatement(Assignment(SimpleName:paste)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ep))(SimpleName:getCommand)(METHOD_INVOCATION_ARGUMENTS(SimpleName:pasteReq))))))(IfStatement(InstanceofExpression(ArrayAccess(SimpleName:objects)(NumberLiteral:0))(SimpleType(SimpleName:AgentEditPart)))(Block(ExpressionStatement(Assignment(SimpleName:ep)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(ParenthesizedExpression(CastExpression(SimpleType(SimpleName:AgentEditPart))(ArrayAccess(SimpleName:objects)(NumberLiteral:0)))))(SimpleName:getChildBySemanticHint)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Integer))(SimpleName:toString)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:AgentAgentCompartmentEditPart.VISUAL_ID)))))))(ExpressionStatement(Assignment(SimpleName:paste)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ep))(SimpleName:getCommand)(METHOD_INVOCATION_ARGUMENTS(SimpleName:pasteReq))))))(IfStatement(InstanceofExpression(ArrayAccess(SimpleName:objects)(NumberLiteral:0))(SimpleType(SimpleName:RoleEditPart)))(Block(ExpressionStatement(Assignment(SimpleName:ep)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(ParenthesizedExpression(CastExpression(SimpleType(SimpleName:RoleEditPart))(ArrayAccess(SimpleName:objects)(NumberLiteral:0)))))(SimpleName:getChildBySemanticHint)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Integer))(SimpleName:toString)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:RoleRoleCompartmentEditPart.VISUAL_ID)))))))(ExpressionStatement(Assignment(SimpleName:paste)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ep))(SimpleName:getCommand)(METHOD_INVOCATION_ARGUMENTS(SimpleName:pasteReq))))))(IfStatement(InstanceofExpression(ArrayAccess(SimpleName:objects)(NumberLiteral:0))(SimpleType(SimpleName:PositionEditPart)))(Block(ExpressionStatement(Assignment(SimpleName:ep)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(ParenthesizedExpression(CastExpression(SimpleType(SimpleName:PositionEditPart))(ArrayAccess(SimpleName:objects)(NumberLiteral:0)))))(SimpleName:getChildBySemanticHint)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Integer))(SimpleName:toString)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:PositionPositionCompartmentEditPart.VISUAL_ID)))))))(ExpressionStatement(Assignment(SimpleName:paste)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ep))(SimpleName:getCommand)(METHOD_INVOCATION_ARGUMENTS(SimpleName:pasteReq))))))(Block(ExpressionStatement(Assignment(SimpleName:paste)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(ParenthesizedExpression(CastExpression(SimpleType(SimpleName:EditPart))(ArrayAccess(SimpleName:objects)(NumberLiteral:0)))))(SimpleName:getCommand)(METHOD_INVOCATION_ARGUMENTS(SimpleName:pasteReq))))))))))(IfStatement(InfixExpression(SimpleName:paste)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(VariableDeclarationStatement(SimpleType(SimpleName:CommandStack))(VariableDeclarationFragment(SimpleName:cs)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:diagramPart))(SimpleName:getDiagramEditDomain)))(SimpleName:getDiagramCommandStack))))(VariableDeclarationStatement(SimpleType(SimpleName:TransactionalEditingDomain))(VariableDeclarationFragment(SimpleName:copyFromDomain)(MethodInvocation(METHOD_INVOCATION_RECEIVER(ParenthesizedExpression(CastExpression(SimpleType(SimpleName:IGraphicalEditPart))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:editPartClipboard))(SimpleName:get)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:0))))))(SimpleName:getEditingDomain))))(VariableDeclarationStatement(SimpleType(SimpleName:TransactionalEditingDomain))(VariableDeclarationFragment(SimpleName:pasteToDomain)(MethodInvocation(METHOD_INVOCATION_RECEIVER(ParenthesizedExpression(CastExpression(SimpleType(SimpleName:IGraphicalEditPart))(SimpleName:ep))))(SimpleName:getEditingDomain))))(VariableDeclarationStatement(SimpleType(SimpleName:EObject))(VariableDeclarationFragment(SimpleName:container)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(ParenthesizedExpression(CastExpression(SimpleType(SimpleName:IGraphicalEditPart))(SimpleName:ep))))(SimpleName:getNotationView)))(SimpleName:getElement))))(VariableDeclarationStatement(ParameterizedType(SimpleType(SimpleName:List))(SimpleType(SimpleName:CreateElementCommand)))(VariableDeclarationFragment(SimpleName:commandList)(MethodInvocation(SimpleName:getCreateCommandList)(METHOD_INVOCATION_ARGUMENTS(SimpleName:pasteToDomain)(SimpleName:container)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:map))(SimpleName:clear)))(EnhancedForStatement(SingleVariableDeclaration(SimpleType(SimpleName:CreateElementCommand))(SimpleName:c))(SimpleName:commandList)(Block(VariableDeclarationStatement(SimpleType(SimpleName:ICommandProxy))(VariableDeclarationFragment(SimpleName:create)(ClassInstanceCreation(SimpleType(SimpleName:ICommandProxy))(SimpleName:c))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:cs))(SimpleName:execute)(METHOD_INVOCATION_ARGUMENTS(SimpleName:create))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:map))(SimpleName:put)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(ParenthesizedExpression(CastExpression(SimpleType(SimpleName:CreateDuplicateElementCommand))(SimpleName:c))))(SimpleName:getOriginal))(MethodInvocation(METHOD_INVOCATION_RECEIVER(ParenthesizedExpression(CastExpression(SimpleType(SimpleName:CreateDuplicateElementCommand))(SimpleName:c))))(SimpleName:getDuplicate)))))))(IfStatement(InfixExpression(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:cutClipboard))(SimpleName:isEmpty)))(INFIX_EXPRESSION_OPERATOR:&&)(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(SimpleName:cutDeleted)))(Block(VariableDeclarationStatement(SimpleType(SimpleName:CompositeTransactionalCommand))(VariableDeclarationFragment(SimpleName:delete)(ClassInstanceCreation(SimpleType(SimpleName:CompositeTransactionalCommand))(SimpleName:copyFromDomain)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:cntxt))(SimpleName:getLabel)))))(EnhancedForStatement(SingleVariableDeclaration(SimpleType(SimpleName:EditPart))(SimpleName:editPart))(SimpleName:editPartClipboard)(Block(VariableDeclarationStatement(SimpleType(SimpleName:GroupRequest))(VariableDeclarationFragment(SimpleName:deleteReq)(ClassInstanceCreation(SimpleType(SimpleName:GroupRequest))(QualifiedName:RequestConstants.REQ_DELETE))))(VariableDeclarationStatement(SimpleType(SimpleName:Command))(VariableDeclarationFragment(SimpleName:deleteCommand)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:editPart))(SimpleName:getCommand)(METHOD_INVOCATION_ARGUMENTS(SimpleName:deleteReq)))))(IfStatement(InfixExpression(SimpleName:deleteCommand)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:delete))(SimpleName:compose)(METHOD_INVOCATION_ARGUMENTS(ClassInstanceCreation(SimpleType(SimpleName:CommandProxy))(SimpleName:deleteCommand)))))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:cutClipboard))(SimpleName:clear)))(EnhancedForStatement(SingleVariableDeclaration(SimpleType(SimpleName:EObject))(SimpleName:e))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:map))(SimpleName:keySet))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:cutClipboard))(SimpleName:add)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:map))(SimpleName:get)(METHOD_INVOCATION_ARGUMENTS(SimpleName:e))))))))(ExpressionStatement(Assignment(SimpleName:cutDeleted)(ASSIGNMENT_OPERATOR:=)(BooleanLiteral:true)))(ReturnStatement(SimpleName:delete))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:diagramPart))(SimpleName:getDiagramEditPart)))(SimpleName:getFigure)))(SimpleName:invalidate)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:diagramPart))(SimpleName:getDiagramEditPart)))(SimpleName:getFigure)))(SimpleName:validate)))(ExpressionStatement(MethodInvocation(SimpleName:selectAddedObject)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:diagramPart))(SimpleName:getDiagramGraphicalViewer))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:DiagramCommandStack))(SimpleName:getReturnValues)(METHOD_INVOCATION_ARGUMENTS(SimpleName:paste))))))(ReturnStatement(NullLiteral)))))))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:actionId))(SimpleName:equals)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:GlobalActionId.SAVE)))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:part))(SimpleName:getSite)))(SimpleName:getPage)))(SimpleName:saveEditor)(METHOD_INVOCATION_ARGUMENTS(CastExpression(SimpleType(SimpleName:IEditorPart))(SimpleName:diagramPart))(BooleanLiteral:false)))))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:actionId))(SimpleName:equals)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:GlobalActionId.PROPERTIES)))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(ClassInstanceCreation(SimpleType(SimpleName:PropertyPageViewAction))))(SimpleName:run))))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(QualifiedName:System.out))(SimpleName:println)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:actionId)))))))))))))(ReturnStatement(SimpleName:command))))))