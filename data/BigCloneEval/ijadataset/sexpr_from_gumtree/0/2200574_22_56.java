(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:protected)(SimpleType(SimpleName:Double))(SimpleName:doPrediction)(SingleVariableDeclaration(PrimitiveType:long)(SimpleName:userId))(SingleVariableDeclaration(PrimitiveType:long)(SimpleName:itemId))(SingleVariableDeclaration(ParameterizedType(SimpleType(SimpleName:List))(SimpleType(SimpleName:Distance)))(SimpleName:userNeighborhoodCol))(SingleVariableDeclaration(ParameterizedType(SimpleType(SimpleName:List))(SimpleType(SimpleName:Distance)))(SimpleName:itemNeighborhoodCol))(SingleVariableDeclaration(ParameterizedType(SimpleType(SimpleName:List))(SimpleType(SimpleName:Distance)))(SimpleName:userNeighborhoodSem))(SingleVariableDeclaration(ParameterizedType(SimpleType(SimpleName:List))(SimpleType(SimpleName:Distance)))(SimpleName:itemNeighborhoodSem))(Block(VariableDeclarationStatement(ParameterizedType(SimpleType(SimpleName:Map))(SimpleType(SimpleName:Long))(SimpleType(SimpleName:Double)))(VariableDeclarationFragment(SimpleName:usersWeights)(MethodInvocation(METHOD_INVOCATION_RECEIVER(ThisExpression))(SimpleName:buildUserWeights)(METHOD_INVOCATION_ARGUMENTS(SimpleName:userId)(SimpleName:userNeighborhoodCol)))))(VariableDeclarationStatement(ParameterizedType(SimpleType(SimpleName:Map))(SimpleType(SimpleName:Long))(SimpleType(SimpleName:Double)))(VariableDeclarationFragment(SimpleName:itemsWeights)(MethodInvocation(METHOD_INVOCATION_RECEIVER(ThisExpression))(SimpleName:buildItemWeights)(METHOD_INVOCATION_ARGUMENTS(SimpleName:itemId)(SimpleName:itemNeighborhoodCol)))))(VariableDeclarationStatement(ParameterizedType(SimpleType(SimpleName:List))(SimpleType(SimpleName:Rating)))(VariableDeclarationFragment(SimpleName:evals)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:collaborativeService))(SimpleName:getSubMatrix)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:usersWeights))(SimpleName:keySet))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:itemsWeights))(SimpleName:keySet))))))(VariableDeclarationStatement(ParameterizedType(SimpleType(SimpleName:Map))(SimpleType(SimpleName:Long))(SimpleType(SimpleName:Double)))(VariableDeclarationFragment(SimpleName:usersWeightsSem)(MethodInvocation(METHOD_INVOCATION_RECEIVER(ThisExpression))(SimpleName:buildUserWeights)(METHOD_INVOCATION_ARGUMENTS(SimpleName:userId)(SimpleName:userNeighborhoodSem)))))(VariableDeclarationStatement(ParameterizedType(SimpleType(SimpleName:Map))(SimpleType(SimpleName:Long))(SimpleType(SimpleName:Double)))(VariableDeclarationFragment(SimpleName:itemsWeightsSem)(MethodInvocation(METHOD_INVOCATION_RECEIVER(ThisExpression))(SimpleName:buildItemWeights)(METHOD_INVOCATION_ARGUMENTS(SimpleName:itemId)(SimpleName:itemNeighborhoodSem)))))(VariableDeclarationStatement(ParameterizedType(SimpleType(SimpleName:List))(SimpleType(SimpleName:Rating)))(VariableDeclarationFragment(SimpleName:evalsSem)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:collaborativeService))(SimpleName:getSubMatrix)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:usersWeightsSem))(SimpleName:keySet))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:itemsWeightsSem))(SimpleName:keySet))))))(VariableDeclarationStatement(SimpleType(SimpleName:Double))(VariableDeclarationFragment(SimpleName:val)(NullLiteral)))(VariableDeclarationStatement(SimpleType(SimpleName:Double))(VariableDeclarationFragment(SimpleName:valCollaborative)(NullLiteral)))(VariableDeclarationStatement(SimpleType(SimpleName:Double))(VariableDeclarationFragment(SimpleName:valSemantic)(NullLiteral)))(VariableDeclarationStatement(PrimitiveType:double)(VariableDeclarationFragment(SimpleName:user_mean)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:collaborativeService))(SimpleName:getUserMeanRating)(METHOD_INVOCATION_ARGUMENTS(SimpleName:userId)))))(VariableDeclarationStatement(PrimitiveType:double)(VariableDeclarationFragment(SimpleName:item_mean)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:collaborativeService))(SimpleName:getItemMeanRating)(METHOD_INVOCATION_ARGUMENTS(SimpleName:itemId)))))(IfStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:evals))(SimpleName:size))(INFIX_EXPRESSION_OPERATOR:>=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:params))(SimpleName:getColMinEvals)))(Block(ExpressionStatement(Assignment(SimpleName:valCollaborative)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(ThisExpression))(SimpleName:buildPrediction)(METHOD_INVOCATION_ARGUMENTS(SimpleName:evals)(SimpleName:user_mean)(SimpleName:item_mean)(SimpleName:usersWeights)(SimpleName:itemsWeights)))))))(IfStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:evalsSem))(SimpleName:size))(INFIX_EXPRESSION_OPERATOR:>=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:params))(SimpleName:getSemMinEvals)))(Block(ExpressionStatement(Assignment(SimpleName:valSemantic)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(ThisExpression))(SimpleName:buildPrediction)(METHOD_INVOCATION_ARGUMENTS(SimpleName:evalsSem)(SimpleName:user_mean)(SimpleName:item_mean)(SimpleName:usersWeightsSem)(SimpleName:itemsWeightsSem)))))))(IfStatement(InfixExpression(ParenthesizedExpression(InfixExpression(SimpleName:valCollaborative)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral)))(INFIX_EXPRESSION_OPERATOR:&&)(ParenthesizedExpression(InfixExpression(SimpleName:valSemantic)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))))(Block(ExpressionStatement(Assignment(SimpleName:val)(ASSIGNMENT_OPERATOR:=)(InfixExpression(ParenthesizedExpression(InfixExpression(SimpleName:valCollaborative)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:valSemantic)))(INFIX_EXPRESSION_OPERATOR:/)(NumberLiteral:2))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:log))(SimpleName:debug)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:val)))))(ExpressionStatement(PostfixExpression(SimpleName:nbHybrid)(POSTFIX_EXPRESSION_OPERATOR:++))))(Block(IfStatement(InfixExpression(SimpleName:valCollaborative)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(ExpressionStatement(Assignment(SimpleName:val)(ASSIGNMENT_OPERATOR:=)(SimpleName:valCollaborative)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:log))(SimpleName:debug)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:val)))))(ExpressionStatement(PostfixExpression(SimpleName:nbCollaborative)(POSTFIX_EXPRESSION_OPERATOR:++))))(IfStatement(InfixExpression(SimpleName:valSemantic)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(ExpressionStatement(Assignment(SimpleName:val)(ASSIGNMENT_OPERATOR:=)(SimpleName:valSemantic)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:log))(SimpleName:debug)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:val)))))(ExpressionStatement(PostfixExpression(SimpleName:nbSemantic)(POSTFIX_EXPRESSION_OPERATOR:++))))))))(ReturnStatement(SimpleName:val))))))