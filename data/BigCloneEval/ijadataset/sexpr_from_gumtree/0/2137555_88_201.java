(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:private)(PrimitiveType:void)(SimpleName:serveClient)(SingleVariableDeclaration(Modifier:final)(SimpleType(SimpleName:ObjectInputStream))(SimpleName:in))(SingleVariableDeclaration(Modifier:final)(SimpleType(SimpleName:ObjectOutputStream))(SimpleName:out))(SimpleType(SimpleName:Exception))(Block(WhileStatement(BooleanLiteral:true)(Block(TryStatement(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Thread))(SimpleName:sleep)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:100)))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:InterruptedException))(SimpleName:e))(Block)))(SwitchStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:in))(SimpleName:readInt))(SwitchCase(SimpleName:CMD_GC))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:System))(SimpleName:gc)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:out))(SimpleName:writeInt)(METHOD_INVOCATION_ARGUMENTS(SimpleName:COMMAND_ACK))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:out))(SimpleName:flush)))(BreakStatement)(SwitchCase(SimpleName:CMD_SNAPSHOT))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:out))(SimpleName:writeInt)(METHOD_INVOCATION_ARGUMENTS(SimpleName:COMMAND_ACK))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ThreadProfiler))(SimpleName:createSnapshot)(METHOD_INVOCATION_ARGUMENTS(SimpleName:out))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:out))(SimpleName:flush)))(BreakStatement)(SwitchCase(SimpleName:CMD_RESET_STATS))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ThreadProfiler))(SimpleName:resetStats)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:out))(SimpleName:writeInt)(METHOD_INVOCATION_ARGUMENTS(SimpleName:COMMAND_ACK))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:out))(SimpleName:flush)))(BreakStatement)(SwitchCase(SimpleName:CMD_APPLY_RULES))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:out))(SimpleName:writeInt)(METHOD_INVOCATION_ARGUMENTS(SimpleName:COMMAND_ACK))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:out))(SimpleName:flush)))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:opts)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:in))(SimpleName:readUTF))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:rules)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:in))(SimpleName:readUTF))))(VariableDeclarationStatement(Modifier:final)(ArrayType(PrimitiveType:int)(Dimension))(VariableDeclarationFragment(SimpleName:progress)(ArrayCreation(ArrayType(PrimitiveType:int)(Dimension(NumberLiteral:1))))))(VariableDeclarationStatement(SimpleType(QualifiedName:Transformer.Callback))(VariableDeclarationFragment(SimpleName:callback)(ClassInstanceCreation(SimpleType(QualifiedName:Transformer.Callback))(AnonymousClassDeclaration(MethodDeclaration(Modifier:public)(PrimitiveType:void)(SimpleName:notifyClassTransformed)(SingleVariableDeclaration(SimpleType(SimpleName:String))(SimpleName:className))(SingleVariableDeclaration(PrimitiveType:int)(SimpleName:backSequence))(SingleVariableDeclaration(PrimitiveType:int)(SimpleName:bachSize))(Block(ExpressionStatement(Assignment(ArrayAccess(SimpleName:progress)(NumberLiteral:0))(ASSIGNMENT_OPERATOR:=)(SimpleName:backSequence)))))))))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:n)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Agent))(SimpleName:startNewSession)(METHOD_INVOCATION_ARGUMENTS(SimpleName:opts)(SimpleName:rules)(SimpleName:callback)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:out))(SimpleName:writeInt)(METHOD_INVOCATION_ARGUMENTS(SimpleName:n))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:out))(SimpleName:flush)))(WhileStatement(InfixExpression(ArrayAccess(SimpleName:progress)(NumberLiteral:0))(INFIX_EXPRESSION_OPERATOR:<)(SimpleName:n))(Block(TryStatement(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Thread))(SimpleName:sleep)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:500)))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:InterruptedException))(SimpleName:e))(Block)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:out))(SimpleName:writeInt)(METHOD_INVOCATION_ARGUMENTS(ArrayAccess(SimpleName:progress)(NumberLiteral:0)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:out))(SimpleName:flush)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:out))(SimpleName:writeInt)(METHOD_INVOCATION_ARGUMENTS(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:-)(NumberLiteral:1)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:out))(SimpleName:flush)))(SynchronizedStatement(QualifiedName:Agent.waitConnectionLock)(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(QualifiedName:Agent.waitConnectionLock))(SimpleName:notifyAll)))))(BreakStatement)(SwitchCase(SimpleName:CMD_LIST_CLASSES))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:out))(SimpleName:writeInt)(METHOD_INVOCATION_ARGUMENTS(SimpleName:COMMAND_ACK))))(VariableDeclarationStatement(ArrayType(SimpleType(SimpleName:Class))(Dimension))(VariableDeclarationFragment(SimpleName:classes)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Agent))(SimpleName:getLoadedClasses)(METHOD_INVOCATION_ARGUMENTS(BooleanLiteral:true)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:out))(SimpleName:writeInt)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:classes.length))))(SynchronizedStatement(QualifiedName:Agent.modifiedClassNames)(Block(ForStatement(VariableDeclarationExpression(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:i)(NumberLiteral:0)))(InfixExpression(SimpleName:i)(INFIX_EXPRESSION_OPERATOR:<)(QualifiedName:classes.length))(PostfixExpression(SimpleName:i)(POSTFIX_EXPRESSION_OPERATOR:++))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:out))(SimpleName:writeUTF)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(ArrayAccess(SimpleName:classes)(SimpleName:i)))(SimpleName:getName)))))(VariableDeclarationStatement(Modifier:final)(PrimitiveType:boolean)(VariableDeclarationFragment(SimpleName:instrumented)(MethodInvocation(METHOD_INVOCATION_RECEIVER(QualifiedName:Agent.modifiedClassNames))(SimpleName:contains)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(ArrayAccess(SimpleName:classes)(SimpleName:i)))(SimpleName:getName))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:out))(SimpleName:writeBoolean)(METHOD_INVOCATION_ARGUMENTS(SimpleName:instrumented))))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:out))(SimpleName:flush)))(BreakStatement)(SwitchCase(SimpleName:CMD_GET_RUNTIME_INFO))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:out))(SimpleName:writeInt)(METHOD_INVOCATION_ARGUMENTS(SimpleName:COMMAND_ACK))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:out))(SimpleName:writeUTF)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(QualifiedName:Agent.rtbean))(SimpleName:getBootClassPath)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:out))(SimpleName:writeUTF)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(QualifiedName:Agent.rtbean))(SimpleName:getClassPath)))))(ExpressionStatement(MethodInvocation(SimpleName:writeStringList)(METHOD_INVOCATION_ARGUMENTS(SimpleName:out)(MethodInvocation(METHOD_INVOCATION_RECEIVER(QualifiedName:Agent.rtbean))(SimpleName:getInputArguments)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:out))(SimpleName:writeUTF)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(QualifiedName:Agent.rtbean))(SimpleName:getLibraryPath)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:out))(SimpleName:writeUTF)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(QualifiedName:Agent.rtbean))(SimpleName:getName)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:out))(SimpleName:writeUTF)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(QualifiedName:Agent.rtbean))(SimpleName:getVmName)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:out))(SimpleName:writeLong)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(QualifiedName:Agent.rtbean))(SimpleName:getStartTime)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:out))(SimpleName:writeLong)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(QualifiedName:Agent.rtbean))(SimpleName:getUptime)))))(ExpressionStatement(MethodInvocation(SimpleName:writeStringMap)(METHOD_INVOCATION_ARGUMENTS(SimpleName:out)(MethodInvocation(METHOD_INVOCATION_RECEIVER(QualifiedName:Agent.rtbean))(SimpleName:getSystemProperties)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:out))(SimpleName:flush)))(BreakStatement)(SwitchCase(SimpleName:CMD_GET_MEMORY_INFO))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:out))(SimpleName:writeInt)(METHOD_INVOCATION_ARGUMENTS(SimpleName:COMMAND_ACK))))(ExpressionStatement(MethodInvocation(SimpleName:writeMemoryUsage)(METHOD_INVOCATION_ARGUMENTS(SimpleName:out)(MethodInvocation(METHOD_INVOCATION_RECEIVER(QualifiedName:Agent.membean))(SimpleName:getHeapMemoryUsage)))))(ExpressionStatement(MethodInvocation(SimpleName:writeMemoryUsage)(METHOD_INVOCATION_ARGUMENTS(SimpleName:out)(MethodInvocation(METHOD_INVOCATION_RECEIVER(QualifiedName:Agent.membean))(SimpleName:getNonHeapMemoryUsage)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:out))(SimpleName:writeInt)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(QualifiedName:Agent.membean))(SimpleName:getObjectPendingFinalizationCount)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:out))(SimpleName:flush)))(BreakStatement)(SwitchCase(SimpleName:CMD_GET_THREAD_INFO))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:out))(SimpleName:writeInt)(METHOD_INVOCATION_ARGUMENTS(SimpleName:COMMAND_ACK))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:out))(SimpleName:flush)))(VariableDeclarationStatement(ArrayType(PrimitiveType:long)(Dimension))(VariableDeclarationFragment(SimpleName:ids)(CastExpression(ArrayType(PrimitiveType:long)(Dimension))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:in))(SimpleName:readUnshared)))))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:maxDepth)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:in))(SimpleName:readInt))))(ExpressionStatement(Assignment(SimpleName:ids)(ASSIGNMENT_OPERATOR:=)(ConditionalExpression(ParenthesizedExpression(InfixExpression(SimpleName:ids)(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral)))(MethodInvocation(METHOD_INVOCATION_RECEIVER(QualifiedName:Agent.threadbean))(SimpleName:getAllThreadIds))(SimpleName:ids))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:out))(SimpleName:writeUnshared)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ServerUtil))(SimpleName:makeSerializable)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(QualifiedName:Agent.threadbean))(SimpleName:getThreadInfo)(METHOD_INVOCATION_ARGUMENTS(SimpleName:ids)(SimpleName:maxDepth))))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:out))(SimpleName:flush)))(BreakStatement)(SwitchCase(SimpleName:CMD_SET_THREAD_MONITORING))(VariableDeclarationStatement(ArrayType(PrimitiveType:boolean)(Dimension))(VariableDeclarationFragment(SimpleName:flags)(CastExpression(ArrayType(PrimitiveType:boolean)(Dimension))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:in))(SimpleName:readUnshared)))))(VariableDeclarationStatement(ArrayType(PrimitiveType:boolean)(Dimension))(VariableDeclarationFragment(SimpleName:support)(ArrayCreation(ArrayType(PrimitiveType:boolean)(Dimension))(ArrayInitializer(MethodInvocation(METHOD_INVOCATION_RECEIVER(QualifiedName:Agent.threadbean))(SimpleName:isThreadContentionMonitoringSupported))(MethodInvocation(METHOD_INVOCATION_RECEIVER(QualifiedName:Agent.threadbean))(SimpleName:isThreadCpuTimeSupported))))))(IfStatement(ArrayAccess(SimpleName:support)(NumberLiteral:0))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(QualifiedName:Agent.threadbean))(SimpleName:setThreadContentionMonitoringEnabled)(METHOD_INVOCATION_ARGUMENTS(ArrayAccess(SimpleName:flags)(NumberLiteral:0)))))))(IfStatement(ArrayAccess(SimpleName:support)(NumberLiteral:1))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(QualifiedName:Agent.threadbean))(SimpleName:setThreadCpuTimeEnabled)(METHOD_INVOCATION_ARGUMENTS(ArrayAccess(SimpleName:flags)(NumberLiteral:1)))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:out))(SimpleName:writeUnshared)(METHOD_INVOCATION_ARGUMENTS(SimpleName:support))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:out))(SimpleName:flush)))(BreakStatement)(SwitchCase(SimpleName:CMD_DISCONNECT))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:out))(SimpleName:writeInt)(METHOD_INVOCATION_ARGUMENTS(SimpleName:COMMAND_ACK))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:out))(SimpleName:flush)))(ReturnStatement)(SwitchCase)(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:out))(SimpleName:writeInt)(METHOD_INVOCATION_ARGUMENTS(SimpleName:STATUS_UNKNOWN_CMD)))))))))))