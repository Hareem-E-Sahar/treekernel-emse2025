(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(MarkerAnnotation(SimpleName:Override))(Modifier:public)(PrimitiveType:void)(SimpleName:run)(Block(TryStatement(Block(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:LOG))(SimpleName:isDebugEnabled))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:LOG))(SimpleName:debug)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:_file))(SimpleName:exists))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:_file))(SimpleName:delete)))))(VariableDeclarationStatement(Modifier:final)(SimpleType(SimpleName:ZipOutputStream))(VariableDeclarationFragment(SimpleName:zOut)(ClassInstanceCreation(SimpleType(SimpleName:ZipOutputStream))(ClassInstanceCreation(SimpleType(SimpleName:FileOutputStream))(SimpleName:_file)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:zOut))(SimpleName:setLevel)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:9))))(VariableDeclarationStatement(Modifier:final)(SimpleType(SimpleName:File))(VariableDeclarationFragment(SimpleName:xmlFile)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:File))(SimpleName:createTempFile)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(StringLiteral:<STR>)))))(VariableDeclarationStatement(Modifier:final)(SimpleType(SimpleName:OutputStream))(VariableDeclarationFragment(SimpleName:ost)(ClassInstanceCreation(SimpleType(SimpleName:FileOutputStream))(SimpleName:xmlFile))))(VariableDeclarationStatement(Modifier:final)(SimpleType(SimpleName:XMLStreamWriter))(VariableDeclarationFragment(SimpleName:writer)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:XMLOutputFactory))(SimpleName:newInstance)))(SimpleName:createXMLStreamWriter)(METHOD_INVOCATION_ARGUMENTS(SimpleName:ost)(StringLiteral:<STR>)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:writer))(SimpleName:writeStartDocument)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(StringLiteral:<STR>))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:writer))(SimpleName:writeCharacters)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:writer))(SimpleName:writeStartElement)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:writer))(SimpleName:writeAttribute)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Integer))(SimpleName:toString)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:Main.ENGINEVERSION))))))(VariableDeclarationStatement(Modifier:final)(SimpleType(SimpleName:MediafileDAO))(VariableDeclarationFragment(SimpleName:mfDAO)(ClassInstanceCreation(SimpleType(SimpleName:MediafileDAO)))))(VariableDeclarationStatement(Modifier:final)(SimpleType(SimpleName:AlbumDAO))(VariableDeclarationFragment(SimpleName:aDAO)(ClassInstanceCreation(SimpleType(SimpleName:AlbumDAO)))))(VariableDeclarationStatement(Modifier:final)(SimpleType(SimpleName:CdDAO))(VariableDeclarationFragment(SimpleName:cdDAO)(ClassInstanceCreation(SimpleType(SimpleName:CdDAO)))))(VariableDeclarationStatement(Modifier:final)(SimpleType(SimpleName:CoveritemDAO))(VariableDeclarationFragment(SimpleName:ciDAO)(ClassInstanceCreation(SimpleType(SimpleName:CoveritemDAO)))))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:itemCount)(NumberLiteral:0)))(TryStatement(Block(ExpressionStatement(Assignment(SimpleName:itemCount)(ASSIGNMENT_OPERATOR:+=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:mfDAO))(SimpleName:getCount))))(ExpressionStatement(Assignment(SimpleName:itemCount)(ASSIGNMENT_OPERATOR:+=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:aDAO))(SimpleName:getCount))))(ExpressionStatement(Assignment(SimpleName:itemCount)(ASSIGNMENT_OPERATOR:+=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:cdDAO))(SimpleName:getCount))))(ExpressionStatement(Assignment(SimpleName:itemCount)(ASSIGNMENT_OPERATOR:+=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ciDAO))(SimpleName:getCount))))(ExpressionStatement(MethodInvocation(SimpleName:fireStatusEvent)(METHOD_INVOCATION_ARGUMENTS(ClassInstanceCreation(SimpleType(SimpleName:StatusEvent))(ThisExpression)(QualifiedName:StatusEventType.MAX_VALUE)(SimpleName:itemCount))))))(CatchClause(SingleVariableDeclaration(Modifier:final)(SimpleType(SimpleName:Exception))(SimpleName:e))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:LOG))(SimpleName:error)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(SimpleName:e))))(ExpressionStatement(MethodInvocation(SimpleName:fireStatusEvent)(METHOD_INVOCATION_ARGUMENTS(ClassInstanceCreation(SimpleType(SimpleName:StatusEvent))(ThisExpression)(QualifiedName:StatusEventType.MAX_VALUE)(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:-)(NumberLiteral:1)))))))))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:cdCounter)(NumberLiteral:0)))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:mediafileCounter)(NumberLiteral:0)))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:albumCounter)(NumberLiteral:0)))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:coveritemCounter)(NumberLiteral:0)))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:counter)(NumberLiteral:0)))(VariableDeclarationStatement(Modifier:final)(ParameterizedType(SimpleType(SimpleName:List))(SimpleType(SimpleName:CdIf)))(VariableDeclarationFragment(SimpleName:data)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:cdDAO))(SimpleName:getCdsOrderById))))(IfStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:data))(SimpleName:size))(INFIX_EXPRESSION_OPERATOR:>)(NumberLiteral:0))(Block(VariableDeclarationStatement(Modifier:final)(ParameterizedType(SimpleType(SimpleName:Map))(SimpleType(SimpleName:Integer))(SimpleType(SimpleName:Integer)))(VariableDeclarationFragment(SimpleName:albums)(ClassInstanceCreation(ParameterizedType(SimpleType(SimpleName:HashMap))(SimpleType(SimpleName:Integer))(SimpleType(SimpleName:Integer))))))(VariableDeclarationStatement(Modifier:final)(ParameterizedType(SimpleType(SimpleName:Iterator))(SimpleType(SimpleName:CdIf)))(VariableDeclarationFragment(SimpleName:it)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:data))(SimpleName:iterator))))(WhileStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:it))(SimpleName:hasNext))(INFIX_EXPRESSION_OPERATOR:&&)(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(SimpleName:_break)))(Block(VariableDeclarationStatement(Modifier:final)(SimpleType(SimpleName:CdIf))(VariableDeclarationFragment(SimpleName:cd)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:it))(SimpleName:next))))(VariableDeclarationStatement(Modifier:final)(SimpleType(SimpleName:Integer))(VariableDeclarationFragment(SimpleName:cdId)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Integer))(SimpleName:valueOf)(METHOD_INVOCATION_ARGUMENTS(PostfixExpression(SimpleName:cdCounter)(POSTFIX_EXPRESSION_OPERATOR:++))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:writer))(SimpleName:writeStartElement)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:TypeConstants.XML_CD))))(ExpressionStatement(MethodInvocation(SimpleName:exportCd)(METHOD_INVOCATION_ARGUMENTS(SimpleName:writer)(SimpleName:cd)(SimpleName:cdId))))(ExpressionStatement(MethodInvocation(SimpleName:fireStatusEvent)(METHOD_INVOCATION_ARGUMENTS(ClassInstanceCreation(SimpleType(SimpleName:StatusEvent))(ThisExpression)(QualifiedName:StatusEventType.NEW_VALUE)(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:++)(SimpleName:counter))))))(VariableDeclarationStatement(Modifier:final)(ParameterizedType(SimpleType(SimpleName:List))(SimpleType(SimpleName:MediafileIf)))(VariableDeclarationFragment(SimpleName:files)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:cd))(SimpleName:getMediafiles))))(VariableDeclarationStatement(Modifier:final)(ParameterizedType(SimpleType(SimpleName:Iterator))(SimpleType(SimpleName:MediafileIf)))(VariableDeclarationFragment(SimpleName:mfit)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:files))(SimpleName:iterator))))(VariableDeclarationStatement(SimpleType(SimpleName:MediafileIf))(VariableDeclarationFragment(SimpleName:mf)))(WhileStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:mfit))(SimpleName:hasNext))(INFIX_EXPRESSION_OPERATOR:&&)(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(SimpleName:_break)))(Block(ExpressionStatement(Assignment(SimpleName:mf)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:mfit))(SimpleName:next))))(VariableDeclarationStatement(Modifier:final)(SimpleType(SimpleName:Integer))(VariableDeclarationFragment(SimpleName:mfId)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Integer))(SimpleName:valueOf)(METHOD_INVOCATION_ARGUMENTS(PostfixExpression(SimpleName:mediafileCounter)(POSTFIX_EXPRESSION_OPERATOR:++))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:writer))(SimpleName:writeStartElement)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:TypeConstants.XML_MEDIAFILE))))(ExpressionStatement(MethodInvocation(SimpleName:exportMediafile)(METHOD_INVOCATION_ARGUMENTS(SimpleName:writer)(SimpleName:mf)(SimpleName:mfId))))(ExpressionStatement(MethodInvocation(SimpleName:fireStatusEvent)(METHOD_INVOCATION_ARGUMENTS(ClassInstanceCreation(SimpleType(SimpleName:StatusEvent))(ThisExpression)(QualifiedName:StatusEventType.NEW_VALUE)(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:++)(SimpleName:counter))))))(VariableDeclarationStatement(Modifier:final)(SimpleType(SimpleName:AlbumIf))(VariableDeclarationFragment(SimpleName:a)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:mf))(SimpleName:getAlbum))))(IfStatement(InfixExpression(SimpleName:a)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(VariableDeclarationStatement(SimpleType(SimpleName:Integer))(VariableDeclarationFragment(SimpleName:inte)))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:albums))(SimpleName:containsKey)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:a))(SimpleName:getAid))))(Block(ExpressionStatement(Assignment(SimpleName:inte)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:albums))(SimpleName:get)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:a))(SimpleName:getAid))))))(ExpressionStatement(MethodInvocation(SimpleName:writeLink)(METHOD_INVOCATION_ARGUMENTS(SimpleName:writer)(QualifiedName:TypeConstants.XML_ALBUM)(SimpleName:inte)))))(Block(ExpressionStatement(Assignment(SimpleName:inte)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Integer))(SimpleName:valueOf)(METHOD_INVOCATION_ARGUMENTS(PostfixExpression(SimpleName:albumCounter)(POSTFIX_EXPRESSION_OPERATOR:++))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:writer))(SimpleName:writeStartElement)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:TypeConstants.XML_ALBUM))))(ExpressionStatement(MethodInvocation(SimpleName:exportAlbum)(METHOD_INVOCATION_ARGUMENTS(SimpleName:writer)(SimpleName:a)(SimpleName:inte))))(ExpressionStatement(MethodInvocation(SimpleName:fireStatusEvent)(METHOD_INVOCATION_ARGUMENTS(ClassInstanceCreation(SimpleType(SimpleName:StatusEvent))(ThisExpression)(QualifiedName:StatusEventType.NEW_VALUE)(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:++)(SimpleName:counter))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:albums))(SimpleName:put)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:a))(SimpleName:getAid))(SimpleName:inte))))(IfStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:a))(SimpleName:hasCoveritems))(INFIX_EXPRESSION_OPERATOR:&&)(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(SimpleName:_break)))(Block(VariableDeclarationStatement(Modifier:final)(ParameterizedType(SimpleType(SimpleName:List))(SimpleType(SimpleName:CoveritemIf)))(VariableDeclarationFragment(SimpleName:covers)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:a))(SimpleName:getCoveritems))))(VariableDeclarationStatement(Modifier:final)(ParameterizedType(SimpleType(SimpleName:Iterator))(SimpleType(SimpleName:CoveritemIf)))(VariableDeclarationFragment(SimpleName:coit)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:covers))(SimpleName:iterator))))(WhileStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:coit))(SimpleName:hasNext))(INFIX_EXPRESSION_OPERATOR:&&)(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(SimpleName:_break)))(Block(VariableDeclarationStatement(Modifier:final)(SimpleType(SimpleName:Integer))(VariableDeclarationFragment(SimpleName:coveritemId)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Integer))(SimpleName:valueOf)(METHOD_INVOCATION_ARGUMENTS(PostfixExpression(SimpleName:coveritemCounter)(POSTFIX_EXPRESSION_OPERATOR:++))))))(ExpressionStatement(MethodInvocation(SimpleName:exportCoveritem)(METHOD_INVOCATION_ARGUMENTS(SimpleName:writer)(SimpleName:zOut)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:coit))(SimpleName:next))(SimpleName:coveritemId))))(ExpressionStatement(MethodInvocation(SimpleName:fireStatusEvent)(METHOD_INVOCATION_ARGUMENTS(ClassInstanceCreation(SimpleType(SimpleName:StatusEvent))(ThisExpression)(QualifiedName:StatusEventType.NEW_VALUE)(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:++)(SimpleName:counter))))))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:writer))(SimpleName:writeEndElement)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:GenericDAO))(SimpleName:getEntityManager)))(SimpleName:close)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:writer))(SimpleName:writeEndElement)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:writer))(SimpleName:writeEndElement)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:writer))(SimpleName:flush)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:it))(SimpleName:remove)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:GenericDAO))(SimpleName:getEntityManager)))(SimpleName:close)))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:writer))(SimpleName:writeEndElement)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:writer))(SimpleName:writeEndDocument)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:writer))(SimpleName:flush)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:writer))(SimpleName:close)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ost))(SimpleName:flush)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ost))(SimpleName:close)))(IfStatement(SimpleName:_break)(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:zOut))(SimpleName:close)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:_file))(SimpleName:delete))))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:zOut))(SimpleName:putNextEntry)(METHOD_INVOCATION_ARGUMENTS(ClassInstanceCreation(SimpleType(SimpleName:ZipEntry))(StringLiteral:<STR>)))))(VariableDeclarationStatement(Modifier:final)(SimpleType(SimpleName:InputStream))(VariableDeclarationFragment(SimpleName:xmlIn)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:FileUtils))(SimpleName:openInputStream)(METHOD_INVOCATION_ARGUMENTS(SimpleName:xmlFile)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:IOUtils))(SimpleName:copy)(METHOD_INVOCATION_ARGUMENTS(SimpleName:xmlIn)(SimpleName:zOut))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:xmlIn))(SimpleName:close)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:zOut))(SimpleName:close)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:xmlFile))(SimpleName:delete)))(ExpressionStatement(MethodInvocation(SimpleName:fireStatusEvent)(METHOD_INVOCATION_ARGUMENTS(ClassInstanceCreation(SimpleType(SimpleName:StatusEvent))(ThisExpression)(QualifiedName:StatusEventType.FINISH))))))(CatchClause(SingleVariableDeclaration(Modifier:final)(SimpleType(SimpleName:Exception))(SimpleName:e))(Block(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:LOG))(SimpleName:isDebugEnabled))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:LOG))(SimpleName:debug)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(SimpleName:e))))))(ExpressionStatement(MethodInvocation(SimpleName:fireStatusEvent)(METHOD_INVOCATION_ARGUMENTS(ClassInstanceCreation(SimpleType(SimpleName:StatusEvent))(ThisExpression)(SimpleName:e)(StringLiteral:<STR>)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:_messenger))(SimpleName:fireMessageEvent)(METHOD_INVOCATION_ARGUMENTS(ClassInstanceCreation(SimpleType(SimpleName:MessageEvent))(ThisExpression)(StringLiteral:<STR>)(QualifiedName:MessageEventTypeEnum.ERROR)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:GuiStrings))(SimpleName:getInstance)))(SimpleName:getString)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))(SimpleName:e))))))))))))