(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(NormalAnnotation(SimpleName:HttpAction)(MemberValuePair(SimpleName:name)(StringLiteral:<STR>))(MemberValuePair(SimpleName:method)(ArrayInitializer(QualifiedName:HttpAction.Method.post)))(MemberValuePair(SimpleName:responseType)(StringLiteral:<STR>))(MemberValuePair(SimpleName:parameters)(ArrayInitializer(NormalAnnotation(SimpleName:HttpParameter)(MemberValuePair(SimpleName:name)(StringLiteral:<STR>)))(NormalAnnotation(SimpleName:HttpParameter)(MemberValuePair(SimpleName:name)(StringLiteral:<STR>)))(NormalAnnotation(SimpleName:HttpParameter)(MemberValuePair(SimpleName:name)(StringLiteral:<STR>)))(NormalAnnotation(SimpleName:HttpParameter)(MemberValuePair(SimpleName:name)(StringLiteral:<STR>)))(NormalAnnotation(SimpleName:HttpParameter)(MemberValuePair(SimpleName:name)(StringLiteral:<STR>)))(NormalAnnotation(SimpleName:HttpParameter)(MemberValuePair(SimpleName:name)(StringLiteral:<STR>)))(NormalAnnotation(SimpleName:HttpParameter)(MemberValuePair(SimpleName:name)(StringLiteral:<STR>)))(NormalAnnotation(SimpleName:HttpParameter)(MemberValuePair(SimpleName:name)(StringLiteral:<STR>)))(NormalAnnotation(SimpleName:HttpParameter)(MemberValuePair(SimpleName:name)(StringLiteral:<STR>))))))(NormalAnnotation(SimpleName:HttpAuthentication)(MemberValuePair(SimpleName:method)(ArrayInitializer(QualifiedName:HttpAuthentication.Method.WSSE))))(Modifier:public)(SimpleType(SimpleName:String))(SimpleName:calibrate)(SingleVariableDeclaration(SimpleType(SimpleName:User))(SimpleName:user))(SingleVariableDeclaration(SimpleType(SimpleName:String))(SimpleName:guid))(SingleVariableDeclaration(ParameterizedType(SimpleType(SimpleName:Collection))(SimpleType(SimpleName:FileItem)))(SimpleName:uploadFile))(SingleVariableDeclaration(SimpleType(SimpleName:String))(SimpleName:mapUrl))(SingleVariableDeclaration(SimpleType(SimpleName:String))(SimpleName:mapSource))(SingleVariableDeclaration(SimpleType(SimpleName:String))(SimpleName:south))(SingleVariableDeclaration(SimpleType(SimpleName:String))(SimpleName:west))(SingleVariableDeclaration(SimpleType(SimpleName:String))(SimpleName:north))(SingleVariableDeclaration(SimpleType(SimpleName:String))(SimpleName:east))(SimpleType(SimpleName:HttpRpcException))(Block(VariableDeclarationStatement(ParameterizedType(SimpleType(SimpleName:GenericDAO))(SimpleType(SimpleName:UserMapOriginal)))(VariableDeclarationFragment(SimpleName:dao)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:DAOFactory))(SimpleName:createDAO)(METHOD_INVOCATION_ARGUMENTS(TypeLiteral(SimpleType(SimpleName:UserMapOriginal)))))))(TryStatement(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:TransactionManager))(SimpleName:beginTransaction))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:Throwable))(SimpleName:e))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:logger))(SimpleName:error)(METHOD_INVOCATION_ARGUMENTS(SimpleName:e))))(ReturnStatement(StringLiteral:<STR>)))))(TryStatement(Block(VariableDeclarationStatement(Modifier:final)(SimpleType(SimpleName:UserMapOriginal))(VariableDeclarationFragment(SimpleName:mapOriginal)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:dao))(SimpleName:findUniqueByCriteria)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Expression))(SimpleName:eq)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(SimpleName:guid)))))))(IfStatement(InfixExpression(SimpleName:mapOriginal)(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(ThrowStatement(ClassInstanceCreation(SimpleType(SimpleName:HttpRpcException))(QualifiedName:ErrorConstant.ERROR_NOT_FOUND)(StringLiteral:<STR>))))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(QualifiedName:UserMapOriginal.SubState.INPROC))(SimpleName:equals)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:mapOriginal))(SimpleName:getSubstate))))(ThrowStatement(ClassInstanceCreation(SimpleType(SimpleName:HttpRpcException))(QualifiedName:ErrorConstant.ERROR_ILLEGAL_OBJECT_STATE)(StringLiteral:<STR>))))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(QualifiedName:UserMapOriginal.State.COMBINE))(SimpleName:equals)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:mapOriginal))(SimpleName:getState))))(ThrowStatement(ClassInstanceCreation(SimpleType(SimpleName:HttpRpcException))(QualifiedName:ErrorConstant.ERROR_ILLEGAL_OBJECT_STATE)(StringLiteral:<STR>))))(IfStatement(InfixExpression(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(MethodInvocation(METHOD_INVOCATION_RECEIVER(StringLiteral:<STR>))(SimpleName:equals)(METHOD_INVOCATION_ARGUMENTS(SimpleName:mapSource))))(INFIX_EXPRESSION_OPERATOR:&&)(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(MethodInvocation(METHOD_INVOCATION_RECEIVER(StringLiteral:<STR>))(SimpleName:equals)(METHOD_INVOCATION_ARGUMENTS(SimpleName:mapSource))))(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(MethodInvocation(METHOD_INVOCATION_RECEIVER(StringLiteral:<STR>))(SimpleName:equals)(METHOD_INVOCATION_ARGUMENTS(SimpleName:mapSource)))))(ThrowStatement(ClassInstanceCreation(SimpleType(SimpleName:HttpRpcException))(QualifiedName:ErrorConstant.ERROR_INVALID_OBJECT)(StringLiteral:<STR>))))(TryStatement(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:mapOriginal))(SimpleName:setSWLat)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Double))(SimpleName:parseDouble)(METHOD_INVOCATION_ARGUMENTS(SimpleName:south)))))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:Throwable))(SimpleName:t))(Block(ThrowStatement(ClassInstanceCreation(SimpleType(SimpleName:HttpRpcException))(QualifiedName:ErrorConstant.ERROR_INVALID_OBJECT)(StringLiteral:<STR>))))))(TryStatement(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:mapOriginal))(SimpleName:setSWLon)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Double))(SimpleName:parseDouble)(METHOD_INVOCATION_ARGUMENTS(SimpleName:west)))))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:Throwable))(SimpleName:t))(Block(ThrowStatement(ClassInstanceCreation(SimpleType(SimpleName:HttpRpcException))(QualifiedName:ErrorConstant.ERROR_INVALID_OBJECT)(StringLiteral:<STR>))))))(TryStatement(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:mapOriginal))(SimpleName:setNELat)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Double))(SimpleName:parseDouble)(METHOD_INVOCATION_ARGUMENTS(SimpleName:north)))))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:Throwable))(SimpleName:t))(Block(ThrowStatement(ClassInstanceCreation(SimpleType(SimpleName:HttpRpcException))(QualifiedName:ErrorConstant.ERROR_INVALID_OBJECT)(StringLiteral:<STR>))))))(TryStatement(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:mapOriginal))(SimpleName:setNELon)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Double))(SimpleName:parseDouble)(METHOD_INVOCATION_ARGUMENTS(SimpleName:east)))))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:Throwable))(SimpleName:t))(Block(ThrowStatement(ClassInstanceCreation(SimpleType(SimpleName:HttpRpcException))(QualifiedName:ErrorConstant.ERROR_INVALID_OBJECT)(StringLiteral:<STR>))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:mapOriginal))(SimpleName:setState)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:UserMapOriginal.State.CALIBRATE))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:mapOriginal))(SimpleName:setSubstate)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:UserMapOriginal.SubState.INPROC))))(VariableDeclarationStatement(Modifier:final)(SimpleType(SimpleName:XFile))(VariableDeclarationFragment(SimpleName:mapStorage)(ClassInstanceCreation(SimpleType(SimpleName:XFile))(ClassInstanceCreation(SimpleType(SimpleName:XFile))(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Configuration))(SimpleName:getInstance)))(SimpleName:getPrivateMapStorage)))(SimpleName:toString)))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:mapOriginal))(SimpleName:getGuid)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:mapStorage))(SimpleName:mkdir)))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(StringLiteral:<STR>))(SimpleName:equals)(METHOD_INVOCATION_ARGUMENTS(SimpleName:mapSource)))(Block(VariableDeclarationStatement(Modifier:final)(SimpleType(SimpleName:XFile))(VariableDeclarationFragment(SimpleName:tmpFile)))(VariableDeclarationStatement(Modifier:final)(SimpleType(SimpleName:URI))(VariableDeclarationFragment(SimpleName:uri)(ClassInstanceCreation(SimpleType(SimpleName:URI))(SimpleName:mapUrl))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:query)(ConditionalExpression(ParenthesizedExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:StringUtils))(SimpleName:isEmpty)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:uri))(SimpleName:getQuery)))))(StringLiteral:<STR>)(StringLiteral:<STR>))))(ExpressionStatement(Assignment(SimpleName:query)(ASSIGNMENT_OPERATOR:+=)(InfixExpression(SimpleName:west)(INFIX_EXPRESSION_OPERATOR:+)(StringLiteral:<STR>)(SimpleName:south)(StringLiteral:<STR>)(SimpleName:east)(StringLiteral:<STR>)(SimpleName:north))))(VariableDeclarationStatement(SimpleType(SimpleName:URLConnection))(VariableDeclarationFragment(SimpleName:con)(MethodInvocation(METHOD_INVOCATION_RECEIVER(ParenthesizedExpression(ClassInstanceCreation(SimpleType(SimpleName:URL))(InfixExpression(SimpleName:mapUrl)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:query)))))(SimpleName:openConnection))))(IfStatement(InfixExpression(InfixExpression(SimpleName:con)(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(INFIX_EXPRESSION_OPERATOR:||)(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:con))(SimpleName:getContentLength))(INFIX_EXPRESSION_OPERATOR:==)(NumberLiteral:0)))(ThrowStatement(ClassInstanceCreation(SimpleType(SimpleName:HttpRpcException))(QualifiedName:ErrorConstant.ERROR_INVALID_RESOURCE)(StringLiteral:<STR>))))(IfStatement(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:con))(SimpleName:getContentType)))(SimpleName:startsWith)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))(ThrowStatement(ClassInstanceCreation(SimpleType(SimpleName:HttpRpcException))(QualifiedName:ErrorConstant.ERROR_INVALID_OBJECT_TYPE)(StringLiteral:<STR>))))(ExpressionStatement(Assignment(SimpleName:tmpFile)(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(SimpleType(SimpleName:XFile))(SimpleName:mapStorage)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:mapOriginal))(SimpleName:getGuid)))))(VariableDeclarationStatement(SimpleType(SimpleName:XFileOutputStream))(VariableDeclarationFragment(SimpleName:out)(ClassInstanceCreation(SimpleType(SimpleName:XFileOutputStream))(SimpleName:tmpFile))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:IOUtils))(SimpleName:copy)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:con))(SimpleName:getInputStream))(SimpleName:out))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:out))(SimpleName:flush)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:out))(SimpleName:close))))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(StringLiteral:<STR>))(SimpleName:equals)(METHOD_INVOCATION_ARGUMENTS(SimpleName:mapSource)))(Block(VariableDeclarationStatement(Modifier:final)(SimpleType(SimpleName:XFile))(VariableDeclarationFragment(SimpleName:tmpFile)))(VariableDeclarationStatement(Modifier:final)(SimpleType(SimpleName:FileItem))(VariableDeclarationFragment(SimpleName:file)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:uploadFile))(SimpleName:iterator)))(SimpleName:next))))(IfStatement(InfixExpression(InfixExpression(SimpleName:file)(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(INFIX_EXPRESSION_OPERATOR:||)(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:file))(SimpleName:getSize))(INFIX_EXPRESSION_OPERATOR:==)(NumberLiteral:0)))(ThrowStatement(ClassInstanceCreation(SimpleType(SimpleName:HttpRpcException))(QualifiedName:ErrorConstant.ERROR_INVALID_RESOURCE)(StringLiteral:<STR>))))(IfStatement(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:file))(SimpleName:getContentType)))(SimpleName:startsWith)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))(ThrowStatement(ClassInstanceCreation(SimpleType(SimpleName:HttpRpcException))(QualifiedName:ErrorConstant.ERROR_INVALID_OBJECT_TYPE)(StringLiteral:<STR>))))(ExpressionStatement(Assignment(SimpleName:tmpFile)(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(SimpleType(SimpleName:XFile))(SimpleName:mapStorage)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:mapOriginal))(SimpleName:getGuid)))))(VariableDeclarationStatement(SimpleType(SimpleName:XFileOutputStream))(VariableDeclarationFragment(SimpleName:out)(ClassInstanceCreation(SimpleType(SimpleName:XFileOutputStream))(SimpleName:tmpFile))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:IOUtils))(SimpleName:copy)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:file))(SimpleName:getInputStream))(SimpleName:out))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:out))(SimpleName:flush)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:out))(SimpleName:close))))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(StringLiteral:<STR>))(SimpleName:equals)(METHOD_INVOCATION_ARGUMENTS(SimpleName:mapSource)))(Block))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:dao))(SimpleName:update)(METHOD_INVOCATION_ARGUMENTS(SimpleName:mapOriginal))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:TransactionManager))(SimpleName:commitTransaction)))(TryStatement(Block(VariableDeclarationStatement(SimpleType(SimpleName:PoolClientInterface))(VariableDeclarationFragment(SimpleName:pool)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:PoolFactory))(SimpleName:getInstance)))(SimpleName:getClientPool))))(IfStatement(InfixExpression(SimpleName:pool)(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(ThrowStatement(QualifiedName:ErrorConstant.EXCEPTION_INTERNAL)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:pool))(SimpleName:put)(METHOD_INVOCATION_ARGUMENTS(SimpleName:mapOriginal)(ClassInstanceCreation(SimpleType(SimpleName:StatesStack))(ArrayCreation(ArrayType(PrimitiveType:byte)(Dimension))(ArrayInitializer(NumberLiteral:0x00)(NumberLiteral:0x18))))(TypeLiteral(SimpleType(SimpleName:GeneralCompleteStrategy)))))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:Throwable))(SimpleName:t))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:logger))(SimpleName:error)(METHOD_INVOCATION_ARGUMENTS(SimpleName:t)))))))(ReturnStatement(StringLiteral:<STR>)))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:HttpRpcException))(SimpleName:e))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:TransactionManager))(SimpleName:rollbackTransaction)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:logger))(SimpleName:error)(METHOD_INVOCATION_ARGUMENTS(SimpleName:e))))(ReturnStatement(StringLiteral:<STR>))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:Throwable))(SimpleName:e))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:logger))(SimpleName:error)(METHOD_INVOCATION_ARGUMENTS(SimpleName:e))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:TransactionManager))(SimpleName:rollbackTransaction)))(ReturnStatement(StringLiteral:<STR>)))))))))