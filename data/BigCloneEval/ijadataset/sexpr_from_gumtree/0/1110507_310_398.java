(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:protected)(Modifier:final)(PrimitiveType:void)(SimpleName:writeLiteralString)(SingleVariableDeclaration(SimpleType(SimpleName:CharacterSequence))(SimpleName:str))(SingleVariableDeclaration(Modifier:final)(PrimitiveType:int)(SimpleName:length))(SingleVariableDeclaration(PrimitiveType:int)(SimpleName:lengthOffset))(SingleVariableDeclaration(PrimitiveType:int)(SimpleName:simpleType))(SingleVariableDeclaration(SimpleType(SimpleName:OutputStream))(SimpleName:ostream))(SimpleType(SimpleName:IOException))(Block(VariableDeclarationStatement(Modifier:final)(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:n_chars))(VariableDeclarationFragment(SimpleName:escapeIndex))(VariableDeclarationFragment(SimpleName:startIndex))(VariableDeclarationFragment(SimpleName:width)))(VariableDeclarationStatement(Modifier:final)(ArrayType(PrimitiveType:int)(Dimension))(VariableDeclarationFragment(SimpleName:rcs)))(IfStatement(InfixExpression(SimpleName:simpleType)(INFIX_EXPRESSION_OPERATOR:>)(NumberLiteral:0))(Block(ExpressionStatement(Assignment(SimpleName:n_chars)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:m_schema))(SimpleName:getRestrictedCharacterCountOfSimpleType)(METHOD_INVOCATION_ARGUMENTS(SimpleName:simpleType)))))(IfStatement(InfixExpression(SimpleName:n_chars)(INFIX_EXPRESSION_OPERATOR:!=)(NumberLiteral:0))(Block(ExpressionStatement(Assignment(SimpleName:rcs)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:m_schema))(SimpleName:getNodes))))(ExpressionStatement(Assignment(SimpleName:startIndex)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:m_schema))(SimpleName:getRestrictedCharacterOfSimpleType)(METHOD_INVOCATION_ARGUMENTS(SimpleName:simpleType)))))(ExpressionStatement(Assignment(SimpleName:width)(ASSIGNMENT_OPERATOR:=)(ArrayAccess(QualifiedName:BuiltinRCS.WIDTHS)(SimpleName:n_chars))))(ExpressionStatement(Assignment(SimpleName:escapeIndex)(ASSIGNMENT_OPERATOR:=)(InfixExpression(SimpleName:startIndex)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:n_chars)))))(Block(ExpressionStatement(Assignment(SimpleName:startIndex)(ASSIGNMENT_OPERATOR:=)(Assignment(SimpleName:width)(ASSIGNMENT_OPERATOR:=)(Assignment(SimpleName:escapeIndex)(ASSIGNMENT_OPERATOR:=)(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:-)(NumberLiteral:1))))))(ExpressionStatement(Assignment(SimpleName:rcs)(ASSIGNMENT_OPERATOR:=)(NullLiteral))))))(IfStatement(InfixExpression(SimpleName:simpleType)(INFIX_EXPRESSION_OPERATOR:!=)(QualifiedName:EXISchema.NIL_NODE))(Block(ExpressionStatement(Assignment(SimpleName:startIndex)(ASSIGNMENT_OPERATOR:=)(NumberLiteral:0)))(SwitchStatement(SimpleName:simpleType)(SwitchCase(QualifiedName:BuiltinRCS.RCS_ID_BASE64BINARY))(ExpressionStatement(Assignment(SimpleName:rcs)(ASSIGNMENT_OPERATOR:=)(QualifiedName:BuiltinRCS.RCS_BASE64BINARY)))(ExpressionStatement(Assignment(SimpleName:width)(ASSIGNMENT_OPERATOR:=)(QualifiedName:BuiltinRCS.RCS_BASE64BINARY_WIDTH)))(BreakStatement)(SwitchCase(QualifiedName:BuiltinRCS.RCS_ID_HEXBINARY))(ExpressionStatement(Assignment(SimpleName:rcs)(ASSIGNMENT_OPERATOR:=)(QualifiedName:BuiltinRCS.RCS_HEXBINARY)))(ExpressionStatement(Assignment(SimpleName:width)(ASSIGNMENT_OPERATOR:=)(QualifiedName:BuiltinRCS.RCS_HEXBINARY_WIDTH)))(BreakStatement)(SwitchCase(QualifiedName:BuiltinRCS.RCS_ID_BOOLEAN))(ExpressionStatement(Assignment(SimpleName:rcs)(ASSIGNMENT_OPERATOR:=)(QualifiedName:BuiltinRCS.RCS_BOOLEAN)))(ExpressionStatement(Assignment(SimpleName:width)(ASSIGNMENT_OPERATOR:=)(QualifiedName:BuiltinRCS.RCS_BOOLEAN_WIDTH)))(BreakStatement)(SwitchCase(QualifiedName:BuiltinRCS.RCS_ID_DATETIME))(ExpressionStatement(Assignment(SimpleName:rcs)(ASSIGNMENT_OPERATOR:=)(QualifiedName:BuiltinRCS.RCS_DATETIME)))(ExpressionStatement(Assignment(SimpleName:width)(ASSIGNMENT_OPERATOR:=)(QualifiedName:BuiltinRCS.RCS_DATETIME_WIDTH)))(BreakStatement)(SwitchCase(QualifiedName:BuiltinRCS.RCS_ID_DECIMAL))(ExpressionStatement(Assignment(SimpleName:rcs)(ASSIGNMENT_OPERATOR:=)(QualifiedName:BuiltinRCS.RCS_DECIMAL)))(ExpressionStatement(Assignment(SimpleName:width)(ASSIGNMENT_OPERATOR:=)(QualifiedName:BuiltinRCS.RCS_DECIMAL_WIDTH)))(BreakStatement)(SwitchCase(QualifiedName:BuiltinRCS.RCS_ID_DOUBLE))(ExpressionStatement(Assignment(SimpleName:rcs)(ASSIGNMENT_OPERATOR:=)(QualifiedName:BuiltinRCS.RCS_DOUBLE)))(ExpressionStatement(Assignment(SimpleName:width)(ASSIGNMENT_OPERATOR:=)(QualifiedName:BuiltinRCS.RCS_DOUBLE_WIDTH)))(BreakStatement)(SwitchCase(QualifiedName:BuiltinRCS.RCS_ID_INTEGER))(ExpressionStatement(Assignment(SimpleName:rcs)(ASSIGNMENT_OPERATOR:=)(QualifiedName:BuiltinRCS.RCS_INTEGER)))(ExpressionStatement(Assignment(SimpleName:width)(ASSIGNMENT_OPERATOR:=)(QualifiedName:BuiltinRCS.RCS_INTEGER_WIDTH)))(BreakStatement)(SwitchCase)(AssertStatement(BooleanLiteral:false))(ExpressionStatement(Assignment(SimpleName:width)(ASSIGNMENT_OPERATOR:=)(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:-)(NumberLiteral:1))))(ExpressionStatement(Assignment(SimpleName:rcs)(ASSIGNMENT_OPERATOR:=)(NullLiteral)))(BreakStatement))(ExpressionStatement(Assignment(SimpleName:escapeIndex)(ASSIGNMENT_OPERATOR:=)(Assignment(SimpleName:n_chars)(ASSIGNMENT_OPERATOR:=)(QualifiedName:rcs.length)))))(Block(ExpressionStatement(Assignment(SimpleName:n_chars)(ASSIGNMENT_OPERATOR:=)(Assignment(SimpleName:startIndex)(ASSIGNMENT_OPERATOR:=)(Assignment(SimpleName:width)(ASSIGNMENT_OPERATOR:=)(Assignment(SimpleName:escapeIndex)(ASSIGNMENT_OPERATOR:=)(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:-)(NumberLiteral:1)))))))(ExpressionStatement(Assignment(SimpleName:rcs)(ASSIGNMENT_OPERATOR:=)(NullLiteral))))))(VariableDeclarationStatement(Modifier:final)(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:n_ucsCount)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:str))(SimpleName:getUCSCount))))(ExpressionStatement(MethodInvocation(SimpleName:writeUnsignedInteger32)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(SimpleName:lengthOffset)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:n_ucsCount))(SimpleName:ostream))))(VariableDeclarationStatement(Modifier:final)(ArrayType(PrimitiveType:char)(Dimension))(VariableDeclarationFragment(SimpleName:characters)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:str))(SimpleName:getCharacters))))(VariableDeclarationStatement(Modifier:final)(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:charactersIndex)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:str))(SimpleName:getStartIndex))))(LabeledStatement(SimpleName:iloop)(ForStatement(VariableDeclarationExpression(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:i)(NumberLiteral:0)))(InfixExpression(SimpleName:i)(INFIX_EXPRESSION_OPERATOR:<)(SimpleName:length))(PostfixExpression(SimpleName:i)(POSTFIX_EXPRESSION_OPERATOR:++))(Block(VariableDeclarationStatement(Modifier:final)(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:c)(ArrayAccess(SimpleName:characters)(InfixExpression(SimpleName:charactersIndex)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:i)))))(IfStatement(InfixExpression(SimpleName:width)(INFIX_EXPRESSION_OPERATOR:>)(NumberLiteral:0))(Block(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:min)(SimpleName:startIndex)))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:max)(InfixExpression(SimpleName:escapeIndex)(INFIX_EXPRESSION_OPERATOR:-)(NumberLiteral:1))))(DoStatement(Block(VariableDeclarationStatement(Modifier:final)(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:watershed)(InfixExpression(ParenthesizedExpression(InfixExpression(SimpleName:min)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:max)))(INFIX_EXPRESSION_OPERATOR:/)(NumberLiteral:2))))(VariableDeclarationStatement(Modifier:final)(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:watershedValue)(ArrayAccess(SimpleName:rcs)(SimpleName:watershed))))(IfStatement(InfixExpression(SimpleName:c)(INFIX_EXPRESSION_OPERATOR:==)(SimpleName:watershedValue))(Block(ExpressionStatement(MethodInvocation(SimpleName:writeNBitUnsigned)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(SimpleName:watershed)(INFIX_EXPRESSION_OPERATOR:-)(SimpleName:startIndex))(SimpleName:width)(SimpleName:ostream))))(ContinueStatement(SimpleName:iloop))))(IfStatement(InfixExpression(SimpleName:c)(INFIX_EXPRESSION_OPERATOR:<)(SimpleName:watershedValue))(ExpressionStatement(Assignment(SimpleName:max)(ASSIGNMENT_OPERATOR:=)(InfixExpression(SimpleName:watershed)(INFIX_EXPRESSION_OPERATOR:-)(NumberLiteral:1))))(ExpressionStatement(Assignment(SimpleName:min)(ASSIGNMENT_OPERATOR:=)(InfixExpression(SimpleName:watershed)(INFIX_EXPRESSION_OPERATOR:+)(NumberLiteral:1))))))(InfixExpression(SimpleName:min)(INFIX_EXPRESSION_OPERATOR:<=)(SimpleName:max)))(ExpressionStatement(MethodInvocation(SimpleName:writeNBitUnsigned)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(SimpleName:escapeIndex)(INFIX_EXPRESSION_OPERATOR:-)(SimpleName:startIndex))(SimpleName:width)(SimpleName:ostream))))))(VariableDeclarationStatement(Modifier:final)(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:ucs)))(IfStatement(InfixExpression(ParenthesizedExpression(InfixExpression(SimpleName:c)(INFIX_EXPRESSION_OPERATOR:&)(NumberLiteral:0xFC00)))(INFIX_EXPRESSION_OPERATOR:!=)(NumberLiteral:0xD800))(ExpressionStatement(Assignment(SimpleName:ucs)(ASSIGNMENT_OPERATOR:=)(SimpleName:c)))(Block(VariableDeclarationStatement(Modifier:final)(PrimitiveType:char)(VariableDeclarationFragment(SimpleName:c2)(ArrayAccess(SimpleName:characters)(InfixExpression(SimpleName:charactersIndex)(INFIX_EXPRESSION_OPERATOR:+)(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:++)(SimpleName:i))))))(IfStatement(InfixExpression(ParenthesizedExpression(InfixExpression(SimpleName:c2)(INFIX_EXPRESSION_OPERATOR:&)(NumberLiteral:0xFC00)))(INFIX_EXPRESSION_OPERATOR:==)(NumberLiteral:0xDC00))(Block(ExpressionStatement(Assignment(SimpleName:ucs)(ASSIGNMENT_OPERATOR:=)(InfixExpression(ParenthesizedExpression(InfixExpression(ParenthesizedExpression(InfixExpression(ParenthesizedExpression(InfixExpression(SimpleName:c)(INFIX_EXPRESSION_OPERATOR:&)(NumberLiteral:0x3FF)))(INFIX_EXPRESSION_OPERATOR:<<)(NumberLiteral:10)))(INFIX_EXPRESSION_OPERATOR:|)(ParenthesizedExpression(InfixExpression(SimpleName:c2)(INFIX_EXPRESSION_OPERATOR:&)(NumberLiteral:0x3FF)))))(INFIX_EXPRESSION_OPERATOR:+)(NumberLiteral:0x10000)))))(Block(ExpressionStatement(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:--)(SimpleName:i)))(ExpressionStatement(Assignment(SimpleName:ucs)(ASSIGNMENT_OPERATOR:=)(SimpleName:c)))))))(ExpressionStatement(MethodInvocation(SimpleName:writeUnsignedInteger32)(METHOD_INVOCATION_ARGUMENTS(SimpleName:ucs)(SimpleName:ostream)))))))))))