(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:public)(ParameterizedType(SimpleType(SimpleName:Map))(SimpleType(SimpleName:T))(SimpleType(SimpleName:Force)))(SimpleName:evolveLayout)(Block(VariableDeclarationStatement(ParameterizedType(SimpleType(SimpleName:List))(SimpleType(SimpleName:T)))(VariableDeclarationFragment(SimpleName:theElements)(MethodInvocation(SimpleName:getElements))))(VariableDeclarationStatement(ParameterizedType(SimpleType(SimpleName:List))(ParameterizedType(SimpleType(SimpleName:Spring))(SimpleType(SimpleName:U))(SimpleType(SimpleName:T))))(VariableDeclarationFragment(SimpleName:theSprings)(MethodInvocation(SimpleName:getSprings))))(VariableDeclarationStatement(ParameterizedType(SimpleType(SimpleName:Map))(SimpleType(SimpleName:T))(SimpleType(SimpleName:Force)))(VariableDeclarationFragment(SimpleName:theForces)(ClassInstanceCreation(ParameterizedType(SimpleType(SimpleName:HashMap))(SimpleType(SimpleName:T))(SimpleType(SimpleName:Force))))))(VariableDeclarationStatement(PrimitiveType:double)(VariableDeclarationFragment(SimpleName:theTotalMass)(NumberLiteral:0)))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:minX)(QualifiedName:Integer.MAX_VALUE)))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:minY)(QualifiedName:Integer.MAX_VALUE)))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:maxX)(QualifiedName:Integer.MIN_VALUE)))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:maxY)(QualifiedName:Integer.MIN_VALUE)))(EnhancedForStatement(SingleVariableDeclaration(SimpleType(SimpleName:T))(SimpleName:theElement))(SimpleName:theElements)(Block(VariableDeclarationStatement(SimpleType(SimpleName:Dimension))(VariableDeclarationFragment(SimpleName:theSize)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:theElement))(SimpleName:getSize))))(ExpressionStatement(Assignment(SimpleName:theTotalMass)(ASSIGNMENT_OPERATOR:+=)(InfixExpression(QualifiedName:theSize.width)(INFIX_EXPRESSION_OPERATOR:*)(QualifiedName:theSize.height))))(VariableDeclarationStatement(SimpleType(SimpleName:Point))(VariableDeclarationFragment(SimpleName:theForcePoint)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:theElement))(SimpleName:getForcePoint))))(ExpressionStatement(Assignment(SimpleName:minX)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Math))(SimpleName:min)(METHOD_INVOCATION_ARGUMENTS(SimpleName:minX)(QualifiedName:theForcePoint.x)))))(ExpressionStatement(Assignment(SimpleName:minY)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Math))(SimpleName:min)(METHOD_INVOCATION_ARGUMENTS(SimpleName:minY)(QualifiedName:theForcePoint.y)))))(ExpressionStatement(Assignment(SimpleName:maxX)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Math))(SimpleName:max)(METHOD_INVOCATION_ARGUMENTS(SimpleName:maxX)(QualifiedName:theForcePoint.x)))))(ExpressionStatement(Assignment(SimpleName:maxX)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Math))(SimpleName:max)(METHOD_INVOCATION_ARGUMENTS(SimpleName:maxY)(QualifiedName:theForcePoint.y)))))))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:massCenterX)(InfixExpression(SimpleName:minX)(INFIX_EXPRESSION_OPERATOR:+)(InfixExpression(ParenthesizedExpression(InfixExpression(SimpleName:maxX)(INFIX_EXPRESSION_OPERATOR:-)(SimpleName:minX)))(INFIX_EXPRESSION_OPERATOR:/)(NumberLiteral:2)))))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:massCenterY)(InfixExpression(SimpleName:minY)(INFIX_EXPRESSION_OPERATOR:+)(InfixExpression(ParenthesizedExpression(InfixExpression(SimpleName:maxY)(INFIX_EXPRESSION_OPERATOR:-)(SimpleName:minY)))(INFIX_EXPRESSION_OPERATOR:/)(NumberLiteral:2)))))(EnhancedForStatement(SingleVariableDeclaration(SimpleType(SimpleName:T))(SimpleName:theElement))(SimpleName:theElements)(Block(VariableDeclarationStatement(SimpleType(SimpleName:Force))(VariableDeclarationFragment(SimpleName:theCurrentForce)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:theForces))(SimpleName:get)(METHOD_INVOCATION_ARGUMENTS(SimpleName:theElement)))))(IfStatement(InfixExpression(SimpleName:theCurrentForce)(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(Block(ExpressionStatement(Assignment(SimpleName:theCurrentForce)(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(SimpleType(SimpleName:Force)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:theForces))(SimpleName:put)(METHOD_INVOCATION_ARGUMENTS(SimpleName:theElement)(SimpleName:theCurrentForce))))))(VariableDeclarationStatement(SimpleType(SimpleName:Distance))(VariableDeclarationFragment(SimpleName:theGravityDistance)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:theElement))(SimpleName:computeDistanceTo)(METHOD_INVOCATION_ARGUMENTS(ClassInstanceCreation(SimpleType(SimpleName:Point))(SimpleName:massCenterX)(SimpleName:massCenterY))))))(VariableDeclarationStatement(SimpleType(SimpleName:Dimension))(VariableDeclarationFragment(SimpleName:theElementSize)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:theElement))(SimpleName:getSize))))(VariableDeclarationStatement(PrimitiveType:double)(VariableDeclarationFragment(SimpleName:theGravityDistanceC)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:theGravityDistance))(SimpleName:computeDistance))))(VariableDeclarationStatement(PrimitiveType:double)(VariableDeclarationFragment(SimpleName:theGravityForce)(InfixExpression(InfixExpression(SimpleName:GRAVITY_CONSTANT)(INFIX_EXPRESSION_OPERATOR:*)(SimpleName:theTotalMass)(QualifiedName:theElementSize.width)(QualifiedName:theElementSize.height))(INFIX_EXPRESSION_OPERATOR:/)(ParenthesizedExpression(InfixExpression(SimpleName:theGravityDistanceC)(INFIX_EXPRESSION_OPERATOR:*)(SimpleName:theGravityDistanceC))))))(VariableDeclarationStatement(PrimitiveType:double)(VariableDeclarationFragment(SimpleName:theGravityAngle)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:theGravityDistance))(SimpleName:computeAngle))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:theCurrentForce))(SimpleName:addForce)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Math))(SimpleName:cos)(METHOD_INVOCATION_ARGUMENTS(SimpleName:theGravityAngle)))(INFIX_EXPRESSION_OPERATOR:*)(SimpleName:theGravityForce))(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Math))(SimpleName:sin)(METHOD_INVOCATION_ARGUMENTS(SimpleName:theGravityAngle)))(INFIX_EXPRESSION_OPERATOR:*)(SimpleName:theGravityForce)))))(VariableDeclarationStatement(PrimitiveType:double)(VariableDeclarationFragment(SimpleName:theLoad)(MethodInvocation(SimpleName:computeElectricLoad)(METHOD_INVOCATION_ARGUMENTS(SimpleName:theElement)))))(EnhancedForStatement(SingleVariableDeclaration(SimpleType(SimpleName:T))(SimpleName:theOtherElement))(SimpleName:theElements)(Block(IfStatement(InfixExpression(SimpleName:theOtherElement)(INFIX_EXPRESSION_OPERATOR:!=)(SimpleName:theElement))(Block(VariableDeclarationStatement(SimpleType(SimpleName:Distance))(VariableDeclarationFragment(SimpleName:theDistance)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:theElement))(SimpleName:computeDistanceTo)(METHOD_INVOCATION_ARGUMENTS(SimpleName:theOtherElement)))))(VariableDeclarationStatement(PrimitiveType:double)(VariableDeclarationFragment(SimpleName:theRealDistance)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:theDistance))(SimpleName:computeDistance))))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:theElement))(SimpleName:overlaps)(METHOD_INVOCATION_ARGUMENTS(SimpleName:theOtherElement)))(Block(VariableDeclarationStatement(PrimitiveType:double)(VariableDeclarationFragment(SimpleName:theForce)(InfixExpression(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:-)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:theElement))(SimpleName:computeRadius)))(INFIX_EXPRESSION_OPERATOR:/)(NumberLiteral:2))))(VariableDeclarationStatement(PrimitiveType:double)(VariableDeclarationFragment(SimpleName:theAngle)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Math))(SimpleName:toRadians)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Math))(SimpleName:random))(INFIX_EXPRESSION_OPERATOR:*)(NumberLiteral:360))))))(IfStatement(InfixExpression(SimpleName:theRealDistance)(INFIX_EXPRESSION_OPERATOR:>=)(NumberLiteral:1))(Block(ExpressionStatement(Assignment(SimpleName:theAngle)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:theDistance))(SimpleName:computeAngle))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:theCurrentForce))(SimpleName:addForce)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Math))(SimpleName:cos)(METHOD_INVOCATION_ARGUMENTS(SimpleName:theAngle)))(INFIX_EXPRESSION_OPERATOR:*)(SimpleName:theForce))(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Math))(SimpleName:sin)(METHOD_INVOCATION_ARGUMENTS(SimpleName:theAngle)))(INFIX_EXPRESSION_OPERATOR:*)(SimpleName:theForce))))))(Block(VariableDeclarationStatement(PrimitiveType:double)(VariableDeclarationFragment(SimpleName:theOtherLoad)(MethodInvocation(SimpleName:computeElectricLoad)(METHOD_INVOCATION_ARGUMENTS(SimpleName:theOtherElement)))))(VariableDeclarationStatement(PrimitiveType:double)(VariableDeclarationFragment(SimpleName:theForce)(MethodInvocation(SimpleName:computeRepulsion)(METHOD_INVOCATION_ARGUMENTS(SimpleName:theLoad)(SimpleName:theRealDistance)(SimpleName:theOtherLoad)))))(ExpressionStatement(Assignment(SimpleName:theForce)(ASSIGNMENT_OPERATOR:=)(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:-)(SimpleName:theForce))))(VariableDeclarationStatement(PrimitiveType:double)(VariableDeclarationFragment(SimpleName:theAngle)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:theDistance))(SimpleName:computeAngle))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:theCurrentForce))(SimpleName:addForce)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Math))(SimpleName:cos)(METHOD_INVOCATION_ARGUMENTS(SimpleName:theAngle)))(INFIX_EXPRESSION_OPERATOR:*)(SimpleName:theForce))(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Math))(SimpleName:sin)(METHOD_INVOCATION_ARGUMENTS(SimpleName:theAngle)))(INFIX_EXPRESSION_OPERATOR:*)(SimpleName:theForce)))))))))))(EnhancedForStatement(SingleVariableDeclaration(ParameterizedType(SimpleType(SimpleName:Spring))(SimpleType(SimpleName:U))(SimpleType(SimpleName:T)))(SimpleName:theSpring))(SimpleName:theSprings)(Block(VariableDeclarationStatement(SimpleType(SimpleName:T))(VariableDeclarationFragment(SimpleName:theOtherElement)(NullLiteral)))(IfStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:theSpring))(SimpleName:getFrom))(INFIX_EXPRESSION_OPERATOR:==)(SimpleName:theElement))(Block(ExpressionStatement(Assignment(SimpleName:theOtherElement)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:theSpring))(SimpleName:getTo))))))(IfStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:theSpring))(SimpleName:getTo))(INFIX_EXPRESSION_OPERATOR:==)(SimpleName:theElement))(Block(ExpressionStatement(Assignment(SimpleName:theOtherElement)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:theSpring))(SimpleName:getFrom))))))(IfStatement(InfixExpression(SimpleName:theOtherElement)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(VariableDeclarationStatement(PrimitiveType:double)(VariableDeclarationFragment(SimpleName:theOtherLoad)(MethodInvocation(SimpleName:computeElectricLoad)(METHOD_INVOCATION_ARGUMENTS(SimpleName:theOtherElement)))))(VariableDeclarationStatement(SimpleType(SimpleName:Distance))(VariableDeclarationFragment(SimpleName:theDistance)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:theElement))(SimpleName:computeDistanceTo)(METHOD_INVOCATION_ARGUMENTS(SimpleName:theOtherElement)))))(VariableDeclarationStatement(PrimitiveType:double)(VariableDeclarationFragment(SimpleName:theRealDistance)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:theDistance))(SimpleName:computeDistance))))(VariableDeclarationStatement(PrimitiveType:double)(VariableDeclarationFragment(SimpleName:theForce)(InfixExpression(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:-)(SimpleName:SPRING_FORCE_FACTOR))(INFIX_EXPRESSION_OPERATOR:*)(SimpleName:theRealDistance)(NumberLiteral:0.5))))(ExpressionStatement(Assignment(SimpleName:theForce)(ASSIGNMENT_OPERATOR:=)(InfixExpression(SimpleName:theForce)(INFIX_EXPRESSION_OPERATOR:/)(SimpleName:FORCE_DIVISOR))))(VariableDeclarationStatement(PrimitiveType:double)(VariableDeclarationFragment(SimpleName:theAngle)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:theDistance))(SimpleName:computeAngle))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:theCurrentForce))(SimpleName:addForce)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Math))(SimpleName:cos)(METHOD_INVOCATION_ARGUMENTS(SimpleName:theAngle)))(INFIX_EXPRESSION_OPERATOR:*)(SimpleName:theForce))(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Math))(SimpleName:sin)(METHOD_INVOCATION_ARGUMENTS(SimpleName:theAngle)))(INFIX_EXPRESSION_OPERATOR:*)(SimpleName:theForce)))))))))))(EnhancedForStatement(SingleVariableDeclaration(ParameterizedType(SimpleType(QualifiedName:Map.Entry))(SimpleType(SimpleName:T))(SimpleType(SimpleName:Force)))(SimpleName:theEntry))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:theForces))(SimpleName:entrySet))(Block(VariableDeclarationStatement(SimpleType(SimpleName:Point))(VariableDeclarationFragment(SimpleName:theOld)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:theEntry))(SimpleName:getKey)))(SimpleName:getLocation))))(VariableDeclarationStatement(SimpleType(SimpleName:Force))(VariableDeclarationFragment(SimpleName:theForce)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:theEntry))(SimpleName:getValue))))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:mx)(CastExpression(PrimitiveType:int)(QualifiedName:theForce.fx))))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:my)(CastExpression(PrimitiveType:int)(QualifiedName:theForce.fy))))(IfStatement(InfixExpression(ParenthesizedExpression(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Math))(SimpleName:abs)(METHOD_INVOCATION_ARGUMENTS(SimpleName:mx)))(INFIX_EXPRESSION_OPERATOR:>=)(NumberLiteral:1)))(INFIX_EXPRESSION_OPERATOR:||)(ParenthesizedExpression(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Math))(SimpleName:abs)(METHOD_INVOCATION_ARGUMENTS(SimpleName:my)))(INFIX_EXPRESSION_OPERATOR:>=)(NumberLiteral:1))))(Block(ExpressionStatement(Assignment(QualifiedName:theOld.x)(ASSIGNMENT_OPERATOR:+=)(SimpleName:mx)))(ExpressionStatement(Assignment(QualifiedName:theOld.y)(ASSIGNMENT_OPERATOR:+=)(SimpleName:my)))(ExpressionStatement(MethodInvocation(SimpleName:evolvePosition)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:theEntry))(SimpleName:getKey))(SimpleName:mx)(SimpleName:my))))))))(ReturnStatement(SimpleName:theForces))))))