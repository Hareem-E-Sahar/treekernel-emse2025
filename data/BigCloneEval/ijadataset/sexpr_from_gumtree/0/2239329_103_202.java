(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:public)(SimpleType(SimpleName:SukuData))(SimpleName:exportGedcom)(SingleVariableDeclaration(SimpleType(SimpleName:String))(SimpleName:db))(SingleVariableDeclaration(SimpleType(SimpleName:String))(SimpleName:path))(SingleVariableDeclaration(SimpleType(SimpleName:String))(SimpleName:langCode))(SingleVariableDeclaration(PrimitiveType:int)(SimpleName:viewId))(SingleVariableDeclaration(PrimitiveType:int)(SimpleName:surety))(SingleVariableDeclaration(PrimitiveType:int)(SimpleName:charsetId))(SingleVariableDeclaration(PrimitiveType:boolean)(SimpleName:includeImages))(Block(ExpressionStatement(Assignment(FieldAccess(ThisExpression)(SimpleName:viewId))(ASSIGNMENT_OPERATOR:=)(SimpleName:viewId)))(ExpressionStatement(Assignment(FieldAccess(ThisExpression)(SimpleName:surety))(ASSIGNMENT_OPERATOR:=)(SimpleName:surety)))(SwitchStatement(SimpleName:charsetId)(SwitchCase(NumberLiteral:1))(ExpressionStatement(Assignment(SimpleName:thisSet)(ASSIGNMENT_OPERATOR:=)(QualifiedName:GedSet.Set_Ascii)))(BreakStatement)(SwitchCase(NumberLiteral:2))(ExpressionStatement(Assignment(SimpleName:thisSet)(ASSIGNMENT_OPERATOR:=)(QualifiedName:GedSet.Set_Ansel)))(BreakStatement)(SwitchCase(NumberLiteral:3))(ExpressionStatement(Assignment(SimpleName:thisSet)(ASSIGNMENT_OPERATOR:=)(QualifiedName:GedSet.Set_Utf8)))(BreakStatement)(SwitchCase(NumberLiteral:4))(ExpressionStatement(Assignment(SimpleName:thisSet)(ASSIGNMENT_OPERATOR:=)(QualifiedName:GedSet.Set_Utf16)))(BreakStatement)(SwitchCase)(ExpressionStatement(Assignment(SimpleName:thisSet)(ASSIGNMENT_OPERATOR:=)(QualifiedName:GedSet.Set_None))))(ExpressionStatement(Assignment(FieldAccess(ThisExpression)(SimpleName:includeImages))(ASSIGNMENT_OPERATOR:=)(SimpleName:includeImages)))(ExpressionStatement(Assignment(SimpleName:dbName)(ASSIGNMENT_OPERATOR:=)(SimpleName:db)))(ExpressionStatement(Assignment(SimpleName:units)(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(ParameterizedType(SimpleType(SimpleName:LinkedHashMap))(SimpleType(SimpleName:Integer))(SimpleType(SimpleName:MinimumIndividual))))))(ExpressionStatement(Assignment(SimpleName:images)(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(ParameterizedType(SimpleType(SimpleName:Vector))(SimpleType(SimpleName:MinimumImage))))))(ExpressionStatement(Assignment(SimpleName:families)(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(ParameterizedType(SimpleType(SimpleName:LinkedHashMap))(SimpleType(SimpleName:String))(SimpleType(SimpleName:MinimumFamily))))))(ExpressionStatement(Assignment(SimpleName:famById)(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(ParameterizedType(SimpleType(SimpleName:HashMap))(SimpleType(SimpleName:Integer))(SimpleType(SimpleName:MinimumFamily))))))(VariableDeclarationStatement(SimpleType(SimpleName:SukuData))(VariableDeclarationFragment(SimpleName:result)(ClassInstanceCreation(SimpleType(SimpleName:SukuData)))))(IfStatement(InfixExpression(InfixExpression(SimpleName:path)(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(INFIX_EXPRESSION_OPERATOR:||)(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:path))(SimpleName:lastIndexOf)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))(INFIX_EXPRESSION_OPERATOR:<)(NumberLiteral:1)))(Block(ExpressionStatement(Assignment(QualifiedName:result.resu)(ASSIGNMENT_OPERATOR:=)(StringLiteral:<STR>)))(ReturnStatement(SimpleName:result))))(TryStatement(Block(ExpressionStatement(MethodInvocation(SimpleName:collectIndividuals)))(ExpressionStatement(MethodInvocation(SimpleName:collectFamilies)))(ExpressionStatement(Assignment(SimpleName:childRids)(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(ParameterizedType(SimpleType(SimpleName:HashMap))(SimpleType(SimpleName:Integer))(SimpleType(SimpleName:Integer))))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:sql)(StringLiteral:<STR>)))(VariableDeclarationStatement(SimpleType(SimpleName:Statement))(VariableDeclarationFragment(SimpleName:stm)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:con))(SimpleName:createStatement))))(VariableDeclarationStatement(SimpleType(SimpleName:ResultSet))(VariableDeclarationFragment(SimpleName:rs)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:stm))(SimpleName:executeQuery)(METHOD_INVOCATION_ARGUMENTS(SimpleName:sql)))))(WhileStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:rs))(SimpleName:next))(Block(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:rid)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:rs))(SimpleName:getInt)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:1)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:childRids))(SimpleName:put)(METHOD_INVOCATION_ARGUMENTS(SimpleName:rid)(SimpleName:rid))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:rs))(SimpleName:close)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:stm))(SimpleName:close)))(ExpressionStatement(Assignment(SimpleName:zipPath)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:path))(SimpleName:substring)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:0)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:path))(SimpleName:lastIndexOf)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))))))(VariableDeclarationStatement(SimpleType(SimpleName:ByteArrayOutputStream))(VariableDeclarationFragment(SimpleName:bos)(ClassInstanceCreation(SimpleType(SimpleName:ByteArrayOutputStream)))))(VariableDeclarationStatement(SimpleType(SimpleName:ZipOutputStream))(VariableDeclarationFragment(SimpleName:zip)(ClassInstanceCreation(SimpleType(SimpleName:ZipOutputStream))(SimpleName:bos))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:fileName)(InfixExpression(SimpleName:zipPath)(INFIX_EXPRESSION_OPERATOR:+)(StringLiteral:<STR>)(SimpleName:dbName)(StringLiteral:<STR>))))(VariableDeclarationStatement(SimpleType(SimpleName:ZipEntry))(VariableDeclarationFragment(SimpleName:entry)(ClassInstanceCreation(SimpleType(SimpleName:ZipEntry))(SimpleName:fileName))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:zip))(SimpleName:putNextEntry)(METHOD_INVOCATION_ARGUMENTS(SimpleName:entry))))(ExpressionStatement(MethodInvocation(SimpleName:writeBom)(METHOD_INVOCATION_ARGUMENTS(SimpleName:zip))))(ExpressionStatement(MethodInvocation(SimpleName:writeHead)(METHOD_INVOCATION_ARGUMENTS(SimpleName:zip))))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:allCount)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:units))(SimpleName:size))))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:curreCount)(NumberLiteral:0)))(VariableDeclarationStatement(ParameterizedType(SimpleType(SimpleName:Set))(ParameterizedType(SimpleType(QualifiedName:Map.Entry))(SimpleType(SimpleName:Integer))(SimpleType(SimpleName:MinimumIndividual))))(VariableDeclarationFragment(SimpleName:unitss)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:units))(SimpleName:entrySet))))(VariableDeclarationStatement(ParameterizedType(SimpleType(SimpleName:Iterator))(ParameterizedType(SimpleType(QualifiedName:Map.Entry))(SimpleType(SimpleName:Integer))(SimpleType(SimpleName:MinimumIndividual))))(VariableDeclarationFragment(SimpleName:eex)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:unitss))(SimpleName:iterator))))(WhileStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:eex))(SimpleName:hasNext))(Block(VariableDeclarationStatement(ParameterizedType(SimpleType(QualifiedName:Map.Entry))(SimpleType(SimpleName:Integer))(SimpleType(SimpleName:MinimumIndividual)))(VariableDeclarationFragment(SimpleName:unitx)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:eex))(SimpleName:next))))(VariableDeclarationStatement(SimpleType(SimpleName:MinimumIndividual))(VariableDeclarationFragment(SimpleName:pit)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:unitx))(SimpleName:getValue))))(ExpressionStatement(PostfixExpression(SimpleName:curreCount)(POSTFIX_EXPRESSION_OPERATOR:++)))(VariableDeclarationStatement(SimpleType(SimpleName:PersonUtil))(VariableDeclarationFragment(SimpleName:u)(ClassInstanceCreation(SimpleType(SimpleName:PersonUtil))(SimpleName:con))))(VariableDeclarationStatement(SimpleType(SimpleName:SukuData))(VariableDeclarationFragment(SimpleName:fam)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:u))(SimpleName:getFullPerson)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:pit.pid)(SimpleName:langCode)))))(VariableDeclarationStatement(SimpleType(SimpleName:PersonShortData))(VariableDeclarationFragment(SimpleName:shortie)(ClassInstanceCreation(SimpleType(SimpleName:PersonShortData))(QualifiedName:fam.persLong))))(ExpressionStatement(MethodInvocation(SimpleName:writeIndi)(METHOD_INVOCATION_ARGUMENTS(SimpleName:zip)(QualifiedName:fam.persLong))))(VariableDeclarationStatement(PrimitiveType:double)(VariableDeclarationFragment(SimpleName:prose)(InfixExpression(ParenthesizedExpression(InfixExpression(SimpleName:curreCount)(INFIX_EXPRESSION_OPERATOR:*)(NumberLiteral:100)))(INFIX_EXPRESSION_OPERATOR:/)(SimpleName:allCount))))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:intprose)(CastExpression(PrimitiveType:int)(SimpleName:prose))))(VariableDeclarationStatement(SimpleType(SimpleName:StringBuilder))(VariableDeclarationFragment(SimpleName:sbb)(ClassInstanceCreation(SimpleType(SimpleName:StringBuilder)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:sbb))(SimpleName:append)(METHOD_INVOCATION_ARGUMENTS(SimpleName:intprose))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:sbb))(SimpleName:append)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:sbb))(SimpleName:append)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:shortie))(SimpleName:getAlfaName)))))(ExpressionStatement(MethodInvocation(SimpleName:setRunnerValue)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:sbb))(SimpleName:toString)))))))(VariableDeclarationStatement(ParameterizedType(SimpleType(SimpleName:Set))(ParameterizedType(SimpleType(QualifiedName:Map.Entry))(SimpleType(SimpleName:String))(SimpleType(SimpleName:MinimumFamily))))(VariableDeclarationFragment(SimpleName:fss)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:families))(SimpleName:entrySet))))(VariableDeclarationStatement(ParameterizedType(SimpleType(SimpleName:Iterator))(ParameterizedType(SimpleType(QualifiedName:Map.Entry))(SimpleType(SimpleName:String))(SimpleType(SimpleName:MinimumFamily))))(VariableDeclarationFragment(SimpleName:ffx)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fss))(SimpleName:iterator))))(WhileStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ffx))(SimpleName:hasNext))(Block(VariableDeclarationStatement(ParameterizedType(SimpleType(QualifiedName:Map.Entry))(SimpleType(SimpleName:String))(SimpleType(SimpleName:MinimumFamily)))(VariableDeclarationFragment(SimpleName:fx)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ffx))(SimpleName:next))))(VariableDeclarationStatement(SimpleType(SimpleName:MinimumFamily))(VariableDeclarationFragment(SimpleName:fix)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fx))(SimpleName:getValue))))(ExpressionStatement(MethodInvocation(SimpleName:writeFam)(METHOD_INVOCATION_ARGUMENTS(SimpleName:zip)(SimpleName:fix)(SimpleName:langCode))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:zip))(SimpleName:write)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(SimpleName:gedBytes)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:zip))(SimpleName:closeEntry)))(ForStatement(VariableDeclarationExpression(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:i)(NumberLiteral:0)))(InfixExpression(SimpleName:i)(INFIX_EXPRESSION_OPERATOR:<)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:images))(SimpleName:size)))(PostfixExpression(SimpleName:i)(POSTFIX_EXPRESSION_OPERATOR:++))(Block(ExpressionStatement(Assignment(SimpleName:entry)(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(SimpleType(SimpleName:ZipEntry))(InfixExpression(SimpleName:zipPath)(INFIX_EXPRESSION_OPERATOR:+)(StringLiteral:<STR>)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:images))(SimpleName:get)(METHOD_INVOCATION_ARGUMENTS(SimpleName:i))))(SimpleName:getPath))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:zip))(SimpleName:putNextEntry)(METHOD_INVOCATION_ARGUMENTS(SimpleName:entry))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:zip))(SimpleName:write)(METHOD_INVOCATION_ARGUMENTS(FieldAccess(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:images))(SimpleName:get)(METHOD_INVOCATION_ARGUMENTS(SimpleName:i)))(SimpleName:imageData)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:zip))(SimpleName:closeEntry)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:zip))(SimpleName:close)))(ExpressionStatement(Assignment(QualifiedName:result.buffer)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:bos))(SimpleName:toByteArray)))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:IOException))(SimpleName:e))(Block(ExpressionStatement(Assignment(QualifiedName:result.resu)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:e))(SimpleName:getMessage))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:logger))(SimpleName:log)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:Level.WARNING)(StringLiteral:<STR>)(SimpleName:e))))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:SQLException))(SimpleName:e))(Block(ExpressionStatement(Assignment(QualifiedName:result.resu)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:e))(SimpleName:getMessage))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:logger))(SimpleName:log)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:Level.WARNING)(StringLiteral:<STR>)(SimpleName:e))))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:SukuException))(SimpleName:e))(Block(ExpressionStatement(Assignment(QualifiedName:result.resu)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:e))(SimpleName:getMessage))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:logger))(SimpleName:log)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:Level.WARNING)(StringLiteral:<STR>)(SimpleName:e)))))))(ReturnStatement(SimpleName:result))))))