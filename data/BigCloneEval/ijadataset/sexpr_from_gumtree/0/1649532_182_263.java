(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:public)(SimpleType(SimpleName:MapInfo))(SimpleName:getMap)(SingleVariableDeclaration(PrimitiveType:double)(SimpleName:latitude))(SingleVariableDeclaration(PrimitiveType:double)(SimpleName:longitude))(SingleVariableDeclaration(PrimitiveType:double)(SimpleName:wanted_mapblast_scale))(SingleVariableDeclaration(PrimitiveType:int)(SimpleName:image_width))(SingleVariableDeclaration(PrimitiveType:int)(SimpleName:image_height))(SingleVariableDeclaration(SimpleType(SimpleName:String))(SimpleName:file_path_wo_extension))(SingleVariableDeclaration(SimpleType(SimpleName:ProgressListener))(SimpleName:progress_listener))(SimpleType(SimpleName:IOException))(Block(TryStatement(Block(IfStatement(InfixExpression(SimpleName:web_request_)(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(Block(ExpressionStatement(Assignment(SimpleName:web_request_)(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(SimpleType(SimpleName:HttpRequester))(SimpleName:HOST_NAME))))))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:zoom_index)(MethodInvocation(SimpleName:getZoomLevelIndex)(METHOD_INVOCATION_ARGUMENTS(SimpleName:wanted_mapblast_scale)))))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:google_zoom_level)(ArrayAccess(SimpleName:GOOGLE_ZOOM_LEVELS)(SimpleName:zoom_index))))(VariableDeclarationStatement(PrimitiveType:double)(VariableDeclarationFragment(SimpleName:mapblast_scale)(ArrayAccess(SimpleName:POSSIBLE_GOOGLE_SCALES)(SimpleName:zoom_index))))(VariableDeclarationStatement(SimpleType(SimpleName:Tile))(VariableDeclarationFragment(SimpleName:tile)(ClassInstanceCreation(SimpleType(SimpleName:Tile))(SimpleName:latitude)(SimpleName:longitude)(SimpleName:google_zoom_level))))(VariableDeclarationStatement(SimpleType(SimpleName:SimplePoint))(VariableDeclarationFragment(SimpleName:coords)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:tile))(SimpleName:getTileLatLong))))(VariableDeclarationStatement(SimpleType(SimpleName:SimplePoint))(VariableDeclarationFragment(SimpleName:google_xy)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:tile))(SimpleName:getTileCoord))))(VariableDeclarationStatement(SimpleType(SimpleName:MapInfo))(VariableDeclarationFragment(SimpleName:map_info)(ClassInstanceCreation(SimpleType(SimpleName:MapInfo)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:map_info))(SimpleName:setLatitude)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:coords))(SimpleName:getX)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:map_info))(SimpleName:setLongitude)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:coords))(SimpleName:getY)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:map_info))(SimpleName:setScale)(METHOD_INVOCATION_ARGUMENTS(CastExpression(PrimitiveType:float)(SimpleName:mapblast_scale)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:map_info))(SimpleName:setWidth)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:256))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:map_info))(SimpleName:setHeight)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:256))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:map_info))(SimpleName:setFilename)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(SimpleName:file_path_wo_extension)(INFIX_EXPRESSION_OPERATOR:+)(StringLiteral:<STR>)))))(VariableDeclarationStatement(ArrayType(SimpleType(SimpleName:Object))(Dimension))(VariableDeclarationFragment(SimpleName:params)(ArrayCreation(ArrayType(SimpleType(SimpleName:Object))(Dimension))(ArrayInitializer(ClassInstanceCreation(SimpleType(SimpleName:Integer))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:google_xy))(SimpleName:getX)))(ClassInstanceCreation(SimpleType(SimpleName:Integer))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:google_xy))(SimpleName:getY)))(ClassInstanceCreation(SimpleType(SimpleName:Integer))(SimpleName:google_zoom_level))))))(VariableDeclarationStatement(SimpleType(SimpleName:MessageFormat))(VariableDeclarationFragment(SimpleName:message_format)(ClassInstanceCreation(SimpleType(SimpleName:MessageFormat))(SimpleName:GOOGLE_MAPS_URL)(QualifiedName:Locale.US))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:url_string)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:message_format))(SimpleName:format)(METHOD_INVOCATION_ARGUMENTS(SimpleName:params)))))(VariableDeclarationStatement(SimpleType(SimpleName:URL))(VariableDeclarationFragment(SimpleName:url)(ClassInstanceCreation(SimpleType(SimpleName:URL))(SimpleName:url_string))))(IfStatement(QualifiedName:Debug.DEBUG)(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Debug))(SimpleName:println)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:url))))))(VariableDeclarationStatement(SimpleType(SimpleName:URLConnection))(VariableDeclarationFragment(SimpleName:connection)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:url))(SimpleName:openConnection))))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:resources_))(SimpleName:getBoolean)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:GpsylonKeyConstants.KEY_HTTP_PROXY_AUTHENTICATION_USE)))(Block(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:proxy_userid)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:resources_))(SimpleName:getString)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:GpsylonKeyConstants.KEY_HTTP_PROXY_AUTHENTICATION_USERNAME)))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:proxy_password)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:resources_))(SimpleName:getString)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:GpsylonKeyConstants.KEY_HTTP_PROXY_AUTHENTICATION_PASSWORD)))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:auth_string)(InfixExpression(SimpleName:proxy_userid)(INFIX_EXPRESSION_OPERATOR:+)(StringLiteral:<STR>)(SimpleName:proxy_password))))(ExpressionStatement(Assignment(SimpleName:auth_string)(ASSIGNMENT_OPERATOR:=)(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(MethodInvocation(METHOD_INVOCATION_RECEIVER(ClassInstanceCreation(SimpleType(QualifiedName:sun.misc.BASE64Encoder))))(SimpleName:encode)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:auth_string))(SimpleName:getBytes)))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:connection))(SimpleName:setRequestProperty)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(SimpleName:auth_string))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:connection))(SimpleName:connect)))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:mime_type)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:connection))(SimpleName:getContentType)))(SimpleName:toLowerCase))))(IfStatement(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:mime_type))(SimpleName:startsWith)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))(Block(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:mime_type))(SimpleName:startsWith)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))(Block(VariableDeclarationStatement(SimpleType(SimpleName:HTMLViewerFrame))(VariableDeclarationFragment(SimpleName:viewer)(ClassInstanceCreation(SimpleType(SimpleName:HTMLViewerFrame))(SimpleName:url))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:viewer))(SimpleName:setSize)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:640)(NumberLiteral:480))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:viewer))(SimpleName:setTitle)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:url)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:viewer))(SimpleName:setVisible)(METHOD_INVOCATION_ARGUMENTS(BooleanLiteral:true))))(ThrowStatement(ClassInstanceCreation(SimpleType(SimpleName:IOException))(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:mime_type)(StringLiteral:<STR>))))))(ThrowStatement(ClassInstanceCreation(SimpleType(SimpleName:IOException))(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:mime_type))))))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:content_length)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:connection))(SimpleName:getContentLength))))(IfStatement(InfixExpression(SimpleName:content_length)(INFIX_EXPRESSION_OPERATOR:<)(NumberLiteral:0))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:progress_listener))(SimpleName:actionStart)(METHOD_INVOCATION_ARGUMENTS(SimpleName:PROGRESS_LISTENER_ID)(NumberLiteral:0)(QualifiedName:Integer.MIN_VALUE))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:progress_listener))(SimpleName:actionStart)(METHOD_INVOCATION_ARGUMENTS(SimpleName:PROGRESS_LISTENER_ID)(NumberLiteral:0)(SimpleName:content_length)))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:extension)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:mime_type))(SimpleName:substring)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:mime_type))(SimpleName:indexOf)(METHOD_INVOCATION_ARGUMENTS(CharacterLiteral:<STR>)))(INFIX_EXPRESSION_OPERATOR:+)(NumberLiteral:1))))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:filename)(InfixExpression(SimpleName:file_path_wo_extension)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:extension))))(VariableDeclarationStatement(SimpleType(SimpleName:FileOutputStream))(VariableDeclarationFragment(SimpleName:out)(ClassInstanceCreation(SimpleType(SimpleName:FileOutputStream))(SimpleName:filename))))(VariableDeclarationStatement(ArrayType(PrimitiveType:byte)(Dimension))(VariableDeclarationFragment(SimpleName:buffer)(ArrayCreation(ArrayType(PrimitiveType:byte)(Dimension(SimpleName:BUFFER_SIZE))))))(VariableDeclarationStatement(SimpleType(SimpleName:BufferedInputStream))(VariableDeclarationFragment(SimpleName:in)(ClassInstanceCreation(SimpleType(SimpleName:BufferedInputStream))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:connection))(SimpleName:getInputStream))(SimpleName:BUFFER_SIZE))))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:sum_bytes)(NumberLiteral:0)))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:num_bytes)(NumberLiteral:0)))(WhileStatement(InfixExpression(ParenthesizedExpression(Assignment(SimpleName:num_bytes)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:in))(SimpleName:read)(METHOD_INVOCATION_ARGUMENTS(SimpleName:buffer)))))(INFIX_EXPRESSION_OPERATOR:!=)(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:-)(NumberLiteral:1)))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:out))(SimpleName:write)(METHOD_INVOCATION_ARGUMENTS(SimpleName:buffer)(NumberLiteral:0)(SimpleName:num_bytes))))(ExpressionStatement(Assignment(SimpleName:sum_bytes)(ASSIGNMENT_OPERATOR:+=)(SimpleName:num_bytes)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:progress_listener))(SimpleName:actionProgress)(METHOD_INVOCATION_ARGUMENTS(SimpleName:PROGRESS_LISTENER_ID)(SimpleName:sum_bytes))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:progress_listener))(SimpleName:actionEnd)(METHOD_INVOCATION_ARGUMENTS(SimpleName:PROGRESS_LISTENER_ID))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:in))(SimpleName:close)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:out))(SimpleName:close)))(ReturnStatement(ParenthesizedExpression(SimpleName:map_info))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:NoRouteToHostException))(SimpleName:nrhe))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:nrhe))(SimpleName:printStackTrace)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:progress_listener))(SimpleName:actionEnd)(METHOD_INVOCATION_ARGUMENTS(SimpleName:PROGRESS_LISTENER_ID))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:message)(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:nrhe))(SimpleName:getMessage))(INFIX_EXPRESSION_OPERATOR:+)(StringLiteral:<STR>)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:resources_))(SimpleName:getString)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:DownloadMouseModeLayer.KEY_LOCALIZE_MESSAGE_DOWNLOAD_ERROR_NO_ROUTE_TO_HOST_MESSAGE))))))(ThrowStatement(ClassInstanceCreation(SimpleType(SimpleName:IOException))(SimpleName:message)))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:FileNotFoundException))(SimpleName:fnfe))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fnfe))(SimpleName:printStackTrace)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:progress_listener))(SimpleName:actionEnd)(METHOD_INVOCATION_ARGUMENTS(SimpleName:PROGRESS_LISTENER_ID))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:message)(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fnfe))(SimpleName:getMessage))(INFIX_EXPRESSION_OPERATOR:+)(StringLiteral:<STR>)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:resources_))(SimpleName:getString)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:DownloadMouseModeLayer.KEY_LOCALIZE_MESSAGE_DOWNLOAD_ERROR_FILE_NOT_FOUND_MESSAGE))))))(ThrowStatement(ClassInstanceCreation(SimpleType(SimpleName:IOException))(SimpleName:message)))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:Exception))(SimpleName:e))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:progress_listener))(SimpleName:actionEnd)(METHOD_INVOCATION_ARGUMENTS(SimpleName:PROGRESS_LISTENER_ID))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:e))(SimpleName:printStackTrace)))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:message)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:e))(SimpleName:getMessage))))(IfStatement(InfixExpression(SimpleName:message)(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(Block(VariableDeclarationStatement(SimpleType(SimpleName:Throwable))(VariableDeclarationFragment(SimpleName:cause)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:e))(SimpleName:getCause))))(IfStatement(InfixExpression(SimpleName:cause)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(ExpressionStatement(Assignment(SimpleName:message)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:cause))(SimpleName:getMessage)))))))(ThrowStatement(ClassInstanceCreation(SimpleType(SimpleName:IOException))(SimpleName:message))))))))))