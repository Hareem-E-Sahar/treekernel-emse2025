(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:public)(PrimitiveType:boolean)(SimpleName:removeDevice)(SingleVariableDeclaration(SimpleType(SimpleName:UPBDeviceI))(SimpleName:theDevice))(SingleVariableDeclaration(PrimitiveType:int)(SimpleName:theChannel))(Block(VariableDeclarationStatement(SimpleType(SimpleName:UPBLinkDevice))(VariableDeclarationFragment(SimpleName:linkedDevice)(NullLiteral)))(VariableDeclarationStatement(PrimitiveType:boolean)(VariableDeclarationFragment(SimpleName:deviceRemoved)(BooleanLiteral:false)))(ForStatement(VariableDeclarationExpression(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:deviceIndex)(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:linkedDevices))(SimpleName:size))(INFIX_EXPRESSION_OPERATOR:-)(NumberLiteral:1))))(InfixExpression(SimpleName:deviceIndex)(INFIX_EXPRESSION_OPERATOR:>=)(NumberLiteral:0))(PostfixExpression(SimpleName:deviceIndex)(POSTFIX_EXPRESSION_OPERATOR:--))(Block(IfStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(ParenthesizedExpression(Assignment(SimpleName:linkedDevice)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:linkedDevices))(SimpleName:get)(METHOD_INVOCATION_ARGUMENTS(SimpleName:deviceIndex))))))(SimpleName:getDevice))(INFIX_EXPRESSION_OPERATOR:!=)(SimpleName:theDevice))(ContinueStatement))(IfStatement(InfixExpression(ParenthesizedExpression(InfixExpression(SimpleName:theChannel)(INFIX_EXPRESSION_OPERATOR:!=)(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:-)(NumberLiteral:1))))(INFIX_EXPRESSION_OPERATOR:&&)(ParenthesizedExpression(InfixExpression(SimpleName:theChannel)(INFIX_EXPRESSION_OPERATOR:!=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:linkedDevice))(SimpleName:getChannel)))))(ContinueStatement))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:linkedDevices))(SimpleName:remove)(METHOD_INVOCATION_ARGUMENTS(SimpleName:deviceIndex))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:theDevice))(SimpleName:removeLinkDevice)(METHOD_INVOCATION_ARGUMENTS(SimpleName:linkedDevice))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:linkNetwork))(SimpleName:getUPBManager)))(SimpleName:fireLinkEvent)(METHOD_INVOCATION_ARGUMENTS(ThisExpression)(QualifiedName:UPBLinkEvent.EventCode.LINK_DEVICE_REMOVED)(SimpleName:linkedDevice))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:linkNetwork))(SimpleName:getUPBManager)))(SimpleName:fireDeviceEvent)(METHOD_INVOCATION_ARGUMENTS(SimpleName:theDevice)(QualifiedName:org.cdp1802.upb.UPBDeviceEvent.EventCode.LINK_REMOVED)(SimpleName:linkedDevice))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:linkedDevice))(SimpleName:releaseResources)))(ExpressionStatement(Assignment(SimpleName:deviceRemoved)(ASSIGNMENT_OPERATOR:=)(BooleanLiteral:true)))))(ReturnStatement(SimpleName:deviceRemoved))))))