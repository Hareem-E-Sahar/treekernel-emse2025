(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:private)(PrimitiveType:void)(SimpleName:download)(SimpleType(SimpleName:IOException))(SimpleType(SimpleName:ENTUnauthenticatedUserException))(Block(VariableDeclarationStatement(SimpleType(SimpleName:ENTDownloader))(VariableDeclarationFragment(SimpleName:entd)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ENTDownloader))(SimpleName:getInstance))))(VariableDeclarationStatement(PrimitiveType:boolean)(VariableDeclarationFragment(SimpleName:isThereDirectories)(MethodInvocation(SimpleName:isThereDirectories))))(VariableDeclarationStatement(PrimitiveType:boolean)(VariableDeclarationFragment(SimpleName:isMultiple)(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:downList))(SimpleName:size))(INFIX_EXPRESSION_OPERATOR:>)(NumberLiteral:1))))(VariableDeclarationStatement(PrimitiveType:boolean)(VariableDeclarationFragment(SimpleName:isDownloadAll)(ParenthesizedExpression(InfixExpression(SimpleName:isMultiple)(INFIX_EXPRESSION_OPERATOR:&&)(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:downList))(SimpleName:size))(INFIX_EXPRESSION_OPERATOR:==)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:entd))(SimpleName:getDirectoryContent)))(SimpleName:size)))))))(IfStatement(InfixExpression(InfixExpression(SimpleName:downList)(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(INFIX_EXPRESSION_OPERATOR:||)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:downList))(SimpleName:isEmpty)))(ReturnStatement))(IfStatement(InfixExpression(SimpleName:isMultiple)(INFIX_EXPRESSION_OPERATOR:||)(SimpleName:isThereDirectories))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fileChooser))(SimpleName:setFileSelectionMode)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:JFileChooser.DIRECTORIES_ONLY))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:downloadFrame))(SimpleName:setOpenWhenFinishedText)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fileChooser))(SimpleName:setFileSelectionMode)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:JFileChooser.FILES_ONLY))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:downloadFrame))(SimpleName:setOpenWhenFinishedText)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))(IfStatement(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(SimpleName:isThereDirectories))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fileChooser))(SimpleName:setSelectedFile)(METHOD_INVOCATION_ARGUMENTS(ClassInstanceCreation(SimpleType(SimpleName:File))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fileChooser))(SimpleName:getSelectedFile))(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:downList))(SimpleName:get)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:0))))(SimpleName:getName))))))))))(VariableDeclarationStatement(SimpleType(SimpleName:LookAndFeel))(VariableDeclarationFragment(SimpleName:lookfeel)(NullLiteral)))(IfStatement(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:System))(SimpleName:getProperty)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))(SimpleName:contains)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))(Block(ExpressionStatement(Assignment(SimpleName:lookfeel)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(QualifiedName:javax.swing.UIManager))(SimpleName:getLookAndFeel))))(TryStatement(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(QualifiedName:javax.swing.UIManager))(SimpleName:setLookAndFeel)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(QualifiedName:javax.swing.UIManager))(SimpleName:getSystemLookAndFeelClassName)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:SwingUtilities))(SimpleName:updateComponentTreeUI)(METHOD_INVOCATION_ARGUMENTS(SimpleName:fileChooser)))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:Exception))(SimpleName:e))(Block)))))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:saveResult)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fileChooser))(SimpleName:showSaveDialog)(METHOD_INVOCATION_ARGUMENTS(SimpleName:parent)))))(IfStatement(InfixExpression(SimpleName:lookfeel)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(TryStatement(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(QualifiedName:javax.swing.UIManager))(SimpleName:setLookAndFeel)(METHOD_INVOCATION_ARGUMENTS(SimpleName:lookfeel)))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:Exception))(SimpleName:e))(Block)))))(IfStatement(InfixExpression(SimpleName:saveResult)(INFIX_EXPRESSION_OPERATOR:!=)(QualifiedName:JFileChooser.APPROVE_OPTION))(ReturnStatement))(VariableDeclarationStatement(SimpleType(SimpleName:File))(VariableDeclarationFragment(SimpleName:saveas)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fileChooser))(SimpleName:getSelectedFile))))(IfStatement(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(SimpleName:isThereDirectories))(Block(VariableDeclarationStatement(PrimitiveType:long)(VariableDeclarationFragment(SimpleName:totalsize)(NumberLiteral:0)))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:nbFiles)(NumberLiteral:0)))(ForStatement(VariableDeclarationExpression(ParameterizedType(SimpleType(SimpleName:Iterator))(SimpleType(SimpleName:FS_Element)))(VariableDeclarationFragment(SimpleName:file)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:downList))(SimpleName:iterator))))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:file))(SimpleName:hasNext))(Block(ExpressionStatement(Assignment(SimpleName:totalsize)(ASSIGNMENT_OPERATOR:+=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(ParenthesizedExpression(CastExpression(SimpleType(SimpleName:FS_File))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:file))(SimpleName:next)))))(SimpleName:getSize))))(ExpressionStatement(PostfixExpression(SimpleName:nbFiles)(POSTFIX_EXPRESSION_OPERATOR:++)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:downloadFrame))(SimpleName:setTotalInfos)(METHOD_INVOCATION_ARGUMENTS(SimpleName:nbFiles)(SimpleName:totalsize)))))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:downloadFrame))(SimpleName:setTotalInfos)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:DownloadFrame.UNKNOWN)(QualifiedName:DownloadFrame.UNKNOWN))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:downloadFrame))(SimpleName:setTotalDownloaded)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:0)(NumberLiteral:0))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:downloadFrame))(SimpleName:setOpenWhenFinishedVisible)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Desktop))(SimpleName:isDesktopSupported))(INFIX_EXPRESSION_OPERATOR:&&)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Desktop))(SimpleName:getDesktop)))(SimpleName:isSupported)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:java.awt.Desktop.Action.BROWSE)))(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Desktop))(SimpleName:getDesktop)))(SimpleName:isSupported)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:java.awt.Desktop.Action.OPEN)))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:downloadFrame))(SimpleName:setVisible)(METHOD_INVOCATION_ARGUMENTS(BooleanLiteral:true))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Broadcaster))(SimpleName:addDownloadedBytesListener)(METHOD_INVOCATION_ARGUMENTS(ThisExpression))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Broadcaster))(SimpleName:addStartDownloadListener)(METHOD_INVOCATION_ARGUMENTS(ThisExpression))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Broadcaster))(SimpleName:addEndDownloadListener)(METHOD_INVOCATION_ARGUMENTS(ThisExpression))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Broadcaster))(SimpleName:addFileAlreadyExistsListener)(METHOD_INVOCATION_ARGUMENTS(ThisExpression))))(ExpressionStatement(Assignment(SimpleName:totalSizeDownloaded)(ASSIGNMENT_OPERATOR:=)(Assignment(SimpleName:nbFilesDownloaded)(ASSIGNMENT_OPERATOR:=)(NumberLiteral:0))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:savePath)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:saveas))(SimpleName:getPath))))(IfStatement(InfixExpression(SimpleName:isMultiple)(INFIX_EXPRESSION_OPERATOR:&&)(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:savePath))(SimpleName:substring)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:savePath))(SimpleName:length))(INFIX_EXPRESSION_OPERATOR:-)(NumberLiteral:1)))))(SimpleName:equals)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:System))(SimpleName:getProperty)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))))))(Block(ExpressionStatement(Assignment(SimpleName:savePath)(ASSIGNMENT_OPERATOR:+=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:System))(SimpleName:getProperty)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))))))(IfStatement(SimpleName:isDownloadAll)(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:entd))(SimpleName:getAllFiles)(METHOD_INVOCATION_ARGUMENTS(SimpleName:savePath)(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:-)(NumberLiteral:1))))))(Block(ForStatement(VariableDeclarationExpression(ParameterizedType(SimpleType(SimpleName:Iterator))(SimpleType(SimpleName:FS_Element)))(VariableDeclarationFragment(SimpleName:it)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:downList))(SimpleName:iterator))))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:it))(SimpleName:hasNext))(Block(VariableDeclarationStatement(SimpleType(SimpleName:FS_Element))(VariableDeclarationFragment(SimpleName:el)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:it))(SimpleName:next))))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:el))(SimpleName:isFile))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:entd))(SimpleName:getFile)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:el))(SimpleName:getName))(SimpleName:savePath)))))(Block(TryStatement(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:entd))(SimpleName:changeDirectory)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:el))(SimpleName:getName)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:entd))(SimpleName:getAllFiles)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(ClassInstanceCreation(SimpleType(SimpleName:File))(SimpleName:saveas)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:el))(SimpleName:getName))))(SimpleName:getPath))(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:-)(NumberLiteral:1)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:entd))(SimpleName:changeDirectory)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:ParseException))(SimpleName:e))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:e))(SimpleName:printStackTrace))))))))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:downloadFrame))(SimpleName:setVisible)(METHOD_INVOCATION_ARGUMENTS(BooleanLiteral:false))))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:downloadFrame))(SimpleName:openWhenFinished))(Block(TryStatement(Block(IfStatement(InfixExpression(SimpleName:isMultiple)(INFIX_EXPRESSION_OPERATOR:||)(SimpleName:isThereDirectories))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(QualifiedName:java.awt.Desktop))(SimpleName:getDesktop)))(SimpleName:browse)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:saveas))(SimpleName:toURI))))))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(QualifiedName:java.awt.Desktop))(SimpleName:getDesktop)))(SimpleName:open)(METHOD_INVOCATION_ARGUMENTS(SimpleName:saveas)))))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:Exception))(SimpleName:e))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(QualifiedName:System.err))(SimpleName:println)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:saveas))(SimpleName:getPath)))))))))))(ExpressionStatement(MethodInvocation(SimpleName:dispose)))))))