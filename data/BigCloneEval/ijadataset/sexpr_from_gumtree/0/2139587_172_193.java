(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:protected)(PrimitiveType:boolean)(SimpleName:tryWrite)(SimpleType(SimpleName:SinkClosedException))(Block(TryStatement(Block(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:tryLen)))(IfStatement(SimpleName:DEBUG)(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(QualifiedName:System.err))(SimpleName:println)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))))(IfStatement(InfixExpression(SimpleName:MAX_WRITE_LEN)(INFIX_EXPRESSION_OPERATOR:==)(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:-)(NumberLiteral:1)))(Block(ExpressionStatement(Assignment(SimpleName:tryLen)(ASSIGNMENT_OPERATOR:=)(InfixExpression(SimpleName:cur_length_target)(INFIX_EXPRESSION_OPERATOR:-)(SimpleName:cur_offset)))))(Block(ExpressionStatement(Assignment(SimpleName:tryLen)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Math))(SimpleName:min)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(SimpleName:cur_length_target)(INFIX_EXPRESSION_OPERATOR:-)(SimpleName:cur_offset))(SimpleName:MAX_WRITE_LEN)))))))(IfStatement(SimpleName:DEBUG)(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(QualifiedName:System.err))(SimpleName:println)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:tryLen)(StringLiteral:<STR>))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:byte_buffer))(SimpleName:limit)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:byte_buffer))(SimpleName:position))(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:tryLen)))))(ExpressionStatement(Assignment(SimpleName:cur_offset)(ASSIGNMENT_OPERATOR:+=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:nbsock))(SimpleName:getChannel)))(SimpleName:write)(METHOD_INVOCATION_ARGUMENTS(SimpleName:byte_buffer)))))(IfStatement(SimpleName:DEBUG)(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(QualifiedName:System.err))(SimpleName:println)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:tryLen)(StringLiteral:<STR>)(SimpleName:cur_length_target)(StringLiteral:<STR>)(SimpleName:cur_offset)))))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:IOException))(SimpleName:ioe))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(ThisExpression))(SimpleName:close)(METHOD_INVOCATION_ARGUMENTS(NullLiteral))))(ThrowStatement(ClassInstanceCreation(SimpleType(SimpleName:SinkClosedException))(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ioe))(SimpleName:getMessage))))))))(IfStatement(InfixExpression(SimpleName:cur_offset)(INFIX_EXPRESSION_OPERATOR:==)(SimpleName:cur_length_target))(Block(IfStatement(SimpleName:DEBUG)(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(QualifiedName:System.err))(SimpleName:println)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:cur_length_target)(StringLiteral:<STR>))))))(ReturnStatement(BooleanLiteral:true)))(ReturnStatement(BooleanLiteral:false)))))))