(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:public)(PrimitiveType:void)(SimpleName:testFilterCopyOnlyRelationsTo)(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:FilterManager))(SimpleName:instance)))(SimpleName:clearFilter)))(VariableDeclarationStatement(SimpleType(SimpleName:Session))(VariableDeclarationFragment(SimpleName:session)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:sf))(SimpleName:getCurrentSession))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:session))(SimpleName:beginTransaction)))(VariableDeclarationStatement(SimpleType(SimpleName:SQLQuery))(VariableDeclarationFragment(SimpleName:q)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:sf))(SimpleName:getCurrentSession)))(SimpleName:createSQLQuery)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:q))(SimpleName:executeUpdate)))(ExpressionStatement(Assignment(SimpleName:q)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:session))(SimpleName:createSQLQuery)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:q))(SimpleName:executeUpdate)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:session))(SimpleName:createSQLQuery)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))(SimpleName:executeUpdate)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:session))(SimpleName:createSQLQuery)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))(SimpleName:executeUpdate)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:session))(SimpleName:createSQLQuery)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))(SimpleName:executeUpdate)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:session))(SimpleName:createSQLQuery)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))(SimpleName:executeUpdate)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:session))(SimpleName:createSQLQuery)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))(SimpleName:executeUpdate)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:session))(SimpleName:createSQLQuery)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))(SimpleName:executeUpdate)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:session))(SimpleName:createSQLQuery)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))(SimpleName:executeUpdate)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:session))(SimpleName:getTransaction)))(SimpleName:commit)))(VariableDeclarationStatement(SimpleType(SimpleName:DTOSession))(VariableDeclarationFragment(SimpleName:dtoSession)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:DTOSessionFactory))(SimpleName:getSession)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:DTOSessionFactory))(SimpleName:createSession)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(SimpleName:dtoAccessService)))))))(VariableDeclarationStatement(SimpleType(SimpleName:AuthorDTO))(VariableDeclarationFragment(SimpleName:aAuthorDto)(CastExpression(SimpleType(SimpleName:AuthorDTO))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:dtoService))(SimpleName:doLoad)(METHOD_INVOCATION_ARGUMENTS(SimpleName:aid)(TypeLiteral(SimpleType(SimpleName:AuthorDTO)))(SimpleName:dtoSession))))))(ExpressionStatement(MethodInvocation(SimpleName:assertTrue)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:aAuthorDto))(SimpleName:getBooksReadOnly)))(SimpleName:size))(INFIX_EXPRESSION_OPERATOR:>)(NumberLiteral:0)))))(ExpressionStatement(MethodInvocation(SimpleName:assertTrue)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:aAuthorDto))(SimpleName:getCommentBooksReadOnly)))(SimpleName:size))(INFIX_EXPRESSION_OPERATOR:>)(NumberLiteral:0)))))(ExpressionStatement(MethodInvocation(SimpleName:assertNotNull)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:aAuthorDto))(SimpleName:getPerson)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:FilterManager))(SimpleName:instance)))(SimpleName:clearFilter)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:FilterManager))(SimpleName:instance)))(SimpleName:registerBLoMoFilter)(METHOD_INVOCATION_ARGUMENTS(TypeLiteral(SimpleType(SimpleName:AuthorDTO)))(TypeLiteral(SimpleType(SimpleName:BookDTO)))(StringLiteral:<STR>)(StringLiteral:<STR>)(NumberLiteral:1)(NullLiteral))))(ExpressionStatement(Assignment(SimpleName:dtoSession)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:DTOSessionFactory))(SimpleName:getSession)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:DTOSessionFactory))(SimpleName:createSession)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(SimpleName:dtoAccessService)))))))(ExpressionStatement(Assignment(SimpleName:aAuthorDto)(ASSIGNMENT_OPERATOR:=)(CastExpression(SimpleType(SimpleName:AuthorDTO))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:dtoService))(SimpleName:doLoad)(METHOD_INVOCATION_ARGUMENTS(SimpleName:aid)(TypeLiteral(SimpleType(SimpleName:AuthorDTO)))(SimpleName:dtoSession))))))(ExpressionStatement(MethodInvocation(SimpleName:assertTrue)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:aAuthorDto))(SimpleName:getBooksReadOnly)))(SimpleName:size))(INFIX_EXPRESSION_OPERATOR:==)(NumberLiteral:0)))))(ExpressionStatement(MethodInvocation(SimpleName:assertTrue)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:aAuthorDto))(SimpleName:getCommentBooksReadOnly)))(SimpleName:size))(INFIX_EXPRESSION_OPERATOR:>)(NumberLiteral:0)))))(ExpressionStatement(MethodInvocation(SimpleName:assertNotNull)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:aAuthorDto))(SimpleName:getPerson)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:dtoService))(SimpleName:doSave)(METHOD_INVOCATION_ARGUMENTS(SimpleName:aAuthorDto)(SimpleName:dtoSession))))(ExpressionStatement(Assignment(SimpleName:session)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:sf))(SimpleName:getCurrentSession))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:session))(SimpleName:beginTransaction)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:session))(SimpleName:createSQLQuery)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))(SimpleName:executeUpdate)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:session))(SimpleName:createSQLQuery)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))(SimpleName:executeUpdate)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:session))(SimpleName:createSQLQuery)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))(SimpleName:executeUpdate)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:session))(SimpleName:createSQLQuery)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))(SimpleName:executeUpdate)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:session))(SimpleName:createSQLQuery)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))(SimpleName:executeUpdate)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:session))(SimpleName:createSQLQuery)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))(SimpleName:executeUpdate)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:session))(SimpleName:createSQLQuery)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))(SimpleName:executeUpdate)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:session))(SimpleName:createSQLQuery)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))(SimpleName:executeUpdate)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:session))(SimpleName:getTransaction)))(SimpleName:commit)))(ExpressionStatement(Assignment(SimpleName:session)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:sf))(SimpleName:getCurrentSession))))(VariableDeclarationStatement(SimpleType(SimpleName:Transaction))(VariableDeclarationFragment(SimpleName:t)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:session))(SimpleName:beginTransaction))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:t))(SimpleName:begin)))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:fn)(NullLiteral))(VariableDeclarationFragment(SimpleName:ln)(NullLiteral))(VariableDeclarationFragment(SimpleName:title)(NullLiteral))(VariableDeclarationFragment(SimpleName:text)(NullLiteral)))(VariableDeclarationStatement(PrimitiveType:boolean)(VariableDeclarationFragment(SimpleName:hasPerson)(BooleanLiteral:false))(VariableDeclarationFragment(SimpleName:hasBook)(BooleanLiteral:false))(VariableDeclarationFragment(SimpleName:hasComment)(BooleanLiteral:false)))(TryStatement(Block(VariableDeclarationStatement(SimpleType(SimpleName:Author))(VariableDeclarationFragment(SimpleName:a)(CastExpression(SimpleType(SimpleName:Author))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:session))(SimpleName:load)(METHOD_INVOCATION_ARGUMENTS(TypeLiteral(SimpleType(SimpleName:Author)))(SimpleName:aid))))))(VariableDeclarationStatement(SimpleType(SimpleName:Person))(VariableDeclarationFragment(SimpleName:p)(CastExpression(SimpleType(SimpleName:Person))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:session))(SimpleName:load)(METHOD_INVOCATION_ARGUMENTS(TypeLiteral(SimpleType(SimpleName:Person)))(SimpleName:pid))))))(VariableDeclarationStatement(SimpleType(SimpleName:Book))(VariableDeclarationFragment(SimpleName:b)(CastExpression(SimpleType(SimpleName:Book))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:session))(SimpleName:load)(METHOD_INVOCATION_ARGUMENTS(TypeLiteral(SimpleType(SimpleName:Book)))(SimpleName:bid))))))(VariableDeclarationStatement(SimpleType(SimpleName:Comment))(VariableDeclarationFragment(SimpleName:c)(CastExpression(SimpleType(SimpleName:Comment))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:session))(SimpleName:load)(METHOD_INVOCATION_ARGUMENTS(TypeLiteral(SimpleType(SimpleName:Comment)))(SimpleName:cid))))))(ExpressionStatement(Assignment(SimpleName:fn)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:p))(SimpleName:getFirstName))))(ExpressionStatement(Assignment(SimpleName:ln)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:p))(SimpleName:getLastName))))(ExpressionStatement(Assignment(SimpleName:title)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:b))(SimpleName:getTitle))))(ExpressionStatement(Assignment(SimpleName:text)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:c))(SimpleName:getText))))(ExpressionStatement(Assignment(SimpleName:hasBook)(ASSIGNMENT_OPERATOR:=)(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:a))(SimpleName:getBooksReadOnly)))(SimpleName:size))(INFIX_EXPRESSION_OPERATOR:==)(NumberLiteral:1))))(ExpressionStatement(Assignment(SimpleName:hasPerson)(ASSIGNMENT_OPERATOR:=)(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:a))(SimpleName:getPerson))(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))))(ExpressionStatement(Assignment(SimpleName:hasComment)(ASSIGNMENT_OPERATOR:=)(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:a))(SimpleName:getCommentBooksReadOnly)))(SimpleName:size))(INFIX_EXPRESSION_OPERATOR:==)(NumberLiteral:1))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:t))(SimpleName:commit))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:HibernateException))(SimpleName:e))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:e))(SimpleName:printStackTrace)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:t))(SimpleName:rollback))))))(ExpressionStatement(MethodInvocation(SimpleName:assertTrue)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(StringLiteral:<STR>))(SimpleName:equals)(METHOD_INVOCATION_ARGUMENTS(SimpleName:fn))))))(ExpressionStatement(MethodInvocation(SimpleName:assertTrue)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(StringLiteral:<STR>))(SimpleName:equals)(METHOD_INVOCATION_ARGUMENTS(SimpleName:ln))))))(ExpressionStatement(MethodInvocation(SimpleName:assertTrue)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(StringLiteral:<STR>))(SimpleName:equals)(METHOD_INVOCATION_ARGUMENTS(SimpleName:title))))))(ExpressionStatement(MethodInvocation(SimpleName:assertTrue)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(StringLiteral:<STR>))(SimpleName:equals)(METHOD_INVOCATION_ARGUMENTS(SimpleName:text))))))(ExpressionStatement(MethodInvocation(SimpleName:assertTrue)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(SimpleName:hasPerson)(INFIX_EXPRESSION_OPERATOR:&&)(SimpleName:hasBook)(SimpleName:hasComment)))))))))