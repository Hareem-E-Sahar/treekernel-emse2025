(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:private)(PrimitiveType:void)(SimpleName:httpDo)(SingleVariableDeclaration(SimpleType(SimpleName:HttpUriRequest))(SimpleName:hr))(SingleVariableDeclaration(SimpleType(SimpleName:String))(SimpleName:url))(SingleVariableDeclaration(ParameterizedType(SimpleType(SimpleName:Map))(SimpleType(SimpleName:String))(SimpleType(SimpleName:String)))(SimpleName:headers))(SingleVariableDeclaration(SimpleType(SimpleName:AjaxStatus))(SimpleName:status))(SimpleType(SimpleName:ClientProtocolException))(SimpleType(SimpleName:IOException))(Block(IfStatement(InfixExpression(SimpleName:AGENT)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:hr))(SimpleName:addHeader)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(SimpleName:AGENT))))))(IfStatement(InfixExpression(SimpleName:headers)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(EnhancedForStatement(SingleVariableDeclaration(SimpleType(SimpleName:String))(SimpleName:name))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:headers))(SimpleName:keySet))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:hr))(SimpleName:addHeader)(METHOD_INVOCATION_ARGUMENTS(SimpleName:name)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:headers))(SimpleName:get)(METHOD_INVOCATION_ARGUMENTS(SimpleName:name))))))))))(IfStatement(InfixExpression(InfixExpression(SimpleName:GZIP)(INFIX_EXPRESSION_OPERATOR:&&)(InfixExpression(SimpleName:headers)(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral)))(INFIX_EXPRESSION_OPERATOR:||)(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:headers))(SimpleName:containsKey)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:hr))(SimpleName:addHeader)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(StringLiteral:<STR>))))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:cookie)(MethodInvocation(SimpleName:makeCookie))))(IfStatement(InfixExpression(SimpleName:cookie)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:hr))(SimpleName:addHeader)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(SimpleName:cookie))))))(IfStatement(InfixExpression(SimpleName:ah)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ah))(SimpleName:applyToken)(METHOD_INVOCATION_ARGUMENTS(ThisExpression)(SimpleName:hr))))))(VariableDeclarationStatement(SimpleType(SimpleName:DefaultHttpClient))(VariableDeclarationFragment(SimpleName:client)(MethodInvocation(SimpleName:getClient))))(VariableDeclarationStatement(SimpleType(SimpleName:HttpContext))(VariableDeclarationFragment(SimpleName:context)(ClassInstanceCreation(SimpleType(SimpleName:BasicHttpContext)))))(VariableDeclarationStatement(SimpleType(SimpleName:CookieStore))(VariableDeclarationFragment(SimpleName:cookieStore)(ClassInstanceCreation(SimpleType(SimpleName:BasicCookieStore)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:context))(SimpleName:setAttribute)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:ClientContext.COOKIE_STORE)(SimpleName:cookieStore))))(VariableDeclarationStatement(SimpleType(SimpleName:HttpResponse))(VariableDeclarationFragment(SimpleName:response)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:client))(SimpleName:execute)(METHOD_INVOCATION_ARGUMENTS(SimpleName:hr)(SimpleName:context)))))(VariableDeclarationStatement(ArrayType(PrimitiveType:byte)(Dimension))(VariableDeclarationFragment(SimpleName:data)(NullLiteral)))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:redirect)(SimpleName:url)))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:code)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:response))(SimpleName:getStatusLine)))(SimpleName:getStatusCode))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:message)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:response))(SimpleName:getStatusLine)))(SimpleName:getReasonPhrase))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:error)(NullLiteral)))(IfStatement(InfixExpression(InfixExpression(SimpleName:code)(INFIX_EXPRESSION_OPERATOR:<)(NumberLiteral:200))(INFIX_EXPRESSION_OPERATOR:||)(InfixExpression(SimpleName:code)(INFIX_EXPRESSION_OPERATOR:>=)(NumberLiteral:300)))(Block(TryStatement(Block(VariableDeclarationStatement(SimpleType(SimpleName:HttpEntity))(VariableDeclarationFragment(SimpleName:entity)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:response))(SimpleName:getEntity))))(VariableDeclarationStatement(ArrayType(PrimitiveType:byte)(Dimension))(VariableDeclarationFragment(SimpleName:s)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:AQUtility))(SimpleName:toBytes)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:entity))(SimpleName:getContent))))))(ExpressionStatement(Assignment(SimpleName:error)(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(SimpleType(SimpleName:String))(SimpleName:s)(StringLiteral:<STR>))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:AQUtility))(SimpleName:debug)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(SimpleName:error)))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:Exception))(SimpleName:e))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:AQUtility))(SimpleName:debug)(METHOD_INVOCATION_ARGUMENTS(SimpleName:e))))))))(Block(VariableDeclarationStatement(SimpleType(SimpleName:HttpEntity))(VariableDeclarationFragment(SimpleName:entity)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:response))(SimpleName:getEntity))))(VariableDeclarationStatement(SimpleType(SimpleName:HttpHost))(VariableDeclarationFragment(SimpleName:currentHost)(CastExpression(SimpleType(SimpleName:HttpHost))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:context))(SimpleName:getAttribute)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:ExecutionContext.HTTP_TARGET_HOST))))))(VariableDeclarationStatement(SimpleType(SimpleName:HttpUriRequest))(VariableDeclarationFragment(SimpleName:currentReq)(CastExpression(SimpleType(SimpleName:HttpUriRequest))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:context))(SimpleName:getAttribute)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:ExecutionContext.HTTP_REQUEST))))))(ExpressionStatement(Assignment(SimpleName:redirect)(ASSIGNMENT_OPERATOR:=)(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:currentHost))(SimpleName:toURI))(INFIX_EXPRESSION_OPERATOR:+)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:currentReq))(SimpleName:getURI)))))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:size)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Math))(SimpleName:max)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:32)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Math))(SimpleName:min)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(NumberLiteral:1024)(INFIX_EXPRESSION_OPERATOR:*)(NumberLiteral:64))(CastExpression(PrimitiveType:int)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:entity))(SimpleName:getContentLength)))))))))(VariableDeclarationStatement(SimpleType(SimpleName:PredefinedBAOS))(VariableDeclarationFragment(SimpleName:baos)(ClassInstanceCreation(SimpleType(SimpleName:PredefinedBAOS))(SimpleName:size))))(VariableDeclarationStatement(SimpleType(SimpleName:Header))(VariableDeclarationFragment(SimpleName:encoding)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:entity))(SimpleName:getContentEncoding))))(IfStatement(InfixExpression(InfixExpression(SimpleName:encoding)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(INFIX_EXPRESSION_OPERATOR:&&)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:encoding))(SimpleName:getValue)))(SimpleName:equalsIgnoreCase)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))(Block(VariableDeclarationStatement(SimpleType(SimpleName:InputStream))(VariableDeclarationFragment(SimpleName:is)(ClassInstanceCreation(SimpleType(SimpleName:GZIPInputStream))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:entity))(SimpleName:getContent)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:AQUtility))(SimpleName:copy)(METHOD_INVOCATION_ARGUMENTS(SimpleName:is)(SimpleName:baos)))))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:entity))(SimpleName:writeTo)(METHOD_INVOCATION_ARGUMENTS(SimpleName:baos))))))(ExpressionStatement(Assignment(SimpleName:data)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:baos))(SimpleName:toByteArray))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:AQUtility))(SimpleName:debug)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(SimpleName:code))))(IfStatement(InfixExpression(SimpleName:data)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:AQUtility))(SimpleName:debug)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:data.length)(SimpleName:url))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:status))(SimpleName:code)(METHOD_INVOCATION_ARGUMENTS(SimpleName:code))))(SimpleName:message)(METHOD_INVOCATION_ARGUMENTS(SimpleName:message))))(SimpleName:error)(METHOD_INVOCATION_ARGUMENTS(SimpleName:error))))(SimpleName:redirect)(METHOD_INVOCATION_ARGUMENTS(SimpleName:redirect))))(SimpleName:time)(METHOD_INVOCATION_ARGUMENTS(ClassInstanceCreation(SimpleType(SimpleName:Date))))))(SimpleName:data)(METHOD_INVOCATION_ARGUMENTS(SimpleName:data))))(SimpleName:client)(METHOD_INVOCATION_ARGUMENTS(SimpleName:client))))(SimpleName:context)(METHOD_INVOCATION_ARGUMENTS(SimpleName:context))))(SimpleName:headers)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:response))(SimpleName:getAllHeaders)))))))))