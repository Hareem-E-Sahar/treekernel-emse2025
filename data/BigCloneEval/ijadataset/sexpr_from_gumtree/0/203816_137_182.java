(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(PrimitiveType:void)(SimpleName:finalizePeak)(Block(WhileStatement(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:mzPeakMap))(SimpleName:isEmpty)))(Block(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:scanNumber)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:mzPeakMap))(SimpleName:firstKey))))(IfStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:mzPeakMap))(SimpleName:get)(METHOD_INVOCATION_ARGUMENTS(SimpleName:scanNumber))))(SimpleName:getIntensity))(INFIX_EXPRESSION_OPERATOR:>)(NumberLiteral:0))(BreakStatement))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:mzPeakMap))(SimpleName:remove)(METHOD_INVOCATION_ARGUMENTS(SimpleName:scanNumber))))))(WhileStatement(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:mzPeakMap))(SimpleName:isEmpty)))(Block(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:scanNumber)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:mzPeakMap))(SimpleName:lastKey))))(IfStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:mzPeakMap))(SimpleName:get)(METHOD_INVOCATION_ARGUMENTS(SimpleName:scanNumber))))(SimpleName:getIntensity))(INFIX_EXPRESSION_OPERATOR:>)(NumberLiteral:0))(BreakStatement))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:mzPeakMap))(SimpleName:remove)(METHOD_INVOCATION_ARGUMENTS(SimpleName:scanNumber))))))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:mzPeakMap))(SimpleName:isEmpty))(Block(ThrowStatement(ParenthesizedExpression(ClassInstanceCreation(SimpleType(SimpleName:IllegalStateException))(StringLiteral:<STR>))))))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:allScanNumbers)(Dimension)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:CollectionUtils))(SimpleName:toIntArray)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:mzPeakMap))(SimpleName:keySet))))))(ForStatement(VariableDeclarationExpression(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:i)(NumberLiteral:0)))(InfixExpression(SimpleName:i)(INFIX_EXPRESSION_OPERATOR:<)(QualifiedName:allScanNumbers.length))(PostfixExpression(SimpleName:i)(POSTFIX_EXPRESSION_OPERATOR:++))(Block(VariableDeclarationStatement(SimpleType(SimpleName:DataPoint))(VariableDeclarationFragment(SimpleName:dataPoint)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:mzPeakMap))(SimpleName:get)(METHOD_INVOCATION_ARGUMENTS(ArrayAccess(SimpleName:allScanNumbers)(SimpleName:i))))))(VariableDeclarationStatement(PrimitiveType:double)(VariableDeclarationFragment(SimpleName:rt)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:dataFile))(SimpleName:getScan)(METHOD_INVOCATION_ARGUMENTS(ArrayAccess(SimpleName:allScanNumbers)(SimpleName:i)))))(SimpleName:getRetentionTime))))(IfStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:dataPoint))(SimpleName:getIntensity))(INFIX_EXPRESSION_OPERATOR:>)(SimpleName:height))(Block(ExpressionStatement(Assignment(SimpleName:height)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:dataPoint))(SimpleName:getIntensity))))(ExpressionStatement(Assignment(SimpleName:representativeScan)(ASSIGNMENT_OPERATOR:=)(ArrayAccess(SimpleName:allScanNumbers)(SimpleName:i))))(ExpressionStatement(Assignment(FieldAccess(ThisExpression)(SimpleName:rt))(ASSIGNMENT_OPERATOR:=)(SimpleName:rt)))))))(ExpressionStatement(Assignment(SimpleName:area)(ASSIGNMENT_OPERATOR:=)(NumberLiteral:0)))(ForStatement(VariableDeclarationExpression(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:i)(NumberLiteral:1)))(InfixExpression(SimpleName:i)(INFIX_EXPRESSION_OPERATOR:<)(QualifiedName:allScanNumbers.length))(PostfixExpression(SimpleName:i)(POSTFIX_EXPRESSION_OPERATOR:++))(Block(VariableDeclarationStatement(PrimitiveType:double)(VariableDeclarationFragment(SimpleName:previousRT)(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:dataFile))(SimpleName:getScan)(METHOD_INVOCATION_ARGUMENTS(ArrayAccess(SimpleName:allScanNumbers)(InfixExpression(SimpleName:i)(INFIX_EXPRESSION_OPERATOR:-)(NumberLiteral:1))))))(SimpleName:getRetentionTime))(INFIX_EXPRESSION_OPERATOR:*)(NumberLiteral:60d))))(VariableDeclarationStatement(PrimitiveType:double)(VariableDeclarationFragment(SimpleName:currentRT)(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:dataFile))(SimpleName:getScan)(METHOD_INVOCATION_ARGUMENTS(ArrayAccess(SimpleName:allScanNumbers)(SimpleName:i)))))(SimpleName:getRetentionTime))(INFIX_EXPRESSION_OPERATOR:*)(NumberLiteral:60d))))(VariableDeclarationStatement(PrimitiveType:double)(VariableDeclarationFragment(SimpleName:rtDifference)(InfixExpression(SimpleName:currentRT)(INFIX_EXPRESSION_OPERATOR:-)(SimpleName:previousRT))))(VariableDeclarationStatement(PrimitiveType:double)(VariableDeclarationFragment(SimpleName:previousIntensity)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:mzPeakMap))(SimpleName:get)(METHOD_INVOCATION_ARGUMENTS(ArrayAccess(SimpleName:allScanNumbers)(InfixExpression(SimpleName:i)(INFIX_EXPRESSION_OPERATOR:-)(NumberLiteral:1))))))(SimpleName:getIntensity))))(VariableDeclarationStatement(PrimitiveType:double)(VariableDeclarationFragment(SimpleName:thisIntensity)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:mzPeakMap))(SimpleName:get)(METHOD_INVOCATION_ARGUMENTS(ArrayAccess(SimpleName:allScanNumbers)(SimpleName:i)))))(SimpleName:getIntensity))))(VariableDeclarationStatement(PrimitiveType:double)(VariableDeclarationFragment(SimpleName:averageIntensity)(InfixExpression(ParenthesizedExpression(InfixExpression(SimpleName:previousIntensity)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:thisIntensity)))(INFIX_EXPRESSION_OPERATOR:/)(NumberLiteral:2))))(ExpressionStatement(Assignment(SimpleName:area)(ASSIGNMENT_OPERATOR:+=)(ParenthesizedExpression(InfixExpression(SimpleName:rtDifference)(INFIX_EXPRESSION_OPERATOR:*)(SimpleName:averageIntensity)))))))(VariableDeclarationStatement(PrimitiveType:double)(VariableDeclarationFragment(SimpleName:mzArray)(Dimension)(ArrayCreation(ArrayType(PrimitiveType:double)(Dimension(QualifiedName:allScanNumbers.length))))))(ForStatement(VariableDeclarationExpression(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:i)(NumberLiteral:0)))(InfixExpression(SimpleName:i)(INFIX_EXPRESSION_OPERATOR:<)(QualifiedName:allScanNumbers.length))(PostfixExpression(SimpleName:i)(POSTFIX_EXPRESSION_OPERATOR:++))(Block(ExpressionStatement(Assignment(ArrayAccess(SimpleName:mzArray)(SimpleName:i))(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:mzPeakMap))(SimpleName:get)(METHOD_INVOCATION_ARGUMENTS(ArrayAccess(SimpleName:allScanNumbers)(SimpleName:i)))))(SimpleName:getMZ))))))(ExpressionStatement(Assignment(FieldAccess(ThisExpression)(SimpleName:mz))(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:MathUtils))(SimpleName:calcQuantile)(METHOD_INVOCATION_ARGUMENTS(SimpleName:mzArray)(NumberLiteral:0.5f)))))(ExpressionStatement(Assignment(SimpleName:fragmentScan)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ScanUtils))(SimpleName:findBestFragmentScan)(METHOD_INVOCATION_ARGUMENTS(SimpleName:dataFile)(SimpleName:rtRange)(SimpleName:mzRange)))))(IfStatement(InfixExpression(SimpleName:fragmentScan)(INFIX_EXPRESSION_OPERATOR:>)(NumberLiteral:0))(Block(VariableDeclarationStatement(SimpleType(SimpleName:Scan))(VariableDeclarationFragment(SimpleName:fragmentScanObject)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:dataFile))(SimpleName:getScan)(METHOD_INVOCATION_ARGUMENTS(SimpleName:fragmentScan)))))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:precursorCharge)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fragmentScanObject))(SimpleName:getPrecursorCharge))))(IfStatement(InfixExpression(ParenthesizedExpression(InfixExpression(SimpleName:precursorCharge)(INFIX_EXPRESSION_OPERATOR:>)(NumberLiteral:0)))(INFIX_EXPRESSION_OPERATOR:&&)(ParenthesizedExpression(InfixExpression(FieldAccess(ThisExpression)(SimpleName:charge))(INFIX_EXPRESSION_OPERATOR:==)(NumberLiteral:0))))(ExpressionStatement(Assignment(FieldAccess(ThisExpression)(SimpleName:charge))(ASSIGNMENT_OPERATOR:=)(SimpleName:precursorCharge))))))))))