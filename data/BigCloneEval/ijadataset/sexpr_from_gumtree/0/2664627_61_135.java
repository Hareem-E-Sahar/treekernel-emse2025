(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:public)(PrimitiveType:void)(SimpleName:doGet)(SingleVariableDeclaration(SimpleType(SimpleName:HttpServletRequest))(SimpleName:request))(SingleVariableDeclaration(SimpleType(SimpleName:HttpServletResponse))(SimpleName:response))(SimpleType(SimpleName:ServletException))(SimpleType(SimpleName:IOException))(Block(IfStatement(InfixExpression(SimpleName:validator)(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(Block(TryStatement(Block(VariableDeclarationStatement(SimpleType(SimpleName:Set))(VariableDeclarationFragment(SimpleName:validatorSet)(ClassInstanceCreation(SimpleType(SimpleName:HashSet)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:validatorSet))(SimpleName:add)(METHOD_INVOCATION_ARGUMENTS(ClassInstanceCreation(SimpleType(SimpleName:JARVSchemaValidator))(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Configuration))(SimpleName:getInstance)))(SimpleName:getProjectProperty)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:validatorSet))(SimpleName:add)(METHOD_INVOCATION_ARGUMENTS(ClassInstanceCreation(SimpleType(SimpleName:SchematronSaxonTransformer))(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Configuration))(SimpleName:getInstance)))(SimpleName:getSchematronTransformerURL))(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Configuration))(SimpleName:getInstance)))(SimpleName:getSchemaExtractorURL))))))(ExpressionStatement(Assignment(SimpleName:validator)(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(SimpleType(SimpleName:ValidatorCollector))(SimpleName:validatorSet)))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:Exception))(SimpleName:e))(Block(ExpressionStatement(ClassInstanceCreation(SimpleType(SimpleName:ServletException))(SimpleName:e))))))))(VariableDeclarationStatement(SimpleType(SimpleName:RequestDispatcher))(VariableDeclarationFragment(SimpleName:dispatcher)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:request))(SimpleName:getRequestDispatcher)(METHOD_INVOCATION_ARGUMENTS(SimpleName:validatorPage)))))(VariableDeclarationStatement(SimpleType(SimpleName:RequestDispatcher))(VariableDeclarationFragment(SimpleName:dispatcherXML)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:request))(SimpleName:getRequestDispatcher)(METHOD_INVOCATION_ARGUMENTS(SimpleName:validatorPageXML)))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:option)(NullLiteral)))(ExpressionStatement(Assignment(SimpleName:option)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:request))(SimpleName:getParameter)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:RequestConst.OPTION_PARAMETER)))))(IfStatement(InfixExpression(SimpleName:option)(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(Block(IfStatement(InfixExpression(SimpleName:option)(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(Block(VariableDeclarationStatement(SimpleType(SimpleName:Collection))(VariableDeclarationFragment(SimpleName:options)(CastExpression(SimpleType(SimpleName:Collection))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:request))(SimpleName:getAttribute)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:RequestConst.OPTION_LIST_ATTRIBUTE))))))(IfStatement(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:options))(SimpleName:iterator)))(SimpleName:hasNext)))(ExpressionStatement(Assignment(SimpleName:option)(ASSIGNMENT_OPERATOR:=)(StringLiteral:<STR>)))(ExpressionStatement(Assignment(SimpleName:option)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(ParenthesizedExpression(CastExpression(SimpleType(SimpleName:OptionBean))(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:options))(SimpleName:iterator)))(SimpleName:next)))))(SimpleName:getName)))))))))(VariableDeclarationStatement(SimpleType(SimpleName:InputStream))(VariableDeclarationFragment(SimpleName:in)(NullLiteral)))(IfStatement(InstanceofExpression(SimpleName:request)(SimpleType(SimpleName:MultipartWrapper)))(Block(TryStatement(Block(VariableDeclarationStatement(SimpleType(SimpleName:File))(VariableDeclarationFragment(SimpleName:file)(MethodInvocation(METHOD_INVOCATION_RECEIVER(ParenthesizedExpression(CastExpression(SimpleType(SimpleName:MultipartWrapper))(SimpleName:request))))(SimpleName:getFile)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:RequestConst.FILE_PARAMETER)))))(IfStatement(InfixExpression(SimpleName:file)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(ExpressionStatement(Assignment(SimpleName:in)(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(SimpleType(SimpleName:FileInputStream))(SimpleName:file)))))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:Exception))(SimpleName:e))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:e))(SimpleName:printStackTrace)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:request))(SimpleName:setAttribute)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:RequestConst.MESSAGE_ATTRIBUTE)(StringLiteral:<STR>))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:dispatcher))(SimpleName:forward)(METHOD_INVOCATION_ARGUMENTS(SimpleName:request)(SimpleName:response))))(ReturnStatement))))))(IfStatement(InfixExpression(SimpleName:in)(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(Block(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:urlString)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:request))(SimpleName:getParameter)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:RequestConst.URL_PARAMETER)))))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(QualifiedName:RequestConst.REFERER_PARAMETER_VALUE))(SimpleName:equals)(METHOD_INVOCATION_ARGUMENTS(SimpleName:urlString)))(ExpressionStatement(Assignment(SimpleName:urlString)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:request))(SimpleName:getHeader)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))))(VariableDeclarationStatement(SimpleType(SimpleName:URL))(VariableDeclarationFragment(SimpleName:url)(NullLiteral)))(TryStatement(Block(ExpressionStatement(Assignment(SimpleName:url)(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(SimpleType(SimpleName:URL))(SimpleName:urlString))))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:url))(SimpleName:getProtocol)))(SimpleName:toLowerCase)))(SimpleName:equals)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))(ThrowStatement(ClassInstanceCreation(SimpleType(SimpleName:IOException))(StringLiteral:<STR>)))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:IOException))(SimpleName:e))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:request))(SimpleName:setAttribute)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:RequestConst.MESSAGE_ATTRIBUTE)(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:urlString)(StringLiteral:<STR>)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:e))(SimpleName:getMessage))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:dispatcher))(SimpleName:forward)(METHOD_INVOCATION_ARGUMENTS(SimpleName:request)(SimpleName:response))))(ReturnStatement))))(TryStatement(Block(VariableDeclarationStatement(SimpleType(SimpleName:URLConnection))(VariableDeclarationFragment(SimpleName:connection)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:url))(SimpleName:openConnection))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:connection))(SimpleName:setAllowUserInteraction)(METHOD_INVOCATION_ARGUMENTS(BooleanLiteral:false))))(ExpressionStatement(Assignment(SimpleName:in)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:connection))(SimpleName:getInputStream)))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:Exception))(SimpleName:e))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:request))(SimpleName:setAttribute)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:RequestConst.MESSAGE_ATTRIBUTE)(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:urlString)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:dispatcher))(SimpleName:forward)(METHOD_INVOCATION_ARGUMENTS(SimpleName:request)(SimpleName:response))))(ReturnStatement))))))(VariableDeclarationStatement(SimpleType(SimpleName:CollectorErrorHandler))(VariableDeclarationFragment(SimpleName:errorHandler)(ClassInstanceCreation(SimpleType(SimpleName:CollectorErrorHandler))(QualifiedName:SeverityLevel.INFO))))(TryStatement(Block(VariableDeclarationStatement(SimpleType(SimpleName:FilterProperties))(VariableDeclarationFragment(SimpleName:filterProperties)(ClassInstanceCreation(SimpleType(SimpleName:FilterProperties)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:filterProperties))(SimpleName:load)(METHOD_INVOCATION_ARGUMENTS(SimpleName:request))))(VariableDeclarationStatement(SimpleType(SimpleName:Map))(VariableDeclarationFragment(SimpleName:source)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:NumberedResultFactory))(SimpleName:create)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:validator))(SimpleName:validate)(METHOD_INVOCATION_ARGUMENTS(SimpleName:option)(SimpleName:in)(SimpleName:filterProperties)(SimpleName:errorHandler)))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:request))(SimpleName:setAttribute)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:RequestConst.SOURCE_CODE)(SimpleName:source)))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:Exception))(SimpleName:e))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:e))(SimpleName:printStackTrace)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:errorHandler))(SimpleName:reportMessage)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:e))(SimpleName:getClass))(INFIX_EXPRESSION_OPERATOR:+)(StringLiteral:<STR>)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:e))(SimpleName:getMessage)))(QualifiedName:SeverityLevel.FATAL_ERROR)))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:request))(SimpleName:setAttribute)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:RequestConst.RESULT_ATTRIBUTE)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:errorHandler))(SimpleName:getResult)))))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:errorHandler))(SimpleName:isValid))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:request))(SimpleName:setAttribute)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:RequestConst.MESSAGE_ATTRIBUTE)(StringLiteral:<STR>)))))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:request))(SimpleName:setAttribute)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:RequestConst.MESSAGE_ATTRIBUTE)(StringLiteral:<STR>))))))(IfStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:request))(SimpleName:getParameter)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:RequestConst.XML_OUTPUT)))(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:dispatcherXML))(SimpleName:forward)(METHOD_INVOCATION_ARGUMENTS(SimpleName:request)(SimpleName:response))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:dispatcher))(SimpleName:forward)(METHOD_INVOCATION_ARGUMENTS(SimpleName:request)(SimpleName:response)))))))))