(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:private)(PrimitiveType:void)(SimpleName:saveFile)(Block(IfStatement(MethodInvocation(SimpleName:checkOutput))(Block(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:dir)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:System))(SimpleName:getProperty)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))))(VariableDeclarationStatement(SimpleType(SimpleName:JFileChooser))(VariableDeclarationFragment(SimpleName:chooser)(ClassInstanceCreation(SimpleType(SimpleName:JFileChooser))(SimpleName:dir))))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:r)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:chooser))(SimpleName:showSaveDialog)(METHOD_INVOCATION_ARGUMENTS(ThisExpression)))))(IfStatement(InfixExpression(SimpleName:r)(INFIX_EXPRESSION_OPERATOR:==)(QualifiedName:JFileChooser.APPROVE_OPTION))(Block(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:t)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:chooser))(SimpleName:getSelectedFile)))(SimpleName:getAbsolutePath))))(VariableDeclarationStatement(PrimitiveType:boolean)(VariableDeclarationFragment(SimpleName:overwrite)(BooleanLiteral:true)))(VariableDeclarationStatement(SimpleType(SimpleName:File))(VariableDeclarationFragment(SimpleName:output_file)(ClassInstanceCreation(SimpleType(SimpleName:File))(SimpleName:t))))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:output_file))(SimpleName:exists))(Block(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:ans)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:JOptionPane))(SimpleName:showConfirmDialog)(METHOD_INVOCATION_ARGUMENTS(ThisExpression)(StringLiteral:<STR>)(StringLiteral:<STR>)(QualifiedName:JOptionPane.YES_NO_OPTION)))))(ExpressionStatement(Assignment(SimpleName:overwrite)(ASSIGNMENT_OPERATOR:=)(ParenthesizedExpression(InfixExpression(SimpleName:ans)(INFIX_EXPRESSION_OPERATOR:==)(QualifiedName:JOptionPane.YES_OPTION)))))))(IfStatement(SimpleName:overwrite)(Block(TryStatement(Block(ExpressionStatement(Assignment(SimpleName:document)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(SimpleName:buildDocument))))(VariableDeclarationStatement(SimpleType(SimpleName:TransformerFactory))(VariableDeclarationFragment(SimpleName:tFactory)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:TransformerFactory))(SimpleName:newInstance))))(VariableDeclarationStatement(SimpleType(SimpleName:Transformer))(VariableDeclarationFragment(SimpleName:transformer)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:tFactory))(SimpleName:newTransformer))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:transformer))(SimpleName:setOutputProperty)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:OutputKeys.DOCTYPE_PUBLIC)(SimpleName:DTD_publicID))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:transformer))(SimpleName:setOutputProperty)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:OutputKeys.DOCTYPE_SYSTEM)(SimpleName:DTD_document))))(ExpressionStatement(MethodInvocation(SimpleName:formatXML)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:document))(SimpleName:getDocumentElement))(StringLiteral:<STR>))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:document))(SimpleName:getDocumentElement)))(SimpleName:normalize)))(VariableDeclarationStatement(SimpleType(SimpleName:DOMSource))(VariableDeclarationFragment(SimpleName:source)(ClassInstanceCreation(SimpleType(SimpleName:DOMSource))(SimpleName:document))))(VariableDeclarationStatement(SimpleType(SimpleName:StreamResult))(VariableDeclarationFragment(SimpleName:result)(ClassInstanceCreation(SimpleType(SimpleName:StreamResult))(SimpleName:output_file))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:transformer))(SimpleName:transform)(METHOD_INVOCATION_ARGUMENTS(SimpleName:source)(SimpleName:result)))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:Exception))(SimpleName:e))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:e))(SimpleName:printStackTrace))))))))))))))))