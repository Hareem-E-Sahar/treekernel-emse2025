(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:public)(SimpleType(SimpleName:Exception))(SimpleName:toException)(Block(VariableDeclarationStatement(SimpleType(SimpleName:Element))(VariableDeclarationFragment(SimpleName:detail)(MethodInvocation(SimpleName:getFirstDetail))))(IfStatement(InfixExpression(SimpleName:detail)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:namespace)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:detail))(SimpleName:getNamespaceURI))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:localName)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:detail))(SimpleName:getLocalName))))(IfStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:StringUtils))(SimpleName:equals)(METHOD_INVOCATION_ARGUMENTS(SimpleName:NS_EXCEPTION)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:detail))(SimpleName:getNamespaceURI))))(INFIX_EXPRESSION_OPERATOR:&&)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:StringUtils))(SimpleName:equals)(METHOD_INVOCATION_ARGUMENTS(SimpleName:EXCEPTION_ELEMENT)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:detail))(SimpleName:getLocalName)))))(Block(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:className)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:detail))(SimpleName:getAttribute)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))))(IfStatement(InfixExpression(SimpleName:className)(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(Block(ExpressionStatement(Assignment(SimpleName:className)(ASSIGNMENT_OPERATOR:=)(StringLiteral:<STR>)))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:message)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:detail))(SimpleName:getAttribute)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))))(VariableDeclarationStatement(SimpleType(SimpleName:Exception))(VariableDeclarationFragment(SimpleName:ex)(NullLiteral)))(TryStatement(Block(IfStatement(InfixExpression(SimpleName:message)(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(Block(ExpressionStatement(Assignment(SimpleName:ex)(ASSIGNMENT_OPERATOR:=)(CastExpression(SimpleType(SimpleName:Exception))(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Class))(SimpleName:forName)(METHOD_INVOCATION_ARGUMENTS(SimpleName:className))))(SimpleName:newInstance))))))(Block(VariableDeclarationStatement(SimpleType(SimpleName:Class))(VariableDeclarationFragment(SimpleName:exClass)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Class))(SimpleName:forName)(METHOD_INVOCATION_ARGUMENTS(SimpleName:className)))))(TryStatement(Block(VariableDeclarationStatement(SimpleType(SimpleName:Constructor))(VariableDeclarationFragment(SimpleName:ctor)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:exClass))(SimpleName:getConstructor)(METHOD_INVOCATION_ARGUMENTS(ArrayCreation(ArrayType(SimpleType(SimpleName:Class))(Dimension))(ArrayInitializer(TypeLiteral(SimpleType(SimpleName:String)))))))))(ExpressionStatement(Assignment(SimpleName:ex)(ASSIGNMENT_OPERATOR:=)(CastExpression(SimpleType(SimpleName:Exception))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ctor))(SimpleName:newInstance)(METHOD_INVOCATION_ARGUMENTS(ArrayCreation(ArrayType(SimpleType(SimpleName:Object))(Dimension))(ArrayInitializer(SimpleName:message)))))))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:Exception))(SimpleName:e))(Block(ExpressionStatement(Assignment(SimpleName:ex)(ASSIGNMENT_OPERATOR:=)(CastExpression(SimpleType(SimpleName:Exception))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:exClass))(SimpleName:newInstance)))))))))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:Throwable))(SimpleName:e))(Block(ExpressionStatement(Assignment(SimpleName:ex)(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(SimpleType(SimpleName:Exception))(SimpleName:message)))))))(VariableDeclarationStatement(SimpleType(SimpleName:NodeList))(VariableDeclarationFragment(SimpleName:children)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:detail))(SimpleName:getChildNodes))))(VariableDeclarationStatement(SimpleType(SimpleName:ArrayList))(VariableDeclarationFragment(SimpleName:stElements)(ClassInstanceCreation(SimpleType(SimpleName:ArrayList)))))(ForStatement(VariableDeclarationExpression(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:i)(NumberLiteral:0)))(InfixExpression(SimpleName:i)(INFIX_EXPRESSION_OPERATOR:<)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:children))(SimpleName:getLength)))(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:++)(SimpleName:i))(Block(VariableDeclarationStatement(SimpleType(SimpleName:Node))(VariableDeclarationFragment(SimpleName:n)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:children))(SimpleName:item)(METHOD_INVOCATION_ARGUMENTS(SimpleName:i)))))(IfStatement(InstanceofExpression(SimpleName:n)(SimpleType(SimpleName:Element)))(Block(VariableDeclarationStatement(SimpleType(SimpleName:Element))(VariableDeclarationFragment(SimpleName:ste)(CastExpression(SimpleType(SimpleName:Element))(SimpleName:n))))(IfStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:StringUtils))(SimpleName:equals)(METHOD_INVOCATION_ARGUMENTS(SimpleName:NS_EXCEPTION)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ste))(SimpleName:getNamespaceURI))))(INFIX_EXPRESSION_OPERATOR:&&)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:StringUtils))(SimpleName:equals)(METHOD_INVOCATION_ARGUMENTS(SimpleName:STACK_TRACE_ELEMENT)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ste))(SimpleName:getLocalName)))))(Block(TryStatement(Block(VariableDeclarationStatement(SimpleType(SimpleName:StackTraceElement))(VariableDeclarationFragment(SimpleName:st)(MethodInvocation(SimpleName:newStackTraceElement)(METHOD_INVOCATION_ARGUMENTS(SimpleName:ste)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:stElements))(SimpleName:add)(METHOD_INVOCATION_ARGUMENTS(SimpleName:st)))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:Exception))(SimpleName:e))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:LOG))(SimpleName:error)(METHOD_INVOCATION_ARGUMENTS(SimpleName:e)))))))))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ex))(SimpleName:setStackTrace)(METHOD_INVOCATION_ARGUMENTS(CastExpression(ArrayType(SimpleType(SimpleName:StackTraceElement))(Dimension))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:stElements))(SimpleName:toArray)(METHOD_INVOCATION_ARGUMENTS(ArrayCreation(ArrayType(SimpleType(SimpleName:StackTraceElement))(Dimension(NumberLiteral:0))))))))))(ReturnStatement(SimpleName:ex))))))(ReturnStatement(NullLiteral))))))