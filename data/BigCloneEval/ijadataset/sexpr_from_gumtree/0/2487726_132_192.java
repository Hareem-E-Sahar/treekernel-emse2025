(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:public)(Modifier:synchronized)(SimpleType(SimpleName:LoadedScriptInfo))(SimpleName:loadScript)(SingleVariableDeclaration(SimpleType(SimpleName:String))(SimpleName:name))(SingleVariableDeclaration(SimpleType(SimpleName:String))(SimpleName:version))(SingleVariableDeclaration(SimpleType(SimpleName:InputStream))(SimpleName:in))(SimpleType(SimpleName:ObolException))(SimpleType(SimpleName:IOException))(Block(VariableDeclarationStatement(SimpleType(SimpleName:ScriptInputStream))(VariableDeclarationFragment(SimpleName:_scriptIn)(NullLiteral)))(IfStatement(InstanceofExpression(SimpleName:in)(SimpleType(SimpleName:ScriptInputStream)))(Block(ExpressionStatement(Assignment(SimpleName:_scriptIn)(ASSIGNMENT_OPERATOR:=)(CastExpression(SimpleType(SimpleName:ScriptInputStream))(SimpleName:in)))))(Block(ExpressionStatement(Assignment(SimpleName:_scriptIn)(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(SimpleType(SimpleName:ScriptInputStream))(SimpleName:in))))))(VariableDeclarationStatement(ArrayType(PrimitiveType:byte)(Dimension))(VariableDeclarationFragment(SimpleName:_rawscript)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:_scriptIn))(SimpleName:findScript)(METHOD_INVOCATION_ARGUMENTS(SimpleName:name)(SimpleName:version)))))(IfStatement(InfixExpression(NullLiteral)(INFIX_EXPRESSION_OPERATOR:==)(SimpleName:_rawscript))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:log))(SimpleName:debug)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))(ReturnStatement(NullLiteral))))(VariableDeclarationStatement(SimpleType(SimpleName:ByteArrayInputStream))(VariableDeclarationFragment(SimpleName:_bin)(ClassInstanceCreation(SimpleType(SimpleName:ByteArrayInputStream))(SimpleName:_rawscript))))(VariableDeclarationStatement(SimpleType(SimpleName:Parser))(VariableDeclarationFragment(SimpleName:_parser)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ObolParser))(SimpleName:getInstance)(METHOD_INVOCATION_ARGUMENTS(SimpleName:_bin)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:_parser))(SimpleName:setParseOnly)(METHOD_INVOCATION_ARGUMENTS(BooleanLiteral:true))))(VariableDeclarationStatement(SimpleType(SimpleName:DummyContext))(VariableDeclarationFragment(SimpleName:_ctx)(ClassInstanceCreation(SimpleType(SimpleName:DummyContext)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:_parser))(SimpleName:setCurrentContext)(METHOD_INVOCATION_ARGUMENTS(SimpleName:_ctx))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:_parser))(SimpleName:parse)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:_ctx))(SimpleName:clear)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:_bin))(SimpleName:close)))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:_name)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:_parser))(SimpleName:getScriptName))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:_documentation)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:_parser))(SimpleName:getScriptDocumentation))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:_version)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:_parser))(SimpleName:getScriptVersion))))(IfStatement(InfixExpression(InfixExpression(NullLiteral)(INFIX_EXPRESSION_OPERATOR:!=)(SimpleName:version))(INFIX_EXPRESSION_OPERATOR:&&)(InfixExpression(NullLiteral)(INFIX_EXPRESSION_OPERATOR:!=)(SimpleName:_version)))(Block(IfStatement(InfixExpression(BooleanLiteral:false)(INFIX_EXPRESSION_OPERATOR:==)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:version))(SimpleName:equals)(METHOD_INVOCATION_ARGUMENTS(SimpleName:_version))))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:log))(SimpleName:debug)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))(ReturnStatement(NullLiteral))))))(VariableDeclarationStatement(ArrayType(PrimitiveType:byte)(Dimension))(VariableDeclarationFragment(SimpleName:_digestBinary)(NullLiteral)))(TryStatement(Block(VariableDeclarationStatement(SimpleType(SimpleName:MessageDigest))(VariableDeclarationFragment(SimpleName:_md)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:MessageDigest))(SimpleName:getInstance)(METHOD_INVOCATION_ARGUMENTS(FieldAccess(ThisExpression)(SimpleName:scriptDigestAlgo))))))(ExpressionStatement(Assignment(SimpleName:_digestBinary)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:_md))(SimpleName:digest)(METHOD_INVOCATION_ARGUMENTS(SimpleName:_rawscript))))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:GeneralSecurityException))(SimpleName:e))(Block(ThrowStatement(CastExpression(SimpleType(SimpleName:ObolException))(MethodInvocation(METHOD_INVOCATION_RECEIVER(ClassInstanceCreation(SimpleType(SimpleName:ObolException))(InfixExpression(SimpleName:__me)(INFIX_EXPRESSION_OPERATOR:+)(StringLiteral:<STR>)(StringLiteral:<STR>)(FieldAccess(ThisExpression)(SimpleName:scriptDigestAlgo))(StringLiteral:<STR>))))(SimpleName:initCause)(METHOD_INVOCATION_ARGUMENTS(SimpleName:e))))))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:_digest)(ParenthesizedExpression(InfixExpression(FieldAccess(ThisExpression)(SimpleName:scriptDigestAlgo))(INFIX_EXPRESSION_OPERATOR:+)(StringLiteral:<STR>)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Hex))(SimpleName:toString)(METHOD_INVOCATION_ARGUMENTS(SimpleName:_digestBinary)))(StringLiteral:<STR>)(QualifiedName:_rawscript.length)))))(VariableDeclarationStatement(SimpleType(SimpleName:LoadedScriptInfo))(VariableDeclarationFragment(SimpleName:_info)(ClassInstanceCreation(SimpleType(SimpleName:LoadedScriptInfoImpl))(SimpleName:_name)(SimpleName:_version)(SimpleName:_documentation)(SimpleName:_digest)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:_scriptIn))(SimpleName:getScriptLineNumber)))))(VariableDeclarationStatement(PrimitiveType:boolean)(VariableDeclarationFragment(SimpleName:_checkDuplicates)(BooleanLiteral:true)))(IfStatement(InfixExpression(BooleanLiteral:false)(INFIX_EXPRESSION_OPERATOR:==)(MethodInvocation(METHOD_INVOCATION_RECEIVER(FieldAccess(ThisExpression)(SimpleName:loadedScripts)))(SimpleName:containsKey)(METHOD_INVOCATION_ARGUMENTS(SimpleName:_name))))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(FieldAccess(ThisExpression)(SimpleName:loadedScripts)))(SimpleName:put)(METHOD_INVOCATION_ARGUMENTS(SimpleName:_name)(SimpleName:_rawscript))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(FieldAccess(ThisExpression)(SimpleName:loadedScriptsInfo)))(SimpleName:put)(METHOD_INVOCATION_ARGUMENTS(SimpleName:_name)(SimpleName:_info))))(ExpressionStatement(Assignment(SimpleName:_checkDuplicates)(ASSIGNMENT_OPERATOR:=)(BooleanLiteral:false)))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:_versionedKey)(SimpleName:_name)))(IfStatement(InfixExpression(NullLiteral)(INFIX_EXPRESSION_OPERATOR:!=)(SimpleName:_version))(Block(ExpressionStatement(Assignment(SimpleName:_versionedKey)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(ThisExpression))(SimpleName:makeVersionedKey)(METHOD_INVOCATION_ARGUMENTS(SimpleName:_name)(SimpleName:_version)))))(IfStatement(InfixExpression(BooleanLiteral:false)(INFIX_EXPRESSION_OPERATOR:==)(MethodInvocation(METHOD_INVOCATION_RECEIVER(FieldAccess(ThisExpression)(SimpleName:loadedScripts)))(SimpleName:containsKey)(METHOD_INVOCATION_ARGUMENTS(SimpleName:_versionedKey))))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(FieldAccess(ThisExpression)(SimpleName:loadedScripts)))(SimpleName:put)(METHOD_INVOCATION_ARGUMENTS(SimpleName:_versionedKey)(SimpleName:_rawscript))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(FieldAccess(ThisExpression)(SimpleName:loadedScriptsInfo)))(SimpleName:put)(METHOD_INVOCATION_ARGUMENTS(SimpleName:_versionedKey)(SimpleName:_info))))(ExpressionStatement(Assignment(SimpleName:_checkDuplicates)(ASSIGNMENT_OPERATOR:=)(BooleanLiteral:false)))))))(IfStatement(InfixExpression(SimpleName:_checkDuplicates)(INFIX_EXPRESSION_OPERATOR:&&)(MethodInvocation(METHOD_INVOCATION_RECEIVER(FieldAccess(ThisExpression)(SimpleName:loadedScripts)))(SimpleName:containsKey)(METHOD_INVOCATION_ARGUMENTS(SimpleName:_versionedKey))))(Block(VariableDeclarationStatement(SimpleType(SimpleName:LoadedScriptInfo))(VariableDeclarationFragment(SimpleName:_existing)(CastExpression(SimpleType(SimpleName:LoadedScriptInfo))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:loadedScriptsInfo))(SimpleName:get)(METHOD_INVOCATION_ARGUMENTS(SimpleName:_versionedKey))))))(IfStatement(InfixExpression(BooleanLiteral:false)(INFIX_EXPRESSION_OPERATOR:==)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:_digest))(SimpleName:equals)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:_existing))(SimpleName:getDigest)))))(Block(ThrowStatement(ClassInstanceCreation(SimpleType(SimpleName:ObolException))(InfixExpression(SimpleName:__me)(INFIX_EXPRESSION_OPERATOR:+)(StringLiteral:<STR>)(StringLiteral:<STR>)(SimpleName:_name)(StringLiteral:<STR>)(SimpleName:_version)(StringLiteral:<STR>)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:_existing))(SimpleName:getDigest))(StringLiteral:<STR>)(SimpleName:_digest))))))))(ReturnStatement(SimpleName:_info))))))