(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:public)(SimpleType(SimpleName:String))(SimpleName:uploadPhoto)(SingleVariableDeclaration(SimpleType(SimpleName:WritePhotoRequest))(SimpleName:request))(SimpleType(SimpleName:ApplicationException))(Block(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:responseString)(NullLiteral)))(TryStatement(Block(VariableDeclarationStatement(SimpleType(SimpleName:OAuthAccessor))(VariableDeclarationFragment(SimpleName:accessor)(ClassInstanceCreation(SimpleType(SimpleName:OAuthAccessor))(QualifiedName:OAuthConnectionManager.consumer))))(ExpressionStatement(Assignment(QualifiedName:accessor.accessToken)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(QualifiedName:ConfigurationManager.instance))(SimpleName:getAccessToken))))(ExpressionStatement(Assignment(QualifiedName:accessor.tokenSecret)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(QualifiedName:ConfigurationManager.instance))(SimpleName:getAccessTokenSecret))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:tempImagePath)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:request))(SimpleName:getParameterMap)))(SimpleName:remove)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:Constants.TEMP_IMAGE_FILE_PATH)))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:eventId)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:request))(SimpleName:getParameterMap)))(SimpleName:remove)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:Constants.EVENT_ID_KEY)))))(VariableDeclarationStatement(ParameterizedType(SimpleType(SimpleName:ArrayList))(ParameterizedType(SimpleType(QualifiedName:Map.Entry))(SimpleType(SimpleName:String))(SimpleType(SimpleName:String))))(VariableDeclarationFragment(SimpleName:params)(ClassInstanceCreation(ParameterizedType(SimpleType(SimpleName:ArrayList))(ParameterizedType(SimpleType(QualifiedName:Map.Entry))(SimpleType(SimpleName:String))(SimpleType(SimpleName:String)))))))(ExpressionStatement(MethodInvocation(SimpleName:convertRequestParamsToOAuth)(METHOD_INVOCATION_ARGUMENTS(SimpleName:params)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:request))(SimpleName:getParameterMap)))))(VariableDeclarationStatement(SimpleType(SimpleName:OAuthMessage))(VariableDeclarationFragment(SimpleName:message)(ClassInstanceCreation(SimpleType(SimpleName:OAuthMessage))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:request))(SimpleName:getMethod))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:request))(SimpleName:getRequestURL))(SimpleName:params))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:message))(SimpleName:addRequiredParameters)(METHOD_INVOCATION_ARGUMENTS(SimpleName:accessor))))(VariableDeclarationStatement(ParameterizedType(SimpleType(SimpleName:List))(ParameterizedType(SimpleType(QualifiedName:Map.Entry))(SimpleType(SimpleName:String))(SimpleType(SimpleName:String))))(VariableDeclarationFragment(SimpleName:oAuthParams)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:message))(SimpleName:getParameters))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:url)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:OAuth))(SimpleName:addParameters)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:request))(SimpleName:getRequestURL))(SimpleName:oAuthParams)))))(VariableDeclarationStatement(SimpleType(SimpleName:HttpPost))(VariableDeclarationFragment(SimpleName:post)(ClassInstanceCreation(SimpleType(SimpleName:HttpPost))(SimpleName:url))))(VariableDeclarationStatement(SimpleType(SimpleName:File))(VariableDeclarationFragment(SimpleName:photoFile)(ClassInstanceCreation(SimpleType(SimpleName:File))(SimpleName:tempImagePath))))(VariableDeclarationStatement(SimpleType(SimpleName:FileBody))(VariableDeclarationFragment(SimpleName:photoContentBody)(ClassInstanceCreation(SimpleType(SimpleName:FileBody))(SimpleName:photoFile))))(VariableDeclarationStatement(SimpleType(SimpleName:StringBody))(VariableDeclarationFragment(SimpleName:eventIdBody)(ClassInstanceCreation(SimpleType(SimpleName:StringBody))(SimpleName:eventId))))(VariableDeclarationStatement(SimpleType(SimpleName:HttpClient))(VariableDeclarationFragment(SimpleName:client)(ClassInstanceCreation(SimpleType(SimpleName:DefaultHttpClient)))))(VariableDeclarationStatement(SimpleType(SimpleName:MultipartEntity))(VariableDeclarationFragment(SimpleName:reqEntity)(ClassInstanceCreation(SimpleType(SimpleName:MultipartEntity))(QualifiedName:HttpMultipartMode.STRICT))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:reqEntity))(SimpleName:addPart)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:Constants.PHOTO)(SimpleName:photoContentBody))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:reqEntity))(SimpleName:addPart)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:Constants.EVENT_ID_KEY)(SimpleName:eventIdBody))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:post))(SimpleName:setEntity)(METHOD_INVOCATION_ARGUMENTS(SimpleName:reqEntity))))(VariableDeclarationStatement(SimpleType(SimpleName:HttpResponse))(VariableDeclarationFragment(SimpleName:response)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:client))(SimpleName:execute)(METHOD_INVOCATION_ARGUMENTS(SimpleName:post)))))(VariableDeclarationStatement(SimpleType(SimpleName:HttpEntity))(VariableDeclarationFragment(SimpleName:resEntity)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:response))(SimpleName:getEntity))))(ExpressionStatement(Assignment(SimpleName:responseString)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:EntityUtils))(SimpleName:toString)(METHOD_INVOCATION_ARGUMENTS(SimpleName:resEntity))))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:Exception))(SimpleName:e))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Log))(SimpleName:e)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(StringLiteral:<STR>)(SimpleName:e))))(ThrowStatement(ClassInstanceCreation(SimpleType(SimpleName:ApplicationException))(SimpleName:e))))))(ReturnStatement(SimpleName:responseString))))))