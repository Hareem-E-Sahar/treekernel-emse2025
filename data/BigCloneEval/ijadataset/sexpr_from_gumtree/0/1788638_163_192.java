(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:protected)(ParameterizedType(SimpleType(SimpleName:ISqlReadCursor))(SimpleType(SimpleName:Data)))(SimpleName:prepareCursor)(Block(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:numberOfGapsToQualify)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:parameterService))(SimpleName:getInt)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:ParameterConstants.ROUTING_MAX_GAPS_TO_QUALIFY_IN_SQL)(NumberLiteral:100)))))(ExpressionStatement(Assignment(FieldAccess(ThisExpression)(SimpleName:dataGaps))(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:dataService))(SimpleName:findDataGaps))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:channelId)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:context))(SimpleName:getChannel)))(SimpleName:getChannelId))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:sql)(MethodInvocation(SimpleName:qualifyUsingDataGaps)(METHOD_INVOCATION_ARGUMENTS(SimpleName:dataGaps)(SimpleName:numberOfGapsToQualify)(MethodInvocation(SimpleName:getSql)(METHOD_INVOCATION_ARGUMENTS(SimpleName:SELECT_DATA_USING_GAPS_SQL)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:context))(SimpleName:getChannel)))(SimpleName:getChannel))))))))(VariableDeclarationStatement(SimpleType(SimpleName:ISqlTemplate))(VariableDeclarationFragment(SimpleName:sqlTemplate)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:symmetricDialect))(SimpleName:getPlatform)))(SimpleName:getSqlTemplate))))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:numberOfArgs)(InfixExpression(NumberLiteral:1)(INFIX_EXPRESSION_OPERATOR:+)(InfixExpression(NumberLiteral:2)(INFIX_EXPRESSION_OPERATOR:*)(ParenthesizedExpression(ConditionalExpression(InfixExpression(SimpleName:numberOfGapsToQualify)(INFIX_EXPRESSION_OPERATOR:<)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:dataGaps))(SimpleName:size)))(SimpleName:numberOfGapsToQualify)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:dataGaps))(SimpleName:size))))))))(VariableDeclarationStatement(ArrayType(SimpleType(SimpleName:Object))(Dimension))(VariableDeclarationFragment(SimpleName:args)(ArrayCreation(ArrayType(SimpleType(SimpleName:Object))(Dimension(SimpleName:numberOfArgs))))))(VariableDeclarationStatement(ArrayType(PrimitiveType:int)(Dimension))(VariableDeclarationFragment(SimpleName:types)(ArrayCreation(ArrayType(PrimitiveType:int)(Dimension(SimpleName:numberOfArgs))))))(ExpressionStatement(Assignment(ArrayAccess(SimpleName:args)(NumberLiteral:0))(ASSIGNMENT_OPERATOR:=)(SimpleName:channelId)))(ExpressionStatement(Assignment(ArrayAccess(SimpleName:types)(NumberLiteral:0))(ASSIGNMENT_OPERATOR:=)(QualifiedName:Types.VARCHAR)))(ForStatement(VariableDeclarationExpression(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:i)(NumberLiteral:0)))(InfixExpression(InfixExpression(SimpleName:i)(INFIX_EXPRESSION_OPERATOR:<)(SimpleName:numberOfGapsToQualify))(INFIX_EXPRESSION_OPERATOR:&&)(InfixExpression(SimpleName:i)(INFIX_EXPRESSION_OPERATOR:<)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:dataGaps))(SimpleName:size))))(PostfixExpression(SimpleName:i)(POSTFIX_EXPRESSION_OPERATOR:++))(Block(VariableDeclarationStatement(SimpleType(SimpleName:DataGap))(VariableDeclarationFragment(SimpleName:gap)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:dataGaps))(SimpleName:get)(METHOD_INVOCATION_ARGUMENTS(SimpleName:i)))))(ExpressionStatement(Assignment(ArrayAccess(SimpleName:args)(InfixExpression(InfixExpression(SimpleName:i)(INFIX_EXPRESSION_OPERATOR:*)(NumberLiteral:2))(INFIX_EXPRESSION_OPERATOR:+)(NumberLiteral:1)))(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:gap))(SimpleName:getStartId))))(ExpressionStatement(Assignment(ArrayAccess(SimpleName:types)(InfixExpression(InfixExpression(SimpleName:i)(INFIX_EXPRESSION_OPERATOR:*)(NumberLiteral:2))(INFIX_EXPRESSION_OPERATOR:+)(NumberLiteral:1)))(ASSIGNMENT_OPERATOR:=)(QualifiedName:Types.NUMERIC)))(IfStatement(InfixExpression(InfixExpression(ParenthesizedExpression(InfixExpression(SimpleName:i)(INFIX_EXPRESSION_OPERATOR:+)(NumberLiteral:1)))(INFIX_EXPRESSION_OPERATOR:==)(SimpleName:numberOfGapsToQualify))(INFIX_EXPRESSION_OPERATOR:&&)(InfixExpression(ParenthesizedExpression(InfixExpression(SimpleName:i)(INFIX_EXPRESSION_OPERATOR:+)(NumberLiteral:1)))(INFIX_EXPRESSION_OPERATOR:<)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:dataGaps))(SimpleName:size))))(Block(ExpressionStatement(Assignment(ArrayAccess(SimpleName:args)(InfixExpression(InfixExpression(SimpleName:i)(INFIX_EXPRESSION_OPERATOR:*)(NumberLiteral:2))(INFIX_EXPRESSION_OPERATOR:+)(NumberLiteral:2)))(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:dataGaps))(SimpleName:get)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:dataGaps))(SimpleName:size))(INFIX_EXPRESSION_OPERATOR:-)(NumberLiteral:1)))))(SimpleName:getEndId)))))(Block(ExpressionStatement(Assignment(ArrayAccess(SimpleName:args)(InfixExpression(InfixExpression(SimpleName:i)(INFIX_EXPRESSION_OPERATOR:*)(NumberLiteral:2))(INFIX_EXPRESSION_OPERATOR:+)(NumberLiteral:2)))(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:gap))(SimpleName:getEndId))))))(ExpressionStatement(Assignment(ArrayAccess(SimpleName:types)(InfixExpression(InfixExpression(SimpleName:i)(INFIX_EXPRESSION_OPERATOR:*)(NumberLiteral:2))(INFIX_EXPRESSION_OPERATOR:+)(NumberLiteral:2)))(ASSIGNMENT_OPERATOR:=)(QualifiedName:Types.NUMERIC)))))(ExpressionStatement(Assignment(FieldAccess(ThisExpression)(SimpleName:currentGap))(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:dataGaps))(SimpleName:remove)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:0)))))(ReturnStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:sqlTemplate))(SimpleName:queryForCursor)(METHOD_INVOCATION_ARGUMENTS(SimpleName:sql)(ClassInstanceCreation(ParameterizedType(SimpleType(SimpleName:ISqlRowMapper))(SimpleType(SimpleName:Data)))(AnonymousClassDeclaration(MethodDeclaration(Modifier:public)(SimpleType(SimpleName:Data))(SimpleName:mapRow)(SingleVariableDeclaration(SimpleType(SimpleName:Row))(SimpleName:row))(Block(ReturnStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:dataService))(SimpleName:mapData)(METHOD_INVOCATION_ARGUMENTS(SimpleName:row))))))))(SimpleName:args)(SimpleName:types))))))))