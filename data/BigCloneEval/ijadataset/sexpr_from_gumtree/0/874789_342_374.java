(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:public)(Modifier:static)(PrimitiveType:void)(SimpleName:delete)(SingleVariableDeclaration(SimpleType(SimpleName:_PhotoBase))(SimpleName:photo))(SimpleType(SimpleName:SQLException))(Block(IfStatement(InfixExpression(SimpleName:photo)(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(ReturnStatement))(VariableDeclarationStatement(SimpleType(SimpleName:Session))(VariableDeclarationFragment(SimpleName:ssn)(MethodInvocation(SimpleName:getSession))))(TryStatement(Block(ExpressionStatement(MethodInvocation(SimpleName:beginTransaction)))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:photo_size)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:DLOG4JUtils))(SimpleName:sizeInKbytes)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:photo))(SimpleName:getPhotoInfo)))(SimpleName:getSize))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:photo))(SimpleName:getSite)))(SimpleName:getCapacity)))(SimpleName:incPhotoUsed)(METHOD_INVOCATION_ARGUMENTS(SimpleName:photo_size))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:photo))(SimpleName:getAlbum)))(SimpleName:incPhotoCount)(METHOD_INVOCATION_ARGUMENTS(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:-)(NumberLiteral:1)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:photo))(SimpleName:getUser)))(SimpleName:getCount)))(SimpleName:incPhotoCount)(METHOD_INVOCATION_ARGUMENTS(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:-)(NumberLiteral:1)))))(VariableDeclarationStatement(SimpleType(SimpleName:AlbumBean))(VariableDeclarationFragment(SimpleName:parent)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:photo))(SimpleName:getAlbum)))(SimpleName:getParent))))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:deep)(NumberLiteral:0)))(DoStatement(Block(IfStatement(InfixExpression(SimpleName:parent)(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(BreakStatement))(ExpressionStatement(PostfixExpression(SimpleName:deep)(POSTFIX_EXPRESSION_OPERATOR:++)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:parent))(SimpleName:incPhotoCount)(METHOD_INVOCATION_ARGUMENTS(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:-)(NumberLiteral:1)))))(ExpressionStatement(Assignment(SimpleName:parent)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:parent))(SimpleName:getParent)))))(InfixExpression(SimpleName:deep)(INFIX_EXPRESSION_OPERATOR:<)(NumberLiteral:10)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:TagDAO))(SimpleName:deleteTagByRefId)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:photo))(SimpleName:getId))(QualifiedName:TagBean.TYPE_PHOTO))))(VariableDeclarationStatement(SimpleType(SimpleName:List))(VariableDeclarationFragment(SimpleName:rpls)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:photo))(SimpleName:getReplies))))(ForStatement(VariableDeclarationExpression(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:i)(NumberLiteral:0)))(InfixExpression(InfixExpression(SimpleName:rpls)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(INFIX_EXPRESSION_OPERATOR:&&)(InfixExpression(SimpleName:i)(INFIX_EXPRESSION_OPERATOR:<)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:rpls))(SimpleName:size))))(PostfixExpression(SimpleName:i)(POSTFIX_EXPRESSION_OPERATOR:++))(Block(VariableDeclarationStatement(SimpleType(SimpleName:PhotoReplyBean))(VariableDeclarationFragment(SimpleName:prb)(CastExpression(SimpleType(SimpleName:PhotoReplyBean))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:rpls))(SimpleName:get)(METHOD_INVOCATION_ARGUMENTS(SimpleName:i))))))(IfStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:prb))(SimpleName:getUser))(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:prb))(SimpleName:getUser)))(SimpleName:getCount)))(SimpleName:incPhotoReplyCount)(METHOD_INVOCATION_ARGUMENTS(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:-)(NumberLiteral:1)))))))))(ExpressionStatement(MethodInvocation(SimpleName:executeUpdate)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:photo))(SimpleName:getId)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ssn))(SimpleName:delete)(METHOD_INVOCATION_ARGUMENTS(SimpleName:photo))))(ExpressionStatement(MethodInvocation(SimpleName:commit))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:HibernateException))(SimpleName:e))(Block(ExpressionStatement(MethodInvocation(SimpleName:rollback)))(ThrowStatement(SimpleName:e)))))))))