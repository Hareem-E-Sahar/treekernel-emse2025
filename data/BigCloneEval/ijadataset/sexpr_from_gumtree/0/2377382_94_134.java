(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:protected)(PrimitiveType:void)(SimpleName:closeBlock)(SimpleType(SimpleName:IOException))(Block(IfStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:channel))(SimpleName:getLength))(INFIX_EXPRESSION_OPERATOR:==)(NumberLiteral:0))(Block)(IfStatement(InfixExpression(SimpleName:blockValues)(INFIX_EXPRESSION_OPERATOR:<=)(QualifiedName:Constants.MAX_NUMBER_OF_VALUES))(Block(EnhancedForStatement(SingleVariableDeclaration(SimpleType(SimpleName:QNameContext))(SimpleName:contextOrder))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:encoderContext))(SimpleName:getChannelOrders))(Block(VariableDeclarationStatement(ParameterizedType(SimpleType(SimpleName:List))(SimpleType(SimpleName:ValueAndDatatype)))(VariableDeclarationFragment(SimpleName:lvd)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:encoderContext))(SimpleName:getValueAndDatatypes)(METHOD_INVOCATION_ARGUMENTS(SimpleName:contextOrder)))))(EnhancedForStatement(SingleVariableDeclaration(SimpleType(SimpleName:ValueAndDatatype))(SimpleName:vd))(SimpleName:lvd)(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:typeEncoder))(SimpleName:isValid)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:vd.datatype)(QualifiedName:vd.value))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:typeEncoder))(SimpleName:writeValue)(METHOD_INVOCATION_ARGUMENTS(SimpleName:encoderContext)(SimpleName:contextOrder)(SimpleName:channel))))))))(ExpressionStatement(MethodInvocation(SimpleName:finalizeStream))))(Block(ExpressionStatement(MethodInvocation(SimpleName:finalizeStream)))(VariableDeclarationStatement(SimpleType(SimpleName:EncoderChannel))(VariableDeclarationFragment(SimpleName:leq100)(ClassInstanceCreation(SimpleType(SimpleName:ByteEncoderChannel))(MethodInvocation(SimpleName:getStream)))))(VariableDeclarationStatement(PrimitiveType:boolean)(VariableDeclarationFragment(SimpleName:wasThereLeq100)(BooleanLiteral:false)))(EnhancedForStatement(SingleVariableDeclaration(SimpleType(SimpleName:QNameContext))(SimpleName:contextOrder))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:encoderContext))(SimpleName:getChannelOrders))(Block(VariableDeclarationStatement(ParameterizedType(SimpleType(SimpleName:List))(SimpleType(SimpleName:ValueAndDatatype)))(VariableDeclarationFragment(SimpleName:lvd)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:encoderContext))(SimpleName:getValueAndDatatypes)(METHOD_INVOCATION_ARGUMENTS(SimpleName:contextOrder)))))(IfStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:lvd))(SimpleName:size))(INFIX_EXPRESSION_OPERATOR:<=)(QualifiedName:Constants.MAX_NUMBER_OF_VALUES))(Block(EnhancedForStatement(SingleVariableDeclaration(SimpleType(SimpleName:ValueAndDatatype))(SimpleName:vd))(SimpleName:lvd)(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:typeEncoder))(SimpleName:isValid)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:vd.datatype)(QualifiedName:vd.value))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:typeEncoder))(SimpleName:writeValue)(METHOD_INVOCATION_ARGUMENTS(SimpleName:encoderContext)(SimpleName:contextOrder)(SimpleName:leq100))))))(ExpressionStatement(Assignment(SimpleName:wasThereLeq100)(ASSIGNMENT_OPERATOR:=)(BooleanLiteral:true)))))))(IfStatement(SimpleName:wasThereLeq100)(Block(ExpressionStatement(MethodInvocation(SimpleName:finalizeStream)))))(EnhancedForStatement(SingleVariableDeclaration(SimpleType(SimpleName:QNameContext))(SimpleName:contextOrder))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:encoderContext))(SimpleName:getChannelOrders))(Block(VariableDeclarationStatement(ParameterizedType(SimpleType(SimpleName:List))(SimpleType(SimpleName:ValueAndDatatype)))(VariableDeclarationFragment(SimpleName:lvd)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:encoderContext))(SimpleName:getValueAndDatatypes)(METHOD_INVOCATION_ARGUMENTS(SimpleName:contextOrder)))))(IfStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:lvd))(SimpleName:size))(INFIX_EXPRESSION_OPERATOR:>)(QualifiedName:Constants.MAX_NUMBER_OF_VALUES))(Block(VariableDeclarationStatement(SimpleType(SimpleName:EncoderChannel))(VariableDeclarationFragment(SimpleName:gre100)(ClassInstanceCreation(SimpleType(SimpleName:ByteEncoderChannel))(MethodInvocation(SimpleName:getStream)))))(EnhancedForStatement(SingleVariableDeclaration(SimpleType(SimpleName:ValueAndDatatype))(SimpleName:vd))(SimpleName:lvd)(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:typeEncoder))(SimpleName:isValid)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:vd.datatype)(QualifiedName:vd.value))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:typeEncoder))(SimpleName:writeValue)(METHOD_INVOCATION_ARGUMENTS(SimpleName:encoderContext)(SimpleName:contextOrder)(SimpleName:gre100))))))(ExpressionStatement(MethodInvocation(SimpleName:finalizeStream))))))))))))))