(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:public)(Modifier:static)(PrimitiveType:boolean)(SimpleName:exportAsImage)(SingleVariableDeclaration(SimpleType(SimpleName:IEditorPart))(SimpleName:editorPart))(SingleVariableDeclaration(SimpleType(SimpleName:GraphicalViewer))(SimpleName:graphicalViewer))(SingleVariableDeclaration(SimpleType(SimpleName:String))(SimpleName:saveFilePath))(SingleVariableDeclaration(PrimitiveType:int)(SimpleName:format))(Block(TryStatement(Block(VariableDeclarationStatement(SimpleType(SimpleName:ScalableFreeformRootEditPart))(VariableDeclarationFragment(SimpleName:editPart)(CastExpression(SimpleType(SimpleName:ScalableFreeformRootEditPart))(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:graphicalViewer))(SimpleName:getEditPartRegistry)))(SimpleName:get)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:LayerManager.ID))))))(VariableDeclarationStatement(SimpleType(SimpleName:IFigure))(VariableDeclarationFragment(SimpleName:rootFigure)(MethodInvocation(METHOD_INVOCATION_RECEIVER(ParenthesizedExpression(CastExpression(SimpleType(SimpleName:LayerManager))(SimpleName:editPart))))(SimpleName:getLayer)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:LayerConstants.PRINTABLE_LAYERS)))))(VariableDeclarationStatement(SimpleType(SimpleName:Rectangle))(VariableDeclarationFragment(SimpleName:figureBounds)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:rootFigure))(SimpleName:getBounds))))(VariableDeclarationStatement(SimpleType(SimpleName:Control))(VariableDeclarationFragment(SimpleName:figureCanvas)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:graphicalViewer))(SimpleName:getControl))))(VariableDeclarationStatement(SimpleType(SimpleName:GC))(VariableDeclarationFragment(SimpleName:figureCanvasGC)(ClassInstanceCreation(SimpleType(SimpleName:GC))(SimpleName:figureCanvas))))(VariableDeclarationStatement(SimpleType(SimpleName:Image))(VariableDeclarationFragment(SimpleName:image)(ClassInstanceCreation(SimpleType(SimpleName:Image))(NullLiteral)(QualifiedName:figureBounds.width)(QualifiedName:figureBounds.height))))(VariableDeclarationStatement(SimpleType(SimpleName:GC))(VariableDeclarationFragment(SimpleName:imageGC)(ClassInstanceCreation(SimpleType(SimpleName:GC))(SimpleName:image))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:imageGC))(SimpleName:setBackground)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:figureCanvasGC))(SimpleName:getBackground)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:imageGC))(SimpleName:setForeground)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:figureCanvasGC))(SimpleName:getForeground)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:imageGC))(SimpleName:setFont)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:figureCanvasGC))(SimpleName:getFont)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:imageGC))(SimpleName:setLineStyle)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:figureCanvasGC))(SimpleName:getLineStyle)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:imageGC))(SimpleName:setLineWidth)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:figureCanvasGC))(SimpleName:getLineWidth)))))(VariableDeclarationStatement(SimpleType(SimpleName:Graphics))(VariableDeclarationFragment(SimpleName:imgGraphics)(ClassInstanceCreation(SimpleType(SimpleName:SWTGraphics))(SimpleName:imageGC))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:rootFigure))(SimpleName:paint)(METHOD_INVOCATION_ARGUMENTS(SimpleName:imgGraphics))))(VariableDeclarationStatement(ArrayType(SimpleType(SimpleName:ImageData))(Dimension))(VariableDeclarationFragment(SimpleName:imageData)(ArrayCreation(ArrayType(SimpleType(SimpleName:ImageData))(Dimension(NumberLiteral:1))))))(ExpressionStatement(Assignment(ArrayAccess(SimpleName:imageData)(NumberLiteral:0))(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:image))(SimpleName:getImageData))))(VariableDeclarationStatement(SimpleType(SimpleName:ImageLoader))(VariableDeclarationFragment(SimpleName:imageLoader)(ClassInstanceCreation(SimpleType(SimpleName:ImageLoader)))))(ExpressionStatement(Assignment(QualifiedName:imageLoader.data)(ASSIGNMENT_OPERATOR:=)(SimpleName:imageData)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:imageLoader))(SimpleName:save)(METHOD_INVOCATION_ARGUMENTS(SimpleName:saveFilePath)(SimpleName:format))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:figureCanvasGC))(SimpleName:dispose)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:imageGC))(SimpleName:dispose)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:image))(SimpleName:dispose)))(ReturnStatement(BooleanLiteral:true)))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:Exception))(SimpleName:e))(Block(ReturnStatement(BooleanLiteral:false)))))))))