(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:public)(Modifier:final)(PrimitiveType:void)(SimpleName:responseBody)(SingleVariableDeclaration(ArrayType(SimpleType(SimpleName:ByteBuffer))(Dimension))(SimpleName:buffers))(Block(ExpressionStatement(Assignment(SimpleName:responseWriteBodyApl)(ASSIGNMENT_OPERATOR:+=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:BuffersUtil))(SimpleName:remaining)(METHOD_INVOCATION_ARGUMENTS(SimpleName:buffers)))))(VariableDeclarationStatement(PrimitiveType:boolean)(VariableDeclarationFragment(SimpleName:isCallbackOnWrittenBody)(BooleanLiteral:false)))(SynchronizedStatement(ThisExpression)(Block(IfStatement(InfixExpression(MethodInvocation(SimpleName:getChannelId))(INFIX_EXPRESSION_OPERATOR:==)(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:-)(NumberLiteral:1)))(Block(ReturnStatement)))(IfStatement(InfixExpression(InfixExpression(SimpleName:isFlushFirstResponse)(INFIX_EXPRESSION_OPERATOR:==)(BooleanLiteral:false))(INFIX_EXPRESSION_OPERATOR:&&)(InfixExpression(SimpleName:firstBody)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral)))(Block(ExpressionStatement(MethodInvocation(SimpleName:flushFirstResponse)(METHOD_INVOCATION_ARGUMENTS(SimpleName:buffers))))(ExpressionStatement(Assignment(SimpleName:isFlushFirstResponse)(ASSIGNMENT_OPERATOR:=)(BooleanLiteral:true)))(ReturnStatement))(IfStatement(InfixExpression(InfixExpression(SimpleName:isFlushFirstResponse)(INFIX_EXPRESSION_OPERATOR:==)(BooleanLiteral:false))(INFIX_EXPRESSION_OPERATOR:&&)(InfixExpression(SimpleName:firstBody)(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral)))(Block(ExpressionStatement(Assignment(SimpleName:firstBody)(ASSIGNMENT_OPERATOR:=)(SimpleName:buffers)))(ExpressionStatement(Assignment(SimpleName:isCallbackOnWrittenBody)(ASSIGNMENT_OPERATOR:=)(BooleanLiteral:true))))))))(IfStatement(SimpleName:isCallbackOnWrittenBody)(Block(ExpressionStatement(MethodInvocation(SimpleName:onWrittenBody)))(ReturnStatement)))(IfStatement(SimpleName:isFlushFirstResponse)(Block(ExpressionStatement(Assignment(SimpleName:buffers)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(SimpleName:zipedIfNeed)(METHOD_INVOCATION_ARGUMENTS(BooleanLiteral:false)(SimpleName:buffers)))))(IfStatement(InfixExpression(SimpleName:buffers)(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(Block(ExpressionStatement(MethodInvocation(SimpleName:onWrittenBody))))(Block(ExpressionStatement(MethodInvocation(SimpleName:internalWriteBody)(METHOD_INVOCATION_ARGUMENTS(BooleanLiteral:false)(BooleanLiteral:true)(SimpleName:buffers))))))))(IfStatement(MethodInvocation(SimpleName:needMoreResponse))(Block(ReturnStatement)))(ExpressionStatement(MethodInvocation(SimpleName:responseEnd)))))))