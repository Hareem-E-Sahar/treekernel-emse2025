(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:public)(PrimitiveType:void)(SimpleName:write)(SingleVariableDeclaration(SimpleType(SimpleName:Tag))(SimpleName:tag))(SingleVariableDeclaration(SimpleType(SimpleName:RandomAccessFile))(SimpleName:raf))(SingleVariableDeclaration(SimpleType(SimpleName:RandomAccessFile))(SimpleName:rafTemp))(SimpleType(SimpleName:CannotWriteException))(SimpleType(SimpleName:IOException))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:logger))(SimpleName:info)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:metadataBlockPadding))(SimpleName:clear)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:metadataBlockApplication))(SimpleName:clear)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:metadataBlockSeekTable))(SimpleName:clear)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:metadataBlockCueSheet))(SimpleName:clear)))(VariableDeclarationStatement(ArrayType(PrimitiveType:byte)(Dimension))(VariableDeclarationFragment(SimpleName:b)(ArrayCreation(ArrayType(PrimitiveType:byte)(Dimension(QualifiedName:FlacStream.FLAC_STREAM_IDENTIFIER_LENGTH))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:raf))(SimpleName:readFully)(METHOD_INVOCATION_ARGUMENTS(SimpleName:b))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:flac)(ClassInstanceCreation(SimpleType(SimpleName:String))(SimpleName:b))))(IfStatement(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:flac))(SimpleName:equals)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:FlacStream.FLAC_STREAM_IDENTIFIER))))(Block(ThrowStatement(ClassInstanceCreation(SimpleType(SimpleName:CannotWriteException))(StringLiteral:<STR>)))))(VariableDeclarationStatement(PrimitiveType:boolean)(VariableDeclarationFragment(SimpleName:isLastBlock)(BooleanLiteral:false)))(WhileStatement(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(SimpleName:isLastBlock))(Block(VariableDeclarationStatement(SimpleType(SimpleName:MetadataBlockHeader))(VariableDeclarationFragment(SimpleName:mbh)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:MetadataBlockHeader))(SimpleName:readHeader)(METHOD_INVOCATION_ARGUMENTS(SimpleName:raf)))))(SwitchStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:mbh))(SimpleName:getBlockType))(SwitchCase(SimpleName:VORBIS_COMMENT))(SwitchCase(SimpleName:PADDING))(SwitchCase(SimpleName:PICTURE))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:raf))(SimpleName:seek)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:raf))(SimpleName:getFilePointer))(INFIX_EXPRESSION_OPERATOR:+)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:mbh))(SimpleName:getDataLength))))))(VariableDeclarationStatement(SimpleType(SimpleName:MetadataBlockData))(VariableDeclarationFragment(SimpleName:mbd)(ClassInstanceCreation(SimpleType(SimpleName:MetadataBlockDataPadding))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:mbh))(SimpleName:getDataLength)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:metadataBlockPadding))(SimpleName:add)(METHOD_INVOCATION_ARGUMENTS(ClassInstanceCreation(SimpleType(SimpleName:MetadataBlock))(SimpleName:mbh)(SimpleName:mbd)))))(BreakStatement))(SwitchCase(SimpleName:APPLICATION))(Block(VariableDeclarationStatement(SimpleType(SimpleName:MetadataBlockData))(VariableDeclarationFragment(SimpleName:mbd)(ClassInstanceCreation(SimpleType(SimpleName:MetadataBlockDataApplication))(SimpleName:mbh)(SimpleName:raf))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:metadataBlockApplication))(SimpleName:add)(METHOD_INVOCATION_ARGUMENTS(ClassInstanceCreation(SimpleType(SimpleName:MetadataBlock))(SimpleName:mbh)(SimpleName:mbd)))))(BreakStatement))(SwitchCase(SimpleName:SEEKTABLE))(Block(VariableDeclarationStatement(SimpleType(SimpleName:MetadataBlockData))(VariableDeclarationFragment(SimpleName:mbd)(ClassInstanceCreation(SimpleType(SimpleName:MetadataBlockDataSeekTable))(SimpleName:mbh)(SimpleName:raf))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:metadataBlockSeekTable))(SimpleName:add)(METHOD_INVOCATION_ARGUMENTS(ClassInstanceCreation(SimpleType(SimpleName:MetadataBlock))(SimpleName:mbh)(SimpleName:mbd)))))(BreakStatement))(SwitchCase(SimpleName:CUESHEET))(Block(VariableDeclarationStatement(SimpleType(SimpleName:MetadataBlockData))(VariableDeclarationFragment(SimpleName:mbd)(ClassInstanceCreation(SimpleType(SimpleName:MetadataBlockDataCueSheet))(SimpleName:mbh)(SimpleName:raf))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:metadataBlockCueSheet))(SimpleName:add)(METHOD_INVOCATION_ARGUMENTS(ClassInstanceCreation(SimpleType(SimpleName:MetadataBlock))(SimpleName:mbh)(SimpleName:mbd)))))(BreakStatement))(SwitchCase)(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:raf))(SimpleName:seek)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:raf))(SimpleName:getFilePointer))(INFIX_EXPRESSION_OPERATOR:+)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:mbh))(SimpleName:getDataLength))))))(BreakStatement)))(ExpressionStatement(Assignment(SimpleName:isLastBlock)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:mbh))(SimpleName:isLastBlock))))))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:availableRoom)(MethodInvocation(SimpleName:computeAvailableRoom))))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:newTagSize)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:tc))(SimpleName:convert)(METHOD_INVOCATION_ARGUMENTS(SimpleName:tag))))(SimpleName:limit))))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:neededRoom)(InfixExpression(SimpleName:newTagSize)(INFIX_EXPRESSION_OPERATOR:+)(MethodInvocation(SimpleName:computeNeededRoom)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:raf))(SimpleName:seek)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:0))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:logger))(SimpleName:info)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:availableRoom)(StringLiteral:<STR>)(SimpleName:neededRoom)))))(IfStatement(InfixExpression(ParenthesizedExpression(InfixExpression(SimpleName:availableRoom)(INFIX_EXPRESSION_OPERATOR:==)(SimpleName:neededRoom)))(INFIX_EXPRESSION_OPERATOR:||)(ParenthesizedExpression(InfixExpression(SimpleName:availableRoom)(INFIX_EXPRESSION_OPERATOR:>)(InfixExpression(SimpleName:neededRoom)(INFIX_EXPRESSION_OPERATOR:+)(QualifiedName:MetadataBlockHeader.HEADER_LENGTH)))))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:raf))(SimpleName:seek)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(QualifiedName:FlacStream.FLAC_STREAM_IDENTIFIER_LENGTH)(INFIX_EXPRESSION_OPERATOR:+)(QualifiedName:MetadataBlockHeader.HEADER_LENGTH)(QualifiedName:MetadataBlockDataStreamInfo.STREAM_INFO_DATA_LENGTH)))))(ForStatement(VariableDeclarationExpression(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:i)(NumberLiteral:0)))(InfixExpression(SimpleName:i)(INFIX_EXPRESSION_OPERATOR:<)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:metadataBlockApplication))(SimpleName:size)))(PostfixExpression(SimpleName:i)(POSTFIX_EXPRESSION_OPERATOR:++))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:raf))(SimpleName:write)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:metadataBlockApplication))(SimpleName:get)(METHOD_INVOCATION_ARGUMENTS(SimpleName:i))))(SimpleName:getHeader)))(SimpleName:getBytesWithoutIsLastBlockFlag)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:raf))(SimpleName:write)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:metadataBlockApplication))(SimpleName:get)(METHOD_INVOCATION_ARGUMENTS(SimpleName:i))))(SimpleName:getData)))(SimpleName:getBytes)))))))(ForStatement(VariableDeclarationExpression(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:i)(NumberLiteral:0)))(InfixExpression(SimpleName:i)(INFIX_EXPRESSION_OPERATOR:<)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:metadataBlockSeekTable))(SimpleName:size)))(PostfixExpression(SimpleName:i)(POSTFIX_EXPRESSION_OPERATOR:++))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:raf))(SimpleName:write)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:metadataBlockSeekTable))(SimpleName:get)(METHOD_INVOCATION_ARGUMENTS(SimpleName:i))))(SimpleName:getHeader)))(SimpleName:getBytesWithoutIsLastBlockFlag)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:raf))(SimpleName:write)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:metadataBlockSeekTable))(SimpleName:get)(METHOD_INVOCATION_ARGUMENTS(SimpleName:i))))(SimpleName:getData)))(SimpleName:getBytes)))))))(ForStatement(VariableDeclarationExpression(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:i)(NumberLiteral:0)))(InfixExpression(SimpleName:i)(INFIX_EXPRESSION_OPERATOR:<)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:metadataBlockCueSheet))(SimpleName:size)))(PostfixExpression(SimpleName:i)(POSTFIX_EXPRESSION_OPERATOR:++))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:raf))(SimpleName:write)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:metadataBlockCueSheet))(SimpleName:get)(METHOD_INVOCATION_ARGUMENTS(SimpleName:i))))(SimpleName:getHeader)))(SimpleName:getBytesWithoutIsLastBlockFlag)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:raf))(SimpleName:write)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:metadataBlockCueSheet))(SimpleName:get)(METHOD_INVOCATION_ARGUMENTS(SimpleName:i))))(SimpleName:getData)))(SimpleName:getBytes)))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:raf))(SimpleName:getChannel)))(SimpleName:write)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:tc))(SimpleName:convert)(METHOD_INVOCATION_ARGUMENTS(SimpleName:tag)(InfixExpression(SimpleName:availableRoom)(INFIX_EXPRESSION_OPERATOR:-)(SimpleName:neededRoom))))))))(Block(VariableDeclarationStatement(SimpleType(SimpleName:FileChannel))(VariableDeclarationFragment(SimpleName:fc)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:raf))(SimpleName:getChannel))))(ExpressionStatement(Assignment(SimpleName:b)(ASSIGNMENT_OPERATOR:=)(ArrayCreation(ArrayType(PrimitiveType:byte)(Dimension(InfixExpression(QualifiedName:FlacStream.FLAC_STREAM_IDENTIFIER_LENGTH)(INFIX_EXPRESSION_OPERATOR:+)(QualifiedName:MetadataBlockHeader.HEADER_LENGTH)(QualifiedName:MetadataBlockDataStreamInfo.STREAM_INFO_DATA_LENGTH)))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:raf))(SimpleName:readFully)(METHOD_INVOCATION_ARGUMENTS(SimpleName:b))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:raf))(SimpleName:seek)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(SimpleName:availableRoom)(INFIX_EXPRESSION_OPERATOR:+)(QualifiedName:FlacStream.FLAC_STREAM_IDENTIFIER_LENGTH)(QualifiedName:MetadataBlockHeader.HEADER_LENGTH)(QualifiedName:MetadataBlockDataStreamInfo.STREAM_INFO_DATA_LENGTH)))))(VariableDeclarationStatement(SimpleType(SimpleName:FileChannel))(VariableDeclarationFragment(SimpleName:tempFC)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:rafTemp))(SimpleName:getChannel))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:rafTemp))(SimpleName:write)(METHOD_INVOCATION_ARGUMENTS(SimpleName:b))))(ForStatement(VariableDeclarationExpression(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:i)(NumberLiteral:0)))(InfixExpression(SimpleName:i)(INFIX_EXPRESSION_OPERATOR:<)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:metadataBlockApplication))(SimpleName:size)))(PostfixExpression(SimpleName:i)(POSTFIX_EXPRESSION_OPERATOR:++))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:rafTemp))(SimpleName:write)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:metadataBlockApplication))(SimpleName:get)(METHOD_INVOCATION_ARGUMENTS(SimpleName:i))))(SimpleName:getHeader)))(SimpleName:getBytesWithoutIsLastBlockFlag)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:rafTemp))(SimpleName:write)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:metadataBlockApplication))(SimpleName:get)(METHOD_INVOCATION_ARGUMENTS(SimpleName:i))))(SimpleName:getData)))(SimpleName:getBytes)))))))(ForStatement(VariableDeclarationExpression(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:i)(NumberLiteral:0)))(InfixExpression(SimpleName:i)(INFIX_EXPRESSION_OPERATOR:<)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:metadataBlockSeekTable))(SimpleName:size)))(PostfixExpression(SimpleName:i)(POSTFIX_EXPRESSION_OPERATOR:++))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:rafTemp))(SimpleName:write)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:metadataBlockSeekTable))(SimpleName:get)(METHOD_INVOCATION_ARGUMENTS(SimpleName:i))))(SimpleName:getHeader)))(SimpleName:getBytesWithoutIsLastBlockFlag)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:rafTemp))(SimpleName:write)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:metadataBlockSeekTable))(SimpleName:get)(METHOD_INVOCATION_ARGUMENTS(SimpleName:i))))(SimpleName:getData)))(SimpleName:getBytes)))))))(ForStatement(VariableDeclarationExpression(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:i)(NumberLiteral:0)))(InfixExpression(SimpleName:i)(INFIX_EXPRESSION_OPERATOR:<)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:metadataBlockCueSheet))(SimpleName:size)))(PostfixExpression(SimpleName:i)(POSTFIX_EXPRESSION_OPERATOR:++))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:rafTemp))(SimpleName:write)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:metadataBlockCueSheet))(SimpleName:get)(METHOD_INVOCATION_ARGUMENTS(SimpleName:i))))(SimpleName:getHeader)))(SimpleName:getBytesWithoutIsLastBlockFlag)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:rafTemp))(SimpleName:write)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:metadataBlockCueSheet))(SimpleName:get)(METHOD_INVOCATION_ARGUMENTS(SimpleName:i))))(SimpleName:getData)))(SimpleName:getBytes)))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:rafTemp))(SimpleName:write)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:tc))(SimpleName:convert)(METHOD_INVOCATION_ARGUMENTS(SimpleName:tag)(QualifiedName:FlacTagCreator.DEFAULT_PADDING))))(SimpleName:array)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:tempFC))(SimpleName:transferFrom)(METHOD_INVOCATION_ARGUMENTS(SimpleName:fc)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:tempFC))(SimpleName:position))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fc))(SimpleName:size)))))))))))