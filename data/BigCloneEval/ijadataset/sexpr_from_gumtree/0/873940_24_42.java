(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:public)(SimpleName:EncodedScript)(SingleVariableDeclaration(SimpleType(SimpleName:PackageScript))(SimpleName:source))(SingleVariableDeclaration(SimpleType(SimpleName:DpkgData))(SimpleName:data))(SimpleType(SimpleName:IOException))(Block(ExpressionStatement(Assignment(SimpleName:_source)(ASSIGNMENT_OPERATOR:=)(SimpleName:source)))(VariableDeclarationStatement(Modifier:final)(SimpleType(SimpleName:ByteArrayOutputStream))(VariableDeclarationFragment(SimpleName:bytes)(ClassInstanceCreation(SimpleType(SimpleName:ByteArrayOutputStream)))))(VariableDeclarationStatement(SimpleType(SimpleName:OutputStream))(VariableDeclarationFragment(SimpleName:output)(NullLiteral)))(TryStatement(Block(ExpressionStatement(Assignment(SimpleName:output)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:MimeUtility))(SimpleName:encode)(METHOD_INVOCATION_ARGUMENTS(SimpleName:bytes)(SimpleName:BASE64))))))(CatchClause(SingleVariableDeclaration(Modifier:final)(SimpleType(SimpleName:MessagingException))(SimpleName:e))(Block(ThrowStatement(ClassInstanceCreation(SimpleType(SimpleName:IOException))(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:_source))(SimpleName:getFriendlyName))(StringLiteral:<STR>)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:e))(SimpleName:getMessage))(StringLiteral:<STR>)))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:IOUtils))(SimpleName:write)(METHOD_INVOCATION_ARGUMENTS(SimpleName:HEADER)(SimpleName:bytes)(QualifiedName:Dpkg.CHAR_ENCODING))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:bytes))(SimpleName:flush)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:IOUtils))(SimpleName:copy)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:_source))(SimpleName:getSource)(METHOD_INVOCATION_ARGUMENTS(SimpleName:data)))(SimpleName:output))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:output))(SimpleName:flush)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:IOUtils))(SimpleName:write)(METHOD_INVOCATION_ARGUMENTS(SimpleName:FOOTER)(SimpleName:bytes)(QualifiedName:Dpkg.CHAR_ENCODING))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:bytes))(SimpleName:flush)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:output))(SimpleName:close)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:bytes))(SimpleName:close)))(ExpressionStatement(Assignment(SimpleName:_encoded)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:bytes))(SimpleName:toString)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:Dpkg.CHAR_ENCODING)))))))))