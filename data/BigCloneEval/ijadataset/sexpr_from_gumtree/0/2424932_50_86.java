(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:public)(SimpleType(SimpleName:String))(SimpleName:preprocess)(SingleVariableDeclaration(SimpleType(SimpleName:String))(SimpleName:wikitext))(Block(VariableDeclarationStatement(SimpleType(SimpleName:Pattern))(VariableDeclarationFragment(SimpleName:linkInALink)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Pattern))(SimpleName:compile)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))))(VariableDeclarationStatement(SimpleType(SimpleName:Pattern))(VariableDeclarationFragment(SimpleName:innerlink)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Pattern))(SimpleName:compile)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))))(VariableDeclarationStatement(SimpleType(SimpleName:Matcher))(VariableDeclarationFragment(SimpleName:m)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:linkInALink))(SimpleName:matcher)(METHOD_INVOCATION_ARGUMENTS(SimpleName:wikitext)))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:processed)(ClassInstanceCreation(SimpleType(SimpleName:String))(StringLiteral:<STR>))))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:mindex)(NumberLiteral:0)))(WhileStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:m))(SimpleName:find))(Block(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:toreplace)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:m))(SimpleName:group))))(VariableDeclarationStatement(SimpleType(SimpleName:Matcher))(VariableDeclarationFragment(SimpleName:m2)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:innerlink))(SimpleName:matcher)(METHOD_INVOCATION_ARGUMENTS(SimpleName:toreplace)))))(ExpressionStatement(Assignment(SimpleName:processed)(ASSIGNMENT_OPERATOR:=)(InfixExpression(SimpleName:processed)(INFIX_EXPRESSION_OPERATOR:+)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:wikitext))(SimpleName:substring)(METHOD_INVOCATION_ARGUMENTS(SimpleName:mindex)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:m))(SimpleName:start)))))))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:currentindex)(NumberLiteral:0)))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:replaced)(ClassInstanceCreation(SimpleType(SimpleName:String))(StringLiteral:<STR>))))(WhileStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:m2))(SimpleName:find))(Block(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:linktext)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:m2))(SimpleName:group)))(SimpleName:substring)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:2)(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:m2))(SimpleName:group)))(SimpleName:length))(INFIX_EXPRESSION_OPERATOR:-)(NumberLiteral:2))))))(VariableDeclarationStatement(ArrayType(SimpleType(SimpleName:String))(Dimension))(VariableDeclarationFragment(SimpleName:sp)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:linktext))(SimpleName:split)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))))(IfStatement(InfixExpression(QualifiedName:sp.length)(INFIX_EXPRESSION_OPERATOR:==)(NumberLiteral:2))(Block(ExpressionStatement(Assignment(SimpleName:linktext)(ASSIGNMENT_OPERATOR:=)(ArrayAccess(SimpleName:sp)(NumberLiteral:1))))))(ExpressionStatement(Assignment(SimpleName:replaced)(ASSIGNMENT_OPERATOR:=)(InfixExpression(SimpleName:replaced)(INFIX_EXPRESSION_OPERATOR:+)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:toreplace))(SimpleName:substring)(METHOD_INVOCATION_ARGUMENTS(SimpleName:currentindex)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:m2))(SimpleName:start))))(SimpleName:linktext))))(ExpressionStatement(Assignment(SimpleName:currentindex)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:m2))(SimpleName:end))))))(ExpressionStatement(Assignment(SimpleName:replaced)(ASSIGNMENT_OPERATOR:=)(InfixExpression(SimpleName:replaced)(INFIX_EXPRESSION_OPERATOR:+)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:toreplace))(SimpleName:substring)(METHOD_INVOCATION_ARGUMENTS(SimpleName:currentindex))))))(ExpressionStatement(Assignment(SimpleName:processed)(ASSIGNMENT_OPERATOR:=)(InfixExpression(SimpleName:processed)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:replaced))))(ExpressionStatement(Assignment(SimpleName:mindex)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:m))(SimpleName:end))))))(ExpressionStatement(Assignment(SimpleName:processed)(ASSIGNMENT_OPERATOR:=)(InfixExpression(SimpleName:processed)(INFIX_EXPRESSION_OPERATOR:+)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:wikitext))(SimpleName:substring)(METHOD_INVOCATION_ARGUMENTS(SimpleName:mindex))))))(VariableDeclarationStatement(SimpleType(SimpleName:Pattern))(VariableDeclarationFragment(SimpleName:linksequence)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Pattern))(SimpleName:compile)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))))(VariableDeclarationStatement(SimpleType(SimpleName:Matcher))(VariableDeclarationFragment(SimpleName:fm)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:linksequence))(SimpleName:matcher)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:wikitext))(SimpleName:substring)(METHOD_INVOCATION_ARGUMENTS(SimpleName:mindex)))))))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:tail)(NumberLiteral:0)))(WhileStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fm))(SimpleName:find))(Block(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fm))(SimpleName:hitEnd))(Block(ExpressionStatement(Assignment(SimpleName:tail)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fm))(SimpleName:group)))(SimpleName:length))))))))(ExpressionStatement(Assignment(SimpleName:processed)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:processed))(SimpleName:substring)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:0)(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:processed))(SimpleName:length))(INFIX_EXPRESSION_OPERATOR:-)(SimpleName:tail))))))(ReturnStatement(SimpleName:processed))))))