(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(SingleMemberAnnotation(SimpleName:SuppressWarnings)(StringLiteral:<STR>))(Modifier:public)(Modifier:synchronized)(PrimitiveType:void)(SimpleName:commit)(SimpleType(SimpleName:IOException))(Block(VariableDeclarationStatement(Modifier:final)(SimpleType(SimpleName:SwapBuffer))(VariableDeclarationFragment(SimpleName:owner)(FieldAccess(ThisExpression)(SimpleName:owner))))(IfStatement(InfixExpression(SimpleName:owner)(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(ThrowStatement(ClassInstanceCreation(SimpleType(SimpleName:ClosedChannelException)))))(VariableDeclarationStatement(SimpleType(SimpleName:FileOutputStream))(VariableDeclarationFragment(SimpleName:out)(CastExpression(SimpleType(SimpleName:FileOutputStream))(MethodInvocation(SimpleName:getOut)))))(IfStatement(InfixExpression(SimpleName:out)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(VariableDeclarationStatement(Modifier:final)(SimpleType(SimpleName:File))(VariableDeclarationFragment(SimpleName:file)(FieldAccess(ThisExpression)(SimpleName:file))))(TryStatement(Block(ExpressionStatement(MethodInvocation(SimpleName:flush)))(VariableDeclarationStatement(SimpleType(SimpleName:FileChannel))(VariableDeclarationFragment(SimpleName:fc)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:out))(SimpleName:getChannel))))(VariableDeclarationStatement(Modifier:final)(PrimitiveType:long)(VariableDeclarationFragment(SimpleName:size)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fc))(SimpleName:size))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fc))(SimpleName:force)(METHOD_INVOCATION_ARGUMENTS(BooleanLiteral:true))))(ExpressionStatement(Assignment(SimpleName:fc)(ASSIGNMENT_OPERATOR:=)(NullLiteral)))(ExpressionStatement(Assignment(SimpleName:out)(ASSIGNMENT_OPERATOR:=)(NullLiteral)))(ExpressionStatement(Assignment(FieldAccess(ThisExpression)(SimpleName:file))(ASSIGNMENT_OPERATOR:=)(NullLiteral)))(ExpressionStatement(MethodInvocation(SimpleName:close)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:owner))(SimpleName:update)(METHOD_INVOCATION_ARGUMENTS(ClassInstanceCreation(SimpleType(SimpleName:ContentInFile))(SimpleName:owner)(SimpleName:file)(SimpleName:size)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:file))(SimpleName:lastModified)))))))(CatchClause(SingleVariableDeclaration(Modifier:final)(SimpleType(SimpleName:IOException))(SimpleName:ex))(Block(ExpressionStatement(Assignment(FieldAccess(ThisExpression)(SimpleName:file))(ASSIGNMENT_OPERATOR:=)(SimpleName:file)))(TryStatement(Block(ExpressionStatement(MethodInvocation(SimpleName:close))))(Block(ThrowStatement(SimpleName:ex))))))(Block(ExpressionStatement(Assignment(FieldAccess(ThisExpression)(SimpleName:owner))(ASSIGNMENT_OPERATOR:=)(NullLiteral))))))(Block(ExpressionStatement(Assignment(FieldAccess(ThisExpression)(SimpleName:owner))(ASSIGNMENT_OPERATOR:=)(NullLiteral)))(VariableDeclarationStatement(SimpleType(SimpleName:ByteBuffer))(VariableDeclarationFragment(SimpleName:memoryBuffer)(MethodInvocation(SimpleName:getBuffer))))(ExpressionStatement(MethodInvocation(SimpleName:close)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:memoryBuffer))(SimpleName:flip)))(IfStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:memoryBuffer))(SimpleName:remaining))(INFIX_EXPRESSION_OPERATOR:!=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:memoryBuffer))(SimpleName:capacity)))(Block(VariableDeclarationStatement(SimpleType(SimpleName:ByteBuffer))(VariableDeclarationFragment(SimpleName:newBuffer)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ByteBuffer))(SimpleName:allocate)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:memoryBuffer))(SimpleName:remaining))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:newBuffer))(SimpleName:put)(METHOD_INVOCATION_ARGUMENTS(SimpleName:memoryBuffer))))(ExpressionStatement(Assignment(SimpleName:memoryBuffer)(ASSIGNMENT_OPERATOR:=)(SimpleName:newBuffer)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:newBuffer))(SimpleName:flip)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:owner))(SimpleName:update)(METHOD_INVOCATION_ARGUMENTS(ClassInstanceCreation(SimpleType(SimpleName:ContentInMemory))(SimpleName:owner)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:System))(SimpleName:currentTimeMillis))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:memoryBuffer))(SimpleName:duplicate))))))))))))