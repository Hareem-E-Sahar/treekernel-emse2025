(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:public)(PrimitiveType:void)(SimpleName:createModifiedCopy)(SingleVariableDeclaration(Modifier:final)(SimpleType(SimpleName:InputStream))(SimpleName:source))(SingleVariableDeclaration(Modifier:final)(SimpleType(SimpleName:OutputStream))(SimpleName:dest))(SingleVariableDeclaration(Modifier:final)(ParameterizedType(SimpleType(SimpleName:List))(SimpleType(SimpleName:ChunkModifier)))(SimpleName:modifiers))(SimpleType(SimpleName:IOException))(Block(VariableDeclarationStatement(Modifier:final)(ParameterizedType(SimpleType(SimpleName:List))(SimpleType(SimpleName:ChunkModifier)))(VariableDeclarationFragment(SimpleName:modders)(ClassInstanceCreation(ParameterizedType(SimpleType(SimpleName:ArrayList))(SimpleType(SimpleName:ChunkModifier))))))(IfStatement(InfixExpression(SimpleName:modifiers)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:modders))(SimpleName:addAll)(METHOD_INVOCATION_ARGUMENTS(SimpleName:modifiers))))))(VariableDeclarationStatement(Modifier:final)(SimpleType(SimpleName:GUID))(VariableDeclarationFragment(SimpleName:readGUID)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Utils))(SimpleName:readGUID)(METHOD_INVOCATION_ARGUMENTS(SimpleName:source)))))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(QualifiedName:GUID.GUID_HEADER))(SimpleName:equals)(METHOD_INVOCATION_ARGUMENTS(SimpleName:readGUID)))(Block(VariableDeclarationStatement(PrimitiveType:long)(VariableDeclarationFragment(SimpleName:totalDiff)(NumberLiteral:0)))(VariableDeclarationStatement(PrimitiveType:long)(VariableDeclarationFragment(SimpleName:chunkDiff)(NumberLiteral:0)))(VariableDeclarationStatement(Modifier:final)(PrimitiveType:long)(VariableDeclarationFragment(SimpleName:headerSize)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Utils))(SimpleName:readUINT64)(METHOD_INVOCATION_ARGUMENTS(SimpleName:source)))))(VariableDeclarationStatement(Modifier:final)(PrimitiveType:long)(VariableDeclarationFragment(SimpleName:chunkCount)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Utils))(SimpleName:readUINT32)(METHOD_INVOCATION_ARGUMENTS(SimpleName:source)))))(VariableDeclarationStatement(Modifier:final)(ArrayType(PrimitiveType:byte)(Dimension))(VariableDeclarationFragment(SimpleName:reserved)(ArrayCreation(ArrayType(PrimitiveType:byte)(Dimension(NumberLiteral:2))))))(ExpressionStatement(Assignment(ArrayAccess(SimpleName:reserved)(NumberLiteral:0))(ASSIGNMENT_OPERATOR:=)(CastExpression(PrimitiveType:byte)(ParenthesizedExpression(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:source))(SimpleName:read))(INFIX_EXPRESSION_OPERATOR:&)(NumberLiteral:0xFF))))))(ExpressionStatement(Assignment(ArrayAccess(SimpleName:reserved)(NumberLiteral:1))(ASSIGNMENT_OPERATOR:=)(CastExpression(PrimitiveType:byte)(ParenthesizedExpression(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:source))(SimpleName:read))(INFIX_EXPRESSION_OPERATOR:&)(NumberLiteral:0xFF))))))(VariableDeclarationStatement(Modifier:final)(SimpleType(SimpleName:ByteArrayOutputStream))(VariableDeclarationFragment(SimpleName:bos)(ClassInstanceCreation(SimpleType(SimpleName:ByteArrayOutputStream)))))(VariableDeclarationStatement(ArrayType(PrimitiveType:byte)(Dimension))(VariableDeclarationFragment(SimpleName:fileHeader)(NullLiteral)))(ForStatement(VariableDeclarationExpression(PrimitiveType:long)(VariableDeclarationFragment(SimpleName:i)(NumberLiteral:0)))(InfixExpression(SimpleName:i)(INFIX_EXPRESSION_OPERATOR:<)(SimpleName:chunkCount))(PostfixExpression(SimpleName:i)(POSTFIX_EXPRESSION_OPERATOR:++))(Block(VariableDeclarationStatement(Modifier:final)(SimpleType(SimpleName:GUID))(VariableDeclarationFragment(SimpleName:curr)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Utils))(SimpleName:readGUID)(METHOD_INVOCATION_ARGUMENTS(SimpleName:source)))))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(QualifiedName:GUID.GUID_FILE))(SimpleName:equals)(METHOD_INVOCATION_ARGUMENTS(SimpleName:curr)))(Block(VariableDeclarationStatement(Modifier:final)(SimpleType(SimpleName:ByteArrayOutputStream))(VariableDeclarationFragment(SimpleName:tmp)(ClassInstanceCreation(SimpleType(SimpleName:ByteArrayOutputStream)))))(VariableDeclarationStatement(Modifier:final)(PrimitiveType:long)(VariableDeclarationFragment(SimpleName:size)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Utils))(SimpleName:readUINT64)(METHOD_INVOCATION_ARGUMENTS(SimpleName:source)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Utils))(SimpleName:writeUINT64)(METHOD_INVOCATION_ARGUMENTS(SimpleName:size)(SimpleName:tmp))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Utils))(SimpleName:copy)(METHOD_INVOCATION_ARGUMENTS(SimpleName:source)(SimpleName:tmp)(InfixExpression(SimpleName:size)(INFIX_EXPRESSION_OPERATOR:-)(NumberLiteral:24)))))(ExpressionStatement(Assignment(SimpleName:fileHeader)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:tmp))(SimpleName:toByteArray)))))(Block(VariableDeclarationStatement(PrimitiveType:boolean)(VariableDeclarationFragment(SimpleName:handled)(BooleanLiteral:false)))(ForStatement(VariableDeclarationExpression(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:j)(NumberLiteral:0)))(InfixExpression(InfixExpression(SimpleName:j)(INFIX_EXPRESSION_OPERATOR:<)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:modders))(SimpleName:size)))(INFIX_EXPRESSION_OPERATOR:&&)(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(SimpleName:handled)))(PostfixExpression(SimpleName:j)(POSTFIX_EXPRESSION_OPERATOR:++))(Block(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:modders))(SimpleName:get)(METHOD_INVOCATION_ARGUMENTS(SimpleName:j))))(SimpleName:isApplicable)(METHOD_INVOCATION_ARGUMENTS(SimpleName:curr)))(Block(VariableDeclarationStatement(Modifier:final)(SimpleType(SimpleName:ModificationResult))(VariableDeclarationFragment(SimpleName:result)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:modders))(SimpleName:get)(METHOD_INVOCATION_ARGUMENTS(SimpleName:j))))(SimpleName:modify)(METHOD_INVOCATION_ARGUMENTS(SimpleName:curr)(SimpleName:source)(SimpleName:bos)))))(ExpressionStatement(Assignment(SimpleName:chunkDiff)(ASSIGNMENT_OPERATOR:+=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:result))(SimpleName:getChunkCountDifference))))(ExpressionStatement(Assignment(SimpleName:totalDiff)(ASSIGNMENT_OPERATOR:+=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:result))(SimpleName:getByteDifference))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:modders))(SimpleName:remove)(METHOD_INVOCATION_ARGUMENTS(SimpleName:j))))(ExpressionStatement(Assignment(SimpleName:handled)(ASSIGNMENT_OPERATOR:=)(BooleanLiteral:true)))))))(IfStatement(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(SimpleName:handled))(Block(ExpressionStatement(MethodInvocation(SimpleName:copyChunk)(METHOD_INVOCATION_ARGUMENTS(SimpleName:curr)(SimpleName:source)(SimpleName:bos))))))))))(EnhancedForStatement(SingleVariableDeclaration(Modifier:final)(SimpleType(SimpleName:ChunkModifier))(SimpleName:curr))(SimpleName:modders)(Block(VariableDeclarationStatement(Modifier:final)(SimpleType(SimpleName:ModificationResult))(VariableDeclarationFragment(SimpleName:result)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:curr))(SimpleName:modify)(METHOD_INVOCATION_ARGUMENTS(NullLiteral)(NullLiteral)(SimpleName:bos)))))(ExpressionStatement(Assignment(SimpleName:chunkDiff)(ASSIGNMENT_OPERATOR:+=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:result))(SimpleName:getChunkCountDifference))))(ExpressionStatement(Assignment(SimpleName:totalDiff)(ASSIGNMENT_OPERATOR:+=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:result))(SimpleName:getByteDifference))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:dest))(SimpleName:write)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:readGUID))(SimpleName:getBytes)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Utils))(SimpleName:writeUINT64)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(SimpleName:headerSize)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:totalDiff))(SimpleName:dest))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Utils))(SimpleName:writeUINT32)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(SimpleName:chunkCount)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:chunkDiff))(SimpleName:dest))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:dest))(SimpleName:write)(METHOD_INVOCATION_ARGUMENTS(SimpleName:reserved))))(ExpressionStatement(MethodInvocation(SimpleName:modifyFileHeader)(METHOD_INVOCATION_ARGUMENTS(ClassInstanceCreation(SimpleType(SimpleName:ByteArrayInputStream))(SimpleName:fileHeader))(SimpleName:dest)(SimpleName:totalDiff))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:dest))(SimpleName:write)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:bos))(SimpleName:toByteArray)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Utils))(SimpleName:flush)(METHOD_INVOCATION_ARGUMENTS(SimpleName:source)(SimpleName:dest)))))(Block(ThrowStatement(ClassInstanceCreation(SimpleType(SimpleName:IllegalArgumentException))(StringLiteral:<STR>)))))))))