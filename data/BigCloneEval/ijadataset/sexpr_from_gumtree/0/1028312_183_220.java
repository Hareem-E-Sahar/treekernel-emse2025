(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:private)(PrimitiveType:void)(SimpleName:interpretCommands)(Block(VariableDeclarationStatement(SimpleType(SimpleName:SelectionKey))(VariableDeclarationFragment(SimpleName:key)))(VariableDeclarationStatement(SimpleType(SimpleName:User))(VariableDeclarationFragment(SimpleName:thisUser)))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:bytesRead)))(VariableDeclarationStatement(ParameterizedType(SimpleType(SimpleName:ArrayList))(SimpleType(SimpleName:String)))(VariableDeclarationFragment(SimpleName:commands)))(VariableDeclarationStatement(ParameterizedType(SimpleType(SimpleName:Iterator))(SimpleType(SimpleName:SelectionKey)))(VariableDeclarationFragment(SimpleName:keyIterator)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(FieldAccess(ThisExpression)(SimpleName:userSelector)))(SimpleName:selectedKeys)))(SimpleName:iterator))))(WhileStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:keyIterator))(SimpleName:hasNext))(Block(ExpressionStatement(Assignment(SimpleName:key)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:keyIterator))(SimpleName:next))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:keyIterator))(SimpleName:remove)))(ExpressionStatement(Assignment(SimpleName:thisUser)(ASSIGNMENT_OPERATOR:=)(CastExpression(SimpleType(SimpleName:User))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:key))(SimpleName:attachment)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Util))(SimpleName:echo)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:thisUser))(SimpleName:getUsername))(StringLiteral:<STR>))(ThisExpression))))(TryStatement(Block(ExpressionStatement(Assignment(SimpleName:bytesRead)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:thisUser))(SimpleName:getChannel)))(SimpleName:read)(METHOD_INVOCATION_ARGUMENTS(SimpleName:readBuffer)))))(IfStatement(InfixExpression(SimpleName:bytesRead)(INFIX_EXPRESSION_OPERATOR:==)(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:-)(NumberLiteral:1)))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Util))(SimpleName:echo)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:thisUser))(SimpleName:getUsername))(StringLiteral:<STR>))(ThisExpression))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:thisUser))(SimpleName:disconnect)))(ReturnStatement))(IfStatement(InfixExpression(SimpleName:bytesRead)(INFIX_EXPRESSION_OPERATOR:>=)(FieldAccess(ThisExpression)(SimpleName:maxInputLength)))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:readBuffer))(SimpleName:clear)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Comm))(SimpleName:writeToChannel)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:thisUser))(SimpleName:getChannel))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:uiAlert))(SimpleName:display)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:thisUser))(SimpleName:disconnect)))(ReturnStatement))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(QualifiedName:thisUser.inputBuffer))(SimpleName:append)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Comm))(SimpleName:bytesToStr)(METHOD_INVOCATION_ARGUMENTS(SimpleName:readBuffer))))))(ExpressionStatement(Assignment(SimpleName:commands)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(ThisExpression))(SimpleName:parseCommands)(METHOD_INVOCATION_ARGUMENTS(SimpleName:key)))))(EnhancedForStatement(SingleVariableDeclaration(SimpleType(SimpleName:String))(SimpleName:command))(SimpleName:commands)(Block(ExpressionStatement(Assignment(SimpleName:command)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Util))(SimpleName:trimWhiteSpace)(METHOD_INVOCATION_ARGUMENTS(SimpleName:command)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Util))(SimpleName:echo)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:command)(StringLiteral:<STR>))(ThisExpression))))(IfStatement(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:thisUser))(SimpleName:getCurrentLayer)))(SimpleName:interpretCommand)(METHOD_INVOCATION_ARGUMENTS(SimpleName:command))))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Util))(SimpleName:echo)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:thisUser))(SimpleName:getUsername))(StringLiteral:<STR>)(FieldAccess(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:thisUser))(SimpleName:getCurrentLayer))(SimpleName:name))(StringLiteral:<STR>)(SimpleName:command)(StringLiteral:<STR>))(ThisExpression))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:thisUser))(SimpleName:send)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))))))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:IOException))(SimpleName:e))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Util))(SimpleName:echo)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(ThisExpression)))))))))))))