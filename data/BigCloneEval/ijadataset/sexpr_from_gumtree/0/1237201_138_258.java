(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:private)(Modifier:static)(PrimitiveType:void)(SimpleName:downloadFile)(SingleVariableDeclaration(Modifier:final)(SimpleType(SimpleName:File))(SimpleName:inFile))(SingleVariableDeclaration(Modifier:final)(SimpleType(SimpleName:File))(SimpleName:outDir))(SingleVariableDeclaration(Modifier:final)(PrimitiveType:long)(SimpleName:sleepTimeout))(SingleVariableDeclaration(Modifier:final)(SimpleType(SimpleName:Ui))(SimpleName:ui))(SimpleType(SimpleName:IOException))(Block(VariableDeclarationStatement(Modifier:final)(SimpleType(SimpleName:URI))(VariableDeclarationFragment(SimpleName:uri)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:inFile))(SimpleName:toURI))))(VariableDeclarationStatement(Modifier:final)(SimpleType(SimpleName:URL))(VariableDeclarationFragment(SimpleName:url)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:uri))(SimpleName:toURL))))(VariableDeclarationStatement(Modifier:final)(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:contentType)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:url))(SimpleName:openConnection)))(SimpleName:getContentType))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ui))(SimpleName:println)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(SimpleName:uri))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ui))(SimpleName:println)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(SimpleName:url))))(IfStatement(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:inFile))(SimpleName:exists)))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ui))(SimpleName:println)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))(ReturnStatement)))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:inFile))(SimpleName:isDirectory))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ui))(SimpleName:println)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))(ReturnStatement)))(VariableDeclarationStatement(Modifier:final)(PrimitiveType:boolean)(VariableDeclarationFragment(SimpleName:outDirExists)(MethodInvocation(SimpleName:mkdir)(METHOD_INVOCATION_ARGUMENTS(SimpleName:outDir)(SimpleName:ui)))))(IfStatement(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(SimpleName:outDirExists))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ui))(SimpleName:println)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(SimpleName:outDir))))(ReturnStatement)))(VariableDeclarationStatement(Modifier:final)(PrimitiveType:long)(VariableDeclarationFragment(SimpleName:inFileLength)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:inFile))(SimpleName:length))))(VariableDeclarationStatement(Modifier:final)(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:basename)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:inFile))(SimpleName:getName))))(VariableDeclarationStatement(Modifier:final)(SimpleType(SimpleName:File))(VariableDeclarationFragment(SimpleName:outFile)(ClassInstanceCreation(SimpleType(SimpleName:File))(SimpleName:outDir)(SimpleName:basename))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ui))(SimpleName:println)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(SimpleName:url)(SimpleName:contentType)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Long))(SimpleName:valueOf)(METHOD_INVOCATION_ARGUMENTS(SimpleName:inFileLength)))(SimpleName:outFile))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ui))(SimpleName:setProgressMaximum)(METHOD_INVOCATION_ARGUMENTS(SimpleName:inFileLength))))(VariableDeclarationStatement(Modifier:final)(SimpleType(SimpleName:OutputStream))(VariableDeclarationFragment(SimpleName:out)(ClassInstanceCreation(SimpleType(SimpleName:BufferedOutputStream))(ClassInstanceCreation(SimpleType(SimpleName:FileOutputStream))(SimpleName:outFile)(BooleanLiteral:true)))))(VariableDeclarationStatement(Modifier:final)(PrimitiveType:long)(VariableDeclarationFragment(SimpleName:initialOutFileLength)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:outFile))(SimpleName:length))))(VariableDeclarationStatement(Modifier:final)(SimpleType(SimpleName:AtomicLong))(VariableDeclarationFragment(SimpleName:progressValue)(ClassInstanceCreation(SimpleType(SimpleName:AtomicLong))(SimpleName:initialOutFileLength))))(VariableDeclarationStatement(Modifier:final)(SimpleType(SimpleName:Thread))(VariableDeclarationFragment(SimpleName:progressUpdater)(ClassInstanceCreation(SimpleType(SimpleName:Thread))(StringLiteral:<STR>)(AnonymousClassDeclaration(MethodDeclaration(MarkerAnnotation(SimpleName:Override))(Modifier:public)(PrimitiveType:void)(SimpleName:run)(Block(WhileStatement(InfixExpression(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ui))(SimpleName:setProgressValue)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:progressValue))(SimpleName:get))))(INFIX_EXPRESSION_OPERATOR:!=)(SimpleName:inFileLength))(INFIX_EXPRESSION_OPERATOR:&&)(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(MethodInvocation(SimpleName:interrupted))))(Block(TryStatement(Block(ExpressionStatement(MethodInvocation(SimpleName:sleep)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:100)))))(CatchClause(SingleVariableDeclaration(Modifier:final)(SimpleType(SimpleName:InterruptedException))(SimpleName:ie))(Block(BreakStatement))))))))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:progressUpdater))(SimpleName:start)))(VariableDeclarationStatement(Modifier:final)(PrimitiveType:long)(VariableDeclarationFragment(SimpleName:t0)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:System))(SimpleName:currentTimeMillis))))(VariableDeclarationStatement(Modifier:final)(PrimitiveType:long)(VariableDeclarationFragment(SimpleName:t0Precise)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:System))(SimpleName:nanoTime))))(WhileStatement(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Thread))(SimpleName:interrupted)))(Block(VariableDeclarationStatement(SimpleType(SimpleName:InputStream))(VariableDeclarationFragment(SimpleName:in)(NullLiteral)))(TryStatement(Block(ExpressionStatement(Assignment(SimpleName:in)(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(SimpleType(SimpleName:BufferedInputStream))(ClassInstanceCreation(SimpleType(SimpleName:FileInputStream))(SimpleName:inFile)))))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:outFile))(SimpleName:exists))(Block(IfStatement(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:outFile))(SimpleName:isFile)))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ui))(SimpleName:println)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(SimpleName:outFile))))(BreakStatement)))(VariableDeclarationStatement(Modifier:final)(PrimitiveType:long)(VariableDeclarationFragment(SimpleName:outFileLength)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:outFile))(SimpleName:length))))(IfStatement(InfixExpression(SimpleName:outFileLength)(INFIX_EXPRESSION_OPERATOR:==)(SimpleName:inFileLength))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ui))(SimpleName:println)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))(BreakStatement))(IfStatement(InfixExpression(SimpleName:outFileLength)(INFIX_EXPRESSION_OPERATOR:>)(SimpleName:inFileLength))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ui))(SimpleName:println)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Long))(SimpleName:valueOf)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(SimpleName:outFileLength)(INFIX_EXPRESSION_OPERATOR:-)(SimpleName:inFileLength))))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Long))(SimpleName:valueOf)(METHOD_INVOCATION_ARGUMENTS(SimpleName:outFileLength)))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Long))(SimpleName:valueOf)(METHOD_INVOCATION_ARGUMENTS(SimpleName:inFileLength))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:progressUpdater))(SimpleName:interrupt)))(BreakStatement))))(IfStatement(InfixExpression(SimpleName:outFileLength)(INFIX_EXPRESSION_OPERATOR:!=)(NumberLiteral:0))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ui))(SimpleName:println)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Long))(SimpleName:valueOf)(METHOD_INVOCATION_ARGUMENTS(SimpleName:outFileLength))))))(VariableDeclarationStatement(Modifier:final)(PrimitiveType:long)(VariableDeclarationFragment(SimpleName:bytesSkipped)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:in))(SimpleName:skip)(METHOD_INVOCATION_ARGUMENTS(SimpleName:outFileLength)))))(IfStatement(InfixExpression(SimpleName:bytesSkipped)(INFIX_EXPRESSION_OPERATOR:!=)(SimpleName:outFileLength))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ui))(SimpleName:println)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Long))(SimpleName:valueOf)(METHOD_INVOCATION_ARGUMENTS(SimpleName:outFileLength)))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Long))(SimpleName:valueOf)(METHOD_INVOCATION_ARGUMENTS(SimpleName:bytesSkipped))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:progressUpdater))(SimpleName:interrupt)))(BreakStatement)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ui))(SimpleName:println)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))))))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:b)))(WhileStatement(InfixExpression(ParenthesizedExpression(Assignment(SimpleName:b)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:in))(SimpleName:read))))(INFIX_EXPRESSION_OPERATOR:!=)(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:-)(NumberLiteral:1)))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:out))(SimpleName:write)(METHOD_INVOCATION_ARGUMENTS(SimpleName:b))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:progressValue))(SimpleName:getAndIncrement)))))(BreakStatement))(CatchClause(SingleVariableDeclaration(Modifier:final)(SimpleType(SimpleName:IOException))(SimpleName:ioe))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ui))(SimpleName:println)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ioe))(SimpleName:getMessage)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ui))(SimpleName:println)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Long))(SimpleName:valueOf)(METHOD_INVOCATION_ARGUMENTS(SimpleName:sleepTimeout))))))(TryStatement(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Thread))(SimpleName:sleep)(METHOD_INVOCATION_ARGUMENTS(SimpleName:sleepTimeout)))))(CatchClause(SingleVariableDeclaration(Modifier:final)(SimpleType(SimpleName:InterruptedException))(SimpleName:ie))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ui))(SimpleName:println)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))(BreakStatement))))(ContinueStatement)))(Block(TryStatement(Block(IfStatement(InfixExpression(SimpleName:in)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:in))(SimpleName:close))))))(CatchClause(SingleVariableDeclaration(Modifier:final)(SimpleType(SimpleName:IOException))(SimpleName:ioe))(Block)))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:out))(SimpleName:flush)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:out))(SimpleName:close)))(VariableDeclarationStatement(Modifier:final)(PrimitiveType:long)(VariableDeclarationFragment(SimpleName:t1)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:System))(SimpleName:currentTimeMillis))))(VariableDeclarationStatement(Modifier:final)(PrimitiveType:long)(VariableDeclarationFragment(SimpleName:t1Precise)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:System))(SimpleName:nanoTime))))(TryStatement(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:progressUpdater))(SimpleName:join))))(CatchClause(SingleVariableDeclaration(Modifier:final)(SimpleType(SimpleName:InterruptedException))(SimpleName:ie))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Thread))(SimpleName:currentThread)))(SimpleName:interrupt))))))(VariableDeclarationStatement(Modifier:final)(PrimitiveType:long)(VariableDeclarationFragment(SimpleName:timeMillis)(InfixExpression(SimpleName:t1)(INFIX_EXPRESSION_OPERATOR:-)(SimpleName:t0))))(VariableDeclarationStatement(Modifier:final)(PrimitiveType:double)(VariableDeclarationFragment(SimpleName:timeMillisPrecise)(InfixExpression(ParenthesizedExpression(InfixExpression(SimpleName:t1Precise)(INFIX_EXPRESSION_OPERATOR:-)(SimpleName:t0Precise)))(INFIX_EXPRESSION_OPERATOR:/)(NumberLiteral:1000)(NumberLiteral:1e3))))(VariableDeclarationStatement(Modifier:final)(PrimitiveType:long)(VariableDeclarationFragment(SimpleName:finalOutFileLength)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:outFile))(SimpleName:length))))(VariableDeclarationStatement(Modifier:final)(PrimitiveType:long)(VariableDeclarationFragment(SimpleName:bytesTransferred)(InfixExpression(SimpleName:finalOutFileLength)(INFIX_EXPRESSION_OPERATOR:-)(SimpleName:initialOutFileLength))))(VariableDeclarationStatement(Modifier:final)(PrimitiveType:double)(VariableDeclarationFragment(SimpleName:time)))(VariableDeclarationStatement(Modifier:final)(PrimitiveType:long)(VariableDeclarationFragment(SimpleName:rate)))(IfStatement(InfixExpression(SimpleName:timeMillis)(INFIX_EXPRESSION_OPERATOR:==)(NumberLiteral:0))(Block(ExpressionStatement(Assignment(SimpleName:time)(ASSIGNMENT_OPERATOR:=)(InfixExpression(SimpleName:timeMillisPrecise)(INFIX_EXPRESSION_OPERATOR:/)(NumberLiteral:1e3))))(ExpressionStatement(Assignment(SimpleName:rate)(ASSIGNMENT_OPERATOR:=)(CastExpression(PrimitiveType:long)(ParenthesizedExpression(InfixExpression(InfixExpression(SimpleName:bytesTransferred)(INFIX_EXPRESSION_OPERATOR:/)(SimpleName:timeMillisPrecise))(INFIX_EXPRESSION_OPERATOR:*)(NumberLiteral:1000L)))))))(Block(ExpressionStatement(Assignment(SimpleName:time)(ASSIGNMENT_OPERATOR:=)(InfixExpression(SimpleName:timeMillis)(INFIX_EXPRESSION_OPERATOR:/)(NumberLiteral:1e3))))(ExpressionStatement(Assignment(SimpleName:rate)(ASSIGNMENT_OPERATOR:=)(CastExpression(PrimitiveType:long)(ParenthesizedExpression(InfixExpression(InfixExpression(SimpleName:bytesTransferred)(INFIX_EXPRESSION_OPERATOR:/)(ParenthesizedExpression(CastExpression(PrimitiveType:double)(SimpleName:timeMillis))))(INFIX_EXPRESSION_OPERATOR:*)(NumberLiteral:1000L))))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ui))(SimpleName:println)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Long))(SimpleName:valueOf)(METHOD_INVOCATION_ARGUMENTS(SimpleName:finalOutFileLength)))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Long))(SimpleName:valueOf)(METHOD_INVOCATION_ARGUMENTS(SimpleName:inFileLength)))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Double))(SimpleName:valueOf)(METHOD_INVOCATION_ARGUMENTS(SimpleName:time)))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Long))(SimpleName:valueOf)(METHOD_INVOCATION_ARGUMENTS(SimpleName:rate))))))))))