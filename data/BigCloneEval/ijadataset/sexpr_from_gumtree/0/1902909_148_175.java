(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:protected)(PrimitiveType:boolean)(SimpleName:readSupport)(SingleVariableDeclaration(SimpleType(SimpleName:SocketChannel))(SimpleName:sc))(SimpleType(SimpleName:IOException))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:connection))(SimpleName:setTimeStamp)))(VariableDeclarationStatement(SimpleType(SimpleName:SocketChannel))(VariableDeclarationFragment(SimpleName:chan1)(SimpleName:sc)))(VariableDeclarationStatement(SimpleType(SimpleName:SocketChannel))(VariableDeclarationFragment(SimpleName:chan2)(ConditionalExpression(InfixExpression(SimpleName:sc)(INFIX_EXPRESSION_OPERATOR:==)(SimpleName:source_channel))(SimpleName:target_channel)(SimpleName:source_channel))))(VariableDeclarationStatement(SimpleType(SimpleName:DirectByteBuffer))(VariableDeclarationFragment(SimpleName:read_buffer)(ConditionalExpression(InfixExpression(SimpleName:sc)(INFIX_EXPRESSION_OPERATOR:==)(SimpleName:source_channel))(SimpleName:source_buffer)(SimpleName:target_buffer))))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:len)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:read_buffer))(SimpleName:read)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:DirectByteBuffer.SS_PROXY)(SimpleName:chan1)))))(IfStatement(InfixExpression(SimpleName:len)(INFIX_EXPRESSION_OPERATOR:==)(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:-)(NumberLiteral:1)))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:connection))(SimpleName:close))))(Block(IfStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:read_buffer))(SimpleName:position)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:DirectByteBuffer.SS_PROXY)))(INFIX_EXPRESSION_OPERATOR:>)(NumberLiteral:0))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:read_buffer))(SimpleName:flip)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:DirectByteBuffer.SS_PROXY))))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:written)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:read_buffer))(SimpleName:write)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:DirectByteBuffer.SS_PROXY)(SimpleName:chan2)))))(IfStatement(InfixExpression(SimpleName:chan1)(INFIX_EXPRESSION_OPERATOR:==)(SimpleName:source_channel))(Block(ExpressionStatement(Assignment(SimpleName:outward_bytes)(ASSIGNMENT_OPERATOR:+=)(SimpleName:written))))(Block(ExpressionStatement(Assignment(SimpleName:inward_bytes)(ASSIGNMENT_OPERATOR:+=)(SimpleName:written)))))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:read_buffer))(SimpleName:hasRemaining)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:DirectByteBuffer.SS_PROXY)))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:connection))(SimpleName:cancelReadSelect)(METHOD_INVOCATION_ARGUMENTS(SimpleName:chan1))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:connection))(SimpleName:requestWriteSelect)(METHOD_INVOCATION_ARGUMENTS(SimpleName:chan2)))))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:read_buffer))(SimpleName:position)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:DirectByteBuffer.SS_PROXY)(NumberLiteral:0))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:read_buffer))(SimpleName:limit)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:DirectByteBuffer.SS_PROXY)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:read_buffer))(SimpleName:capacity)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:DirectByteBuffer.SS_PROXY))))))))))))(ReturnStatement(ParenthesizedExpression(InfixExpression(SimpleName:len)(INFIX_EXPRESSION_OPERATOR:>)(NumberLiteral:0))))))))