(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(MarkerAnnotation(SimpleName:Override))(Modifier:public)(SimpleType(SimpleName:IStatus))(SimpleName:runInWorkspace)(SingleVariableDeclaration(SimpleType(SimpleName:IProgressMonitor))(SimpleName:monitor))(SimpleType(SimpleName:CoreException))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:monitor))(SimpleName:beginTask)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:_root))(SimpleName:getName)))(InfixExpression(SimpleName:WORK_UNITS)(INFIX_EXPRESSION_OPERATOR:+)(NumberLiteral:1)))))(VariableDeclarationStatement(ParameterizedType(SimpleType(SimpleName:Collection))(SimpleType(SimpleName:IResource)))(VariableDeclarationFragment(SimpleName:resources)(MethodInvocation(SimpleName:getResources)(METHOD_INVOCATION_ARGUMENTS(SimpleName:_root)(SimpleName:monitor)))))(VariableDeclarationStatement(SimpleType(SimpleName:IStatus))(VariableDeclarationFragment(SimpleName:returnStatus)(QualifiedName:Status.OK_STATUS)))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:lastTotal)(NumberLiteral:0)))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:currentTotal)(NumberLiteral:0)))(TryStatement(Block(VariableDeclarationStatement(SimpleType(SimpleName:IPath))(VariableDeclarationFragment(SimpleName:strip)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:_root))(SimpleName:getFullPath)))(SimpleName:removeLastSegments)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:1)))))(VariableDeclarationStatement(SimpleType(SimpleName:ZipOutputStream))(VariableDeclarationFragment(SimpleName:zos)(ClassInstanceCreation(SimpleType(SimpleName:ZipOutputStream))(ClassInstanceCreation(SimpleType(SimpleName:BufferedOutputStream))(ClassInstanceCreation(SimpleType(SimpleName:FileOutputStream))(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:_archive))(SimpleName:getLocation)))(SimpleName:toFile)))))))(VariableDeclarationStatement(ArrayType(PrimitiveType:byte)(Dimension))(VariableDeclarationFragment(SimpleName:block)(ArrayCreation(ArrayType(PrimitiveType:byte)(Dimension(NumberLiteral:4096))))))(VariableDeclarationStatement(PrimitiveType:float)(VariableDeclarationFragment(SimpleName:count)(NumberLiteral:0)))(EnhancedForStatement(SingleVariableDeclaration(SimpleType(SimpleName:IResource))(SimpleName:resource))(SimpleName:resources)(Block(VariableDeclarationStatement(SimpleType(SimpleName:IPath))(VariableDeclarationFragment(SimpleName:path)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:resource))(SimpleName:getFullPath))))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:strip))(SimpleName:isPrefixOf)(METHOD_INVOCATION_ARGUMENTS(SimpleName:path)))(ExpressionStatement(Assignment(SimpleName:path)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:path))(SimpleName:removeFirstSegments)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:strip))(SimpleName:segmentCount)))))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:name)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:path))(SimpleName:toString))))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:name))(SimpleName:startsWith)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))(ExpressionStatement(Assignment(SimpleName:name)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:name))(SimpleName:substring)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:1)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:name))(SimpleName:length)))))))(IfStatement(InstanceofExpression(SimpleName:resource)(SimpleType(SimpleName:IContainer)))(ExpressionStatement(Assignment(SimpleName:name)(ASSIGNMENT_OPERATOR:+=)(StringLiteral:<STR>))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:monitor))(SimpleName:setTaskName)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:name)))))(VariableDeclarationStatement(SimpleType(SimpleName:ZipEntry))(VariableDeclarationFragment(SimpleName:entry)(ClassInstanceCreation(SimpleType(SimpleName:ZipEntry))(SimpleName:name))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:zos))(SimpleName:putNextEntry)(METHOD_INVOCATION_ARGUMENTS(SimpleName:entry))))(IfStatement(InstanceofExpression(SimpleName:resource)(SimpleType(SimpleName:IFile)))(Block(VariableDeclarationStatement(SimpleType(SimpleName:IFile))(VariableDeclarationFragment(SimpleName:file)(CastExpression(SimpleType(SimpleName:IFile))(SimpleName:resource))))(VariableDeclarationStatement(SimpleType(SimpleName:InputStream))(VariableDeclarationFragment(SimpleName:is)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:file))(SimpleName:getContents)(METHOD_INVOCATION_ARGUMENTS(BooleanLiteral:true)))))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:read)(NumberLiteral:0)))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:written)(NumberLiteral:0)))(WhileStatement(InfixExpression(ParenthesizedExpression(Assignment(SimpleName:read)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:is))(SimpleName:read)(METHOD_INVOCATION_ARGUMENTS(SimpleName:block)))))(INFIX_EXPRESSION_OPERATOR:>)(NumberLiteral:0))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:zos))(SimpleName:write)(METHOD_INVOCATION_ARGUMENTS(SimpleName:block)(NumberLiteral:0)(SimpleName:read))))(ExpressionStatement(Assignment(SimpleName:written)(ASSIGNMENT_OPERATOR:+=)(SimpleName:read)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:is))(SimpleName:close)))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:LOGGER))(SimpleName:isDebugEnabled))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:LOGGER))(SimpleName:debug)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(SimpleName:written)(INFIX_EXPRESSION_OPERATOR:+)(StringLiteral:<STR>))))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:zos))(SimpleName:closeEntry)))(ExpressionStatement(PostfixExpression(SimpleName:count)(POSTFIX_EXPRESSION_OPERATOR:++)))(ExpressionStatement(Assignment(SimpleName:currentTotal)(ASSIGNMENT_OPERATOR:=)(CastExpression(PrimitiveType:int)(ParenthesizedExpression(InfixExpression(InfixExpression(SimpleName:WORK_UNITS)(INFIX_EXPRESSION_OPERATOR:*)(SimpleName:count))(INFIX_EXPRESSION_OPERATOR:/)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:resources))(SimpleName:size)))))))(IfStatement(InfixExpression(SimpleName:currentTotal)(INFIX_EXPRESSION_OPERATOR:>)(SimpleName:lastTotal))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:monitor))(SimpleName:worked)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(SimpleName:currentTotal)(INFIX_EXPRESSION_OPERATOR:-)(SimpleName:lastTotal)))))(ExpressionStatement(Assignment(SimpleName:lastTotal)(ASSIGNMENT_OPERATOR:=)(SimpleName:currentTotal)))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:zos))(SimpleName:close)))(ReturnStatement(SimpleName:returnStatus)))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:IOException))(SimpleName:ioe))(Block(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:_archive))(SimpleName:exists))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:_archive))(SimpleName:delete)(METHOD_INVOCATION_ARGUMENTS(BooleanLiteral:true)(SimpleName:monitor)))))(ReturnStatement(ClassInstanceCreation(SimpleType(SimpleName:Status))(QualifiedName:IStatus.ERROR)(QualifiedName:UIPlugin.ID)(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:_root))(SimpleName:getName)))(SimpleName:ioe)))))(Block(IfStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:returnStatus))(SimpleName:isOK))(INFIX_EXPRESSION_OPERATOR:&&)(SimpleName:_deleteWhenDone))(ExpressionStatement(MethodInvocation(SimpleName:delete)(METHOD_INVOCATION_ARGUMENTS(SimpleName:monitor)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:_root))(SimpleName:getParent)))(SimpleName:refreshLocal)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:IResource.DEPTH_INFINITE)(SimpleName:monitor))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:monitor))(SimpleName:done)))))))))