(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(PrimitiveType:void)(SimpleName:doMoveItem)(SingleVariableDeclaration(SimpleType(SimpleName:Fleet))(SimpleName:src))(SingleVariableDeclaration(SimpleType(SimpleName:Fleet))(SimpleName:dst))(SingleVariableDeclaration(SimpleType(SimpleName:ResearchType))(SimpleName:type))(SingleVariableDeclaration(PrimitiveType:int)(SimpleName:mode))(SingleVariableDeclaration(PrimitiveType:int)(SimpleName:startIndex))(Block(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:srcCount)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:src))(SimpleName:inventoryCount)(METHOD_INVOCATION_ARGUMENTS(SimpleName:type)))))(IfStatement(InfixExpression(SimpleName:srcCount)(INFIX_EXPRESSION_OPERATOR:>)(NumberLiteral:0))(Block(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:transferCount)(NumberLiteral:1)))(IfStatement(InfixExpression(SimpleName:mode)(INFIX_EXPRESSION_OPERATOR:==)(NumberLiteral:2))(Block(ExpressionStatement(Assignment(SimpleName:transferCount)(ASSIGNMENT_OPERATOR:=)(InfixExpression(ParenthesizedExpression(InfixExpression(SimpleName:srcCount)(INFIX_EXPRESSION_OPERATOR:+)(NumberLiteral:1)))(INFIX_EXPRESSION_OPERATOR:/)(NumberLiteral:2)))))(IfStatement(InfixExpression(SimpleName:mode)(INFIX_EXPRESSION_OPERATOR:==)(NumberLiteral:3))(Block(ExpressionStatement(Assignment(SimpleName:transferCount)(ASSIGNMENT_OPERATOR:=)(SimpleName:srcCount))))))(ExpressionStatement(Assignment(SimpleName:transferCount)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Math))(SimpleName:min)(METHOD_INVOCATION_ARGUMENTS(SimpleName:transferCount)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:dst))(SimpleName:getAddLimit)(METHOD_INVOCATION_ARGUMENTS(SimpleName:type)))))))(IfStatement(InfixExpression(InfixExpression(QualifiedName:type.category)(INFIX_EXPRESSION_OPERATOR:==)(QualifiedName:ResearchSubCategory.SPACESHIPS_CRUISERS))(INFIX_EXPRESSION_OPERATOR:||)(InfixExpression(QualifiedName:type.category)(INFIX_EXPRESSION_OPERATOR:==)(QualifiedName:ResearchSubCategory.SPACESHIPS_BATTLESHIPS)))(Block(ForStatement(VariableDeclarationExpression(ParameterizedType(SimpleType(SimpleName:Iterator))(SimpleType(SimpleName:InventoryItem)))(VariableDeclarationFragment(SimpleName:it)(MethodInvocation(METHOD_INVOCATION_RECEIVER(QualifiedName:src.inventory))(SimpleName:iterator))))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:it))(SimpleName:hasNext))(Block(VariableDeclarationStatement(SimpleType(SimpleName:InventoryItem))(VariableDeclarationFragment(SimpleName:ii)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:it))(SimpleName:next))))(IfStatement(InfixExpression(QualifiedName:ii.type)(INFIX_EXPRESSION_OPERATOR:==)(SimpleName:type))(Block(IfStatement(InfixExpression(SimpleName:startIndex)(INFIX_EXPRESSION_OPERATOR:==)(NumberLiteral:0))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:it))(SimpleName:remove)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(QualifiedName:dst.inventory))(SimpleName:add)(METHOD_INVOCATION_ARGUMENTS(SimpleName:ii))))(ExpressionStatement(PostfixExpression(SimpleName:transferCount)(POSTFIX_EXPRESSION_OPERATOR:--))))(Block(ExpressionStatement(PostfixExpression(SimpleName:startIndex)(POSTFIX_EXPRESSION_OPERATOR:--)))))))(IfStatement(InfixExpression(SimpleName:transferCount)(INFIX_EXPRESSION_OPERATOR:==)(NumberLiteral:0))(Block(BreakStatement)))))(VariableDeclarationStatement(SimpleType(SimpleName:FleetStatistics))(VariableDeclarationFragment(SimpleName:fs)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:src))(SimpleName:getStatistics))))(IfStatement(InfixExpression(QualifiedName:fs.vehicleCount)(INFIX_EXPRESSION_OPERATOR:>)(QualifiedName:fs.vehicleMax))(Block(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:delta)(InfixExpression(QualifiedName:fs.vehicleCount)(INFIX_EXPRESSION_OPERATOR:-)(QualifiedName:fs.vehicleMax))))(ForStatement(VariableDeclarationExpression(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:j)(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(QualifiedName:src.inventory))(SimpleName:size))(INFIX_EXPRESSION_OPERATOR:-)(NumberLiteral:1))))(InfixExpression(SimpleName:j)(INFIX_EXPRESSION_OPERATOR:>=)(NumberLiteral:0))(PostfixExpression(SimpleName:j)(POSTFIX_EXPRESSION_OPERATOR:--))(Block(VariableDeclarationStatement(SimpleType(SimpleName:InventoryItem))(VariableDeclarationFragment(SimpleName:ii)(MethodInvocation(METHOD_INVOCATION_RECEIVER(QualifiedName:src.inventory))(SimpleName:get)(METHOD_INVOCATION_ARGUMENTS(SimpleName:j)))))(IfStatement(InfixExpression(InfixExpression(QualifiedName:ii.type.category)(INFIX_EXPRESSION_OPERATOR:==)(QualifiedName:ResearchSubCategory.WEAPONS_TANKS))(INFIX_EXPRESSION_OPERATOR:||)(InfixExpression(QualifiedName:ii.type.category)(INFIX_EXPRESSION_OPERATOR:==)(QualifiedName:ResearchSubCategory.WEAPONS_VEHICLES)))(Block(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:toremove)(ConditionalExpression(InfixExpression(SimpleName:delta)(INFIX_EXPRESSION_OPERATOR:>)(QualifiedName:ii.count))(QualifiedName:ii.count)(SimpleName:delta))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:dst))(SimpleName:changeInventory)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:ii.type)(SimpleName:toremove))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:src))(SimpleName:changeInventory)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:ii.type)(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:-)(SimpleName:toremove)))))(ExpressionStatement(Assignment(SimpleName:delta)(ASSIGNMENT_OPERATOR:-=)(SimpleName:toremove)))(IfStatement(InfixExpression(SimpleName:delta)(INFIX_EXPRESSION_OPERATOR:==)(NumberLiteral:0))(Block(BreakStatement)))))))))(ExpressionStatement(MethodInvocation(SimpleName:updateInventory)(METHOD_INVOCATION_ARGUMENTS(NullLiteral)(MethodInvocation(SimpleName:fleet))(SimpleName:leftList))))(ExpressionStatement(MethodInvocation(SimpleName:updateInventory)(METHOD_INVOCATION_ARGUMENTS(NullLiteral)(SimpleName:secondary)(SimpleName:rightList)))))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:src))(SimpleName:changeInventory)(METHOD_INVOCATION_ARGUMENTS(SimpleName:type)(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:-)(SimpleName:transferCount)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:dst))(SimpleName:changeInventory)(METHOD_INVOCATION_ARGUMENTS(SimpleName:type)(SimpleName:transferCount))))))))))))