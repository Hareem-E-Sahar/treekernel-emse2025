(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:private)(Modifier:static)(SimpleType(SimpleName:String))(SimpleName:encodeResponse)(SingleVariableDeclaration(ParameterizedType(SimpleType(SimpleName:Class))(WildcardType))(SimpleName:responseClass))(SingleVariableDeclaration(SimpleType(SimpleName:Object))(SimpleName:object))(SingleVariableDeclaration(PrimitiveType:boolean)(SimpleName:wasThrown))(SingleVariableDeclaration(PrimitiveType:int)(SimpleName:flags))(SingleVariableDeclaration(SimpleType(SimpleName:SerializationPolicy))(SimpleName:serializationPolicy))(SimpleType(SimpleName:SerializationException))(Block(IfStatement(InstanceofExpression(SimpleName:object)(SimpleType(SimpleName:Throwable)))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Logger))(SimpleName:log)(METHOD_INVOCATION_ARGUMENTS(CastExpression(SimpleType(SimpleName:Throwable))(SimpleName:object)))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:escapedStr)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ServerSerializationStreamWriter))(SimpleName:escapeString)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(ParenthesizedExpression(CastExpression(SimpleType(SimpleName:Throwable))(SimpleName:object))))(SimpleName:getMessage))))))(VariableDeclarationStatement(SimpleType(SimpleName:CRC32))(VariableDeclarationFragment(SimpleName:crc)(ClassInstanceCreation(SimpleType(SimpleName:CRC32)))))(TryStatement(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:crc))(SimpleName:update)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:SerializabilityUtil))(SimpleName:getSerializedTypeName)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:object))(SimpleName:getClass)))))(SimpleName:getBytes)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:SerializabilityUtil.DEFAULT_ENCODING))))))(VariableDeclarationStatement(ParameterizedType(SimpleType(SimpleName:Class))(WildcardType))(VariableDeclarationFragment(SimpleName:superClass)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:object))(SimpleName:getClass)))(SimpleName:getSuperclass))))(WhileStatement(InfixExpression(SimpleName:superClass)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:crc))(SimpleName:update)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:SerializabilityUtil))(SimpleName:getSerializedTypeName)(METHOD_INVOCATION_ARGUMENTS(SimpleName:superClass))))(SimpleName:getBytes)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:SerializabilityUtil.DEFAULT_ENCODING))))))(ExpressionStatement(Assignment(SimpleName:superClass)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:superClass))(SimpleName:getSuperclass))))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:superClass))(SimpleName:equals)(METHOD_INVOCATION_ARGUMENTS(TypeLiteral(SimpleType(SimpleName:Throwable)))))(Block(BreakStatement))))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:Throwable))(SimpleName:t))(Block(ReturnStatement(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:escapedStr)(StringLiteral:<STR>)(QualifiedName:AbstractSerializationStream.SERIALIZATION_STREAM_VERSION)(StringLiteral:<STR>))))))(ReturnStatement(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:object))(SimpleName:getClass)))(SimpleName:getName))(StringLiteral:<STR>)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:crc))(SimpleName:getValue))(StringLiteral:<STR>)(SimpleName:escapedStr)(StringLiteral:<STR>)(QualifiedName:AbstractSerializationStream.SERIALIZATION_STREAM_VERSION)(StringLiteral:<STR>)))))(VariableDeclarationStatement(SimpleType(SimpleName:ServerSerializationStreamWriter))(VariableDeclarationFragment(SimpleName:stream)(ClassInstanceCreation(SimpleType(SimpleName:ServerSerializationStreamWriter))(SimpleName:serializationPolicy))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:stream))(SimpleName:setFlags)(METHOD_INVOCATION_ARGUMENTS(SimpleName:flags))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:stream))(SimpleName:prepareToWrite)))(IfStatement(InfixExpression(SimpleName:responseClass)(INFIX_EXPRESSION_OPERATOR:!=)(TypeLiteral(PrimitiveType:void)))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:stream))(SimpleName:serializeValue)(METHOD_INVOCATION_ARGUMENTS(SimpleName:object)(SimpleName:responseClass))))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:bufferStr)(InfixExpression(ParenthesizedExpression(ConditionalExpression(SimpleName:wasThrown)(StringLiteral:<STR>)(StringLiteral:<STR>)))(INFIX_EXPRESSION_OPERATOR:+)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:stream))(SimpleName:toString)))))(ReturnStatement(SimpleName:bufferStr))))))