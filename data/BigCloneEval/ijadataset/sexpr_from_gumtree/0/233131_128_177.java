(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:public)(SimpleType(SimpleName:LocalChannelReference))(SimpleName:createNewClient)(SingleVariableDeclaration(SimpleType(SimpleName:Channel))(SimpleName:networkChannel))(SingleVariableDeclaration(SimpleType(SimpleName:Integer))(SimpleName:remoteId))(SingleVariableDeclaration(SimpleType(SimpleName:R66Future))(SimpleName:futureRequest))(SimpleType(SimpleName:OpenR66ProtocolSystemException))(Block(VariableDeclarationStatement(SimpleType(SimpleName:ChannelFuture))(VariableDeclarationFragment(SimpleName:channelFuture)(NullLiteral)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:logger))(SimpleName:debug)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:serverChannel))(SimpleName:getClass)))(SimpleName:getName))(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:serverChannel))(SimpleName:getConfig)))(SimpleName:getConnectTimeoutMillis))(INFIX_EXPRESSION_OPERATOR:+)(StringLiteral:<STR>)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:serverChannel))(SimpleName:isBound))))))(VariableDeclarationStatement(SimpleType(SimpleName:R66Future))(VariableDeclarationFragment(SimpleName:validLCR)(ClassInstanceCreation(SimpleType(SimpleName:R66Future))(BooleanLiteral:true))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:validLocalChannelHashMap))(SimpleName:put)(METHOD_INVOCATION_ARGUMENTS(SimpleName:remoteId)(SimpleName:validLCR))))(ForStatement(VariableDeclarationExpression(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:i)(NumberLiteral:0)))(InfixExpression(SimpleName:i)(INFIX_EXPRESSION_OPERATOR:<)(QualifiedName:Configuration.RETRYNB))(PostfixExpression(SimpleName:i)(POSTFIX_EXPRESSION_OPERATOR:++))(Block(ExpressionStatement(Assignment(SimpleName:channelFuture)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:clientBootstrap))(SimpleName:connect)(METHOD_INVOCATION_ARGUMENTS(SimpleName:socketLocalServerAddress)))))(TryStatement(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:channelFuture))(SimpleName:await))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:InterruptedException))(SimpleName:e1))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:validLCR))(SimpleName:cancel)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:validLocalChannelHashMap))(SimpleName:remove)(METHOD_INVOCATION_ARGUMENTS(SimpleName:remoteId))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:logger))(SimpleName:error)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:serverChannel))(SimpleName:getClass)))(SimpleName:getName))(StringLiteral:<STR>)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:serverChannel))(SimpleName:getConfig)))(SimpleName:getConnectTimeoutMillis))(StringLiteral:<STR>)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:serverChannel))(SimpleName:isBound))))))(ThrowStatement(ClassInstanceCreation(SimpleType(SimpleName:OpenR66ProtocolSystemException))(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:socketLocalServerAddress)(StringLiteral:<STR>)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:serverChannel))(SimpleName:isBound))(StringLiteral:<STR>)(SimpleName:serverChannel))(SimpleName:e1))))))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:channelFuture))(SimpleName:isSuccess))(Block(VariableDeclarationStatement(Modifier:final)(SimpleType(SimpleName:Channel))(VariableDeclarationFragment(SimpleName:channel)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:channelFuture))(SimpleName:getChannel))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:localChannelGroup))(SimpleName:add)(METHOD_INVOCATION_ARGUMENTS(SimpleName:channel))))(VariableDeclarationStatement(Modifier:final)(SimpleType(SimpleName:LocalChannelReference))(VariableDeclarationFragment(SimpleName:localChannelReference)(ClassInstanceCreation(SimpleType(SimpleName:LocalChannelReference))(SimpleName:channel)(SimpleName:networkChannel)(SimpleName:remoteId)(SimpleName:futureRequest))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:logger))(SimpleName:debug)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:i)(StringLiteral:<STR>))(SimpleName:localChannelReference))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:channel))(SimpleName:getCloseFuture)))(SimpleName:addListener)(METHOD_INVOCATION_ARGUMENTS(SimpleName:remover))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:localChannelHashMap))(SimpleName:put)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:channel))(SimpleName:getId))(SimpleName:localChannelReference))))(TryStatement(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:NetworkTransaction))(SimpleName:addLocalChannelToNetworkChannel)(METHOD_INVOCATION_ARGUMENTS(SimpleName:networkChannel)(SimpleName:channel)))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:OpenR66ProtocolRemoteShutdownException))(SimpleName:e))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:validLCR))(SimpleName:cancel)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:validLocalChannelHashMap))(SimpleName:remove)(METHOD_INVOCATION_ARGUMENTS(SimpleName:remoteId))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Channels))(SimpleName:close)(METHOD_INVOCATION_ARGUMENTS(SimpleName:channel))))(ThrowStatement(ClassInstanceCreation(SimpleType(SimpleName:OpenR66ProtocolSystemException))(StringLiteral:<STR>)(SimpleName:e))))))(VariableDeclarationStatement(SimpleType(SimpleName:StartupPacket))(VariableDeclarationFragment(SimpleName:startup)(ClassInstanceCreation(SimpleType(SimpleName:StartupPacket))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:localChannelReference))(SimpleName:getLocalId)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Channels))(SimpleName:write)(METHOD_INVOCATION_ARGUMENTS(SimpleName:channel)(SimpleName:startup))))(SimpleName:awaitUninterruptibly)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:validLCR))(SimpleName:setSuccess)))(ReturnStatement(SimpleName:localChannelReference)))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:logger))(SimpleName:error)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:i)))))))(TryStatement(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Thread))(SimpleName:sleep)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:Configuration.RETRYINMS)))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:InterruptedException))(SimpleName:e))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:validLCR))(SimpleName:cancel)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:validLocalChannelHashMap))(SimpleName:remove)(METHOD_INVOCATION_ARGUMENTS(SimpleName:remoteId))))(ThrowStatement(ClassInstanceCreation(SimpleType(SimpleName:OpenR66ProtocolSystemException))(StringLiteral:<STR>)(SimpleName:e))))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:validLCR))(SimpleName:cancel)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:validLocalChannelHashMap))(SimpleName:remove)(METHOD_INVOCATION_ARGUMENTS(SimpleName:remoteId))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:logger))(SimpleName:error)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:serverChannel))(SimpleName:getClass)))(SimpleName:getName))(StringLiteral:<STR>)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:serverChannel))(SimpleName:getConfig)))(SimpleName:getConnectTimeoutMillis))(StringLiteral:<STR>)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:serverChannel))(SimpleName:isBound))))))(ThrowStatement(ClassInstanceCreation(SimpleType(SimpleName:OpenR66ProtocolSystemException))(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:socketLocalServerAddress)(StringLiteral:<STR>)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:serverChannel))(SimpleName:isBound))(StringLiteral:<STR>)(SimpleName:serverChannel))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:channelFuture))(SimpleName:getCause))))))))