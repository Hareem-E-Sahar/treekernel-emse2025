(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:private)(PrimitiveType:void)(SimpleName:flush)(SingleVariableDeclaration(ParameterizedType(SimpleType(SimpleName:LinkedList))(SimpleType(SimpleName:Request)))(SimpleName:toFlush))(SimpleType(SimpleName:IOException))(Block(IfStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:toFlush))(SimpleName:size))(INFIX_EXPRESSION_OPERATOR:==)(NumberLiteral:0))(Block(ReturnStatement)))(VariableDeclarationStatement(ParameterizedType(SimpleType(SimpleName:LinkedList))(SimpleType(SimpleName:FileOutputStream)))(VariableDeclarationFragment(SimpleName:streamsToFlushNow)))(SynchronizedStatement(SimpleName:streamsToFlush)(Block(ExpressionStatement(Assignment(SimpleName:streamsToFlushNow)(ASSIGNMENT_OPERATOR:=)(CastExpression(ParameterizedType(SimpleType(SimpleName:LinkedList))(SimpleType(SimpleName:FileOutputStream)))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:streamsToFlush))(SimpleName:clone)))))))(EnhancedForStatement(SingleVariableDeclaration(SimpleType(SimpleName:FileOutputStream))(SimpleName:fos))(SimpleName:streamsToFlushNow)(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fos))(SimpleName:flush)))(IfStatement(SimpleName:forceSync)(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(ParenthesizedExpression(CastExpression(SimpleType(SimpleName:FileChannel))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fos))(SimpleName:getChannel)))))(SimpleName:force)(METHOD_INVOCATION_ARGUMENTS(BooleanLiteral:false))))))))(WhileStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:streamsToFlushNow))(SimpleName:size))(INFIX_EXPRESSION_OPERATOR:>)(NumberLiteral:1))(Block(VariableDeclarationStatement(SimpleType(SimpleName:FileOutputStream))(VariableDeclarationFragment(SimpleName:fos)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:streamsToFlushNow))(SimpleName:removeFirst))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fos))(SimpleName:close)))(SynchronizedStatement(SimpleName:streamsToFlush)(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:streamsToFlush))(SimpleName:remove)(METHOD_INVOCATION_ARGUMENTS(SimpleName:fos))))))))(WhileStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:toFlush))(SimpleName:size))(INFIX_EXPRESSION_OPERATOR:>)(NumberLiteral:0))(Block(VariableDeclarationStatement(SimpleType(SimpleName:Request))(VariableDeclarationFragment(SimpleName:i)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:toFlush))(SimpleName:remove))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:nextProcessor))(SimpleName:processRequest)(METHOD_INVOCATION_ARGUMENTS(SimpleName:i))))))))))