(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:protected)(PrimitiveType:void)(SimpleName:saveAs)(SingleVariableDeclaration(SimpleType(SimpleName:ActionEvent))(SimpleName:event))(Block(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:ready)(NumberLiteral:1)))(WhileStatement(InfixExpression(SimpleName:ready)(INFIX_EXPRESSION_OPERATOR:==)(NumberLiteral:1))(Block(VariableDeclarationStatement(SimpleType(SimpleName:IChemModel))(VariableDeclarationFragment(SimpleName:model)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:jcpPanel))(SimpleName:getChemModel))))(VariableDeclarationStatement(SimpleType(SimpleName:JFileChooser))(VariableDeclarationFragment(SimpleName:chooser)(ClassInstanceCreation(SimpleType(SimpleName:JFileChooser)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:chooser))(SimpleName:setCurrentDirectory)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:jcpPanel))(SimpleName:getCurrentWorkDirectory)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:JCPSaveFileFilter))(SimpleName:addChoosableFileFilters)(METHOD_INVOCATION_ARGUMENTS(SimpleName:chooser))))(IfStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:jcpPanel))(SimpleName:getCurrentSaveFileFilter))(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(ForStatement(VariableDeclarationExpression(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:i)(NumberLiteral:0)))(InfixExpression(SimpleName:i)(INFIX_EXPRESSION_OPERATOR:<)(FieldAccess(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:chooser))(SimpleName:getChoosableFileFilters))(SimpleName:length)))(PostfixExpression(SimpleName:i)(POSTFIX_EXPRESSION_OPERATOR:++))(Block(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(ArrayAccess(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:chooser))(SimpleName:getChoosableFileFilters))(SimpleName:i)))(SimpleName:getDescription)))(SimpleName:equals)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:jcpPanel))(SimpleName:getCurrentSaveFileFilter)))(SimpleName:getDescription))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:chooser))(SimpleName:setFileFilter)(METHOD_INVOCATION_ARGUMENTS(ArrayAccess(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:chooser))(SimpleName:getChoosableFileFilters))(SimpleName:i))))))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:chooser))(SimpleName:setFileView)(METHOD_INVOCATION_ARGUMENTS(ClassInstanceCreation(SimpleType(SimpleName:JCPFileView))))))(IfStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:jcpPanel))(SimpleName:isAlreadyAFile))(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:chooser))(SimpleName:setSelectedFile)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:jcpPanel))(SimpleName:isAlreadyAFile))))))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:returnVal)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:chooser))(SimpleName:showSaveDialog)(METHOD_INVOCATION_ARGUMENTS(SimpleName:jcpPanel)))))(VariableDeclarationStatement(SimpleType(SimpleName:IChemObject))(VariableDeclarationFragment(SimpleName:object)(MethodInvocation(SimpleName:getSource)(METHOD_INVOCATION_ARGUMENTS(SimpleName:event)))))(VariableDeclarationStatement(SimpleType(SimpleName:FileFilter))(VariableDeclarationFragment(SimpleName:currentFilter)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:chooser))(SimpleName:getFileFilter))))(IfStatement(InfixExpression(SimpleName:returnVal)(INFIX_EXPRESSION_OPERATOR:==)(QualifiedName:JFileChooser.CANCEL_OPTION))(Block(ExpressionStatement(Assignment(SimpleName:ready)(ASSIGNMENT_OPERATOR:=)(NumberLiteral:0)))(ExpressionStatement(Assignment(SimpleName:wasCancelled)(ASSIGNMENT_OPERATOR:=)(BooleanLiteral:true)))))(IfStatement(InfixExpression(SimpleName:returnVal)(INFIX_EXPRESSION_OPERATOR:==)(QualifiedName:JFileChooser.APPROVE_OPTION))(Block(IfStatement(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(ParenthesizedExpression(InstanceofExpression(SimpleName:currentFilter)(SimpleType(SimpleName:IJCPFileFilter)))))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:JOptionPane))(SimpleName:showMessageDialog)(METHOD_INVOCATION_ARGUMENTS(SimpleName:jcpPanel)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:GT))(SimpleName:_)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:GT))(SimpleName:_)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))(QualifiedName:JOptionPane.INFORMATION_MESSAGE))))(ReturnStatement))(Block(ExpressionStatement(Assignment(SimpleName:type)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(ParenthesizedExpression(CastExpression(SimpleType(SimpleName:IJCPFileFilter))(SimpleName:currentFilter))))(SimpleName:getType))))(VariableDeclarationStatement(SimpleType(SimpleName:File))(VariableDeclarationFragment(SimpleName:outFile)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:chooser))(SimpleName:getSelectedFile))))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:outFile))(SimpleName:exists))(Block(ExpressionStatement(Assignment(SimpleName:ready)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:JOptionPane))(SimpleName:showConfirmDialog)(METHOD_INVOCATION_ARGUMENTS(CastExpression(SimpleType(SimpleName:Component))(NullLiteral))(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:GT))(SimpleName:_)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))(INFIX_EXPRESSION_OPERATOR:+)(StringLiteral:<STR>)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:outFile))(SimpleName:getName))(StringLiteral:<STR>)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:GT))(SimpleName:_)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:GT))(SimpleName:_)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))(QualifiedName:JOptionPane.YES_NO_OPTION))))))(Block(TryStatement(Block(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(ClassInstanceCreation(SimpleType(SimpleName:File))(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:outFile))(SimpleName:getCanonicalFile))(INFIX_EXPRESSION_OPERATOR:+)(StringLiteral:<STR>)(SimpleName:type))))(SimpleName:exists))(Block(ExpressionStatement(Assignment(SimpleName:ready)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:JOptionPane))(SimpleName:showConfirmDialog)(METHOD_INVOCATION_ARGUMENTS(CastExpression(SimpleType(SimpleName:Component))(NullLiteral))(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:GT))(SimpleName:_)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))(INFIX_EXPRESSION_OPERATOR:+)(StringLiteral:<STR>)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:outFile))(SimpleName:getName))(StringLiteral:<STR>)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:GT))(SimpleName:_)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:GT))(SimpleName:_)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))(QualifiedName:JOptionPane.YES_NO_OPTION))))))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:Throwable))(SimpleName:ex))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:jcpPanel))(SimpleName:announceError)(METHOD_INVOCATION_ARGUMENTS(SimpleName:ex)))))))(ExpressionStatement(Assignment(SimpleName:ready)(ASSIGNMENT_OPERATOR:=)(NumberLiteral:0)))))(IfStatement(InfixExpression(SimpleName:ready)(INFIX_EXPRESSION_OPERATOR:==)(NumberLiteral:0))(Block(IfStatement(InfixExpression(SimpleName:object)(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(Block(TryStatement(Block(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:type))(SimpleName:equals)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:JCPSaveFileFilter.mol)))(Block(ExpressionStatement(Assignment(SimpleName:outFile)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(SimpleName:saveAsMol)(METHOD_INVOCATION_ARGUMENTS(SimpleName:model)(SimpleName:outFile))))))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:type))(SimpleName:equals)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:JCPSaveFileFilter.inchi)))(Block(ExpressionStatement(Assignment(SimpleName:outFile)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(SimpleName:saveAsInChI)(METHOD_INVOCATION_ARGUMENTS(SimpleName:model)(SimpleName:outFile))))))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:type))(SimpleName:equals)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:JCPSaveFileFilter.cml)))(Block(ExpressionStatement(Assignment(SimpleName:outFile)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(SimpleName:saveAsCML2)(METHOD_INVOCATION_ARGUMENTS(SimpleName:model)(SimpleName:outFile))))))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:type))(SimpleName:equals)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:JCPSaveFileFilter.smiles)))(Block(ExpressionStatement(Assignment(SimpleName:outFile)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(SimpleName:saveAsSMILES)(METHOD_INVOCATION_ARGUMENTS(SimpleName:model)(SimpleName:outFile))))))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:type))(SimpleName:equals)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:JCPSaveFileFilter.cdk)))(Block(ExpressionStatement(Assignment(SimpleName:outFile)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(SimpleName:saveAsCDKSourceCode)(METHOD_INVOCATION_ARGUMENTS(SimpleName:model)(SimpleName:outFile))))))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:type))(SimpleName:equals)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:JCPSaveFileFilter.rxn)))(Block(ExpressionStatement(Assignment(SimpleName:outFile)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(SimpleName:saveAsRXN)(METHOD_INVOCATION_ARGUMENTS(SimpleName:model)(SimpleName:outFile))))))(Block(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:error)(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:GT))(SimpleName:_)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))(INFIX_EXPRESSION_OPERATOR:+)(StringLiteral:<STR>)(SimpleName:type))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:logger))(SimpleName:error)(METHOD_INVOCATION_ARGUMENTS(SimpleName:error))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:JOptionPane))(SimpleName:showMessageDialog)(METHOD_INVOCATION_ARGUMENTS(SimpleName:jcpPanel)(SimpleName:error))))(ReturnStatement))))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:jcpPanel))(SimpleName:setModified)(METHOD_INVOCATION_ARGUMENTS(BooleanLiteral:false)))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:Exception))(SimpleName:exc))(Block(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:error)(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:GT))(SimpleName:_)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))(INFIX_EXPRESSION_OPERATOR:+)(StringLiteral:<STR>)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:exc))(SimpleName:getMessage)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:logger))(SimpleName:error)(METHOD_INVOCATION_ARGUMENTS(SimpleName:error))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:logger))(SimpleName:debug)(METHOD_INVOCATION_ARGUMENTS(SimpleName:exc))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:JOptionPane))(SimpleName:showMessageDialog)(METHOD_INVOCATION_ARGUMENTS(SimpleName:jcpPanel)(SimpleName:error)))))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:jcpPanel))(SimpleName:setCurrentWorkDirectory)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:chooser))(SimpleName:getCurrentDirectory)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:jcpPanel))(SimpleName:setCurrentSaveFileFilter)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:chooser))(SimpleName:getFileFilter)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:jcpPanel))(SimpleName:setIsAlreadyAFile)(METHOD_INVOCATION_ARGUMENTS(SimpleName:outFile))))(IfStatement(InfixExpression(SimpleName:outFile)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:jcpPanel))(SimpleName:getChemModel)))(SimpleName:setID)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:outFile))(SimpleName:getName)))))(IfStatement(InstanceofExpression(SimpleName:jcpPanel)(SimpleType(SimpleName:JChemPaintPanel)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(ParenthesizedExpression(CastExpression(SimpleType(SimpleName:JChemPaintPanel))(SimpleName:jcpPanel))))(SimpleName:setTitle)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:outFile))(SimpleName:getName))))))))))))))))))))