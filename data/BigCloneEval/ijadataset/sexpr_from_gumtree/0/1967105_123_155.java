(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:private)(SimpleType(SimpleName:Bundle))(SimpleName:getBundle)(Block(VariableDeclarationStatement(SimpleType(SimpleName:Plugin))(VariableDeclarationFragment(SimpleName:plugin)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:pluginAccessor))(SimpleName:getPlugin)(METHOD_INVOCATION_ARGUMENTS(SimpleName:TEMPLATES_SYMBOLIC_NAME)))))(IfStatement(InfixExpression(SimpleName:plugin)(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(Block(ExpressionStatement(Assignment(SimpleName:plugin)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:pluginAccessor))(SimpleName:getPlugin)(METHOD_INVOCATION_ARGUMENTS(SimpleName:TEMPLATES_PLUGIN_KEY)))))))(IfStatement(InfixExpression(SimpleName:plugin)(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(Block(TryStatement(Block(VariableDeclarationStatement(SimpleType(SimpleName:File))(VariableDeclarationFragment(SimpleName:tmpFile)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:File))(SimpleName:createTempFile)(METHOD_INVOCATION_ARGUMENTS(SimpleName:TEMPLATES_SYMBOLIC_NAME)(StringLiteral:<STR>)))))(VariableDeclarationStatement(SimpleType(SimpleName:ZipOutputStream))(VariableDeclarationFragment(SimpleName:zout)(ClassInstanceCreation(SimpleType(SimpleName:ZipOutputStream))(ClassInstanceCreation(SimpleType(SimpleName:FileOutputStream))(SimpleName:tmpFile)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:zout))(SimpleName:putNextEntry)(METHOD_INVOCATION_ARGUMENTS(ClassInstanceCreation(SimpleType(SimpleName:ZipEntry))(StringLiteral:<STR>)))))(VariableDeclarationStatement(SimpleType(SimpleName:Manifest))(VariableDeclarationFragment(SimpleName:mf)(ClassInstanceCreation(SimpleType(SimpleName:Manifest)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:mf))(SimpleName:getMainAttributes)))(SimpleName:put)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:Attributes.Name.MANIFEST_VERSION)(StringLiteral:<STR>))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:mf))(SimpleName:getMainAttributes)))(SimpleName:putValue)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:Constants.BUNDLE_SYMBOLICNAME)(SimpleName:TEMPLATES_SYMBOLIC_NAME))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:mf))(SimpleName:getMainAttributes)))(SimpleName:putValue)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:Constants.BUNDLE_VERSION)(StringLiteral:<STR>))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:mf))(SimpleName:getMainAttributes)))(SimpleName:putValue)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:Constants.BUNDLE_DESCRIPTION)(StringLiteral:<STR>))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:mf))(SimpleName:getMainAttributes)))(SimpleName:putValue)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:Constants.BUNDLE_NAME)(StringLiteral:<STR>))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:mf))(SimpleName:getMainAttributes)))(SimpleName:putValue)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:Constants.BUNDLE_MANIFESTVERSION)(StringLiteral:<STR>))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:mf))(SimpleName:write)(METHOD_INVOCATION_ARGUMENTS(SimpleName:zout))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:zout))(SimpleName:close)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:pluginController))(SimpleName:installPlugin)(METHOD_INVOCATION_ARGUMENTS(ClassInstanceCreation(SimpleType(SimpleName:JarPluginArtifact))(SimpleName:tmpFile)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:tmpFile))(SimpleName:delete))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:IOException))(SimpleName:e))(Block(ThrowStatement(ClassInstanceCreation(SimpleType(SimpleName:RuntimeException))(StringLiteral:<STR>)(SimpleName:e))))))))(VariableDeclarationStatement(ArrayType(SimpleType(SimpleName:Bundle))(Dimension))(VariableDeclarationFragment(SimpleName:bundles)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:bundleContext))(SimpleName:getBundles))))(EnhancedForStatement(SingleVariableDeclaration(SimpleType(SimpleName:Bundle))(SimpleName:bundle))(SimpleName:bundles)(Block(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:bundle))(SimpleName:getSymbolicName)))(SimpleName:equals)(METHOD_INVOCATION_ARGUMENTS(SimpleName:TEMPLATES_SYMBOLIC_NAME)))(Block(ReturnStatement(SimpleName:bundle))))))(ThrowStatement(ClassInstanceCreation(SimpleType(SimpleName:IllegalStateException))(StringLiteral:<STR>)))))))