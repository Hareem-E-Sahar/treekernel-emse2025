(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:public)(PrimitiveType:void)(SimpleName:saveUploadFile)(SingleVariableDeclaration(SimpleType(SimpleName:String))(SimpleName:toFileName))(SingleVariableDeclaration(SimpleType(SimpleName:UploadFile))(SimpleName:uploadFile))(SingleVariableDeclaration(SimpleType(SimpleName:SysConfig))(SimpleName:sysConfig))(SimpleType(SimpleName:IOException))(Block(VariableDeclarationStatement(SimpleType(SimpleName:OutputStream))(VariableDeclarationFragment(SimpleName:bos)(ClassInstanceCreation(SimpleType(SimpleName:FileOutputStream))(SimpleName:toFileName))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:IOUtils))(SimpleName:copy)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:uploadFile))(SimpleName:getInputStream))(SimpleName:bos))))(IfStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:sysConfig))(SimpleName:isAttachImg)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:uploadFile))(SimpleName:getFileName))))(INFIX_EXPRESSION_OPERATOR:&&)(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:sysConfig))(SimpleName:getReduceAttachImg))(INFIX_EXPRESSION_OPERATOR:==)(NumberLiteral:1)))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ImgUtil))(SimpleName:reduceImg)(METHOD_INVOCATION_ARGUMENTS(SimpleName:toFileName)(InfixExpression(SimpleName:toFileName)(INFIX_EXPRESSION_OPERATOR:+)(QualifiedName:Constant.IMG_SMALL_FILEPREFIX))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:sysConfig))(SimpleName:getReduceAttachImgSize))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:sysConfig))(SimpleName:getReduceAttachImgSize))(NumberLiteral:1))))))))))