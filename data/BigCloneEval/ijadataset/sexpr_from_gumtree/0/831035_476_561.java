(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:public)(Modifier:synchronized)(PrimitiveType:void)(SimpleName:commit)(SimpleType(SimpleName:DataServiceException))(Block(VariableDeclarationStatement(PrimitiveType:long)(VariableDeclarationFragment(SimpleName:commitStartTime)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:System))(SimpleName:currentTimeMillis))))(ExpressionStatement(Assignment(SimpleName:mConnection)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(SimpleName:openConnection))))(IfStatement(InfixExpression(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:System))(SimpleName:currentTimeMillis))(INFIX_EXPRESSION_OPERATOR:-)(SimpleName:commitStartTime))(INFIX_EXPRESSION_OPERATOR:>)(NumberLiteral:50))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Log))(SimpleName:printWarning)(METHOD_INVOCATION_ARGUMENTS(ThisExpression)(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(ParenthesizedExpression(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:System))(SimpleName:currentTimeMillis))(INFIX_EXPRESSION_OPERATOR:-)(SimpleName:commitStartTime)))(StringLiteral:<STR>))))))(TryStatement(Block(TryStatement(Block(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:mConnectionInfo))(SimpleName:containsKey)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:mConnection))(SimpleName:setCatalog)(METHOD_INVOCATION_ARGUMENTS(CastExpression(SimpleType(SimpleName:String))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:mConnectionInfo))(SimpleName:get)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))))))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:SQLException))(SimpleName:e))(Block)))(TryStatement(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:mConnection))(SimpleName:setAutoCommit)(METHOD_INVOCATION_ARGUMENTS(BooleanLiteral:false)))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:Exception))(SimpleName:e))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Log))(SimpleName:printWarning)(METHOD_INVOCATION_ARGUMENTS(ThisExpression)(StringLiteral:<STR>)))))))(VariableDeclarationStatement(SimpleType(SimpleName:Enumeration))(VariableDeclarationFragment(SimpleName:dataOperations)(MethodInvocation(METHOD_INVOCATION_RECEIVER(ThisExpression))(SimpleName:getOperations))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:mNumberOfOperations))(SimpleName:set)(METHOD_INVOCATION_ARGUMENTS(ClassInstanceCreation(SimpleType(SimpleName:Integer))(MethodInvocation(METHOD_INVOCATION_RECEIVER(ThisExpression))(SimpleName:getNbrOfOperations))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:mTransaction))(SimpleName:set)(METHOD_INVOCATION_ARGUMENTS(ThisExpression))))(ExpressionStatement(Assignment(SimpleName:mNbrOfOperations)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(ThisExpression))(SimpleName:getNbrOfOperations))))(IfStatement(InfixExpression(SimpleName:mNbrOfOperations)(INFIX_EXPRESSION_OPERATOR:>)(NumberLiteral:1))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(ThisExpression))(SimpleName:updateProgress)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(ThisExpression))(SimpleName:getNbrOfOperations))(INFIX_EXPRESSION_OPERATOR:*)(NumberLiteral:100))(NumberLiteral:0)))))(ExpressionStatement(Assignment(SimpleName:mCurrentOperation)(ASSIGNMENT_OPERATOR:=)(NumberLiteral:1)))(WhileStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:dataOperations))(SimpleName:hasMoreElements))(Block(VariableDeclarationStatement(SimpleType(SimpleName:DataOperation))(VariableDeclarationFragment(SimpleName:operation)(CastExpression(SimpleType(SimpleName:DataOperation))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:dataOperations))(SimpleName:nextElement)))))(SwitchStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:operation))(SimpleName:getOperationType))(SwitchCase(QualifiedName:DataOperation.LOAD))(ExpressionStatement(MethodInvocation(SimpleName:executeLoad)(METHOD_INVOCATION_ARGUMENTS(SimpleName:mConnection)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:operation))(SimpleName:getEntity))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:operation))(SimpleName:getQualifier)))))(BreakStatement)(SwitchCase(QualifiedName:DataOperation.QUERY))(ExpressionStatement(MethodInvocation(SimpleName:executeQuery)(METHOD_INVOCATION_ARGUMENTS(SimpleName:mConnection)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:operation))(SimpleName:getDataQuery))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:operation))(SimpleName:getEntitySelection)))))(BreakStatement)(SwitchCase(QualifiedName:DataOperation.STORE))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:operation))(SimpleName:getEntity)))(SimpleName:isPersistent))(ExpressionStatement(MethodInvocation(SimpleName:executeUpdate)(METHOD_INVOCATION_ARGUMENTS(SimpleName:mConnection)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:operation))(SimpleName:getEntity))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:operation))(SimpleName:getQualifier)))))(ExpressionStatement(MethodInvocation(SimpleName:executeInsert)(METHOD_INVOCATION_ARGUMENTS(SimpleName:mConnection)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:operation))(SimpleName:getEntity))))))(BreakStatement)(SwitchCase(QualifiedName:DataOperation.DELETE))(ExpressionStatement(MethodInvocation(SimpleName:executeDelete)(METHOD_INVOCATION_ARGUMENTS(SimpleName:mConnection)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:operation))(SimpleName:getEntity)))))(BreakStatement)(SwitchCase(QualifiedName:DataOperation.REFRESH))(ExpressionStatement(MethodInvocation(SimpleName:executeLoad)(METHOD_INVOCATION_ARGUMENTS(SimpleName:mConnection)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:operation))(SimpleName:getEntity))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:operation))(SimpleName:getQualifier)))))(BreakStatement)(SwitchCase(QualifiedName:DataOperation.CREATE_TABLE))(ExpressionStatement(MethodInvocation(SimpleName:executeCreateTable)(METHOD_INVOCATION_ARGUMENTS(SimpleName:mConnection)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:operation))(SimpleName:getEntityDescriptor)))))(BreakStatement)(SwitchCase(QualifiedName:DataOperation.CREATE_RELATION))(ExpressionStatement(MethodInvocation(SimpleName:executeCreateRelation)(METHOD_INVOCATION_ARGUMENTS(SimpleName:mConnection)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:operation))(SimpleName:getEntityRelation)))))(BreakStatement))(IfStatement(InfixExpression(SimpleName:mNbrOfOperations)(INFIX_EXPRESSION_OPERATOR:>)(NumberLiteral:1))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(ThisExpression))(SimpleName:updateProgress)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(SimpleName:mCurrentOperation)(INFIX_EXPRESSION_OPERATOR:*)(NumberLiteral:100))))))(ExpressionStatement(PostfixExpression(SimpleName:mCurrentOperation)(POSTFIX_EXPRESSION_OPERATOR:++)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:mConnection))(SimpleName:commit)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Log))(SimpleName:print)(METHOD_INVOCATION_ARGUMENTS(ThisExpression)(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(ParenthesizedExpression(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:System))(SimpleName:currentTimeMillis))(INFIX_EXPRESSION_OPERATOR:-)(SimpleName:commitStartTime)))(StringLiteral:<STR>)))))(ExpressionStatement(Assignment(SimpleName:dataOperations)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(ThisExpression))(SimpleName:getOperations))))(WhileStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:dataOperations))(SimpleName:hasMoreElements))(Block(VariableDeclarationStatement(SimpleType(SimpleName:DataOperation))(VariableDeclarationFragment(SimpleName:operation)(CastExpression(SimpleType(SimpleName:DataOperation))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:dataOperations))(SimpleName:nextElement)))))(SwitchStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:operation))(SimpleName:getOperationType))(SwitchCase(QualifiedName:DataOperation.DELETE))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:operation))(SimpleName:getEntity)))(SimpleName:clearStatusFlag)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(QualifiedName:IEntity.DIRTY)(INFIX_EXPRESSION_OPERATOR:|)(QualifiedName:IEntity.EMPTY)(QualifiedName:IEntity.PERSISTENT)))))(BreakStatement)(SwitchCase(QualifiedName:DataOperation.STORE))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:operation))(SimpleName:getEntity)))(SimpleName:setStatusFlag)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:IEntity.PERSISTENT))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:operation))(SimpleName:getEntity)))(SimpleName:clearStatusFlag)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(QualifiedName:IEntity.DIRTY)(INFIX_EXPRESSION_OPERATOR:|)(QualifiedName:IEntity.EMPTY)))))(BreakStatement)(SwitchCase(QualifiedName:DataOperation.REFRESH))(SwitchCase(QualifiedName:DataOperation.LOAD))(SwitchCase(QualifiedName:DataOperation.QUERY))(BreakStatement)))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:Exception))(SimpleName:e))(Block(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:rollbackMsg)))(TryStatement(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:mConnection))(SimpleName:rollback)))(ExpressionStatement(Assignment(SimpleName:rollbackMsg)(ASSIGNMENT_OPERATOR:=)(StringLiteral:<STR>))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:SQLException))(SimpleName:eSQL))(Block(ExpressionStatement(Assignment(SimpleName:rollbackMsg)(ASSIGNMENT_OPERATOR:=)(StringLiteral:<STR>))))))(IfStatement(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(SimpleName:mIsAborted))(Block(IfStatement(InstanceofExpression(SimpleName:e)(SimpleType(SimpleName:DataServiceException)))(ThrowStatement(ClassInstanceCreation(SimpleType(SimpleName:DataServiceException))(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:rollbackMsg))(SimpleName:e)(MethodInvocation(METHOD_INVOCATION_RECEIVER(ParenthesizedExpression(CastExpression(SimpleType(SimpleName:DataServiceException))(SimpleName:e))))(SimpleName:getDescription))))(ThrowStatement(ClassInstanceCreation(SimpleType(SimpleName:DataServiceException))(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:rollbackMsg)(StringLiteral:<STR>)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:e))(SimpleName:getClass)))(SimpleName:getName))(StringLiteral:<STR>)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:e))(SimpleName:getMessage)))(SimpleName:e))))))))(Block(SynchronizedStatement(SimpleName:mConnection)(Block(ExpressionStatement(MethodInvocation(SimpleName:closeConnection)(METHOD_INVOCATION_ARGUMENTS(SimpleName:mConnection))))(ExpressionStatement(Assignment(SimpleName:mConnection)(ASSIGNMENT_OPERATOR:=)(NullLiteral)))(ExpressionStatement(Assignment(SimpleName:mIsAborted)(ASSIGNMENT_OPERATOR:=)(BooleanLiteral:false)))))))))))