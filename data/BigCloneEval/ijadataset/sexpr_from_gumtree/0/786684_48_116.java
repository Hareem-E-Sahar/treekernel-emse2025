(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:public)(SimpleType(SimpleName:String))(SimpleName:shorten)(SingleVariableDeclaration(SimpleType(SimpleName:String))(SimpleName:url))(Block(VariableDeclarationStatement(ParameterizedType(SimpleType(SimpleName:List))(SimpleType(SimpleName:NameValuePair)))(VariableDeclarationFragment(SimpleName:qparams)(ClassInstanceCreation(ParameterizedType(SimpleType(SimpleName:ArrayList))(SimpleType(SimpleName:NameValuePair))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:qparams))(SimpleName:add)(METHOD_INVOCATION_ARGUMENTS(ClassInstanceCreation(SimpleType(SimpleName:BasicNameValuePair))(StringLiteral:<STR>)(StringLiteral:<STR>)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:qparams))(SimpleName:add)(METHOD_INVOCATION_ARGUMENTS(ClassInstanceCreation(SimpleType(SimpleName:BasicNameValuePair))(StringLiteral:<STR>)(SimpleName:url)))))(IfStatement(InfixExpression(SimpleName:login)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:qparams))(SimpleName:add)(METHOD_INVOCATION_ARGUMENTS(ClassInstanceCreation(SimpleType(SimpleName:BasicNameValuePair))(StringLiteral:<STR>)(SimpleName:login)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:qparams))(SimpleName:add)(METHOD_INVOCATION_ARGUMENTS(ClassInstanceCreation(SimpleType(SimpleName:BasicNameValuePair))(StringLiteral:<STR>)(SimpleName:apiKey)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:qparams))(SimpleName:add)(METHOD_INVOCATION_ARGUMENTS(ClassInstanceCreation(SimpleType(SimpleName:BasicNameValuePair))(StringLiteral:<STR>)(StringLiteral:<STR>)))))))(TryStatement(Block(VariableDeclarationStatement(SimpleType(SimpleName:BasicHttpParams))(VariableDeclarationFragment(SimpleName:params)(ClassInstanceCreation(SimpleType(SimpleName:BasicHttpParams)))))(VariableDeclarationStatement(SimpleType(SimpleName:DefaultHttpClient))(VariableDeclarationFragment(SimpleName:httpclient)(ClassInstanceCreation(SimpleType(SimpleName:DefaultHttpClient))(SimpleName:params))))(VariableDeclarationStatement(SimpleType(SimpleName:URI))(VariableDeclarationFragment(SimpleName:uri)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:URIUtils))(SimpleName:createURI)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(StringLiteral:<STR>)(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:-)(NumberLiteral:1))(StringLiteral:<STR>)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:URLEncodedUtils))(SimpleName:format)(METHOD_INVOCATION_ARGUMENTS(SimpleName:qparams)(StringLiteral:<STR>)))(NullLiteral)))))(VariableDeclarationStatement(SimpleType(SimpleName:HttpGet))(VariableDeclarationFragment(SimpleName:httpget)(ClassInstanceCreation(SimpleType(SimpleName:HttpGet))(SimpleName:uri))))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:logger))(SimpleName:isDebugEnabled))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:logger))(SimpleName:debug)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:httpget))(SimpleName:getURI))))))(VariableDeclarationStatement(SimpleType(SimpleName:HttpResponse))(VariableDeclarationFragment(SimpleName:response)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:httpclient))(SimpleName:execute)(METHOD_INVOCATION_ARGUMENTS(SimpleName:httpget)))))(VariableDeclarationStatement(SimpleType(SimpleName:HttpEntity))(VariableDeclarationFragment(SimpleName:entity)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:response))(SimpleName:getEntity))))(IfStatement(InfixExpression(SimpleName:entity)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(VariableDeclarationStatement(SimpleType(SimpleName:InputStream))(VariableDeclarationFragment(SimpleName:instream)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:entity))(SimpleName:getContent))))(VariableDeclarationStatement(SimpleType(SimpleName:JsonFactory))(VariableDeclarationFragment(SimpleName:f)(ClassInstanceCreation(SimpleType(SimpleName:JsonFactory)))))(VariableDeclarationStatement(SimpleType(SimpleName:JsonParser))(VariableDeclarationFragment(SimpleName:jp)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:f))(SimpleName:createJsonParser)(METHOD_INVOCATION_ARGUMENTS(SimpleName:instream)))))(VariableDeclarationStatement(SimpleType(SimpleName:JmpShortenResponse))(VariableDeclarationFragment(SimpleName:responseObj)(ClassInstanceCreation(SimpleType(SimpleName:JmpShortenResponse)))))(ForStatement(Block(VariableDeclarationStatement(SimpleType(SimpleName:JsonToken))(VariableDeclarationFragment(SimpleName:token)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:jp))(SimpleName:nextToken))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:fieldname)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:jp))(SimpleName:getCurrentName))))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:logger))(SimpleName:isDebugEnabled))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:logger))(SimpleName:debug)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(SimpleName:token)(SimpleName:fieldname)))))(IfStatement(InfixExpression(SimpleName:token)(INFIX_EXPRESSION_OPERATOR:==)(QualifiedName:JsonToken.START_OBJECT))(Block(ContinueStatement)))(IfStatement(InfixExpression(SimpleName:token)(INFIX_EXPRESSION_OPERATOR:==)(QualifiedName:JsonToken.END_OBJECT))(Block(BreakStatement)))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(StringLiteral:<STR>))(SimpleName:equals)(METHOD_INVOCATION_ARGUMENTS(SimpleName:fieldname)))(Block(ExpressionStatement(Assignment(SimpleName:token)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:jp))(SimpleName:nextToken))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:responseObj))(SimpleName:setErrorCode)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:jp))(SimpleName:getIntValue))))))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(StringLiteral:<STR>))(SimpleName:equals)(METHOD_INVOCATION_ARGUMENTS(SimpleName:fieldname)))(Block(ExpressionStatement(Assignment(SimpleName:token)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:jp))(SimpleName:nextToken))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:responseObj))(SimpleName:setErrorMessage)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:jp))(SimpleName:getText))))))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(StringLiteral:<STR>))(SimpleName:equals)(METHOD_INVOCATION_ARGUMENTS(SimpleName:fieldname)))(Block(ExpressionStatement(Assignment(SimpleName:token)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:jp))(SimpleName:nextToken))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:responseObj))(SimpleName:setStatusCode)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:jp))(SimpleName:getText))))))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(StringLiteral:<STR>))(SimpleName:equals)(METHOD_INVOCATION_ARGUMENTS(SimpleName:fieldname)))(Block(VariableDeclarationStatement(ParameterizedType(SimpleType(SimpleName:Map))(SimpleType(SimpleName:String))(SimpleType(SimpleName:ShortenedUrl)))(VariableDeclarationFragment(SimpleName:results)(MethodInvocation(SimpleName:parseResults)(METHOD_INVOCATION_ARGUMENTS(SimpleName:jp)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:responseObj))(SimpleName:setResults)(METHOD_INVOCATION_ARGUMENTS(SimpleName:results)))))(Block(ThrowStatement(ClassInstanceCreation(SimpleType(SimpleName:IllegalStateException))(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:fieldname)(StringLiteral:<STR>)))))))))))(VariableDeclarationStatement(ParameterizedType(SimpleType(SimpleName:Map))(SimpleType(SimpleName:String))(SimpleType(SimpleName:ShortenedUrl)))(VariableDeclarationFragment(SimpleName:results)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:responseObj))(SimpleName:getResults))))(IfStatement(InfixExpression(SimpleName:results)(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(Block(ReturnStatement(NullLiteral))))(VariableDeclarationStatement(SimpleType(SimpleName:ShortenedUrl))(VariableDeclarationFragment(SimpleName:shortened)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:results))(SimpleName:get)(METHOD_INVOCATION_ARGUMENTS(SimpleName:url)))))(IfStatement(InfixExpression(SimpleName:shortened)(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(Block(ReturnStatement(NullLiteral))))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:logger))(SimpleName:isDebugEnabled))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:logger))(SimpleName:debug)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(SimpleName:responseObj)))))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(StringLiteral:<STR>))(SimpleName:equals)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:responseObj))(SimpleName:getStatusCode))))(Block(ReturnStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:shortened))(SimpleName:getShortUrl)))))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:logger))(SimpleName:isWarnEnabled))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:logger))(SimpleName:warn)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(SimpleName:responseObj))))))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:IOException))(SimpleName:ex))(Block(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:logger))(SimpleName:isWarnEnabled))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:logger))(SimpleName:warn)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(SimpleName:ex)))))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:URISyntaxException))(SimpleName:ex))(Block(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:logger))(SimpleName:isWarnEnabled))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:logger))(SimpleName:warn)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(SimpleName:ex))))))))(ReturnStatement(NullLiteral))))))