(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:private)(PrimitiveType:void)(SimpleName:doLoop)(SimpleType(SimpleName:Exception))(Block(VariableDeclarationStatement(PrimitiveType:long)(VariableDeclarationFragment(SimpleName:sleep)))(VariableDeclarationStatement(PrimitiveType:long)(VariableDeclarationFragment(SimpleName:tfinal)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:System))(SimpleName:currentTimeMillis))))(WhileStatement(InfixExpression(InfixExpression(InfixExpression(MethodInvocation(SimpleName:getStatus))(INFIX_EXPRESSION_OPERATOR:==)(QualifiedName:MANAGERSTATUS.RUNNING))(INFIX_EXPRESSION_OPERATOR:&&)(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:opc))(SimpleName:getConnectionStatus))(INFIX_EXPRESSION_OPERATOR:==)(QualifiedName:STATUS.CONNECTED)))(INFIX_EXPRESSION_OPERATOR:&&)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:writer))(SimpleName:isReady)))(Block(SynchronizedStatement(SimpleName:sleepMutex)(Block(VariableDeclarationStatement(Modifier:final)(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:localSamplingRate)(MethodInvocation(SimpleName:getSamplingRate))))(ExpressionStatement(Assignment(SimpleName:tfinal)(ASSIGNMENT_OPERATOR:+=)(SimpleName:localSamplingRate)))(VariableDeclarationStatement(Modifier:final)(ParameterizedType(SimpleType(SimpleName:Map))(SimpleType(SimpleName:String))(SimpleType(SimpleName:ItemState)))(VariableDeclarationFragment(SimpleName:newItemData)))(SynchronizedStatement(SimpleName:opcDataProviderLock)(Block(ExpressionStatement(Assignment(SimpleName:newItemData)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:opcDataProvider))(SimpleName:getOPCData))))))(VariableDeclarationStatement(Modifier:final)(PrimitiveType:long)(VariableDeclarationFragment(SimpleName:cTime)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:System))(SimpleName:currentTimeMillis))))(VariableDeclarationStatement(Modifier:final)(ParameterizedType(SimpleType(SimpleName:Map))(SimpleType(SimpleName:String))(SimpleType(SimpleName:ScriptDataResult)))(VariableDeclarationFragment(SimpleName:newCompData)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:scriptDataProvider))(SimpleName:getScriptData)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:selection.composite)(SimpleName:newItemData)))))(VariableDeclarationStatement(Modifier:final)(ParameterizedType(SimpleType(SimpleName:Map))(SimpleType(SimpleName:String))(SimpleType(SimpleName:OPCItemData)))(VariableDeclarationFragment(SimpleName:newCastedItemData)(ClassInstanceCreation(ParameterizedType(SimpleType(SimpleName:HashMap))(SimpleType(SimpleName:String))(SimpleType(SimpleName:OPCItemData)))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:newItemData))(SimpleName:size)))))(EnhancedForStatement(SingleVariableDeclaration(ParameterizedType(SimpleType(SimpleName:Entry))(SimpleType(SimpleName:String))(SimpleType(SimpleName:AbstractOPCItemInfo)))(SimpleName:e))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:item2infoMap))(SimpleName:entrySet))(Block(VariableDeclarationStatement(Modifier:final)(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:id)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:e))(SimpleName:getKey))))(VariableDeclarationStatement(Modifier:final)(SimpleType(SimpleName:ItemState))(VariableDeclarationFragment(SimpleName:state)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:newItemData))(SimpleName:get)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:e))(SimpleName:getKey))))))(IfStatement(InfixExpression(SimpleName:state)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(VariableDeclarationStatement(Modifier:final)(SimpleType(SimpleName:JIVariant))(VariableDeclarationFragment(SimpleName:variant)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:state))(SimpleName:getValue))))(VariableDeclarationStatement(SimpleType(SimpleName:Object))(VariableDeclarationFragment(SimpleName:casted)(NullLiteral)))(IfStatement(InfixExpression(InfixExpression(InfixExpression(SimpleName:variant)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(INFIX_EXPRESSION_OPERATOR:&&)(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:variant))(SimpleName:getType))(INFIX_EXPRESSION_OPERATOR:!=)(QualifiedName:JIVariant.VT_EMPTY)))(INFIX_EXPRESSION_OPERATOR:&&)(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:variant))(SimpleName:isNull))))(Block(VariableDeclarationStatement(Modifier:final)(SimpleType(SimpleName:AbstractOPCItemInfo))(VariableDeclarationFragment(SimpleName:info)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:e))(SimpleName:getValue))))(VariableDeclarationStatement(SimpleType(SimpleName:JIVariant2JavaConverter))(VariableDeclarationFragment(SimpleName:converter)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:info))(SimpleName:getCasting))))(IfStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:converter))(SimpleName:getJIVariantType))(INFIX_EXPRESSION_OPERATOR:!=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:variant))(SimpleName:getType)))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:info))(SimpleName:updateCasting)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:variant))(SimpleName:getType)))))))(TryStatement(Block(ExpressionStatement(Assignment(SimpleName:casted)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:converter))(SimpleName:convert)(METHOD_INVOCATION_ARGUMENTS(SimpleName:variant))))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:JIException))(SimpleName:ex))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:logger))(SimpleName:log)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:Level.WARNING)(StringLiteral:<STR>)(ArrayCreation(ArrayType(SimpleType(SimpleName:String))(Dimension))(ArrayInitializer(SimpleName:id)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:info))(SimpleName:getOutputDataType)))(SimpleName:getSimpleName))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ex))(SimpleName:getMessage))))))))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:newCastedItemData))(SimpleName:put)(METHOD_INVOCATION_ARGUMENTS(SimpleName:id)(ClassInstanceCreation(SimpleType(SimpleName:OPCItemData))(SimpleName:casted)(SimpleName:state)))))))))(VariableDeclarationStatement(Modifier:final)(SimpleType(SimpleName:OutputData))(VariableDeclarationFragment(SimpleName:oData)(ClassInstanceCreation(SimpleType(SimpleName:OutputData))(SimpleName:cTime)(SimpleName:newCastedItemData)(SimpleName:newCompData))))(ExpressionStatement(Assignment(SimpleName:sleep)(ASSIGNMENT_OPERATOR:=)(InfixExpression(SimpleName:tfinal)(INFIX_EXPRESSION_OPERATOR:-)(SimpleName:cTime))))(IfStatement(InfixExpression(SimpleName:sleep)(INFIX_EXPRESSION_OPERATOR:<=)(NumberLiteral:0))(Block(ExpressionStatement(Assignment(SimpleName:tfinal)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:System))(SimpleName:currentTimeMillis))))(IfStatement(InfixExpression(InfixExpression(MethodInvocation(SimpleName:getStatus))(INFIX_EXPRESSION_OPERATOR:!=)(QualifiedName:MANAGERSTATUS.RUNNING))(INFIX_EXPRESSION_OPERATOR:||)(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:opc))(SimpleName:getConnectionStatus))(INFIX_EXPRESSION_OPERATOR:!=)(QualifiedName:STATUS.CONNECTED)))(Block(BreakStatement)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:logger))(SimpleName:warning)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))))(IfStatement(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:writerQueue))(SimpleName:addData)(METHOD_INVOCATION_ARGUMENTS(SimpleName:oData))))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:logger))(SimpleName:log)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:Level.WARNING)(StringLiteral:<STR>)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:writer))(SimpleName:getOutputTypeName)))))(IfStatement(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:writerQueue))(SimpleName:addData)(METHOD_INVOCATION_ARGUMENTS(SimpleName:oData)(SimpleName:localSamplingRate))))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:writerQueue))(SimpleName:forceblyAddData)(METHOD_INVOCATION_ARGUMENTS(SimpleName:oData))))))(ExpressionStatement(Assignment(SimpleName:tfinal)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:System))(SimpleName:currentTimeMillis))))(ExpressionStatement(Assignment(SimpleName:sleep)(ASSIGNMENT_OPERATOR:=)(NumberLiteral:0)))))))(IfStatement(InfixExpression(SimpleName:sleep)(INFIX_EXPRESSION_OPERATOR:>)(NumberLiteral:0))(Block(TryStatement(Block(SynchronizedStatement(SimpleName:sleepMutex)(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:sleepMutex))(SimpleName:wait)(METHOD_INVOCATION_ARGUMENTS(SimpleName:sleep)))))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:InterruptedException))(SimpleName:ex))(Block(IfStatement(InfixExpression(MethodInvocation(SimpleName:getStatus))(INFIX_EXPRESSION_OPERATOR:!=)(QualifiedName:MANAGERSTATUS.RUNNING))(Block(ReturnStatement))(Block(ThrowStatement(SimpleName:ex)))))))))))))))