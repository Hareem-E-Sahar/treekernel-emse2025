(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:public)(SimpleName:DiagramVisualizer)(SingleVariableDeclaration(Modifier:final)(SimpleType(SimpleName:DiagramVisualizerSettings))(SimpleName:settings))(SingleVariableDeclaration(SimpleType(SimpleName:Composite))(SimpleName:parent))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:settings))(SimpleName:checkRootEditPart)))(ExpressionStatement(Assignment(SimpleName:mySettings)(ASSIGNMENT_OPERATOR:=)(SimpleName:settings)))(ExpressionStatement(Assignment(SimpleName:myPageBook)(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(SimpleType(SimpleName:PageBook))(SimpleName:parent)(QualifiedName:SWT.NONE))))(ExpressionStatement(Assignment(SimpleName:myMessagePane)(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(SimpleType(SimpleName:Composite))(SimpleName:myPageBook)(QualifiedName:SWT.NONE))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:myMessagePane))(SimpleName:setLayout)(METHOD_INVOCATION_ARGUMENTS(ClassInstanceCreation(SimpleType(SimpleName:FillLayout))))))(ExpressionStatement(Assignment(SimpleName:myMessageLabel)(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(SimpleType(SimpleName:Label))(SimpleName:myMessagePane)(QualifiedName:SWT.NONE))))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:mySettings))(SimpleName:isInfiniteDiagramSize))(Block(ExpressionStatement(Assignment(SimpleName:myViewer)(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(SimpleType(SimpleName:InfiniteGraphicalViewer))))))(Block(ExpressionStatement(Assignment(SimpleName:myViewer)(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(SimpleType(SimpleName:FiniteGraphicalViewer)))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:myViewer))(SimpleName:setRootEditPart)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:mySettings))(SimpleName:getRootEditPart)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:myViewer))(SimpleName:setEditPartFactory)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:mySettings))(SimpleName:getEditPartFactory)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:myViewer))(SimpleName:setEditDomain)(METHOD_INVOCATION_ARGUMENTS(ClassInstanceCreation(SimpleType(SimpleName:EditDomain))))))(ExpressionStatement(Assignment(SimpleName:myDiagramPane)(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(SimpleType(SimpleName:Composite))(SimpleName:myPageBook)(QualifiedName:SWT.NONE))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:myDiagramPane))(SimpleName:setLayout)(METHOD_INVOCATION_ARGUMENTS(ClassInstanceCreation(SimpleType(SimpleName:FillLayout))))))(IfStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:mySettings))(SimpleName:getToolbarBuilder))(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:myViewer))(SimpleName:createControl)(METHOD_INVOCATION_ARGUMENTS(SimpleName:myDiagramPane)))))(Block(VariableDeclarationStatement(SimpleType(SimpleName:Composite))(VariableDeclarationFragment(SimpleName:c)(ClassInstanceCreation(SimpleType(SimpleName:Composite))(SimpleName:myDiagramPane)(QualifiedName:SWT.NONE))))(VariableDeclarationStatement(SimpleType(SimpleName:GridLayout))(VariableDeclarationFragment(SimpleName:gridLayout)(ClassInstanceCreation(SimpleType(SimpleName:GridLayout)))))(ExpressionStatement(Assignment(QualifiedName:gridLayout.marginHeight)(ASSIGNMENT_OPERATOR:=)(NumberLiteral:0)))(ExpressionStatement(Assignment(QualifiedName:gridLayout.marginWidth)(ASSIGNMENT_OPERATOR:=)(NumberLiteral:0)))(ExpressionStatement(Assignment(QualifiedName:gridLayout.verticalSpacing)(ASSIGNMENT_OPERATOR:=)(NumberLiteral:0)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:c))(SimpleName:setLayout)(METHOD_INVOCATION_ARGUMENTS(SimpleName:gridLayout))))(VariableDeclarationStatement(SimpleType(SimpleName:CoolBar))(VariableDeclarationFragment(SimpleName:coolbar)(ClassInstanceCreation(SimpleType(SimpleName:CoolBar))(SimpleName:c)(QualifiedName:SWT.FLAT))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:coolbar))(SimpleName:setLayoutData)(METHOD_INVOCATION_ARGUMENTS(ClassInstanceCreation(SimpleType(SimpleName:GridData))(QualifiedName:SWT.FILL)(QualifiedName:SWT.TOP)(BooleanLiteral:true)(BooleanLiteral:false)))))(VariableDeclarationStatement(SimpleType(SimpleName:Label))(VariableDeclarationFragment(SimpleName:separator)(ClassInstanceCreation(SimpleType(SimpleName:Label))(SimpleName:c)(InfixExpression(QualifiedName:SWT.SEPARATOR)(INFIX_EXPRESSION_OPERATOR:|)(QualifiedName:SWT.HORIZONTAL)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:separator))(SimpleName:setLayoutData)(METHOD_INVOCATION_ARGUMENTS(ClassInstanceCreation(SimpleType(SimpleName:GridData))(QualifiedName:SWT.FILL)(QualifiedName:SWT.TOP)(BooleanLiteral:true)(BooleanLiteral:false)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:myViewer))(SimpleName:createControl)(METHOD_INVOCATION_ARGUMENTS(SimpleName:c))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:myViewer))(SimpleName:getControl)))(SimpleName:setLayoutData)(METHOD_INVOCATION_ARGUMENTS(ClassInstanceCreation(SimpleType(SimpleName:GridData))(QualifiedName:GridData.FILL_BOTH)))))(VariableDeclarationStatement(SimpleType(SimpleName:CoolBarManager))(VariableDeclarationFragment(SimpleName:coolBarManager)(ClassInstanceCreation(SimpleType(SimpleName:CoolBarManager))(SimpleName:coolbar))))(EnhancedForStatement(SingleVariableDeclaration(ParameterizedType(SimpleType(SimpleName:Iterable))(SimpleType(SimpleName:IAction)))(SimpleName:toolbar))(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:mySettings))(SimpleName:getToolbarBuilder)))(SimpleName:buildToolbar)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(SimpleName:getViewer))))(Block(VariableDeclarationStatement(SimpleType(SimpleName:ToolBarManager))(VariableDeclarationFragment(SimpleName:toolBarManager)(ClassInstanceCreation(SimpleType(SimpleName:ToolBarManager))(InfixExpression(QualifiedName:SWT.FLAT)(INFIX_EXPRESSION_OPERATOR:|)(QualifiedName:SWT.WRAP)(QualifiedName:SWT.HORIZONTAL)))))(EnhancedForStatement(SingleVariableDeclaration(SimpleType(SimpleName:IAction))(SimpleName:action))(SimpleName:toolbar)(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:toolBarManager))(SimpleName:add)(METHOD_INVOCATION_ARGUMENTS(SimpleName:action))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:coolBarManager))(SimpleName:add)(METHOD_INVOCATION_ARGUMENTS(SimpleName:toolBarManager))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:coolBarManager))(SimpleName:update)(METHOD_INVOCATION_ARGUMENTS(BooleanLiteral:false))))))(IfStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:mySettings))(SimpleName:getContentMenu))(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:myViewer))(SimpleName:setContextMenu)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:mySettings))(SimpleName:getContentMenu)))))))(ExpressionStatement(Assignment(SimpleName:mySelectionProvider)(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(SimpleType(SimpleName:StructuredSelectionConverter))(SimpleName:myViewer)(ClassInstanceCreation(SimpleType(SimpleName:ObjectConverterImpl)))(AnonymousClassDeclaration(MethodDeclaration(MarkerAnnotation(SimpleName:Override))(Modifier:protected)(PrimitiveType:void)(SimpleName:setConvertedSelection)(SingleVariableDeclaration(SimpleType(SimpleName:ISelection))(SimpleName:selection))(SingleVariableDeclaration(PrimitiveType:boolean)(SimpleName:forceListen))(Block(ExpressionStatement(SuperMethodInvocation(SimpleName:setConvertedSelection)(SimpleName:selection)(SimpleName:forceListen)))(IfStatement(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:selection))(SimpleName:isEmpty)))(Block(VariableDeclarationStatement(SimpleType(SimpleName:EditPart))(VariableDeclarationFragment(SimpleName:editPart)(CastExpression(SimpleType(SimpleName:EditPart))(MethodInvocation(METHOD_INVOCATION_RECEIVER(ParenthesizedExpression(CastExpression(SimpleType(SimpleName:IStructuredSelection))(SimpleName:selection))))(SimpleName:getFirstElement)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:myViewer))(SimpleName:reveal)(METHOD_INVOCATION_ARGUMENTS(SimpleName:editPart))))))))(MethodDeclaration(MarkerAnnotation(SimpleName:Override))(Modifier:protected)(SimpleType(SimpleName:IStructuredSelection))(SimpleName:convertFromOriginal)(SingleVariableDeclaration(SimpleType(SimpleName:IStructuredSelection))(SimpleName:originalSelection))(Block(VariableDeclarationStatement(SimpleType(SimpleName:IStructuredSelection))(VariableDeclarationFragment(SimpleName:selection)(SuperMethodInvocation(SimpleName:convertFromOriginal)(SimpleName:originalSelection))))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:selection))(SimpleName:isEmpty))(Block(IfStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:mySettings))(SimpleName:getModelProvider)))(SimpleName:getRootUuid))(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(VariableDeclarationStatement(SimpleType(SimpleName:IElementWrapper))(VariableDeclarationFragment(SimpleName:elementWrapper)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:DataCacheManager))(SimpleName:getWrapperByUuid)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:mySettings))(SimpleName:getModelProvider)))(SimpleName:getRootUuid))))))(IfStatement(InfixExpression(ParenthesizedExpression(InfixExpression(SimpleName:elementWrapper)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral)))(INFIX_EXPRESSION_OPERATOR:&&)(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:elementWrapper))(SimpleName:isGhost))))(Block(ReturnStatement(ClassInstanceCreation(SimpleType(SimpleName:StructuredSelection))(SimpleName:elementWrapper)))))))(ReturnStatement(QualifiedName:StructuredSelection.EMPTY)))(IfStatement(InfixExpression(ParenthesizedExpression(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:selection))(SimpleName:size))(INFIX_EXPRESSION_OPERATOR:==)(NumberLiteral:1)))(INFIX_EXPRESSION_OPERATOR:&&)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:FORBID_SELECTION))(SimpleName:equals)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:selection))(SimpleName:getFirstElement)))))(Block(ReturnStatement(QualifiedName:StructuredSelection.EMPTY)))(Block(ReturnStatement(SimpleName:selection)))))))))))(ExpressionStatement(MethodInvocation(SimpleName:showDiagram)))))))