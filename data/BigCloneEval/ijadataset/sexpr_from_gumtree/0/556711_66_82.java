(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(MarkerAnnotation(SimpleName:Test))(Modifier:public)(PrimitiveType:void)(SimpleName:incorrectNumberOfBytesReadShouldThrowSectionDecoderException)(SimpleType(SimpleName:IOException))(Block(VariableDeclarationStatement(ArrayType(PrimitiveType:byte)(Dimension))(VariableDeclarationFragment(SimpleName:only4Bytes)(ArrayCreation(ArrayType(PrimitiveType:byte)(Dimension))(ArrayInitializer(CastExpression(PrimitiveType:byte)(NumberLiteral:1))(CastExpression(PrimitiveType:byte)(NumberLiteral:2))(CastExpression(PrimitiveType:byte)(NumberLiteral:3))(CastExpression(PrimitiveType:byte)(NumberLiteral:4))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(SimpleName:expect)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:mockHeader))(SimpleName:getPrivateDataOffset)))))(SimpleName:andReturn)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:0))))(VariableDeclarationStatement(Modifier:final)(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:expectedNumberOfBytes)(InfixExpression(QualifiedName:only4Bytes.length)(INFIX_EXPRESSION_OPERATOR:+)(NumberLiteral:1))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(SimpleName:expect)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:mockHeader))(SimpleName:getPrivateDataSize)))))(SimpleName:andReturn)(METHOD_INVOCATION_ARGUMENTS(SimpleName:expectedNumberOfBytes))))(VariableDeclarationStatement(SimpleType(SimpleName:InputStream))(VariableDeclarationFragment(SimpleName:mockInputStream)(MethodInvocation(SimpleName:createMock)(METHOD_INVOCATION_ARGUMENTS(TypeLiteral(SimpleType(SimpleName:InputStream)))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(SimpleName:expect)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:mockInputStream))(SimpleName:read)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(SimpleName:isA)(METHOD_INVOCATION_ARGUMENTS(TypeLiteral(ArrayType(PrimitiveType:byte)(Dimension)))))(MethodInvocation(SimpleName:eq)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:0)))(MethodInvocation(SimpleName:eq)(METHOD_INVOCATION_ARGUMENTS(SimpleName:expectedNumberOfBytes))))))))(SimpleName:andAnswer)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:EasyMockUtil))(SimpleName:writeArrayToInputStream)(METHOD_INVOCATION_ARGUMENTS(SimpleName:only4Bytes))))))(ExpressionStatement(MethodInvocation(SimpleName:replay)(METHOD_INVOCATION_ARGUMENTS(SimpleName:mockHeader)(SimpleName:mockInputStream))))(TryStatement(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:sut))(SimpleName:decode)(METHOD_INVOCATION_ARGUMENTS(ClassInstanceCreation(SimpleType(SimpleName:DataInputStream))(SimpleName:mockInputStream))(NumberLiteral:0L)(SimpleName:mockHeader)(SimpleName:c))))(ExpressionStatement(MethodInvocation(SimpleName:fail)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:IOException))(SimpleName:e))(Block(VariableDeclarationStatement(SimpleType(SimpleName:SectionDecoderException))(VariableDeclarationFragment(SimpleName:decoderException)(CastExpression(SimpleType(SimpleName:SectionDecoderException))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:e))(SimpleName:getCause)))))(ExpressionStatement(MethodInvocation(SimpleName:assertEquals)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:decoderException))(SimpleName:getMessage))))))))))))