(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:public)(SimpleType(SimpleName:Element))(SimpleName:exec)(SingleVariableDeclaration(SimpleType(SimpleName:Element))(SimpleName:params))(SingleVariableDeclaration(SimpleType(SimpleName:ServiceContext))(SimpleName:context))(SimpleType(SimpleName:Exception))(Block(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:id)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Integer))(SimpleName:parseInt)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:params))(SimpleName:getChildText)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:Constants.MAP_SERVICE_ID)))))))(VariableDeclarationStatement(SimpleType(SimpleName:MapMerger))(VariableDeclarationFragment(SimpleName:mm)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:MapUtil))(SimpleName:getMapMerger)(METHOD_INVOCATION_ARGUMENTS(SimpleName:context)))))(VariableDeclarationStatement(SimpleType(SimpleName:Element))(VariableDeclarationFragment(SimpleName:ret)(ClassInstanceCreation(SimpleType(SimpleName:Element))(StringLiteral:<STR>))))(VariableDeclarationStatement(SimpleType(SimpleName:MapService))(VariableDeclarationFragment(SimpleName:ms)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:mm))(SimpleName:getService)(METHOD_INVOCATION_ARGUMENTS(SimpleName:id)))))(IfStatement(InstanceofExpression(SimpleName:ms)(SimpleType(SimpleName:WmsService)))(Block(VariableDeclarationStatement(SimpleType(SimpleName:WmsService))(VariableDeclarationFragment(SimpleName:ws)(CastExpression(SimpleType(SimpleName:WmsService))(SimpleName:ms))))(VariableDeclarationStatement(SimpleType(SimpleName:WMSLayer))(VariableDeclarationFragment(SimpleName:wlayer)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ws))(SimpleName:getWmsLayer))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ret))(SimpleName:addContent)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(ClassInstanceCreation(SimpleType(SimpleName:Element))(StringLiteral:<STR>)))(SimpleName:setText)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ret))(SimpleName:addContent)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(ClassInstanceCreation(SimpleType(SimpleName:Element))(StringLiteral:<STR>)))(SimpleName:setText)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:wlayer))(SimpleName:getTitle)))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ret))(SimpleName:addContent)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(ClassInstanceCreation(SimpleType(SimpleName:Element))(StringLiteral:<STR>)))(SimpleName:setText)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:wlayer))(SimpleName:getAbstract)))))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:legendURL)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ws))(SimpleName:getLegendUrl))))(IfStatement(InfixExpression(SimpleName:legendURL)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ret))(SimpleName:addContent)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(ClassInstanceCreation(SimpleType(SimpleName:Element))(StringLiteral:<STR>)))(SimpleName:setText)(METHOD_INVOCATION_ARGUMENTS(SimpleName:legendURL)))))))(VariableDeclarationStatement(SimpleType(SimpleName:WMSMetadataURL))(VariableDeclarationFragment(SimpleName:md)(NullLiteral)))(EnhancedForStatement(SingleVariableDeclaration(SimpleType(SimpleName:PreferredInfo))(SimpleName:pref))(SimpleName:_preferred)(Block(ExpressionStatement(Assignment(SimpleName:md)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(SimpleName:getMetadata)(METHOD_INVOCATION_ARGUMENTS(SimpleName:wlayer)(SimpleName:pref)))))(IfStatement(InfixExpression(SimpleName:md)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(BreakStatement))))(IfStatement(InfixExpression(SimpleName:md)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:href)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:md))(SimpleName:getOnlineResource)))(SimpleName:getHref))))(VariableDeclarationStatement(SimpleType(SimpleName:URL))(VariableDeclarationFragment(SimpleName:url)(ClassInstanceCreation(SimpleType(SimpleName:URL))(SimpleName:href))))(VariableDeclarationStatement(SimpleType(SimpleName:HttpURLConnection))(VariableDeclarationFragment(SimpleName:conn)(CastExpression(SimpleType(SimpleName:HttpURLConnection))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:url))(SimpleName:openConnection)))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:info)(CastExpression(SimpleType(SimpleName:String))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:conn))(SimpleName:getContent)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ret))(SimpleName:addContent)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(ClassInstanceCreation(SimpleType(SimpleName:Element))(StringLiteral:<STR>)))(SimpleName:setText)(METHOD_INVOCATION_ARGUMENTS(SimpleName:info))))(SimpleName:setAttribute)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:md))(SimpleName:getFormat)))(SimpleName:toString)))))(SimpleName:setAttribute)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:md))(SimpleName:getType)))(SimpleName:toString))))))))))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ret))(SimpleName:addContent)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(ClassInstanceCreation(SimpleType(SimpleName:Element))(StringLiteral:<STR>)))(SimpleName:setText)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ret))(SimpleName:addContent)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(ClassInstanceCreation(SimpleType(SimpleName:Element))(StringLiteral:<STR>)))(SimpleName:setText)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ms))(SimpleName:getTitle)))))))))(ReturnStatement(SimpleName:ret))))))