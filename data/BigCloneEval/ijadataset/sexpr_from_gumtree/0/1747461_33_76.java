(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:public)(PrimitiveType:void)(SimpleName:paint)(SingleVariableDeclaration(SimpleType(SimpleName:Graphics2D))(SimpleName:g))(SingleVariableDeclaration(SimpleType(SimpleName:PlotFrame))(SimpleName:plotFrame))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:g))(SimpleName:setColor)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:Color.BLACK))))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:tapSize)(NumberLiteral:2)))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:barWidth)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:plotFrame))(SimpleName:getBarWidth))))(IfStatement(InfixExpression(SimpleName:barWidth)(INFIX_EXPRESSION_OPERATOR:>)(NumberLiteral:5))(Block(ExpressionStatement(Assignment(SimpleName:tapSize)(ASSIGNMENT_OPERATOR:=)(InfixExpression(ParenthesizedExpression(InfixExpression(SimpleName:barWidth)(INFIX_EXPRESSION_OPERATOR:-)(NumberLiteral:1)))(INFIX_EXPRESSION_OPERATOR:/)(NumberLiteral:2))))))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:lineWidth)(NumberLiteral:1)))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:barXStart)(NumberLiteral:1)))(VariableDeclarationStatement(SimpleType(SimpleName:MarketData))(VariableDeclarationFragment(SimpleName:dataSource)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:plotFrame))(SimpleName:getDataSource))))(VariableDeclarationStatement(SimpleType(SimpleName:Market))(VariableDeclarationFragment(SimpleName:currentMarket)(NullLiteral)))(VariableDeclarationStatement(SimpleType(SimpleName:Market))(VariableDeclarationFragment(SimpleName:lastMarket)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:plotFrame))(SimpleName:getLastMarket))))(VariableDeclarationStatement(SimpleType(SimpleName:TimeUnit))(VariableDeclarationFragment(SimpleName:lastVisible)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:plotFrame))(SimpleName:getTimeForX)(METHOD_INVOCATION_ARGUMENTS(FieldAccess(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:g))(SimpleName:getClipBounds))(SimpleName:width))))))(TryStatement(Block(ExpressionStatement(Assignment(SimpleName:currentMarket)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:dataSource))(SimpleName:getOnOrBefore)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:lastMarket))(SimpleName:getTicker))(SimpleName:lastVisible))))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:Exception))(SimpleName:e))(Block(ExpressionStatement(Assignment(SimpleName:currentMarket)(ASSIGNMENT_OPERATOR:=)(SimpleName:lastMarket))))))(WhileStatement(InfixExpression(InfixExpression(SimpleName:currentMarket)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(INFIX_EXPRESSION_OPERATOR:&&)(InfixExpression(SimpleName:barXStart)(INFIX_EXPRESSION_OPERATOR:>)(NumberLiteral:0)))(Block(ExpressionStatement(Assignment(SimpleName:barXStart)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:plotFrame))(SimpleName:getXForTime)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:currentMarket))(SimpleName:getMarketTime))))))(IfStatement(InfixExpression(SimpleName:barXStart)(INFIX_EXPRESSION_OPERATOR:<=)(InfixExpression(FieldAccess(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:g))(SimpleName:getClipBounds))(SimpleName:width))(INFIX_EXPRESSION_OPERATOR:-)(SimpleName:barWidth)))(Block(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:openY)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:plotFrame))(SimpleName:getYForPrice)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:currentMarket))(SimpleName:getOpenPrice))))))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:closeY)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:plotFrame))(SimpleName:getYForPrice)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:currentMarket))(SimpleName:getClosePrice))))))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:highY)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:plotFrame))(SimpleName:getYForPrice)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:currentMarket))(SimpleName:getHighPrice))))))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:lowY)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:plotFrame))(SimpleName:getYForPrice)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:currentMarket))(SimpleName:getLowPrice))))))(IfStatement(SimpleName:useColors)(Block(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:rc)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:currentMarket))(SimpleName:getOpenPrice)))(SimpleName:compareTo)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:currentMarket))(SimpleName:getClosePrice))))))(IfStatement(InfixExpression(SimpleName:rc)(INFIX_EXPRESSION_OPERATOR:<)(NumberLiteral:0))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:g))(SimpleName:setColor)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:Color.GREEN))))(IfStatement(InfixExpression(SimpleName:rc)(INFIX_EXPRESSION_OPERATOR:>)(NumberLiteral:0))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:g))(SimpleName:setColor)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:Color.RED))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:g))(SimpleName:setColor)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:Color.BLACK))))))))(IfStatement(InfixExpression(InfixExpression(SimpleName:plotType)(INFIX_EXPRESSION_OPERATOR:==)(QualifiedName:PlotTypes.OHL))(INFIX_EXPRESSION_OPERATOR:||)(InfixExpression(SimpleName:plotType)(INFIX_EXPRESSION_OPERATOR:==)(QualifiedName:PlotTypes.OHLC)))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:g))(SimpleName:drawLine)(METHOD_INVOCATION_ARGUMENTS(SimpleName:barXStart)(SimpleName:openY)(InfixExpression(InfixExpression(SimpleName:barXStart)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:tapSize))(INFIX_EXPRESSION_OPERATOR:-)(NumberLiteral:1))(SimpleName:openY))))))(IfStatement(InfixExpression(InfixExpression(SimpleName:plotType)(INFIX_EXPRESSION_OPERATOR:==)(QualifiedName:PlotTypes.OHLC))(INFIX_EXPRESSION_OPERATOR:||)(InfixExpression(SimpleName:plotType)(INFIX_EXPRESSION_OPERATOR:==)(QualifiedName:PlotTypes.HLC)))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:g))(SimpleName:drawLine)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(SimpleName:barXStart)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:tapSize)(SimpleName:lineWidth))(SimpleName:closeY)(InfixExpression(SimpleName:barXStart)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:tapSize)(SimpleName:tapSize))(SimpleName:closeY))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:g))(SimpleName:fillRect)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(SimpleName:barXStart)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:tapSize))(SimpleName:highY)(SimpleName:lineWidth)(InfixExpression(InfixExpression(SimpleName:lowY)(INFIX_EXPRESSION_OPERATOR:-)(SimpleName:highY))(INFIX_EXPRESSION_OPERATOR:+)(NumberLiteral:1)))))))(TryStatement(Block(ExpressionStatement(Assignment(SimpleName:currentMarket)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:currentMarket))(SimpleName:getPrevious)))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:Exception))(SimpleName:e))(Block(ExpressionStatement(Assignment(SimpleName:currentMarket)(ASSIGNMENT_OPERATOR:=)(NullLiteral))))))))))))