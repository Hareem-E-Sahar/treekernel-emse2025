(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:public)(PrimitiveType:void)(SimpleName:print)(SingleVariableDeclaration(SimpleType(SimpleName:Doc))(SimpleName:doc))(SingleVariableDeclaration(SimpleType(SimpleName:PrintRequestAttributeSet))(SimpleName:attributes))(SimpleType(SimpleName:PrintException))(Block(VariableDeclarationStatement(SimpleType(SimpleName:Object))(VariableDeclarationFragment(SimpleName:data)))(VariableDeclarationStatement(SimpleType(SimpleName:DocFlavor))(VariableDeclarationFragment(SimpleName:docflavor)))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:docflavorClassName)))(VariableDeclarationStatement(SimpleType(SimpleName:Image))(VariableDeclarationFragment(SimpleName:image)(NullLiteral)))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:x)(NumberLiteral:0)))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:y)(NumberLiteral:0)))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:width)))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:height)))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:iWidth)))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:iHeight)))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:newWidth)))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:newHeight)))(VariableDeclarationStatement(PrimitiveType:float)(VariableDeclarationFragment(SimpleName:scaleX)))(VariableDeclarationStatement(PrimitiveType:float)(VariableDeclarationFragment(SimpleName:scaleY)))(SynchronizedStatement(ThisExpression)(Block(IfStatement(SimpleName:action)(Block(ThrowStatement(ClassInstanceCreation(SimpleType(SimpleName:PrintException))(StringLiteral:<STR>)))))(ExpressionStatement(Assignment(SimpleName:action)(ASSIGNMENT_OPERATOR:=)(BooleanLiteral:true)))))(TryStatement(Block(ExpressionStatement(Assignment(SimpleName:docflavor)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:doc))(SimpleName:getDocFlavor))))(TryStatement(Block(ExpressionStatement(Assignment(SimpleName:data)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:doc))(SimpleName:getPrintData)))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:IOException))(SimpleName:ioexception))(Block(ThrowStatement(ClassInstanceCreation(SimpleType(SimpleName:PrintException))(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ioexception))(SimpleName:toString))))))))(IfStatement(InfixExpression(SimpleName:docflavor)(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(Block(ThrowStatement(ClassInstanceCreation(SimpleType(SimpleName:PrintException))(StringLiteral:<STR>)))))(IfStatement(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:begetPrintService))(SimpleName:isDocFlavorSupported)(METHOD_INVOCATION_ARGUMENTS(SimpleName:docflavor))))(Block(ThrowStatement(ClassInstanceCreation(SimpleType(SimpleName:PrintException))(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:docflavor))(SimpleName:toString)))))))(ExpressionStatement(Assignment(SimpleName:docflavorClassName)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:docflavor))(SimpleName:getRepresentationClassName))))(IfStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:docflavor))(SimpleName:equals)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:DocFlavor.INPUT_STREAM.GIF)))(INFIX_EXPRESSION_OPERATOR:||)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:docflavor))(SimpleName:equals)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:DocFlavor.BYTE_ARRAY.GIF)))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:docflavor))(SimpleName:equals)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:DocFlavor.INPUT_STREAM.JPEG)))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:docflavor))(SimpleName:equals)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:DocFlavor.BYTE_ARRAY.JPEG)))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:docflavor))(SimpleName:equals)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:DocFlavor.INPUT_STREAM.PNG)))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:docflavor))(SimpleName:equals)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:DocFlavor.BYTE_ARRAY.PNG))))(Block(TryStatement(Block(ExpressionStatement(Assignment(SimpleName:image)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(SimpleName:readImage)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:doc))(SimpleName:getStreamForBytes)))))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:IOException))(SimpleName:ioe))(Block(ThrowStatement(ClassInstanceCreation(SimpleType(SimpleName:PrintException))(SimpleName:ioe)))))))(IfStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:docflavor))(SimpleName:equals)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:DocFlavor.URL.GIF)))(INFIX_EXPRESSION_OPERATOR:||)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:docflavor))(SimpleName:equals)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:DocFlavor.URL.JPEG)))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:docflavor))(SimpleName:equals)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:DocFlavor.URL.PNG))))(Block(VariableDeclarationStatement(SimpleType(SimpleName:URL))(VariableDeclarationFragment(SimpleName:url)(CastExpression(SimpleType(SimpleName:URL))(SimpleName:data))))(TryStatement(Block(ExpressionStatement(Assignment(SimpleName:image)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(SimpleName:readImage)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:url))(SimpleName:openStream)))))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:IOException))(SimpleName:ioe))(Block(ThrowStatement(ClassInstanceCreation(SimpleType(SimpleName:PrintException))(SimpleName:ioe)))))))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:docflavor))(SimpleName:equals)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:DocFlavor.SERVICE_FORMATTED.PRINTABLE)))(Block(VariableDeclarationStatement(SimpleType(SimpleName:Printable))(VariableDeclarationFragment(SimpleName:printable)(CastExpression(SimpleType(SimpleName:Printable))(SimpleName:data))))(ExpressionStatement(MethodInvocation(SimpleName:print)(METHOD_INVOCATION_ARGUMENTS(SimpleName:printable)(NullLiteral)))))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:docflavor))(SimpleName:equals)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:DocFlavor.SERVICE_FORMATTED.PAGEABLE)))(Block(VariableDeclarationStatement(SimpleType(SimpleName:Pageable))(VariableDeclarationFragment(SimpleName:pageable)(CastExpression(SimpleType(SimpleName:Pageable))(SimpleName:data))))(ExpressionStatement(MethodInvocation(SimpleName:print)(METHOD_INVOCATION_ARGUMENTS(NullLiteral)(SimpleName:pageable)))))(Block(ThrowStatement(ClassInstanceCreation(SimpleType(SimpleName:PrintException))(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:docflavorClassName)))))))))(IfStatement(InfixExpression(SimpleName:image)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(VariableDeclarationStatement(Modifier:final)(SimpleType(SimpleName:PageFormat))(VariableDeclarationFragment(SimpleName:format)(ClassInstanceCreation(SimpleType(SimpleName:PageFormat)))))(VariableDeclarationStatement(Modifier:final)(SimpleType(SimpleName:Paper))(VariableDeclarationFragment(SimpleName:p)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:format))(SimpleName:getPaper))))(VariableDeclarationStatement(SimpleType(SimpleName:MediaSize))(VariableDeclarationFragment(SimpleName:size)(NullLiteral)))(IfStatement(InfixExpression(SimpleName:attributes)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:attributes))(SimpleName:containsKey)(METHOD_INVOCATION_ARGUMENTS(TypeLiteral(SimpleType(SimpleName:MediaSize)))))(Block(ExpressionStatement(Assignment(SimpleName:size)(ASSIGNMENT_OPERATOR:=)(CastExpression(SimpleType(SimpleName:MediaSize))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:attributes))(SimpleName:get)(METHOD_INVOCATION_ARGUMENTS(TypeLiteral(SimpleType(SimpleName:MediaSize)))))))))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:attributes))(SimpleName:containsKey)(METHOD_INVOCATION_ARGUMENTS(TypeLiteral(SimpleType(SimpleName:MediaSizeName)))))(Block(VariableDeclarationStatement(SimpleType(SimpleName:MediaSizeName))(VariableDeclarationFragment(SimpleName:name)(CastExpression(SimpleType(SimpleName:MediaSizeName))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:attributes))(SimpleName:get)(METHOD_INVOCATION_ARGUMENTS(TypeLiteral(SimpleType(SimpleName:MediaSizeName))))))))(ExpressionStatement(Assignment(SimpleName:size)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:MediaSize))(SimpleName:getMediaSizeForName)(METHOD_INVOCATION_ARGUMENTS(SimpleName:name))))))(Block(ExpressionStatement(Assignment(SimpleName:size)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:MediaSize))(SimpleName:getMediaSizeForName)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:MediaSizeName.ISO_A4)))))))))(Block(ExpressionStatement(Assignment(SimpleName:size)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:MediaSize))(SimpleName:getMediaSizeForName)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:MediaSizeName.ISO_A4)))))))(ExpressionStatement(Assignment(SimpleName:width)(ASSIGNMENT_OPERATOR:=)(CastExpression(PrimitiveType:int)(ParenthesizedExpression(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:size))(SimpleName:getX)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:MediaSize.INCH)))(INFIX_EXPRESSION_OPERATOR:*)(NumberLiteral:72.0))))))(ExpressionStatement(Assignment(SimpleName:height)(ASSIGNMENT_OPERATOR:=)(CastExpression(PrimitiveType:int)(ParenthesizedExpression(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:size))(SimpleName:getY)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:MediaSize.INCH)))(INFIX_EXPRESSION_OPERATOR:*)(NumberLiteral:72.0))))))(IfStatement(InfixExpression(SimpleName:attributes)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:attributes))(SimpleName:containsValue)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:OrientationRequested.LANDSCAPE)))(Block(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:temp)(SimpleName:width)))(ExpressionStatement(Assignment(SimpleName:width)(ASSIGNMENT_OPERATOR:=)(SimpleName:height)))(ExpressionStatement(Assignment(SimpleName:height)(ASSIGNMENT_OPERATOR:=)(SimpleName:temp)))))))(ExpressionStatement(Assignment(SimpleName:iWidth)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:image))(SimpleName:getWidth)(METHOD_INVOCATION_ARGUMENTS(NullLiteral)))))(ExpressionStatement(Assignment(SimpleName:iHeight)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:image))(SimpleName:getHeight)(METHOD_INVOCATION_ARGUMENTS(NullLiteral)))))(ExpressionStatement(Assignment(SimpleName:x)(ASSIGNMENT_OPERATOR:=)(InfixExpression(ParenthesizedExpression(InfixExpression(SimpleName:width)(INFIX_EXPRESSION_OPERATOR:-)(SimpleName:iWidth)))(INFIX_EXPRESSION_OPERATOR:/)(NumberLiteral:2))))(ExpressionStatement(Assignment(SimpleName:y)(ASSIGNMENT_OPERATOR:=)(InfixExpression(ParenthesizedExpression(InfixExpression(SimpleName:height)(INFIX_EXPRESSION_OPERATOR:-)(SimpleName:iHeight)))(INFIX_EXPRESSION_OPERATOR:/)(NumberLiteral:2))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:p))(SimpleName:setSize)(METHOD_INVOCATION_ARGUMENTS(SimpleName:width)(SimpleName:height))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:p))(SimpleName:setImageableArea)(METHOD_INVOCATION_ARGUMENTS(SimpleName:x)(SimpleName:y)(SimpleName:iWidth)(SimpleName:iHeight))))(VariableDeclarationStatement(SimpleType(SimpleName:Graphics2D2PS))(VariableDeclarationFragment(SimpleName:graphics)(ClassInstanceCreation(SimpleType(SimpleName:Graphics2D2PS))(SimpleName:outstream)(SimpleName:format))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:graphics))(SimpleName:startPage)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:1))))(IfStatement(InfixExpression(InfixExpression(SimpleName:x)(INFIX_EXPRESSION_OPERATOR:<)(NumberLiteral:0))(INFIX_EXPRESSION_OPERATOR:||)(InfixExpression(SimpleName:y)(INFIX_EXPRESSION_OPERATOR:<)(NumberLiteral:0)))(Block(ExpressionStatement(Assignment(SimpleName:scaleX)(ASSIGNMENT_OPERATOR:=)(InfixExpression(CastExpression(PrimitiveType:float)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:image))(SimpleName:getWidth)(METHOD_INVOCATION_ARGUMENTS(NullLiteral))))(INFIX_EXPRESSION_OPERATOR:/)(CastExpression(PrimitiveType:float)(SimpleName:width)))))(ExpressionStatement(Assignment(SimpleName:scaleY)(ASSIGNMENT_OPERATOR:=)(InfixExpression(CastExpression(PrimitiveType:float)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:image))(SimpleName:getHeight)(METHOD_INVOCATION_ARGUMENTS(NullLiteral))))(INFIX_EXPRESSION_OPERATOR:/)(CastExpression(PrimitiveType:float)(SimpleName:height)))))(ExpressionStatement(Assignment(SimpleName:newWidth)(ASSIGNMENT_OPERATOR:=)(SimpleName:width)))(ExpressionStatement(Assignment(SimpleName:newHeight)(ASSIGNMENT_OPERATOR:=)(SimpleName:height)))(IfStatement(InfixExpression(SimpleName:scaleX)(INFIX_EXPRESSION_OPERATOR:>)(SimpleName:scaleY))(Block(ExpressionStatement(Assignment(SimpleName:newWidth)(ASSIGNMENT_OPERATOR:=)(CastExpression(PrimitiveType:int)(ParenthesizedExpression(InfixExpression(CastExpression(PrimitiveType:float)(SimpleName:iWidth))(INFIX_EXPRESSION_OPERATOR:/)(SimpleName:scaleX))))))(ExpressionStatement(Assignment(SimpleName:newHeight)(ASSIGNMENT_OPERATOR:=)(CastExpression(PrimitiveType:int)(ParenthesizedExpression(InfixExpression(CastExpression(PrimitiveType:float)(SimpleName:iHeight))(INFIX_EXPRESSION_OPERATOR:/)(SimpleName:scaleX))))))(ExpressionStatement(Assignment(SimpleName:x)(ASSIGNMENT_OPERATOR:=)(NumberLiteral:0)))(ExpressionStatement(Assignment(SimpleName:y)(ASSIGNMENT_OPERATOR:=)(InfixExpression(ParenthesizedExpression(InfixExpression(SimpleName:height)(INFIX_EXPRESSION_OPERATOR:-)(SimpleName:newHeight)))(INFIX_EXPRESSION_OPERATOR:/)(NumberLiteral:2)))))(Block(ExpressionStatement(Assignment(SimpleName:newWidth)(ASSIGNMENT_OPERATOR:=)(CastExpression(PrimitiveType:int)(ParenthesizedExpression(InfixExpression(CastExpression(PrimitiveType:float)(SimpleName:iWidth))(INFIX_EXPRESSION_OPERATOR:/)(SimpleName:scaleY))))))(ExpressionStatement(Assignment(SimpleName:newHeight)(ASSIGNMENT_OPERATOR:=)(CastExpression(PrimitiveType:int)(ParenthesizedExpression(InfixExpression(CastExpression(PrimitiveType:float)(SimpleName:iHeight))(INFIX_EXPRESSION_OPERATOR:/)(SimpleName:scaleY))))))(ExpressionStatement(Assignment(SimpleName:y)(ASSIGNMENT_OPERATOR:=)(NumberLiteral:0)))(ExpressionStatement(Assignment(SimpleName:x)(ASSIGNMENT_OPERATOR:=)(InfixExpression(ParenthesizedExpression(InfixExpression(SimpleName:width)(INFIX_EXPRESSION_OPERATOR:-)(SimpleName:newWidth)))(INFIX_EXPRESSION_OPERATOR:/)(NumberLiteral:2))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:graphics))(SimpleName:drawImage)(METHOD_INVOCATION_ARGUMENTS(SimpleName:image)(SimpleName:x)(SimpleName:y)(SimpleName:newWidth)(SimpleName:newHeight)(NullLiteral)))))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:graphics))(SimpleName:drawImage)(METHOD_INVOCATION_ARGUMENTS(SimpleName:image)(SimpleName:x)(SimpleName:y)(NullLiteral))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:graphics))(SimpleName:endOfPage)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:1))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:graphics))(SimpleName:finish))))))(Block(SynchronizedStatement(ThisExpression)(Block(ExpressionStatement(Assignment(SimpleName:action)(ASSIGNMENT_OPERATOR:=)(BooleanLiteral:false)))))))))))