(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:public)(SimpleType(SimpleName:DeskletConfig))(SimpleName:installDesklet)(SingleVariableDeclaration(SimpleType(SimpleName:String))(SimpleName:uuid))(SingleVariableDeclaration(SimpleType(SimpleName:URL))(SimpleName:installFrom))(SimpleType(SimpleName:MalformedURLException))(SimpleType(SimpleName:IOException))(SimpleType(SimpleName:JDOMException))(Block(VariableDeclarationStatement(SimpleType(SimpleName:SecurityManager))(VariableDeclarationFragment(SimpleName:sm)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:System))(SimpleName:getSecurityManager))))(VariableDeclarationStatement(SimpleType(SimpleName:Object))(VariableDeclarationFragment(SimpleName:ctx)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:sm))(SimpleName:getSecurityContext))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:sm))(SimpleName:checkPermission)(METHOD_INVOCATION_ARGUMENTS(SimpleName:PERMISSION)(SimpleName:ctx))))(VariableDeclarationStatement(SimpleType(SimpleName:URL))(VariableDeclarationFragment(SimpleName:url)(SimpleName:installFrom)))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:url))(SimpleName:getProtocol)))(SimpleName:equals)(METHOD_INVOCATION_ARGUMENTS(SimpleName:PROTOCOL)))(Block(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:ext)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:installFrom))(SimpleName:toExternalForm))))(ExpressionStatement(Assignment(SimpleName:url)(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(SimpleType(SimpleName:URL))(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ext))(SimpleName:substring)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:PROTOCOL))(SimpleName:length))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ext))(SimpleName:length))))))))))(VariableDeclarationStatement(SimpleType(SimpleName:File))(VariableDeclarationFragment(SimpleName:file)(ClassInstanceCreation(SimpleType(SimpleName:File))(QualifiedName:Environment.HOME)(InfixExpression(SimpleName:uuid)(INFIX_EXPRESSION_OPERATOR:+)(StringLiteral:<STR>)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:core))(SimpleName:getMainPanel)))(SimpleName:getSpinner)))(SimpleName:setBusy)(METHOD_INVOCATION_ARGUMENTS(BooleanLiteral:true))))(TryStatement(Block(VariableDeclarationStatement(ArrayType(SimpleType(SimpleName:String))(Dimension))(VariableDeclarationFragment(SimpleName:parts)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:url))(SimpleName:getFile)))(SimpleName:split)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))))(IfStatement(InfixExpression(QualifiedName:parts.length)(INFIX_EXPRESSION_OPERATOR:>)(NumberLiteral:0))(Block(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:deskletName)(ArrayAccess(SimpleName:parts)(InfixExpression(QualifiedName:parts.length)(INFIX_EXPRESSION_OPERATOR:-)(NumberLiteral:1)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:core))(SimpleName:getMainPanel)))(SimpleName:getSpinner)))(SimpleName:setText)(METHOD_INVOCATION_ARGUMENTS(SimpleName:deskletName))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:StreamUtility))(SimpleName:copyStream)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:url))(SimpleName:openStream))(ClassInstanceCreation(SimpleType(SimpleName:FileOutputStream))(SimpleName:file))))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:IOException))(SimpleName:ex))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:core))(SimpleName:getMainPanel)))(SimpleName:getSpinner)))(SimpleName:setText)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:core))(SimpleName:getMainPanel)))(SimpleName:getSpinner)))(SimpleName:setBusy)(METHOD_INVOCATION_ARGUMENTS(BooleanLiteral:false))))(ThrowStatement(SimpleName:ex)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:core))(SimpleName:getMainPanel)))(SimpleName:getSpinner)))(SimpleName:setText)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:core))(SimpleName:getMainPanel)))(SimpleName:getSpinner)))(SimpleName:setBusy)(METHOD_INVOCATION_ARGUMENTS(BooleanLiteral:false))))(VariableDeclarationStatement(SimpleType(SimpleName:JarFile))(VariableDeclarationFragment(SimpleName:jar)(ClassInstanceCreation(SimpleType(SimpleName:JarFile))(SimpleName:file))))(VariableDeclarationStatement(SimpleType(SimpleName:File))(VariableDeclarationFragment(SimpleName:destination)(ClassInstanceCreation(SimpleType(SimpleName:File))(QualifiedName:Environment.HOME)(SimpleName:uuid))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:destination))(SimpleName:mkdirs)))(VariableDeclarationStatement(ParameterizedType(SimpleType(SimpleName:Enumeration))(SimpleType(SimpleName:JarEntry)))(VariableDeclarationFragment(SimpleName:entries)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:jar))(SimpleName:entries))))(WhileStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:entries))(SimpleName:hasMoreElements))(Block(VariableDeclarationStatement(SimpleType(SimpleName:JarEntry))(VariableDeclarationFragment(SimpleName:entry)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:entries))(SimpleName:nextElement))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:LOG))(SimpleName:log)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:Level.FINE)(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:entry))(SimpleName:getName))))))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:entry))(SimpleName:isDirectory))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(ClassInstanceCreation(SimpleType(SimpleName:File))(SimpleName:destination)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:entry))(SimpleName:getName))))(SimpleName:mkdirs))))(Block(VariableDeclarationStatement(SimpleType(SimpleName:File))(VariableDeclarationFragment(SimpleName:entryFile)(ClassInstanceCreation(SimpleType(SimpleName:File))(SimpleName:destination)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:entry))(SimpleName:getName)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:entryFile))(SimpleName:getParentFile)))(SimpleName:mkdirs)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:StreamUtility))(SimpleName:copyStream)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:jar))(SimpleName:getInputStream)(METHOD_INVOCATION_ARGUMENTS(SimpleName:entry)))(ClassInstanceCreation(SimpleType(SimpleName:FileOutputStream))(SimpleName:entryFile)))))))))(VariableDeclarationStatement(SimpleType(SimpleName:DeskletConfig))(VariableDeclarationFragment(SimpleName:cfg)(MethodInvocation(METHOD_INVOCATION_RECEIVER(ThisExpression))(SimpleName:readDeskletConfig)(METHOD_INVOCATION_ARGUMENTS(SimpleName:destination)))))(ReturnStatement(SimpleName:cfg))))))