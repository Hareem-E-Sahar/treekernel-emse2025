(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:private)(SimpleType(SimpleName:ArrayObjectInfo))(SimpleName:introspectArray)(SingleVariableDeclaration(SimpleType(SimpleName:Object))(SimpleName:array))(SingleVariableDeclaration(ParameterizedType(SimpleType(SimpleName:Map))(SimpleType(SimpleName:Object))(SimpleType(SimpleName:NonNativeObjectInfo)))(SimpleName:alreadyReadObjects))(SingleVariableDeclaration(SimpleType(SimpleName:ODBType))(SimpleName:valueType))(SingleVariableDeclaration(SimpleType(SimpleName:IntrospectionCallback))(SimpleName:callback))(Block(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:length)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:OdbReflection))(SimpleName:getArrayLength)(METHOD_INVOCATION_ARGUMENTS(SimpleName:array)))))(VariableDeclarationStatement(SimpleType(SimpleName:Class))(VariableDeclarationFragment(SimpleName:elementType)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:array))(SimpleName:getClass)))(SimpleName:getComponentType))))(VariableDeclarationStatement(SimpleType(SimpleName:ODBType))(VariableDeclarationFragment(SimpleName:type)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ODBType))(SimpleName:getFromClass)(METHOD_INVOCATION_ARGUMENTS(SimpleName:elementType)))))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:type))(SimpleName:isAtomicNative))(Block(ReturnStatement(MethodInvocation(SimpleName:intropectAtomicNativeArray)(METHOD_INVOCATION_ARGUMENTS(SimpleName:array)(SimpleName:type))))))(VariableDeclarationStatement(ArrayType(SimpleType(SimpleName:AbstractObjectInfo))(Dimension))(VariableDeclarationFragment(SimpleName:arrayCopy)(ArrayCreation(ArrayType(SimpleType(SimpleName:AbstractObjectInfo))(Dimension(SimpleName:length))))))(VariableDeclarationStatement(ParameterizedType(SimpleType(SimpleName:Collection))(SimpleType(SimpleName:NonNativeObjectInfo)))(VariableDeclarationFragment(SimpleName:nonNativeObjects)(ClassInstanceCreation(ParameterizedType(SimpleType(SimpleName:ArrayList))(SimpleType(SimpleName:NonNativeObjectInfo)))(SimpleName:length))))(ForStatement(VariableDeclarationExpression(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:i)(NumberLiteral:0)))(InfixExpression(SimpleName:i)(INFIX_EXPRESSION_OPERATOR:<)(SimpleName:length))(PostfixExpression(SimpleName:i)(POSTFIX_EXPRESSION_OPERATOR:++))(Block(VariableDeclarationStatement(SimpleType(SimpleName:Object))(VariableDeclarationFragment(SimpleName:o)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:OdbReflection))(SimpleName:getArrayElement)(METHOD_INVOCATION_ARGUMENTS(SimpleName:array)(SimpleName:i)))))(VariableDeclarationStatement(SimpleType(SimpleName:ClassInfo))(VariableDeclarationFragment(SimpleName:ci)(NullLiteral)))(IfStatement(InfixExpression(SimpleName:o)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(VariableDeclarationStatement(SimpleType(SimpleName:AbstractObjectInfo))(VariableDeclarationFragment(SimpleName:aoi)(MethodInvocation(SimpleName:getObjectInfoInternal)(METHOD_INVOCATION_ARGUMENTS(SimpleName:o)(SimpleName:alreadyReadObjects)(SimpleName:callback)))))(ExpressionStatement(Assignment(ArrayAccess(SimpleName:arrayCopy)(SimpleName:i))(ASSIGNMENT_OPERATOR:=)(SimpleName:aoi)))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:aoi))(SimpleName:isNonNativeObject))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:nonNativeObjects))(SimpleName:add)(METHOD_INVOCATION_ARGUMENTS(CastExpression(SimpleType(SimpleName:NonNativeObjectInfo))(SimpleName:aoi))))))))(Block(ExpressionStatement(Assignment(ArrayAccess(SimpleName:arrayCopy)(SimpleName:i))(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(SimpleType(SimpleName:NonNativeNullObjectInfo)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:nonNativeObjects))(SimpleName:add)(METHOD_INVOCATION_ARGUMENTS(CastExpression(SimpleType(SimpleName:NonNativeObjectInfo))(ArrayAccess(SimpleName:arrayCopy)(SimpleName:i))))))))))(VariableDeclarationStatement(SimpleType(SimpleName:ArrayObjectInfo))(VariableDeclarationFragment(SimpleName:arrayOfAoi)(ClassInstanceCreation(SimpleType(SimpleName:ArrayObjectInfo))(SimpleName:arrayCopy)(SimpleName:valueType)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:type))(SimpleName:getId)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:arrayOfAoi))(SimpleName:setNonNativeObjects)(METHOD_INVOCATION_ARGUMENTS(SimpleName:nonNativeObjects))))(ReturnStatement(SimpleName:arrayOfAoi))))))