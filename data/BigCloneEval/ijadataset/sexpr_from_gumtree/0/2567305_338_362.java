(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(MarkerAnnotation(SimpleName:Test))(Modifier:public)(PrimitiveType:void)(SimpleName:testConnectionDestroyedEventHandler)(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:mocks))(SimpleName:checking)(METHOD_INVOCATION_ARGUMENTS(ClassInstanceCreation(SimpleType(SimpleName:Expectations))(AnonymousClassDeclaration(Initializer(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(SimpleName:one)(METHOD_INVOCATION_ARGUMENTS(SimpleName:context))))(SimpleName:getSystemEventSource)(METHOD_INVOCATION_ARGUMENTS(TypeLiteral(SimpleType(SimpleName:ConnectionDestroyedEvent))))))(ExpressionStatement(MethodInvocation(SimpleName:will)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(SimpleName:returnValue)(METHOD_INVOCATION_ARGUMENTS(SimpleName:sysEventSource))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(SimpleName:one)(METHOD_INVOCATION_ARGUMENTS(SimpleName:context))))(SimpleName:getConnectionDiscoverer)))(ExpressionStatement(MethodInvocation(SimpleName:will)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(SimpleName:returnValue)(METHOD_INVOCATION_ARGUMENTS(SimpleName:connectionDiscoverer))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(SimpleName:one)(METHOD_INVOCATION_ARGUMENTS(SimpleName:connectionDiscoverer))))(SimpleName:connectionDestroyed)(METHOD_INVOCATION_ARGUMENTS(SimpleName:ID)))))))))))(VariableDeclarationStatement(SimpleType(SimpleName:ConnectionDestroyedEvent))(VariableDeclarationFragment(SimpleName:event)(ClassInstanceCreation(SimpleType(SimpleName:ConnectionDestroyedEvent))(SimpleName:context)(SimpleName:ID))))(VariableDeclarationStatement(SimpleType(SimpleName:ConnectionDestroyedEventHandler))(VariableDeclarationFragment(SimpleName:candidate)(ClassInstanceCreation(SimpleType(SimpleName:ConnectionDestroyedEventHandler))(SimpleName:state))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:candidate))(SimpleName:getState)))(SimpleName:getChannels)))(SimpleName:put)(METHOD_INVOCATION_ARGUMENTS(SimpleName:ID)(SimpleName:channel))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:mocks))(SimpleName:checking)(METHOD_INVOCATION_ARGUMENTS(ClassInstanceCreation(SimpleType(SimpleName:Expectations))(AnonymousClassDeclaration(Initializer(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(SimpleName:one)(METHOD_INVOCATION_ARGUMENTS(SimpleName:channel))))(SimpleName:destroy))))))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:candidate))(SimpleName:getState)))(SimpleName:getConnectedContexts)))(SimpleName:adjustCount)(METHOD_INVOCATION_ARGUMENTS(SimpleName:ID)(NumberLiteral:1))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:candidate))(SimpleName:update)(METHOD_INVOCATION_ARGUMENTS(SimpleName:event))))(ExpressionStatement(MethodInvocation(SimpleName:assertEquals)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(NumberLiteral:0)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:candidate))(SimpleName:getState)))(SimpleName:getConnectedContexts)))(SimpleName:getCount)(METHOD_INVOCATION_ARGUMENTS(SimpleName:ID))))))))))