(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:public)(SimpleName:Pcm2SpeexAudioInputStream)(SingleVariableDeclaration(PrimitiveType:int)(SimpleName:mode))(SingleVariableDeclaration(PrimitiveType:int)(SimpleName:quality))(SingleVariableDeclaration(Modifier:final)(SimpleType(SimpleName:InputStream))(SimpleName:in))(SingleVariableDeclaration(Modifier:final)(SimpleType(SimpleName:AudioFormat))(SimpleName:format))(SingleVariableDeclaration(Modifier:final)(PrimitiveType:long)(SimpleName:length))(SingleVariableDeclaration(Modifier:final)(PrimitiveType:int)(SimpleName:size))(Block(SuperConstructorInvocation(SimpleName:in)(SimpleName:format)(SimpleName:length)(SimpleName:size))(ExpressionStatement(Assignment(SimpleName:granulepos)(ASSIGNMENT_OPERATOR:=)(NumberLiteral:0)))(IfStatement(InfixExpression(SimpleName:streamSerialNumber)(INFIX_EXPRESSION_OPERATOR:==)(NumberLiteral:0))(ExpressionStatement(Assignment(SimpleName:streamSerialNumber)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(ClassInstanceCreation(SimpleType(SimpleName:Random))))(SimpleName:nextInt)))))(ExpressionStatement(Assignment(SimpleName:packetsPerOggPage)(ASSIGNMENT_OPERATOR:=)(SimpleName:DEFAULT_PACKETS_PER_OGG_PAGE)))(ExpressionStatement(Assignment(SimpleName:packetCount)(ASSIGNMENT_OPERATOR:=)(NumberLiteral:0)))(ExpressionStatement(Assignment(SimpleName:pageCount)(ASSIGNMENT_OPERATOR:=)(NumberLiteral:0)))(ExpressionStatement(Assignment(SimpleName:framesPerPacket)(ASSIGNMENT_OPERATOR:=)(SimpleName:DEFAULT_FRAMES_PER_PACKET)))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:samplerate)(CastExpression(PrimitiveType:int)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:format))(SimpleName:getSampleRate)))))(IfStatement(InfixExpression(SimpleName:samplerate)(INFIX_EXPRESSION_OPERATOR:<)(NumberLiteral:0))(ExpressionStatement(Assignment(SimpleName:samplerate)(ASSIGNMENT_OPERATOR:=)(SimpleName:DEFAULT_SAMPLERATE))))(ExpressionStatement(Assignment(SimpleName:channels)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:format))(SimpleName:getChannels))))(IfStatement(InfixExpression(SimpleName:channels)(INFIX_EXPRESSION_OPERATOR:<)(NumberLiteral:0))(ExpressionStatement(Assignment(SimpleName:channels)(ASSIGNMENT_OPERATOR:=)(SimpleName:DEFAULT_CHANNELS))))(IfStatement(InfixExpression(SimpleName:mode)(INFIX_EXPRESSION_OPERATOR:<)(NumberLiteral:0))(ExpressionStatement(Assignment(SimpleName:mode)(ASSIGNMENT_OPERATOR:=)(ConditionalExpression(ParenthesizedExpression(InfixExpression(SimpleName:samplerate)(INFIX_EXPRESSION_OPERATOR:<)(NumberLiteral:12000)))(NumberLiteral:0)(ParenthesizedExpression(ConditionalExpression(ParenthesizedExpression(InfixExpression(SimpleName:samplerate)(INFIX_EXPRESSION_OPERATOR:<)(NumberLiteral:24000)))(NumberLiteral:1)(NumberLiteral:2)))))))(ExpressionStatement(Assignment(FieldAccess(ThisExpression)(SimpleName:mode))(ASSIGNMENT_OPERATOR:=)(SimpleName:mode)))(VariableDeclarationStatement(SimpleType(QualifiedName:AudioFormat.Encoding))(VariableDeclarationFragment(SimpleName:encoding)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:format))(SimpleName:getEncoding))))(IfStatement(InfixExpression(SimpleName:quality)(INFIX_EXPRESSION_OPERATOR:<)(NumberLiteral:0))(Block(IfStatement(InstanceofExpression(SimpleName:encoding)(SimpleType(SimpleName:SpeexEncoding)))(Block(ExpressionStatement(Assignment(SimpleName:quality)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(ParenthesizedExpression(CastExpression(SimpleType(SimpleName:SpeexEncoding))(SimpleName:encoding))))(SimpleName:getQuality)))))(Block(ExpressionStatement(Assignment(SimpleName:quality)(ASSIGNMENT_OPERATOR:=)(SimpleName:DEFAULT_QUALITY)))))))(ExpressionStatement(Assignment(SimpleName:encoder)(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(SimpleType(SimpleName:SpeexEncoder)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:encoder))(SimpleName:init)(METHOD_INVOCATION_ARGUMENTS(SimpleName:mode)(SimpleName:quality)(SimpleName:samplerate)(SimpleName:channels))))(IfStatement(InfixExpression(InstanceofExpression(SimpleName:encoding)(SimpleType(SimpleName:SpeexEncoding)))(INFIX_EXPRESSION_OPERATOR:&&)(MethodInvocation(METHOD_INVOCATION_RECEIVER(ParenthesizedExpression(CastExpression(SimpleType(SimpleName:SpeexEncoding))(SimpleName:encoding))))(SimpleName:isVBR)))(Block(ExpressionStatement(MethodInvocation(SimpleName:setVbr)(METHOD_INVOCATION_ARGUMENTS(BooleanLiteral:true)))))(Block(ExpressionStatement(MethodInvocation(SimpleName:setVbr)(METHOD_INVOCATION_ARGUMENTS(BooleanLiteral:false))))))(ExpressionStatement(Assignment(SimpleName:frameSize)(ASSIGNMENT_OPERATOR:=)(InfixExpression(NumberLiteral:2)(INFIX_EXPRESSION_OPERATOR:*)(SimpleName:channels)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:encoder))(SimpleName:getFrameSize)))))(ExpressionStatement(Assignment(SimpleName:comment)(ASSIGNMENT_OPERATOR:=)(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(QualifiedName:SpeexEncoder.VERSION))))(ExpressionStatement(Assignment(SimpleName:first)(ASSIGNMENT_OPERATOR:=)(BooleanLiteral:true)))))))