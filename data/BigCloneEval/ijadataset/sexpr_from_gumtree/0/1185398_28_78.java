(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:public)(Modifier:static)(PrimitiveType:void)(SimpleName:setContenu)(SingleVariableDeclaration(SimpleType(SimpleName:ContenuFichierElectronique))(SimpleName:contenuFichier))(SingleVariableDeclaration(SimpleType(SimpleName:FichierElectronique))(SimpleName:fichierElectronique))(SingleVariableDeclaration(SimpleType(SimpleName:UtilisateurIFGD))(SimpleName:utilisateurCourant))(SimpleType(SimpleName:IOException))(SimpleType(SimpleName:DocumentVideException))(Block(IfStatement(InfixExpression(SimpleName:contenuFichier)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(VariableDeclarationStatement(SimpleType(SimpleName:SupportDocument))(VariableDeclarationFragment(SimpleName:support)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fichierElectronique))(SimpleName:getSupport))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:support))(SimpleName:setFichierElectronique)(METHOD_INVOCATION_ARGUMENTS(SimpleName:fichierElectronique))))(VariableDeclarationStatement(SimpleType(SimpleName:FicheDocument))(VariableDeclarationFragment(SimpleName:ficheDocument)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:support))(SimpleName:getFicheDocument))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:nomFichier)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:contenuFichier))(SimpleName:getNomFichier))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:extension)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:FilenameUtils))(SimpleName:getExtension)(METHOD_INVOCATION_ARGUMENTS(SimpleName:nomFichier)))))(IfStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ficheDocument))(SimpleName:getFichierElectronique)(METHOD_INVOCATION_ARGUMENTS(SimpleName:nomFichier)))(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(VariableDeclarationStatement(SimpleType(SimpleName:FichierElectronique))(VariableDeclarationFragment(SimpleName:fichierElectroniqueExistant)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ficheDocument))(SimpleName:getFichierElectronique)(METHOD_INVOCATION_ARGUMENTS(SimpleName:nomFichier)))))(IfStatement(InfixExpression(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fichierElectroniqueExistant))(SimpleName:getId))(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(INFIX_EXPRESSION_OPERATOR:&&)(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fichierElectroniqueExistant))(SimpleName:getId)))(SimpleName:equals)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fichierElectronique))(SimpleName:getId))))))(Block(ThrowStatement(ClassInstanceCreation(SimpleType(SimpleName:FichierElectroniqueExistantException))(SimpleName:nomFichier)(SimpleName:ficheDocument)))))))(IfStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fichierElectronique))(SimpleName:getId))(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(Block(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:OfficeDocumentPropertiesUtil))(SimpleName:canWriteIdIGID)(METHOD_INVOCATION_ARGUMENTS(SimpleName:extension)))(Block(VariableDeclarationStatement(SimpleType(SimpleName:Long))(VariableDeclarationFragment(SimpleName:idIgid)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:OfficeDocumentPropertiesUtil))(SimpleName:getIdIGID)(METHOD_INVOCATION_ARGUMENTS(SimpleName:contenuFichier)))))(IfStatement(InfixExpression(SimpleName:idIgid)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(ThrowStatement(ClassInstanceCreation(SimpleType(SimpleName:FichierElectroniqueExistantException))(SimpleName:nomFichier)(SimpleName:idIgid)(SimpleName:ficheDocument)))))))))(VariableDeclarationStatement(SimpleType(SimpleName:InputStream))(VariableDeclarationFragment(SimpleName:inputStream)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:contenuFichier))(SimpleName:getInputStream))))(VariableDeclarationStatement(SimpleType(SimpleName:OutputStream))(VariableDeclarationFragment(SimpleName:outputStream)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fichierElectronique))(SimpleName:getOutputStream))))(TryStatement(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:IOUtils))(SimpleName:copy)(METHOD_INVOCATION_ARGUMENTS(SimpleName:inputStream)(SimpleName:outputStream)))))(Block(TryStatement(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:inputStream))(SimpleName:close))))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:outputStream))(SimpleName:close)))))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:typeMime)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:contenuFichier))(SimpleName:getContentType))))(VariableDeclarationStatement(PrimitiveType:long)(VariableDeclarationFragment(SimpleName:tailleFichier)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:contenuFichier))(SimpleName:getTailleFichier))))(VariableDeclarationStatement(SimpleType(SimpleName:Date))(VariableDeclarationFragment(SimpleName:dateDerniereModification)(ClassInstanceCreation(SimpleType(SimpleName:Date)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fichierElectronique))(SimpleName:setNom)(METHOD_INVOCATION_ARGUMENTS(SimpleName:nomFichier))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fichierElectronique))(SimpleName:setTypeMime)(METHOD_INVOCATION_ARGUMENTS(SimpleName:extension))))(ExpressionStatement(MethodInvocation(SimpleName:creerFormatSiNecessaire)(METHOD_INVOCATION_ARGUMENTS(SimpleName:typeMime)(SimpleName:extension))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fichierElectronique))(SimpleName:setTaille)(METHOD_INVOCATION_ARGUMENTS(SimpleName:tailleFichier))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fichierElectronique))(SimpleName:setDateDerniereModification)(METHOD_INVOCATION_ARGUMENTS(SimpleName:dateDerniereModification))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fichierElectronique))(SimpleName:setSoumetteur)(METHOD_INVOCATION_ARGUMENTS(SimpleName:utilisateurCourant))))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:extension))(SimpleName:endsWith)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:CourrielUtils))(SimpleName:peuplerMetadonneesCourriel)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fichierElectronique))(SimpleName:getNom))(SimpleName:ficheDocument)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:contenuFichier))(SimpleName:getInputStream))(SimpleName:utilisateurCourant)))))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:extension))(SimpleName:endsWith)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))(Block(VariableDeclarationStatement(ParameterizedType(SimpleType(SimpleName:Map))(SimpleType(SimpleName:String))(SimpleType(SimpleName:Object)))(VariableDeclarationFragment(SimpleName:properties)(MethodInvocation(METHOD_INVOCATION_RECEIVER(ClassInstanceCreation(SimpleType(SimpleName:GestionnaireProprietesMimeMessageParser))))(SimpleName:parseMsg)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:contenuFichier))(SimpleName:getInputStream))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:CourrielUtils))(SimpleName:peuplerMetadonneesCourriel)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fichierElectronique))(SimpleName:getNom))(SimpleName:ficheDocument)(SimpleName:properties)(SimpleName:utilisateurCourant)))))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:FGDProprietesDocumentUtils))(SimpleName:copierMetadonneesProprietes)(METHOD_INVOCATION_ARGUMENTS(SimpleName:fichierElectronique)(SimpleName:ficheDocument)))))))))))))