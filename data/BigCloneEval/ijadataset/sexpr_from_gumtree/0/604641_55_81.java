(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(MarkerAnnotation(SimpleName:Override))(Modifier:public)(PrimitiveType:void)(SimpleName:messageReceived)(SingleVariableDeclaration(SimpleType(SimpleName:ChannelHandlerContext))(SimpleName:channelHandlerContext))(SingleVariableDeclaration(SimpleType(SimpleName:MessageEvent))(SimpleName:messageEvent))(SimpleType(SimpleName:Exception))(Block(VariableDeclarationStatement(SimpleType(SimpleName:ChannelBuffer))(VariableDeclarationFragment(SimpleName:in)(CastExpression(SimpleType(SimpleName:ChannelBuffer))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:messageEvent))(SimpleName:getMessage)))))(TryStatement(Block(IfStatement(InfixExpression(QualifiedName:status.state)(INFIX_EXPRESSION_OPERATOR:==)(QualifiedName:SessionStatus.State.PROCESSING))(Block(VariableDeclarationStatement(ParameterizedType(SimpleType(SimpleName:List))(SimpleType(SimpleName:String)))(VariableDeclarationFragment(SimpleName:pieces)(ClassInstanceCreation(ParameterizedType(SimpleType(SimpleName:ArrayList))(SimpleType(SimpleName:String)))(NumberLiteral:6))))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:pos)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:in))(SimpleName:bytesBefore)(METHOD_INVOCATION_ARGUMENTS(SimpleName:space)))))(DoStatement(Block(IfStatement(InfixExpression(SimpleName:pos)(INFIX_EXPRESSION_OPERATOR:!=)(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:-)(NumberLiteral:1)))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:pieces))(SimpleName:add)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:in))(SimpleName:toString)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:in))(SimpleName:readerIndex))(SimpleName:pos)(SimpleName:USASCII))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:in))(SimpleName:skipBytes)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(SimpleName:pos)(INFIX_EXPRESSION_OPERATOR:+)(NumberLiteral:1))))))))(InfixExpression(ParenthesizedExpression(Assignment(SimpleName:pos)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:in))(SimpleName:bytesBefore)(METHOD_INVOCATION_ARGUMENTS(SimpleName:space)))))(INFIX_EXPRESSION_OPERATOR:!=)(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:-)(NumberLiteral:1))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:pieces))(SimpleName:add)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:in))(SimpleName:toString)(METHOD_INVOCATION_ARGUMENTS(SimpleName:USASCII))))))(ExpressionStatement(MethodInvocation(SimpleName:processLine)(METHOD_INVOCATION_ARGUMENTS(SimpleName:pieces)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:messageEvent))(SimpleName:getChannel))(SimpleName:channelHandlerContext)))))(IfStatement(InfixExpression(QualifiedName:status.state)(INFIX_EXPRESSION_OPERATOR:==)(QualifiedName:SessionStatus.State.PROCESSING_MULTILINE))(Block(VariableDeclarationStatement(SimpleType(SimpleName:ChannelBuffer))(VariableDeclarationFragment(SimpleName:slice)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:in))(SimpleName:copy))))(VariableDeclarationStatement(ArrayType(PrimitiveType:byte)(Dimension))(VariableDeclarationFragment(SimpleName:payload)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:slice))(SimpleName:array))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:in))(SimpleName:skipBytes)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:in))(SimpleName:readableBytes)))))(ExpressionStatement(MethodInvocation(SimpleName:continueSet)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:messageEvent))(SimpleName:getChannel))(SimpleName:status)(SimpleName:payload)(SimpleName:channelHandlerContext)))))(Block(ThrowStatement(ClassInstanceCreation(SimpleType(SimpleName:InvalidProtocolStateException))(StringLiteral:<STR>)))))))(Block(IfStatement(InfixExpression(QualifiedName:status.state)(INFIX_EXPRESSION_OPERATOR:!=)(QualifiedName:SessionStatus.State.WAITING_FOR_DATA))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:status))(SimpleName:ready))))))))))