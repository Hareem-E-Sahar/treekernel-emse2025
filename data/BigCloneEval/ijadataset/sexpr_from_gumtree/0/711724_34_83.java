(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:public)(PrimitiveType:void)(SimpleName:start)(SingleVariableDeclaration(SimpleType(QualifiedName:org.orbeon.oxf.pipeline.api.PipelineContext))(SimpleName:context))(Block(VariableDeclarationStatement(SimpleType(SimpleName:ExternalContext))(VariableDeclarationFragment(SimpleName:externalContext)(CastExpression(SimpleType(SimpleName:ExternalContext))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:context))(SimpleName:getAttribute)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:org.orbeon.oxf.pipeline.api.PipelineContext.EXTERNAL_CONTEXT))))))(VariableDeclarationStatement(SimpleType(QualifiedName:ExternalContext.Response))(VariableDeclarationFragment(SimpleName:response)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:externalContext))(SimpleName:getResponse))))(VariableDeclarationStatement(SimpleType(SimpleName:MimeTypeConfig))(VariableDeclarationFragment(SimpleName:mimeTypeConfig)(CastExpression(SimpleType(SimpleName:MimeTypeConfig))(MethodInvocation(SimpleName:readCacheInputAsObject)(METHOD_INVOCATION_ARGUMENTS(SimpleName:context)(MethodInvocation(SimpleName:getInputByName)(METHOD_INVOCATION_ARGUMENTS(SimpleName:MIMETYPE_INPUT)))(ClassInstanceCreation(SimpleType(SimpleName:CacheableInputReader))(AnonymousClassDeclaration(MethodDeclaration(Modifier:public)(SimpleType(SimpleName:Object))(SimpleName:read)(SingleVariableDeclaration(SimpleType(SimpleName:PipelineContext))(SimpleName:context))(SingleVariableDeclaration(SimpleType(SimpleName:ProcessorInput))(SimpleName:input))(Block(VariableDeclarationStatement(SimpleType(SimpleName:MimeTypesContentHandler))(VariableDeclarationFragment(SimpleName:ch)(ClassInstanceCreation(SimpleType(SimpleName:MimeTypesContentHandler)))))(ExpressionStatement(MethodInvocation(SimpleName:readInputAsSAX)(METHOD_INVOCATION_ARGUMENTS(SimpleName:context)(SimpleName:input)(SimpleName:ch))))(ReturnStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ch))(SimpleName:getMimeTypes))))))))))))(TryStatement(Block(VariableDeclarationStatement(SimpleType(SimpleName:Node))(VariableDeclarationFragment(SimpleName:configNode)(MethodInvocation(SimpleName:readCacheInputAsDOM)(METHOD_INVOCATION_ARGUMENTS(SimpleName:context)(SimpleName:INPUT_CONFIG)))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:urlString)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:XPathUtils))(SimpleName:selectStringValueNormalize)(METHOD_INVOCATION_ARGUMENTS(SimpleName:configNode)(StringLiteral:<STR>)))))(IfStatement(InfixExpression(SimpleName:urlString)(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(Block(ExpressionStatement(Assignment(SimpleName:urlString)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:XPathUtils))(SimpleName:selectStringValueNormalize)(METHOD_INVOCATION_ARGUMENTS(SimpleName:configNode)(StringLiteral:<STR>)))))(IfStatement(InfixExpression(SimpleName:urlString)(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(ThrowStatement(ClassInstanceCreation(SimpleType(SimpleName:OXFException))(StringLiteral:<STR>))))(ExpressionStatement(Assignment(SimpleName:urlString)(ASSIGNMENT_OPERATOR:=)(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:urlString))))))(VariableDeclarationStatement(SimpleType(SimpleName:URLConnection))(VariableDeclarationFragment(SimpleName:urlConnection)(NullLiteral)))(VariableDeclarationStatement(SimpleType(SimpleName:InputStream))(VariableDeclarationFragment(SimpleName:urlConnectionInputStream)(NullLiteral)))(TryStatement(Block(TryStatement(Block(VariableDeclarationStatement(SimpleType(SimpleName:URL))(VariableDeclarationFragment(SimpleName:newURL)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:URLFactory))(SimpleName:createURL)(METHOD_INVOCATION_ARGUMENTS(SimpleName:urlString)))))(ExpressionStatement(Assignment(SimpleName:urlConnection)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:newURL))(SimpleName:openConnection))))(ExpressionStatement(Assignment(SimpleName:urlConnectionInputStream)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:urlConnection))(SimpleName:getInputStream))))(VariableDeclarationStatement(PrimitiveType:long)(VariableDeclarationFragment(SimpleName:lastModified)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:NetUtils))(SimpleName:getLastModified)(METHOD_INVOCATION_ARGUMENTS(SimpleName:urlConnection)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:response))(SimpleName:setCaching)(METHOD_INVOCATION_ARGUMENTS(SimpleName:lastModified)(BooleanLiteral:false)(BooleanLiteral:false))))(IfStatement(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:response))(SimpleName:checkIfModifiedSince)(METHOD_INVOCATION_ARGUMENTS(SimpleName:lastModified)(BooleanLiteral:false))))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:response))(SimpleName:setStatus)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:ExternalContext.SC_NOT_MODIFIED))))(ReturnStatement)))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:contentType)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:mimeTypeConfig))(SimpleName:getMimeType)(METHOD_INVOCATION_ARGUMENTS(SimpleName:urlString)))))(IfStatement(InfixExpression(SimpleName:contentType)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:response))(SimpleName:setContentType)(METHOD_INVOCATION_ARGUMENTS(SimpleName:contentType)))))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:length)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:urlConnection))(SimpleName:getContentLength))))(IfStatement(InfixExpression(SimpleName:length)(INFIX_EXPRESSION_OPERATOR:>)(NumberLiteral:0))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:response))(SimpleName:setContentLength)(METHOD_INVOCATION_ARGUMENTS(SimpleName:length))))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:IOException))(SimpleName:e))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:response))(SimpleName:setStatus)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:ExternalContext.SC_NOT_FOUND))))(ReturnStatement))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:NetUtils))(SimpleName:copyStream)(METHOD_INVOCATION_ARGUMENTS(SimpleName:urlConnectionInputStream)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:response))(SimpleName:getOutputStream))))))(Block(IfStatement(InfixExpression(InfixExpression(SimpleName:urlConnection)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(INFIX_EXPRESSION_OPERATOR:&&)(MethodInvocation(METHOD_INVOCATION_RECEIVER(StringLiteral:<STR>))(SimpleName:equalsIgnoreCase)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:urlConnection))(SimpleName:getURL)))(SimpleName:getProtocol)))))(Block(IfStatement(InfixExpression(SimpleName:urlConnectionInputStream)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:urlConnectionInputStream))(SimpleName:close)))))))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:Exception))(SimpleName:e))(Block(ThrowStatement(ClassInstanceCreation(SimpleType(SimpleName:OXFException))(SimpleName:e))))))))))