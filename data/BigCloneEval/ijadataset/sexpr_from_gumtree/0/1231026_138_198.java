(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:private)(ArrayType(PrimitiveType:byte)(Dimension))(SimpleName:invokeServiceAndGsetXMLByteArrayFromInput)(SingleVariableDeclaration(SimpleType(SimpleName:DPWSContextImpl))(SimpleName:context))(SingleVariableDeclaration(SimpleType(SimpleName:BindingProvider))(SimpleName:provider))(SingleVariableDeclaration(SimpleType(SimpleName:MOREService))(SimpleName:serviceInstance))(SingleVariableDeclaration(SimpleType(SimpleName:String))(SimpleName:service))(SingleVariableDeclaration(SimpleType(SimpleName:String))(SimpleName:operation))(SingleVariableDeclaration(ParameterizedType(SimpleType(SimpleName:List))(SimpleType(SimpleName:Object)))(SimpleName:params))(SimpleType(SimpleName:Exception))(Block(VariableDeclarationStatement(SimpleType(SimpleName:ByteBuffer))(VariableDeclarationFragment(SimpleName:allocated)(NullLiteral)))(TryStatement(Block(TypeDeclarationStatement(TypeDeclaration(TYPE_DECLARATION_KIND:class)(SimpleName:invocationThread)(SimpleType(SimpleName:Thread))(FieldDeclaration(Modifier:public)(PrimitiveType:boolean)(VariableDeclarationFragment(SimpleName:success)))(FieldDeclaration(SimpleType(SimpleName:DPWSContextImpl))(VariableDeclarationFragment(SimpleName:context)))(FieldDeclaration(SimpleType(SimpleName:BindingProvider))(VariableDeclarationFragment(SimpleName:provider)))(FieldDeclaration(SimpleType(SimpleName:MOREService))(VariableDeclarationFragment(SimpleName:serviceInstance)))(FieldDeclaration(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:service)))(FieldDeclaration(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:operation)))(FieldDeclaration(ParameterizedType(SimpleType(SimpleName:List))(SimpleType(SimpleName:Object)))(VariableDeclarationFragment(SimpleName:params)))(FieldDeclaration(SimpleType(SimpleName:PipedOutputStream))(VariableDeclarationFragment(SimpleName:outStream)))(MethodDeclaration(Modifier:public)(SimpleName:invocationThread)(SingleVariableDeclaration(SimpleType(SimpleName:PipedOutputStream))(SimpleName:outStream))(SingleVariableDeclaration(SimpleType(SimpleName:DPWSContextImpl))(SimpleName:context))(SingleVariableDeclaration(SimpleType(SimpleName:BindingProvider))(SimpleName:provider))(SingleVariableDeclaration(SimpleType(SimpleName:MOREService))(SimpleName:serviceInstance))(SingleVariableDeclaration(SimpleType(SimpleName:String))(SimpleName:service))(SingleVariableDeclaration(SimpleType(SimpleName:String))(SimpleName:operation))(SingleVariableDeclaration(ParameterizedType(SimpleType(SimpleName:List))(SimpleType(SimpleName:Object)))(SimpleName:params))(Block(ExpressionStatement(Assignment(SimpleName:success)(ASSIGNMENT_OPERATOR:=)(BooleanLiteral:true)))(ExpressionStatement(Assignment(FieldAccess(ThisExpression)(SimpleName:context))(ASSIGNMENT_OPERATOR:=)(SimpleName:context)))(ExpressionStatement(Assignment(FieldAccess(ThisExpression)(SimpleName:provider))(ASSIGNMENT_OPERATOR:=)(SimpleName:provider)))(ExpressionStatement(Assignment(FieldAccess(ThisExpression)(SimpleName:serviceInstance))(ASSIGNMENT_OPERATOR:=)(SimpleName:serviceInstance)))(ExpressionStatement(Assignment(FieldAccess(ThisExpression)(SimpleName:service))(ASSIGNMENT_OPERATOR:=)(SimpleName:service)))(ExpressionStatement(Assignment(FieldAccess(ThisExpression)(SimpleName:operation))(ASSIGNMENT_OPERATOR:=)(SimpleName:operation)))(ExpressionStatement(Assignment(FieldAccess(ThisExpression)(SimpleName:params))(ASSIGNMENT_OPERATOR:=)(SimpleName:params)))(ExpressionStatement(Assignment(FieldAccess(ThisExpression)(SimpleName:outStream))(ASSIGNMENT_OPERATOR:=)(SimpleName:outStream)))))(MethodDeclaration(Modifier:public)(PrimitiveType:void)(SimpleName:run)(Block(TryStatement(Block(VariableDeclarationStatement(ArrayType(SimpleType(SimpleName:Object))(Dimension))(VariableDeclarationFragment(SimpleName:invokeReturnObject)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:serviceInstance))(SimpleName:sendToOtherServiceOnNode)(METHOD_INVOCATION_ARGUMENTS(SimpleName:context)(SimpleName:service)(SimpleName:operation)(SimpleName:params)))))(IfStatement(InfixExpression(ParenthesizedExpression(InfixExpression(SimpleName:invokeReturnObject)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral)))(INFIX_EXPRESSION_OPERATOR:&&)(ParenthesizedExpression(InfixExpression(ArrayAccess(SimpleName:invokeReturnObject)(NumberLiteral:0))(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))))(Block(VariableDeclarationStatement(Modifier:final)(SimpleType(SimpleName:XMLStreamWriter))(VariableDeclarationFragment(SimpleName:writer)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:STAXUtils))(SimpleName:createXMLStreamWriter)(METHOD_INVOCATION_ARGUMENTS(SimpleName:outStream)(NullLiteral)(SimpleName:context)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:provider))(SimpleName:writeParameter)(METHOD_INVOCATION_ARGUMENTS(NullLiteral)(SimpleName:writer)(SimpleName:context)(ArrayAccess(SimpleName:invokeReturnObject)(NumberLiteral:0)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:writer))(SimpleName:close))))(ThrowStatement(ClassInstanceCreation(SimpleType(SimpleName:Exception))(StringLiteral:<STR>)))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:Exception))(SimpleName:e))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(QualifiedName:System.out))(SimpleName:println)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:e)))))(ExpressionStatement(Assignment(SimpleName:success)(ASSIGNMENT_OPERATOR:=)(BooleanLiteral:false))))))))))(VariableDeclarationStatement(SimpleType(SimpleName:PipedInputStream))(VariableDeclarationFragment(SimpleName:stream)(ClassInstanceCreation(SimpleType(SimpleName:PipedInputStream)))))(VariableDeclarationStatement(SimpleType(SimpleName:invocationThread))(VariableDeclarationFragment(SimpleName:writeThread)(ClassInstanceCreation(SimpleType(SimpleName:invocationThread))(ClassInstanceCreation(SimpleType(SimpleName:PipedOutputStream))(SimpleName:stream))(SimpleName:context)(SimpleName:provider)(SimpleName:serviceInstance)(SimpleName:service)(SimpleName:operation)(SimpleName:params))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:writeThread))(SimpleName:start)))(VariableDeclarationStatement(ArrayType(PrimitiveType:byte)(Dimension))(VariableDeclarationFragment(SimpleName:buffer)(ArrayCreation(ArrayType(PrimitiveType:byte)(Dimension(NumberLiteral:4096))))))(WhileStatement(BooleanLiteral:true)(Block(IfStatement(InfixExpression(ParenthesizedExpression(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:stream))(SimpleName:available))(INFIX_EXPRESSION_OPERATOR:>)(NumberLiteral:0)))(INFIX_EXPRESSION_OPERATOR:&&)(ParenthesizedExpression(InfixExpression(SimpleName:allocated)(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))))(Block(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:laenge)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:stream))(SimpleName:read)(METHOD_INVOCATION_ARGUMENTS(SimpleName:buffer)))))(ExpressionStatement(Assignment(SimpleName:allocated)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(ParenthesizedExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ByteBuffer))(SimpleName:allocate)(METHOD_INVOCATION_ARGUMENTS(SimpleName:laenge)))))(SimpleName:put)(METHOD_INVOCATION_ARGUMENTS(SimpleName:buffer)(NumberLiteral:0)(SimpleName:laenge)))))))(IfStatement(InfixExpression(ParenthesizedExpression(InfixExpression(SimpleName:allocated)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral)))(INFIX_EXPRESSION_OPERATOR:||)(ParenthesizedExpression(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(QualifiedName:writeThread.success))))(BreakStatement)))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:Exception))(SimpleName:e))(Block)))(IfStatement(InfixExpression(SimpleName:allocated)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(ReturnStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:allocated))(SimpleName:array)))(ThrowStatement(ClassInstanceCreation(SimpleType(SimpleName:Exception)))))))))