(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(PrimitiveType:void)(SimpleName:getBlockChecksum)(SingleVariableDeclaration(SimpleType(SimpleName:DataInputStream))(SimpleName:in))(SimpleType(SimpleName:IOException))(Block(VariableDeclarationStatement(Modifier:final)(SimpleType(SimpleName:Block))(VariableDeclarationFragment(SimpleName:block)(ClassInstanceCreation(SimpleType(SimpleName:Block))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:in))(SimpleName:readLong))(NumberLiteral:0)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:in))(SimpleName:readLong)))))(VariableDeclarationStatement(SimpleType(SimpleName:DataOutputStream))(VariableDeclarationFragment(SimpleName:out)(NullLiteral)))(VariableDeclarationStatement(Modifier:final)(SimpleType(SimpleName:MetaDataInputStream))(VariableDeclarationFragment(SimpleName:metadataIn)(MethodInvocation(METHOD_INVOCATION_RECEIVER(QualifiedName:datanode.data))(SimpleName:getMetaDataInputStream)(METHOD_INVOCATION_ARGUMENTS(SimpleName:block)))))(VariableDeclarationStatement(Modifier:final)(SimpleType(SimpleName:DataInputStream))(VariableDeclarationFragment(SimpleName:checksumIn)(ClassInstanceCreation(SimpleType(SimpleName:DataInputStream))(ClassInstanceCreation(SimpleType(SimpleName:BufferedInputStream))(SimpleName:metadataIn)(SimpleName:BUFFER_SIZE)))))(TryStatement(Block(VariableDeclarationStatement(Modifier:final)(SimpleType(SimpleName:BlockMetadataHeader))(VariableDeclarationFragment(SimpleName:header)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:BlockMetadataHeader))(SimpleName:readHeader)(METHOD_INVOCATION_ARGUMENTS(SimpleName:checksumIn)))))(VariableDeclarationStatement(Modifier:final)(SimpleType(SimpleName:DataChecksum))(VariableDeclarationFragment(SimpleName:checksum)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:header))(SimpleName:getChecksum))))(VariableDeclarationStatement(Modifier:final)(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:bytesPerCRC)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:checksum))(SimpleName:getBytesPerChecksum))))(VariableDeclarationStatement(Modifier:final)(PrimitiveType:long)(VariableDeclarationFragment(SimpleName:crcPerBlock)(InfixExpression(ParenthesizedExpression(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:metadataIn))(SimpleName:getLength))(INFIX_EXPRESSION_OPERATOR:-)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:BlockMetadataHeader))(SimpleName:getHeaderSize))))(INFIX_EXPRESSION_OPERATOR:/)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:checksum))(SimpleName:getChecksumSize)))))(VariableDeclarationStatement(Modifier:final)(SimpleType(SimpleName:MD5Hash))(VariableDeclarationFragment(SimpleName:md5)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:MD5Hash))(SimpleName:digest)(METHOD_INVOCATION_ARGUMENTS(SimpleName:checksumIn)))))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:LOG))(SimpleName:isDebugEnabled))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:LOG))(SimpleName:debug)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:block)(StringLiteral:<STR>)(SimpleName:bytesPerCRC)(StringLiteral:<STR>)(SimpleName:crcPerBlock)(StringLiteral:<STR>)(SimpleName:md5)))))))(ExpressionStatement(Assignment(SimpleName:out)(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(SimpleType(SimpleName:DataOutputStream))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:NetUtils))(SimpleName:getOutputStream)(METHOD_INVOCATION_ARGUMENTS(SimpleName:s)(QualifiedName:datanode.socketWriteTimeout))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:out))(SimpleName:writeShort)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:DataTransferProtocol.OP_STATUS_SUCCESS))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:out))(SimpleName:writeInt)(METHOD_INVOCATION_ARGUMENTS(SimpleName:bytesPerCRC))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:out))(SimpleName:writeLong)(METHOD_INVOCATION_ARGUMENTS(SimpleName:crcPerBlock))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:md5))(SimpleName:write)(METHOD_INVOCATION_ARGUMENTS(SimpleName:out))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:out))(SimpleName:flush))))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:IOUtils))(SimpleName:closeStream)(METHOD_INVOCATION_ARGUMENTS(SimpleName:out))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:IOUtils))(SimpleName:closeStream)(METHOD_INVOCATION_ARGUMENTS(SimpleName:checksumIn))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:IOUtils))(SimpleName:closeStream)(METHOD_INVOCATION_ARGUMENTS(SimpleName:metadataIn))))))))))