(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(PrimitiveType:void)(SimpleName:duplicateHyperstack)(SingleVariableDeclaration(SimpleType(SimpleName:ImagePlus))(SimpleName:imp))(SingleVariableDeclaration(SimpleType(SimpleName:String))(SimpleName:newTitle))(Block(ExpressionStatement(Assignment(SimpleName:newTitle)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(SimpleName:showHSDialog)(METHOD_INVOCATION_ARGUMENTS(SimpleName:imp)(SimpleName:newTitle)))))(IfStatement(InfixExpression(SimpleName:newTitle)(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(ReturnStatement))(VariableDeclarationStatement(SimpleType(SimpleName:ImagePlus))(VariableDeclarationFragment(SimpleName:imp2)(NullLiteral)))(VariableDeclarationStatement(SimpleType(SimpleName:Roi))(VariableDeclarationFragment(SimpleName:roi)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:imp))(SimpleName:getRoi))))(IfStatement(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(SimpleName:duplicateStack))(Block(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:nChannels)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:imp))(SimpleName:getNChannels))))(VariableDeclarationStatement(PrimitiveType:boolean)(VariableDeclarationFragment(SimpleName:singleComposite)(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:imp))(SimpleName:isComposite))(INFIX_EXPRESSION_OPERATOR:&&)(InfixExpression(SimpleName:nChannels)(INFIX_EXPRESSION_OPERATOR:==)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:imp))(SimpleName:getStackSize))))))(IfStatement(InfixExpression(InfixExpression(InfixExpression(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(SimpleName:singleComposite))(INFIX_EXPRESSION_OPERATOR:&&)(InfixExpression(SimpleName:nChannels)(INFIX_EXPRESSION_OPERATOR:>)(NumberLiteral:1)))(INFIX_EXPRESSION_OPERATOR:&&)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:imp))(SimpleName:isComposite)))(INFIX_EXPRESSION_OPERATOR:&&)(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(ParenthesizedExpression(CastExpression(SimpleType(SimpleName:CompositeImage))(SimpleName:imp))))(SimpleName:getMode))(INFIX_EXPRESSION_OPERATOR:==)(QualifiedName:CompositeImage.COMPOSITE)))(Block(ExpressionStatement(Assignment(SimpleName:firstC)(ASSIGNMENT_OPERATOR:=)(NumberLiteral:1)))(ExpressionStatement(Assignment(SimpleName:lastC)(ASSIGNMENT_OPERATOR:=)(SimpleName:nChannels))))(ExpressionStatement(Assignment(SimpleName:firstC)(ASSIGNMENT_OPERATOR:=)(Assignment(SimpleName:lastC)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:imp))(SimpleName:getChannel))))))(ExpressionStatement(Assignment(SimpleName:firstZ)(ASSIGNMENT_OPERATOR:=)(Assignment(SimpleName:lastZ)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:imp))(SimpleName:getSlice)))))(ExpressionStatement(Assignment(SimpleName:firstT)(ASSIGNMENT_OPERATOR:=)(Assignment(SimpleName:lastT)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:imp))(SimpleName:getFrame)))))))(ExpressionStatement(Assignment(SimpleName:imp2)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(SimpleName:run)(METHOD_INVOCATION_ARGUMENTS(SimpleName:imp)(SimpleName:firstC)(SimpleName:lastC)(SimpleName:firstZ)(SimpleName:lastZ)(SimpleName:firstT)(SimpleName:lastT)))))(IfStatement(InfixExpression(SimpleName:imp2)(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(ReturnStatement))(VariableDeclarationStatement(SimpleType(SimpleName:Calibration))(VariableDeclarationFragment(SimpleName:cal)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:imp2))(SimpleName:getCalibration))))(IfStatement(InfixExpression(InfixExpression(SimpleName:roi)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(INFIX_EXPRESSION_OPERATOR:&&)(ParenthesizedExpression(InfixExpression(InfixExpression(QualifiedName:cal.xOrigin)(INFIX_EXPRESSION_OPERATOR:!=)(NumberLiteral:0.0))(INFIX_EXPRESSION_OPERATOR:||)(InfixExpression(QualifiedName:cal.yOrigin)(INFIX_EXPRESSION_OPERATOR:!=)(NumberLiteral:0.0)))))(Block(ExpressionStatement(Assignment(QualifiedName:cal.xOrigin)(ASSIGNMENT_OPERATOR:-=)(FieldAccess(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:roi))(SimpleName:getBounds))(SimpleName:x))))(ExpressionStatement(Assignment(QualifiedName:cal.yOrigin)(ASSIGNMENT_OPERATOR:-=)(FieldAccess(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:roi))(SimpleName:getBounds))(SimpleName:y))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:imp2))(SimpleName:setTitle)(METHOD_INVOCATION_ARGUMENTS(SimpleName:newTitle))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:imp2))(SimpleName:show)))(IfStatement(InfixExpression(InfixExpression(InfixExpression(SimpleName:roi)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(INFIX_EXPRESSION_OPERATOR:&&)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:roi))(SimpleName:isArea)))(INFIX_EXPRESSION_OPERATOR:&&)(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:roi))(SimpleName:getType))(INFIX_EXPRESSION_OPERATOR:!=)(QualifiedName:Roi.RECTANGLE)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:imp2))(SimpleName:restoreRoi))))(IfStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:IJ))(SimpleName:isMacro))(INFIX_EXPRESSION_OPERATOR:&&)(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:imp2))(SimpleName:getWindow))(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:IJ))(SimpleName:wait)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:50)))))))))