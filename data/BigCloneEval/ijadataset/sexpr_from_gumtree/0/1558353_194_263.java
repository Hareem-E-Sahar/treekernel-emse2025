(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(MarkerAnnotation(SimpleName:Override))(SingleMemberAnnotation(SimpleName:SuppressWarnings)(StringLiteral:<STR>))(Modifier:public)(SimpleType(SimpleName:QDataSet))(SimpleName:getDataSet)(SingleVariableDeclaration(SimpleType(SimpleName:ProgressMonitor))(SimpleName:mon))(SimpleType(SimpleName:Exception))(Block(ExpressionStatement(MethodInvocation(SimpleName:logit)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(SimpleName:t0))))(IfStatement(SimpleName:inRequest)(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:logger))(SimpleName:fine)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))))(Block(ExpressionStatement(Assignment(SimpleName:inRequest)(ASSIGNMENT_OPERATOR:=)(BooleanLiteral:true)))))(VariableDeclarationStatement(ParameterizedType(SimpleType(SimpleName:Map))(SimpleType(SimpleName:String))(SimpleType(SimpleName:String)))(VariableDeclarationFragment(SimpleName:params2)(ClassInstanceCreation(ParameterizedType(SimpleType(SimpleName:LinkedHashMap))(SimpleType(SimpleName:String))(SimpleType(SimpleName:String)))(SimpleName:params))))(VariableDeclarationStatement(SimpleType(SimpleName:DatumFormatter))(VariableDeclarationFragment(SimpleName:df)(ClassInstanceCreation(SimpleType(SimpleName:TimeDatumFormatter))(StringLiteral:<STR>))))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:ppd)))(IfStatement(InfixExpression(SimpleName:timeRange)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(ExpressionStatement(Assignment(SimpleName:timeRange)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(SimpleName:quantizeTimeRange)(METHOD_INVOCATION_ARGUMENTS(SimpleName:timeRange)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:params2))(SimpleName:put)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:df))(SimpleName:format)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:timeRange))(SimpleName:min))))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:params2))(SimpleName:put)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:df))(SimpleName:format)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:TimeUtil))(SimpleName:prev)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:TimeUtil.DAY)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:timeRange))(SimpleName:max))))))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:params2))(SimpleName:remove)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))))(Block(ExpressionStatement(MethodInvocation(SimpleName:setTSBParameters)))))(IfStatement(InfixExpression(SimpleName:currentPpd)(INFIX_EXPRESSION_OPERATOR:==)(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:-)(NumberLiteral:1)))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:params2))(SimpleName:put)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(StringLiteral:<STR>)))))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:params2))(SimpleName:put)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:currentPpd)))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:mon))(SimpleName:setTaskSize)(METHOD_INVOCATION_ARGUMENTS(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:-)(NumberLiteral:1)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:mon))(SimpleName:started)))(IfStatement(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(SimpleName:haveInitialTsml))(Block(IfStatement(InfixExpression(SimpleName:exceptionFromConstruct)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(ThrowStatement(SimpleName:exceptionFromConstruct))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:mon))(SimpleName:setProgressMessage)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))(VariableDeclarationStatement(SimpleType(SimpleName:LinkedHashMap))(VariableDeclarationFragment(SimpleName:params3)(ClassInstanceCreation(SimpleType(SimpleName:LinkedHashMap))(SimpleName:params2))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:params3))(SimpleName:remove)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:params3))(SimpleName:put)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(StringLiteral:<STR>))))(VariableDeclarationStatement(SimpleType(SimpleName:URL))(VariableDeclarationFragment(SimpleName:url3)(ClassInstanceCreation(SimpleType(SimpleName:URL))(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(FieldAccess(ThisExpression)(SimpleName:resourceURI))(StringLiteral:<STR>)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:URISplit))(SimpleName:formatParams)(METHOD_INVOCATION_ARGUMENTS(SimpleName:params3)))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:logger))(SimpleName:log)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:Level.FINE)(StringLiteral:<STR>)(SimpleName:url3))))(ExpressionStatement(MethodInvocation(SimpleName:initialTsml)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:url3))(SimpleName:openStream)))))(ExpressionStatement(Assignment(SimpleName:haveInitialTsml)(ASSIGNMENT_OPERATOR:=)(BooleanLiteral:true)))(ExpressionStatement(MethodInvocation(SimpleName:logit)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(SimpleName:t0))))))(IfStatement(InfixExpression(SimpleName:currentPpd)(INFIX_EXPRESSION_OPERATOR:==)(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:-)(NumberLiteral:1)))(Block(ExpressionStatement(Assignment(SimpleName:ppd)(ASSIGNMENT_OPERATOR:=)(NumberLiteral:1)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:params2))(SimpleName:put)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:ppd))))))(Block(ExpressionStatement(Assignment(SimpleName:ppd)(ASSIGNMENT_OPERATOR:=)(SimpleName:currentPpd)))))(VariableDeclarationStatement(SimpleType(SimpleName:URL))(VariableDeclarationFragment(SimpleName:url2)(ClassInstanceCreation(SimpleType(SimpleName:URL))(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(FieldAccess(ThisExpression)(SimpleName:resourceURI))(StringLiteral:<STR>)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:URISplit))(SimpleName:formatParams)(METHOD_INVOCATION_ARGUMENTS(SimpleName:params2)))))))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:points)(InfixExpression(CastExpression(PrimitiveType:int)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Math))(SimpleName:ceil)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:timeRange))(SimpleName:width)))(SimpleName:doubleValue)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:Units.days))))))(INFIX_EXPRESSION_OPERATOR:*)(SimpleName:ppd))))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:size)(InfixExpression(SimpleName:points)(INFIX_EXPRESSION_OPERATOR:*)(SimpleName:SIZE_DOUBLE))))(ExpressionStatement(MethodInvocation(SimpleName:logit)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(SimpleName:t0))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:logger))(SimpleName:log)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:Level.FINE)(StringLiteral:<STR>)(SimpleName:url2))))(VariableDeclarationStatement(SimpleType(SimpleName:HttpURLConnection))(VariableDeclarationFragment(SimpleName:connect)(CastExpression(SimpleType(SimpleName:HttpURLConnection))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:url2))(SimpleName:openConnection)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:connect))(SimpleName:connect)))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:type)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:connect))(SimpleName:getContentType))))(ExpressionStatement(MethodInvocation(SimpleName:logit)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(SimpleName:t0))))(VariableDeclarationStatement(SimpleType(SimpleName:QDataSet))(VariableDeclarationFragment(SimpleName:result)))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:params))(SimpleName:get)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))(SimpleName:equals)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))(Block(ExpressionStatement(Assignment(SimpleName:result)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(ClassInstanceCreation(SimpleType(SimpleName:TsmlNcml))))(SimpleName:doRead)(METHOD_INVOCATION_ARGUMENTS(SimpleName:url2)(SimpleName:connect))))))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:type))(SimpleName:startsWith)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))(Block(ExpressionStatement(Assignment(SimpleName:result)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(SimpleName:tsml)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:connect))(SimpleName:getInputStream))(SimpleName:mon)))))(ExpressionStatement(MethodInvocation(SimpleName:logit)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(SimpleName:t0)))))(Block(ExpressionStatement(Assignment(SimpleName:result)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(SimpleName:dataUrl)(METHOD_INVOCATION_ARGUMENTS(SimpleName:connect)(SimpleName:size)(SimpleName:points)(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:-)(NumberLiteral:1))(SimpleName:mon)))))(ExpressionStatement(MethodInvocation(SimpleName:logit)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(SimpleName:t0)))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:mon))(SimpleName:finished)))(ExpressionStatement(Assignment(SimpleName:inRequest)(ASSIGNMENT_OPERATOR:=)(BooleanLiteral:false)))(ReturnStatement(SimpleName:result))))))