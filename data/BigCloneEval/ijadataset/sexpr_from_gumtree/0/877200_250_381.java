(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:public)(SimpleType(SimpleName:Object))(SimpleName:doUnmarshal)(SingleVariableDeclaration(Modifier:final)(SimpleType(SimpleName:Object))(SimpleName:result))(SingleVariableDeclaration(Modifier:final)(SimpleType(SimpleName:HierarchicalStreamReader))(SimpleName:reader))(SingleVariableDeclaration(Modifier:final)(SimpleType(SimpleName:UnmarshallingContext))(SimpleName:context))(Block(VariableDeclarationStatement(Modifier:final)(ArrayType(SimpleType(SimpleName:Class))(Dimension))(VariableDeclarationFragment(SimpleName:currentType)(ArrayCreation(ArrayType(SimpleType(SimpleName:Class))(Dimension(NumberLiteral:1))))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:attributeName)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:mapper))(SimpleName:aliasForSystemAttribute)(METHOD_INVOCATION_ARGUMENTS(SimpleName:ATTRIBUTE_SERIALIZATION)))))(IfStatement(InfixExpression(InfixExpression(SimpleName:attributeName)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(INFIX_EXPRESSION_OPERATOR:&&)(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ATTRIBUTE_VALUE_CUSTOM))(SimpleName:equals)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:reader))(SimpleName:getAttribute)(METHOD_INVOCATION_ARGUMENTS(SimpleName:attributeName)))))))(Block(ThrowStatement(ClassInstanceCreation(SimpleType(SimpleName:ConversionException))(StringLiteral:<STR>)))))(VariableDeclarationStatement(SimpleType(QualifiedName:CustomObjectInputStream.StreamCallback))(VariableDeclarationFragment(SimpleName:callback)(ClassInstanceCreation(SimpleType(QualifiedName:CustomObjectInputStream.StreamCallback))(AnonymousClassDeclaration(MethodDeclaration(Modifier:public)(SimpleType(SimpleName:Object))(SimpleName:readFromStream)(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:reader))(SimpleName:moveDown)))(VariableDeclarationStatement(SimpleType(SimpleName:Class))(VariableDeclarationFragment(SimpleName:type)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:HierarchicalStreams))(SimpleName:readClassType)(METHOD_INVOCATION_ARGUMENTS(SimpleName:reader)(SimpleName:mapper)))))(VariableDeclarationStatement(SimpleType(SimpleName:Object))(VariableDeclarationFragment(SimpleName:value)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:context))(SimpleName:convertAnother)(METHOD_INVOCATION_ARGUMENTS(SimpleName:result)(SimpleName:type)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:reader))(SimpleName:moveUp)))(ReturnStatement(SimpleName:value))))(MethodDeclaration(Modifier:public)(SimpleType(SimpleName:Map))(SimpleName:readFieldsFromStream)(Block(VariableDeclarationStatement(Modifier:final)(SimpleType(SimpleName:Map))(VariableDeclarationFragment(SimpleName:fields)(ClassInstanceCreation(SimpleType(SimpleName:HashMap)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:reader))(SimpleName:moveDown)))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:reader))(SimpleName:getNodeName)))(SimpleName:equals)(METHOD_INVOCATION_ARGUMENTS(SimpleName:ELEMENT_FIELDS)))(Block(WhileStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:reader))(SimpleName:hasMoreChildren))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:reader))(SimpleName:moveDown)))(IfStatement(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:reader))(SimpleName:getNodeName)))(SimpleName:equals)(METHOD_INVOCATION_ARGUMENTS(SimpleName:ELEMENT_FIELD))))(Block(ThrowStatement(ClassInstanceCreation(SimpleType(SimpleName:ConversionException))(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:ELEMENT_FIELD)(StringLiteral:<STR>)(SimpleName:ELEMENT_FIELD)(StringLiteral:<STR>))))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:name)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:reader))(SimpleName:getAttribute)(METHOD_INVOCATION_ARGUMENTS(SimpleName:ATTRIBUTE_NAME)))))(VariableDeclarationStatement(SimpleType(SimpleName:Class))(VariableDeclarationFragment(SimpleName:type)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:mapper))(SimpleName:realClass)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:reader))(SimpleName:getAttribute)(METHOD_INVOCATION_ARGUMENTS(SimpleName:ATTRIBUTE_CLASS)))))))(VariableDeclarationStatement(SimpleType(SimpleName:Object))(VariableDeclarationFragment(SimpleName:value)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:context))(SimpleName:convertAnother)(METHOD_INVOCATION_ARGUMENTS(SimpleName:result)(SimpleName:type)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fields))(SimpleName:put)(METHOD_INVOCATION_ARGUMENTS(SimpleName:name)(SimpleName:value))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:reader))(SimpleName:moveUp))))))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:reader))(SimpleName:getNodeName)))(SimpleName:equals)(METHOD_INVOCATION_ARGUMENTS(SimpleName:ELEMENT_DEFAULT)))(Block(VariableDeclarationStatement(SimpleType(SimpleName:ObjectStreamClass))(VariableDeclarationFragment(SimpleName:objectStreamClass)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ObjectStreamClass))(SimpleName:lookup)(METHOD_INVOCATION_ARGUMENTS(ArrayAccess(SimpleName:currentType)(NumberLiteral:0))))))(WhileStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:reader))(SimpleName:hasMoreChildren))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:reader))(SimpleName:moveDown)))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:name)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:mapper))(SimpleName:realMember)(METHOD_INVOCATION_ARGUMENTS(ArrayAccess(SimpleName:currentType)(NumberLiteral:0))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:reader))(SimpleName:getNodeName))))))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:mapper))(SimpleName:shouldSerializeMember)(METHOD_INVOCATION_ARGUMENTS(ArrayAccess(SimpleName:currentType)(NumberLiteral:0))(SimpleName:name)))(Block(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:classAttribute)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:HierarchicalStreams))(SimpleName:readClassAttribute)(METHOD_INVOCATION_ARGUMENTS(SimpleName:reader)(SimpleName:mapper)))))(VariableDeclarationStatement(SimpleType(SimpleName:Class))(VariableDeclarationFragment(SimpleName:type)))(IfStatement(InfixExpression(SimpleName:classAttribute)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(ExpressionStatement(Assignment(SimpleName:type)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:mapper))(SimpleName:realClass)(METHOD_INVOCATION_ARGUMENTS(SimpleName:classAttribute))))))(Block(VariableDeclarationStatement(SimpleType(SimpleName:ObjectStreamField))(VariableDeclarationFragment(SimpleName:field)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:objectStreamClass))(SimpleName:getField)(METHOD_INVOCATION_ARGUMENTS(SimpleName:name)))))(IfStatement(InfixExpression(SimpleName:field)(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(Block(ThrowStatement(ClassInstanceCreation(SimpleType(SimpleName:ObjectAccessException))(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(ArrayAccess(SimpleName:currentType)(NumberLiteral:0))(StringLiteral:<STR>)(SimpleName:name)(StringLiteral:<STR>))))))(ExpressionStatement(Assignment(SimpleName:type)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:field))(SimpleName:getType))))))(VariableDeclarationStatement(SimpleType(SimpleName:Object))(VariableDeclarationFragment(SimpleName:value)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:context))(SimpleName:convertAnother)(METHOD_INVOCATION_ARGUMENTS(SimpleName:result)(SimpleName:type)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fields))(SimpleName:put)(METHOD_INVOCATION_ARGUMENTS(SimpleName:name)(SimpleName:value))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:reader))(SimpleName:moveUp))))))(Block(ThrowStatement(ClassInstanceCreation(SimpleType(SimpleName:ConversionException))(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:ELEMENT_FIELDS)(StringLiteral:<STR>)(SimpleName:ELEMENT_DEFAULT)(StringLiteral:<STR>)))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:reader))(SimpleName:moveUp)))(ReturnStatement(SimpleName:fields))))(MethodDeclaration(Modifier:public)(PrimitiveType:void)(SimpleName:defaultReadObject)(Block(IfStatement(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:reader))(SimpleName:hasMoreChildren)))(Block(ReturnStatement)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:reader))(SimpleName:moveDown)))(IfStatement(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:reader))(SimpleName:getNodeName)))(SimpleName:equals)(METHOD_INVOCATION_ARGUMENTS(SimpleName:ELEMENT_DEFAULT))))(Block(ThrowStatement(ClassInstanceCreation(SimpleType(SimpleName:ConversionException))(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:ELEMENT_DEFAULT)(StringLiteral:<STR>))))))(WhileStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:reader))(SimpleName:hasMoreChildren))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:reader))(SimpleName:moveDown)))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:fieldName)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:mapper))(SimpleName:realMember)(METHOD_INVOCATION_ARGUMENTS(ArrayAccess(SimpleName:currentType)(NumberLiteral:0))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:reader))(SimpleName:getNodeName))))))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:mapper))(SimpleName:shouldSerializeMember)(METHOD_INVOCATION_ARGUMENTS(ArrayAccess(SimpleName:currentType)(NumberLiteral:0))(SimpleName:fieldName)))(Block(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:classAttribute)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:HierarchicalStreams))(SimpleName:readClassAttribute)(METHOD_INVOCATION_ARGUMENTS(SimpleName:reader)(SimpleName:mapper)))))(VariableDeclarationStatement(Modifier:final)(SimpleType(SimpleName:Class))(VariableDeclarationFragment(SimpleName:type)))(IfStatement(InfixExpression(SimpleName:classAttribute)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(ExpressionStatement(Assignment(SimpleName:type)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:mapper))(SimpleName:realClass)(METHOD_INVOCATION_ARGUMENTS(SimpleName:classAttribute))))))(Block(ExpressionStatement(Assignment(SimpleName:type)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:mapper))(SimpleName:defaultImplementationOf)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:reflectionProvider))(SimpleName:getFieldType)(METHOD_INVOCATION_ARGUMENTS(SimpleName:result)(SimpleName:fieldName)(ArrayAccess(SimpleName:currentType)(NumberLiteral:0))))))))))(VariableDeclarationStatement(SimpleType(SimpleName:Object))(VariableDeclarationFragment(SimpleName:value)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:context))(SimpleName:convertAnother)(METHOD_INVOCATION_ARGUMENTS(SimpleName:result)(SimpleName:type)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:reflectionProvider))(SimpleName:writeField)(METHOD_INVOCATION_ARGUMENTS(SimpleName:result)(SimpleName:fieldName)(SimpleName:value)(ArrayAccess(SimpleName:currentType)(NumberLiteral:0)))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:reader))(SimpleName:moveUp)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:reader))(SimpleName:moveUp)))))(MethodDeclaration(Modifier:public)(PrimitiveType:void)(SimpleName:registerValidation)(SingleVariableDeclaration(Modifier:final)(SimpleType(SimpleName:ObjectInputValidation))(SimpleName:validation))(SingleVariableDeclaration(PrimitiveType:int)(SimpleName:priority))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:context))(SimpleName:addCompletionCallback)(METHOD_INVOCATION_ARGUMENTS(ClassInstanceCreation(SimpleType(SimpleName:Runnable))(AnonymousClassDeclaration(MethodDeclaration(Modifier:public)(PrimitiveType:void)(SimpleName:run)(Block(TryStatement(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:validation))(SimpleName:validateObject))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:InvalidObjectException))(SimpleName:e))(Block(ThrowStatement(ClassInstanceCreation(SimpleType(SimpleName:ObjectAccessException))(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:e))(SimpleName:getMessage)))(SimpleName:e))))))))))(SimpleName:priority))))))(MethodDeclaration(Modifier:public)(PrimitiveType:void)(SimpleName:close)(Block(ThrowStatement(ClassInstanceCreation(SimpleType(SimpleName:UnsupportedOperationException))(StringLiteral:<STR>)))))))))(WhileStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:reader))(SimpleName:hasMoreChildren))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:reader))(SimpleName:moveDown)))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:nodeName)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:reader))(SimpleName:getNodeName))))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:nodeName))(SimpleName:equals)(METHOD_INVOCATION_ARGUMENTS(SimpleName:ELEMENT_UNSERIALIZABLE_PARENTS)))(Block(ExpressionStatement(SuperMethodInvocation(SimpleName:doUnmarshal)(SimpleName:result)(SimpleName:reader)(SimpleName:context))))(Block(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:classAttribute)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:HierarchicalStreams))(SimpleName:readClassAttribute)(METHOD_INVOCATION_ARGUMENTS(SimpleName:reader)(SimpleName:mapper)))))(IfStatement(InfixExpression(SimpleName:classAttribute)(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(Block(ExpressionStatement(Assignment(ArrayAccess(SimpleName:currentType)(NumberLiteral:0))(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:mapper))(SimpleName:defaultImplementationOf)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:mapper))(SimpleName:realClass)(METHOD_INVOCATION_ARGUMENTS(SimpleName:nodeName))))))))(Block(ExpressionStatement(Assignment(ArrayAccess(SimpleName:currentType)(NumberLiteral:0))(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:mapper))(SimpleName:realClass)(METHOD_INVOCATION_ARGUMENTS(SimpleName:classAttribute)))))))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:serializationMethodInvoker))(SimpleName:supportsReadObject)(METHOD_INVOCATION_ARGUMENTS(ArrayAccess(SimpleName:currentType)(NumberLiteral:0))(BooleanLiteral:false)))(Block(VariableDeclarationStatement(SimpleType(SimpleName:CustomObjectInputStream))(VariableDeclarationFragment(SimpleName:objectInputStream)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:CustomObjectInputStream))(SimpleName:getInstance)(METHOD_INVOCATION_ARGUMENTS(SimpleName:context)(SimpleName:callback)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:serializationMethodInvoker))(SimpleName:callReadObject)(METHOD_INVOCATION_ARGUMENTS(ArrayAccess(SimpleName:currentType)(NumberLiteral:0))(SimpleName:result)(SimpleName:objectInputStream))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:objectInputStream))(SimpleName:popCallback))))(Block(TryStatement(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:callback))(SimpleName:defaultReadObject))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:IOException))(SimpleName:e))(Block(ThrowStatement(ClassInstanceCreation(SimpleType(SimpleName:ObjectAccessException))(StringLiteral:<STR>)(SimpleName:e))))))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:reader))(SimpleName:moveUp)))))(ReturnStatement(SimpleName:result))))))