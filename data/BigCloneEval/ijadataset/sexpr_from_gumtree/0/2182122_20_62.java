(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:public)(Modifier:static)(SimpleType(SimpleName:InputStream))(SimpleName:convert)(SingleVariableDeclaration(SimpleType(SimpleName:InputStream))(SimpleName:stream))(SimpleType(SimpleName:UnsupportedAudioFileException))(SimpleType(SimpleName:IOException))(Block(VariableDeclarationStatement(SimpleType(SimpleName:AudioFileFormat))(VariableDeclarationFragment(SimpleName:sourceFileFormat)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:AudioSystem))(SimpleName:getAudioFileFormat)(METHOD_INVOCATION_ARGUMENTS(SimpleName:stream)))))(VariableDeclarationStatement(SimpleType(QualifiedName:AudioFormat.Encoding))(VariableDeclarationFragment(SimpleName:targetEncoding)(ClassInstanceCreation(SimpleType(QualifiedName:AudioFormat.Encoding))(StringLiteral:<STR>))))(VariableDeclarationStatement(SimpleType(QualifiedName:AudioFileFormat.Type))(VariableDeclarationFragment(SimpleName:fileType)(ClassInstanceCreation(SimpleType(QualifiedName:AudioFileFormat.Type))(StringLiteral:<STR>)(StringLiteral:<STR>))))(VariableDeclarationStatement(SimpleType(SimpleName:AudioInputStream))(VariableDeclarationFragment(SimpleName:sourceStream)(NullLiteral)))(ExpressionStatement(Assignment(SimpleName:sourceStream)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:AudioSystem))(SimpleName:getAudioInputStream)(METHOD_INVOCATION_ARGUMENTS(SimpleName:stream)))))(IfStatement(InfixExpression(SimpleName:sourceStream)(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(Block(ThrowStatement(ClassInstanceCreation(SimpleType(SimpleName:IOException))(StringLiteral:<STR>)))))(VariableDeclarationStatement(SimpleType(SimpleName:AudioFormat))(VariableDeclarationFragment(SimpleName:sourceFormat)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:sourceStream))(SimpleName:getFormat))))(VariableDeclarationStatement(SimpleType(QualifiedName:AudioFormat.Encoding))(VariableDeclarationFragment(SimpleName:encoding)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:sourceFormat))(SimpleName:getEncoding))))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:sourceFileFormat))(SimpleName:getType)))(SimpleName:toString)))(SimpleName:equals)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fileType))(SimpleName:toString))))(Block(ReturnStatement(SimpleName:stream))))(IfStatement(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(ParenthesizedExpression(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:encoding))(SimpleName:equals)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:AudioFormat.Encoding.PCM_SIGNED)))(INFIX_EXPRESSION_OPERATOR:||)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:encoding))(SimpleName:equals)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:AudioFormat.Encoding.PCM_UNSIGNED))))))(Block(ExpressionStatement(Assignment(SimpleName:stream)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(SimpleName:convertToPCM)(METHOD_INVOCATION_ARGUMENTS(SimpleName:sourceStream)(SimpleName:sourceFormat)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:sourceStream))(SimpleName:close)))(ExpressionStatement(Assignment(SimpleName:sourceStream)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:AudioSystem))(SimpleName:getAudioInputStream)(METHOD_INVOCATION_ARGUMENTS(SimpleName:stream)))))))(VariableDeclarationStatement(PrimitiveType:float)(VariableDeclarationFragment(SimpleName:sourceRate)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:sourceFormat))(SimpleName:getSampleRate))))(VariableDeclarationStatement(SimpleType(SimpleName:AudioInputStream))(VariableDeclarationFragment(SimpleName:ais)(NullLiteral)))(IfStatement(InfixExpression(SimpleName:sourceRate)(INFIX_EXPRESSION_OPERATOR:!=)(NumberLiteral:8000f))(Block(VariableDeclarationStatement(SimpleType(QualifiedName:AudioFileFormat.Type))(VariableDeclarationFragment(SimpleName:targetFileType)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:sourceFileFormat))(SimpleName:getType))))(VariableDeclarationStatement(SimpleType(SimpleName:AudioFormat))(VariableDeclarationFragment(SimpleName:targetFormat)(ClassInstanceCreation(SimpleType(SimpleName:AudioFormat))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:sourceFormat))(SimpleName:getEncoding))(NumberLiteral:8000f)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:sourceFormat))(SimpleName:getSampleSizeInBits))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:sourceFormat))(SimpleName:getChannels))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:sourceFormat))(SimpleName:getFrameSize))(NumberLiteral:8000f)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:sourceFormat))(SimpleName:isBigEndian)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(QualifiedName:System.out))(SimpleName:println)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:targetFormat)))))(VariableDeclarationStatement(SimpleType(SimpleName:AudioInputStream))(VariableDeclarationFragment(SimpleName:targetStream)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:AudioSystem))(SimpleName:getAudioInputStream)(METHOD_INVOCATION_ARGUMENTS(SimpleName:targetFormat)(SimpleName:sourceStream)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(QualifiedName:System.out))(SimpleName:println)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:targetStream)))))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:nWrittenBytes)(NumberLiteral:0)))(VariableDeclarationStatement(SimpleType(SimpleName:ByteArrayOutputStream))(VariableDeclarationFragment(SimpleName:bos)(ClassInstanceCreation(SimpleType(SimpleName:ByteArrayOutputStream)))))(ExpressionStatement(Assignment(SimpleName:nWrittenBytes)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:AudioSystem))(SimpleName:write)(METHOD_INVOCATION_ARGUMENTS(SimpleName:targetStream)(SimpleName:targetFileType)(SimpleName:bos)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(QualifiedName:System.out))(SimpleName:println)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:nWrittenBytes)))))(ExpressionStatement(Assignment(SimpleName:stream)(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(SimpleType(SimpleName:ByteArrayInputStream))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:bos))(SimpleName:toByteArray)))))(ExpressionStatement(Assignment(SimpleName:ais)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:AudioSystem))(SimpleName:getAudioInputStream)(METHOD_INVOCATION_ARGUMENTS(SimpleName:stream)))))(ExpressionStatement(Assignment(SimpleName:sourceFormat)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ais))(SimpleName:getFormat)))))(Block(ExpressionStatement(Assignment(SimpleName:ais)(ASSIGNMENT_OPERATOR:=)(SimpleName:sourceStream)))))(VariableDeclarationStatement(SimpleType(SimpleName:AudioInputStream))(VariableDeclarationFragment(SimpleName:gsmAIS)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:AudioSystem))(SimpleName:getAudioInputStream)(METHOD_INVOCATION_ARGUMENTS(SimpleName:targetEncoding)(SimpleName:ais)))))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:nWrittenFrames)(NumberLiteral:0)))(VariableDeclarationStatement(SimpleType(SimpleName:ByteArrayOutputStream))(VariableDeclarationFragment(SimpleName:bos)(ClassInstanceCreation(SimpleType(SimpleName:ByteArrayOutputStream)))))(ExpressionStatement(Assignment(SimpleName:nWrittenFrames)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:AudioSystem))(SimpleName:write)(METHOD_INVOCATION_ARGUMENTS(SimpleName:gsmAIS)(SimpleName:fileType)(SimpleName:bos)))))(ReturnStatement(ClassInstanceCreation(SimpleType(SimpleName:ByteArrayInputStream))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:bos))(SimpleName:toByteArray))))))))