(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:public)(PrimitiveType:boolean)(SimpleName:setDataSource)(SingleVariableDeclaration(SimpleType(SimpleName:Object))(SimpleName:source))(SimpleType(SimpleName:Exception))(Block(ExpressionStatement(MethodInvocation(SimpleName:close)))(VariableDeclarationStatement(SimpleType(SimpleName:InputStream))(VariableDeclarationFragment(SimpleName:is)(NullLiteral)))(VariableDeclarationStatement(SimpleType(QualifiedName:javax.sound.sampled.AudioFileFormat))(VariableDeclarationFragment(SimpleName:m_audioFileFormat)(NullLiteral)))(IfStatement(InstanceofExpression(SimpleName:source)(SimpleType(SimpleName:ExtendedByteArrayInputStream)))(Block(ExpressionStatement(Assignment(SimpleName:is)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(SimpleName:checkInputStream)(METHOD_INVOCATION_ARGUMENTS(CastExpression(SimpleType(SimpleName:InputStream))(SimpleName:source))(MethodInvocation(METHOD_INVOCATION_RECEIVER(ParenthesizedExpression(CastExpression(SimpleType(SimpleName:ExtendedByteArrayInputStream))(SimpleName:source))))(SimpleName:getName)))))))(IfStatement(InstanceofExpression(SimpleName:source)(SimpleType(SimpleName:InputStream)))(Block(ExpressionStatement(Assignment(SimpleName:is)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(SimpleName:checkInputStream)(METHOD_INVOCATION_ARGUMENTS(CastExpression(SimpleType(SimpleName:InputStream))(SimpleName:source))(NullLiteral))))))(IfStatement(InstanceofExpression(SimpleName:source)(SimpleType(SimpleName:File)))(Block(ExpressionStatement(Assignment(SimpleName:is)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(SimpleName:checkInputStream)(METHOD_INVOCATION_ARGUMENTS(ClassInstanceCreation(SimpleType(QualifiedName:java.io.FileInputStream))(CastExpression(SimpleType(SimpleName:File))(SimpleName:source)))(MethodInvocation(METHOD_INVOCATION_RECEIVER(ParenthesizedExpression(CastExpression(SimpleType(SimpleName:File))(SimpleName:source))))(SimpleName:getName)))))))(Block(VariableDeclarationStatement(SimpleType(QualifiedName:java.net.URL))(VariableDeclarationFragment(SimpleName:url)(NullLiteral)))(IfStatement(InstanceofExpression(SimpleName:source)(SimpleType(QualifiedName:java.net.URL)))(ExpressionStatement(Assignment(SimpleName:url)(ASSIGNMENT_OPERATOR:=)(CastExpression(SimpleType(QualifiedName:java.net.URL))(SimpleName:source))))(IfStatement(InstanceofExpression(SimpleName:source)(SimpleType(SimpleName:String)))(Block(ExpressionStatement(Assignment(SimpleName:url)(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(SimpleType(QualifiedName:java.net.URL))(CastExpression(SimpleType(SimpleName:String))(SimpleName:source))))))))(IfStatement(InfixExpression(SimpleName:url)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(ExpressionStatement(Assignment(SimpleName:is)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(SimpleName:checkInputStream)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:url))(SimpleName:openStream))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:source))(SimpleName:toString))))))))))))(IfStatement(InfixExpression(SimpleName:is)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(IfStatement(InfixExpression(SimpleName:isMpeg)(INFIX_EXPRESSION_OPERATOR:||)(ParenthesizedExpression(InfixExpression(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(SimpleName:isWav))(INFIX_EXPRESSION_OPERATOR:&&)(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(SimpleName:isOgg)))))(Block(TryStatement(Block(ExpressionStatement(Assignment(SimpleName:m_audioFileFormat)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:AppletMpegSPIWorkaround))(SimpleName:getAudioFileFormat)(METHOD_INVOCATION_ARGUMENTS(SimpleName:is)))))(ExpressionStatement(Assignment(SimpleName:ais)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:AppletMpegSPIWorkaround))(SimpleName:getAudioInputStream)(METHOD_INVOCATION_ARGUMENTS(SimpleName:is)))))(ExpressionStatement(Assignment(SimpleName:isMpeg)(ASSIGNMENT_OPERATOR:=)(BooleanLiteral:true))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:IOException))(SimpleName:ex))(Block(ThrowStatement(SimpleName:ex))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:UnsupportedAudioFileException))(SimpleName:ex))(Block(ExpressionStatement(Assignment(SimpleName:isMpeg)(ASSIGNMENT_OPERATOR:=)(BooleanLiteral:false))))))))(IfStatement(InfixExpression(SimpleName:isOgg)(INFIX_EXPRESSION_OPERATOR:||)(ParenthesizedExpression(InfixExpression(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(SimpleName:isMpeg))(INFIX_EXPRESSION_OPERATOR:&&)(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(SimpleName:isWav)))))(Block(TryStatement(Block(ExpressionStatement(Assignment(SimpleName:m_audioFileFormat)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:AppletVorbisSPIWorkaround))(SimpleName:getAudioFileFormat)(METHOD_INVOCATION_ARGUMENTS(SimpleName:is)))))(ExpressionStatement(Assignment(SimpleName:ais)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:AppletVorbisSPIWorkaround))(SimpleName:getAudioInputStream)(METHOD_INVOCATION_ARGUMENTS(SimpleName:is)))))(ExpressionStatement(Assignment(SimpleName:isOgg)(ASSIGNMENT_OPERATOR:=)(BooleanLiteral:true))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:IOException))(SimpleName:ex))(Block(ThrowStatement(SimpleName:ex))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:UnsupportedAudioFileException))(SimpleName:ex))(Block(ExpressionStatement(Assignment(SimpleName:isOgg)(ASSIGNMENT_OPERATOR:=)(BooleanLiteral:false))))))))(IfStatement(InfixExpression(SimpleName:isWav)(INFIX_EXPRESSION_OPERATOR:||)(ParenthesizedExpression(InfixExpression(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(SimpleName:isMpeg))(INFIX_EXPRESSION_OPERATOR:&&)(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(SimpleName:isOgg)))))(Block(ExpressionStatement(Assignment(SimpleName:m_audioFileFormat)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:AudioSystem))(SimpleName:getAudioFileFormat)(METHOD_INVOCATION_ARGUMENTS(SimpleName:is)))))(ExpressionStatement(Assignment(SimpleName:ais)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:AudioSystem))(SimpleName:getAudioInputStream)(METHOD_INVOCATION_ARGUMENTS(SimpleName:is)))))))))(IfStatement(InfixExpression(SimpleName:ais)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(VariableDeclarationStatement(SimpleType(SimpleName:AudioFormat))(VariableDeclarationFragment(SimpleName:af)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ais))(SimpleName:getFormat))))(VariableDeclarationStatement(SimpleType(QualifiedName:DataLine.Info))(VariableDeclarationFragment(SimpleName:info)(ClassInstanceCreation(SimpleType(QualifiedName:DataLine.Info))(TypeLiteral(SimpleType(SimpleName:SourceDataLine)))(SimpleName:af)(SimpleName:INTERNAL_BUFFER_SIZE))))(IfStatement(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:AudioSystem))(SimpleName:isLineSupported)(METHOD_INVOCATION_ARGUMENTS(SimpleName:info))))(Block(VariableDeclarationStatement(SimpleType(SimpleName:AudioFormat))(VariableDeclarationFragment(SimpleName:sourceFormat)(SimpleName:af)))(VariableDeclarationStatement(SimpleType(SimpleName:AudioFormat))(VariableDeclarationFragment(SimpleName:targetFormat)(ClassInstanceCreation(SimpleType(SimpleName:AudioFormat))(QualifiedName:AudioFormat.Encoding.PCM_SIGNED)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:sourceFormat))(SimpleName:getSampleRate))(SimpleName:BIT_SAMPLE_SIZE)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:sourceFormat))(SimpleName:getChannels))(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:sourceFormat))(SimpleName:getChannels))(INFIX_EXPRESSION_OPERATOR:*)(ParenthesizedExpression(InfixExpression(SimpleName:BIT_SAMPLE_SIZE)(INFIX_EXPRESSION_OPERATOR:/)(NumberLiteral:8))))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:sourceFormat))(SimpleName:getSampleRate))(SimpleName:BIG_ENDIAN))))(IfStatement(SimpleName:isMpeg)(ExpressionStatement(Assignment(SimpleName:ais)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:AppletMpegSPIWorkaround))(SimpleName:getAudioInputStream)(METHOD_INVOCATION_ARGUMENTS(SimpleName:targetFormat)(SimpleName:ais)))))(IfStatement(SimpleName:isOgg)(ExpressionStatement(Assignment(SimpleName:ais)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:AppletVorbisSPIWorkaround))(SimpleName:getAudioInputStream)(METHOD_INVOCATION_ARGUMENTS(SimpleName:targetFormat)(SimpleName:ais)))))(ExpressionStatement(Assignment(SimpleName:ais)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:AudioSystem))(SimpleName:getAudioInputStream)(METHOD_INVOCATION_ARGUMENTS(SimpleName:targetFormat)(SimpleName:ais)))))))))))(ReturnStatement(InfixExpression(SimpleName:ais)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral)))))))