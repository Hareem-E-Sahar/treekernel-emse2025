(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:public)(ParameterizedType(SimpleType(SimpleName:List))(SimpleType(SimpleName:Template)))(SimpleName:getTemplates)(SingleVariableDeclaration(PrimitiveType:boolean)(SimpleName:fromPrivate))(Block(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:shared)(ConditionalExpression(SimpleName:fromPrivate)(StringLiteral:<STR>)(StringLiteral:<STR>))))(VariableDeclarationStatement(ParameterizedType(SimpleType(SimpleName:List))(SimpleType(SimpleName:Template)))(VariableDeclarationFragment(SimpleName:templates)(ClassInstanceCreation(ParameterizedType(SimpleType(SimpleName:ArrayList))(SimpleType(SimpleName:Template))))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:restURL)(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:configuration))(SimpleName:getBeehiveRESTRootUrl))(INFIX_EXPRESSION_OPERATOR:+)(StringLiteral:<STR>)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:userService))(SimpleName:getAccount)))(SimpleName:getOid))(StringLiteral:<STR>)(SimpleName:shared))))(VariableDeclarationStatement(SimpleType(SimpleName:HttpGet))(VariableDeclarationFragment(SimpleName:httpGet)(ClassInstanceCreation(SimpleType(SimpleName:HttpGet))(SimpleName:restURL))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:httpGet))(SimpleName:setHeader)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(StringLiteral:<STR>))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(ThisExpression))(SimpleName:addAuthentication)(METHOD_INVOCATION_ARGUMENTS(SimpleName:httpGet))))(VariableDeclarationStatement(SimpleType(SimpleName:HttpClient))(VariableDeclarationFragment(SimpleName:httpClient)(ClassInstanceCreation(SimpleType(SimpleName:DefaultHttpClient)))))(TryStatement(Block(VariableDeclarationStatement(SimpleType(SimpleName:HttpResponse))(VariableDeclarationFragment(SimpleName:response)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:httpClient))(SimpleName:execute)(METHOD_INVOCATION_ARGUMENTS(SimpleName:httpGet)))))(IfStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:response))(SimpleName:getStatusLine)))(SimpleName:getStatusCode))(INFIX_EXPRESSION_OPERATOR:!=)(QualifiedName:HttpServletResponse.SC_OK))(Block(IfStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:response))(SimpleName:getStatusLine)))(SimpleName:getStatusCode))(INFIX_EXPRESSION_OPERATOR:==)(QualifiedName:HttpServletResponse.SC_UNAUTHORIZED))(Block(ThrowStatement(ClassInstanceCreation(SimpleType(SimpleName:NotAuthenticatedException))(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:userService))(SimpleName:getCurrentUser)))(SimpleName:getUsername))(StringLiteral:<STR>))))))(ThrowStatement(ClassInstanceCreation(SimpleType(SimpleName:BeehiveNotAvailableException))(StringLiteral:<STR>)))))(VariableDeclarationStatement(SimpleType(SimpleName:InputStreamReader))(VariableDeclarationFragment(SimpleName:reader)(ClassInstanceCreation(SimpleType(SimpleName:InputStreamReader))(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:response))(SimpleName:getEntity)))(SimpleName:getContent)))))(VariableDeclarationStatement(SimpleType(SimpleName:BufferedReader))(VariableDeclarationFragment(SimpleName:buffReader)(ClassInstanceCreation(SimpleType(SimpleName:BufferedReader))(SimpleName:reader))))(VariableDeclarationStatement(SimpleType(SimpleName:StringBuilder))(VariableDeclarationFragment(SimpleName:sb)(ClassInstanceCreation(SimpleType(SimpleName:StringBuilder)))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:line)(StringLiteral:<STR>)))(WhileStatement(InfixExpression(ParenthesizedExpression(Assignment(SimpleName:line)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:buffReader))(SimpleName:readLine))))(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:sb))(SimpleName:append)(METHOD_INVOCATION_ARGUMENTS(SimpleName:line))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:sb))(SimpleName:append)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:result)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:sb))(SimpleName:toString))))(VariableDeclarationStatement(SimpleType(SimpleName:TemplateList))(VariableDeclarationFragment(SimpleName:templateList)(MethodInvocation(SimpleName:buildTemplateListFromJson)(METHOD_INVOCATION_ARGUMENTS(SimpleName:result)))))(VariableDeclarationStatement(ParameterizedType(SimpleType(SimpleName:List))(SimpleType(SimpleName:TemplateDTO)))(VariableDeclarationFragment(SimpleName:dtoes)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:templateList))(SimpleName:getTemplates))))(EnhancedForStatement(SingleVariableDeclaration(SimpleType(SimpleName:TemplateDTO))(SimpleName:dto))(SimpleName:dtoes)(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:templates))(SimpleName:add)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:dto))(SimpleName:toTemplate))))))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:IOException))(SimpleName:e))(Block(ThrowStatement(ClassInstanceCreation(SimpleType(SimpleName:BeehiveNotAvailableException))(StringLiteral:<STR>)(SimpleName:e))))))(ReturnStatement(SimpleName:templates))))))