(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:public)(SimpleType(SimpleName:ActionForward))(SimpleName:severalContentsExportation)(SingleVariableDeclaration(SimpleType(SimpleName:ActionMapping))(SimpleName:mapping))(SingleVariableDeclaration(SimpleType(SimpleName:ActionForm))(SimpleName:form))(SingleVariableDeclaration(SimpleType(SimpleName:PortletConfig))(SimpleName:portletConfig))(SingleVariableDeclaration(SimpleType(SimpleName:PortletRequest))(SimpleName:request))(SingleVariableDeclaration(SimpleType(SimpleName:PortletResponse))(SimpleName:response))(SimpleType(SimpleName:CMSRuntimeException))(Block(VariableDeclarationStatement(SimpleType(SimpleName:DynaActionForm))(VariableDeclarationFragment(SimpleName:dform)(CastExpression(SimpleType(SimpleName:DynaActionForm))(SimpleName:form))))(VariableDeclarationStatement(ArrayType(SimpleType(SimpleName:String))(Dimension))(VariableDeclarationFragment(SimpleName:listContentsIDs)(CastExpression(ArrayType(SimpleType(SimpleName:String))(Dimension))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:dform))(SimpleName:get)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:workspace)(MethodInvocation(METHOD_INVOCATION_RECEIVER(ClassInstanceCreation(SimpleType(SimpleName:ScribeRequest))(SimpleName:request)))(SimpleName:calculateCurrentWorkspace))))(VariableDeclarationStatement(SimpleType(SimpleName:ContentManager))(VariableDeclarationFragment(SimpleName:contentManager)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ManagerRegistry))(SimpleName:getContentManager))))(VariableDeclarationStatement(SimpleType(SimpleName:ActionMessages))(VariableDeclarationFragment(SimpleName:msgs)(ClassInstanceCreation(SimpleType(SimpleName:ActionMessages)))))(VariableDeclarationStatement(SimpleType(SimpleName:ActionMessages))(VariableDeclarationFragment(SimpleName:errors)(ClassInstanceCreation(SimpleType(SimpleName:ActionMessages)))))(IfStatement(ParenthesizedExpression(InfixExpression(QualifiedName:listContentsIDs.length)(INFIX_EXPRESSION_OPERATOR:<)(NumberLiteral:1)))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:errors))(SimpleName:add)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:ActionMessages.GLOBAL_MESSAGE)(ClassInstanceCreation(SimpleType(SimpleName:ActionMessage))(StringLiteral:<STR>)))))(ExpressionStatement(MethodInvocation(SimpleName:saveErrors)(METHOD_INVOCATION_ARGUMENTS(SimpleName:request)(SimpleName:errors))))(ReturnStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:mapping))(SimpleName:findForward)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))))(TryStatement(Block(VariableDeclarationStatement(SimpleType(SimpleName:File))(VariableDeclarationFragment(SimpleName:zipOutFilename)(ClassInstanceCreation(SimpleType(SimpleName:File))(SimpleName:EXPORTED_CONTENTS_PATH)(InfixExpression(SimpleName:CONTENTS_ZIP_PREFIX)(INFIX_EXPRESSION_OPERATOR:+)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Long))(SimpleName:toString)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:System))(SimpleName:currentTimeMillis))))(SimpleName:ZIP_FILE_EXTENSION)))))(VariableDeclarationStatement(SimpleType(SimpleName:ZipOutputStream))(VariableDeclarationFragment(SimpleName:out)(ClassInstanceCreation(SimpleType(SimpleName:ZipOutputStream))(ClassInstanceCreation(SimpleType(SimpleName:FileOutputStream))(SimpleName:zipOutFilename)))))(EnhancedForStatement(SingleVariableDeclaration(SimpleType(SimpleName:String))(SimpleName:contentId))(SimpleName:listContentsIDs)(Block(TryStatement(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:log))(SimpleName:info)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:contentId)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:out))(SimpleName:putNextEntry)(METHOD_INVOCATION_ARGUMENTS(ClassInstanceCreation(SimpleType(SimpleName:ZipEntry))(SimpleName:contentId)))))(VariableDeclarationStatement(SimpleType(SimpleName:PortletContextImpl))(VariableDeclarationFragment(SimpleName:portletContextImpl)(ParenthesizedExpression(CastExpression(SimpleType(SimpleName:PortletContextImpl))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:portletConfig))(SimpleName:getPortletContext))))))(VariableDeclarationStatement(SimpleType(SimpleName:ServletContext))(VariableDeclarationFragment(SimpleName:servletContext)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:portletContextImpl))(SimpleName:getServletContext))))(VariableDeclarationStatement(ArrayType(PrimitiveType:byte)(Dimension))(VariableDeclarationFragment(SimpleName:contentByteArray)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:contentManager))(SimpleName:exportContentDataByContentId)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:1)(SimpleName:contentId)(SimpleName:workspace)(SimpleName:servletContext)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:out))(SimpleName:write)(METHOD_INVOCATION_ARGUMENTS(SimpleName:contentByteArray)))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:RepositoryException))(SimpleName:e1))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:log))(SimpleName:error)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:errors))(SimpleName:add)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:ActionMessages.GLOBAL_MESSAGE)(ClassInstanceCreation(SimpleType(SimpleName:ActionMessage))(StringLiteral:<STR>)))))(ExpressionStatement(MethodInvocation(SimpleName:saveErrors)(METHOD_INVOCATION_ARGUMENTS(SimpleName:request)(SimpleName:errors))))(ReturnStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:mapping))(SimpleName:findForward)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:IOException))(SimpleName:e))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:log))(SimpleName:error)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:errors))(SimpleName:add)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:ActionMessages.GLOBAL_MESSAGE)(ClassInstanceCreation(SimpleType(SimpleName:ActionMessage))(StringLiteral:<STR>)))))(ExpressionStatement(MethodInvocation(SimpleName:saveErrors)(METHOD_INVOCATION_ARGUMENTS(SimpleName:request)(SimpleName:errors))))(ReturnStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:mapping))(SimpleName:findForward)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:out))(SimpleName:close))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:IOException))(SimpleName:e))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:log))(SimpleName:error)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:errors))(SimpleName:add)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:ActionMessages.GLOBAL_MESSAGE)(ClassInstanceCreation(SimpleType(SimpleName:ActionMessage))(StringLiteral:<STR>)))))(ExpressionStatement(MethodInvocation(SimpleName:saveErrors)(METHOD_INVOCATION_ARGUMENTS(SimpleName:request)(SimpleName:errors))))(ReturnStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:mapping))(SimpleName:findForward)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))))))(IfStatement(InfixExpression(QualifiedName:listContentsIDs.length)(INFIX_EXPRESSION_OPERATOR:>)(NumberLiteral:0))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:msgs))(SimpleName:add)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:ActionMessages.GLOBAL_MESSAGE)(ClassInstanceCreation(SimpleType(SimpleName:ActionMessage))(StringLiteral:<STR>)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:String))(SimpleName:valueOf)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:listContentsIDs.length)))))))))(ExpressionStatement(MethodInvocation(SimpleName:saveMessages)(METHOD_INVOCATION_ARGUMENTS(SimpleName:request)(SimpleName:msgs))))(ExpressionStatement(MethodInvocation(SimpleName:saveErrors)(METHOD_INVOCATION_ARGUMENTS(SimpleName:request)(SimpleName:errors))))(ReturnStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:mapping))(SimpleName:findForward)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))))))