(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:public)(PrimitiveType:void)(SimpleName:outputLogStats)(SingleVariableDeclaration(SimpleType(SimpleName:OutputStream))(SimpleName:outputStream))(SingleVariableDeclaration(ParameterizedType(SimpleType(SimpleName:List))(SimpleType(SimpleName:LogStatsDTO)))(SimpleName:logStats))(SimpleType(SimpleName:ServiceException))(SimpleType(SimpleName:ResourceNotFoundException))(SimpleType(SimpleName:ParseErrorException))(SimpleType(SimpleName:Exception))(SimpleType(SimpleName:MethodInvocationException))(SimpleType(SimpleName:IOException))(Block(IfStatement(InstanceofExpression(SimpleName:outputStream)(SimpleType(SimpleName:ZipOutputStream)))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(ParenthesizedExpression(CastExpression(SimpleType(SimpleName:ZipOutputStream))(SimpleName:outputStream))))(SimpleName:putNextEntry)(METHOD_INVOCATION_ARGUMENTS(ClassInstanceCreation(SimpleType(SimpleName:ZipEntry))(MethodInvocation(SimpleName:getFileName))))))))(VariableDeclarationStatement(SimpleType(SimpleName:DataProviderDTO))(VariableDeclarationFragment(SimpleName:dataProvider)(NullLiteral)))(IfStatement(InfixExpression(SimpleName:providerKey)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(ExpressionStatement(Assignment(SimpleName:dataProvider)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:dataResourceManager))(SimpleName:getDataProviderFor)(METHOD_INVOCATION_ARGUMENTS(SimpleName:providerKey)))))))(VariableDeclarationStatement(ParameterizedType(SimpleType(SimpleName:Map))(SimpleType(SimpleName:Integer))(SimpleType(SimpleName:LogStatsDTO)))(VariableDeclarationFragment(SimpleName:eventIdProviderStats)(ClassInstanceCreation(ParameterizedType(SimpleType(SimpleName:HashMap))(SimpleType(SimpleName:Integer))(SimpleType(SimpleName:LogStatsDTO))))))(EnhancedForStatement(SingleVariableDeclaration(SimpleType(SimpleName:LogStatsDTO))(SimpleName:logStat))(SimpleName:logStats)(Block(VariableDeclarationStatement(SimpleType(SimpleName:LogStatsDTO))(VariableDeclarationFragment(SimpleName:providerLogStats)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:eventIdProviderStats))(SimpleName:get)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:logStat))(SimpleName:getEventId))))))(IfStatement(InfixExpression(SimpleName:providerLogStats)(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(Block(ExpressionStatement(Assignment(SimpleName:providerLogStats)(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(SimpleType(SimpleName:LogStatsDTO)))))(IfStatement(InfixExpression(SimpleName:dataProvider)(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(Block(VariableDeclarationStatement(SimpleType(SimpleName:DataResourceDTO))(VariableDeclarationFragment(SimpleName:dataResource)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:dataResourceManager))(SimpleName:getDataResourceFor)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:logStat))(SimpleName:getEntityKey))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:providerLogStats))(SimpleName:setEntityKey)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:dataResource))(SimpleName:getDataProviderKey)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:providerLogStats))(SimpleName:setEntityName)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:dataResource))(SimpleName:getDataProviderName))))))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:providerLogStats))(SimpleName:setEntityKey)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:dataProvider))(SimpleName:getKey)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:providerLogStats))(SimpleName:setEntityName)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:dataProvider))(SimpleName:getName)))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:providerLogStats))(SimpleName:setEventId)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:logStat))(SimpleName:getEventId)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:providerLogStats))(SimpleName:setEventName)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:logStat))(SimpleName:getEventName)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:providerLogStats))(SimpleName:setEventCount)(METHOD_INVOCATION_ARGUMENTS(ClassInstanceCreation(SimpleType(SimpleName:Integer))(NumberLiteral:0)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:eventIdProviderStats))(SimpleName:put)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:providerLogStats))(SimpleName:getEventId))(SimpleName:providerLogStats))))))(IfStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:logStat))(SimpleName:getEventCount))(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:providerLogStats))(SimpleName:setEventCount)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:providerLogStats))(SimpleName:getEventCount))(INFIX_EXPRESSION_OPERATOR:+)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:logStat))(SimpleName:getEventCount))))))))(IfStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:logStat))(SimpleName:getCount))(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(IfStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:providerLogStats))(SimpleName:getCount))(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:providerLogStats))(SimpleName:setCount)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:logStat))(SimpleName:getCount))))))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:providerLogStats))(SimpleName:setCount)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:providerLogStats))(SimpleName:getCount))(INFIX_EXPRESSION_OPERATOR:+)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:logStat))(SimpleName:getCount))))))))))))(VariableDeclarationStatement(SimpleType(SimpleName:VelocityContext))(VariableDeclarationFragment(SimpleName:velocityContext)(ClassInstanceCreation(SimpleType(SimpleName:VelocityContext)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:velocityContext))(SimpleName:put)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(ThisExpression))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:velocityContext))(SimpleName:put)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(ClassInstanceCreation(SimpleType(SimpleName:DateFormatUtils))))))(IfStatement(InfixExpression(SimpleName:eventIdProviderStats)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(VariableDeclarationStatement(ParameterizedType(SimpleType(SimpleName:List))(SimpleType(SimpleName:LogStatsDTO)))(VariableDeclarationFragment(SimpleName:providerStats)(ClassInstanceCreation(ParameterizedType(SimpleType(SimpleName:ArrayList))(SimpleType(SimpleName:LogStatsDTO))))))(EnhancedForStatement(SingleVariableDeclaration(SimpleType(SimpleName:Integer))(SimpleName:key))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:eventIdProviderStats))(SimpleName:keySet))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:providerStats))(SimpleName:add)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:eventIdProviderStats))(SimpleName:get)(METHOD_INVOCATION_ARGUMENTS(SimpleName:key))))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Collections))(SimpleName:sort)(METHOD_INVOCATION_ARGUMENTS(SimpleName:providerStats)(ClassInstanceCreation(ParameterizedType(SimpleType(SimpleName:Comparator))(SimpleType(SimpleName:LogStatsDTO)))(AnonymousClassDeclaration(MethodDeclaration(Modifier:public)(PrimitiveType:int)(SimpleName:compare)(SingleVariableDeclaration(SimpleType(SimpleName:LogStatsDTO))(SimpleName:ls1))(SingleVariableDeclaration(SimpleType(SimpleName:LogStatsDTO))(SimpleName:ls2))(Block(IfStatement(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ls1))(SimpleName:getEntityName)))(SimpleName:equals)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ls2))(SimpleName:getEntityName)))))(Block(ReturnStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ls1))(SimpleName:getEntityKey)))(SimpleName:compareTo)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ls2))(SimpleName:getEntityName))))))(Block(ReturnStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ls1))(SimpleName:getEventId)))(SimpleName:compareTo)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ls2))(SimpleName:getEventId))))))))))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:velocityContext))(SimpleName:put)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(SimpleName:providerStats))))))(IfStatement(InfixExpression(SimpleName:dataProvider)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:velocityContext))(SimpleName:put)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(SimpleName:dataProvider))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:velocityContext))(SimpleName:put)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(SimpleName:logStats))))(VariableDeclarationStatement(SimpleType(SimpleName:Template))(VariableDeclarationFragment(SimpleName:template)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Velocity))(SimpleName:getTemplate)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:template))(SimpleName:initDocument)))(VariableDeclarationStatement(SimpleType(SimpleName:LogEventField))(VariableDeclarationFragment(SimpleName:lef)(ClassInstanceCreation(SimpleType(SimpleName:LogEventField)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:lef))(SimpleName:setFieldName)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))(VariableDeclarationStatement(ParameterizedType(SimpleType(SimpleName:List))(SimpleType(SimpleName:Field)))(VariableDeclarationFragment(SimpleName:downloadFields)(ClassInstanceCreation(ParameterizedType(SimpleType(SimpleName:ArrayList))(SimpleType(SimpleName:Field))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:downloadFields))(SimpleName:add)(METHOD_INVOCATION_ARGUMENTS(SimpleName:lef))))(VariableDeclarationStatement(SimpleType(SimpleName:FieldFormatter))(VariableDeclarationFragment(SimpleName:ff)(ClassInstanceCreation(SimpleType(SimpleName:FieldFormatter))(SimpleName:downloadFields)(SimpleName:messageSource)(NullLiteral)(NullLiteral))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:velocityContext))(SimpleName:put)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(SimpleName:ff))))(VariableDeclarationStatement(SimpleType(SimpleName:TemplateUtils))(VariableDeclarationFragment(SimpleName:tu)(ClassInstanceCreation(SimpleType(SimpleName:TemplateUtils)))))(VariableDeclarationStatement(SimpleType(SimpleName:OutputStreamWriter))(VariableDeclarationFragment(SimpleName:writer)(ClassInstanceCreation(SimpleType(SimpleName:OutputStreamWriter))(SimpleName:outputStream))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:tu))(SimpleName:merge)(METHOD_INVOCATION_ARGUMENTS(SimpleName:template)(SimpleName:velocityContext)(SimpleName:writer))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:writer))(SimpleName:flush)))(IfStatement(InstanceofExpression(SimpleName:outputStream)(SimpleType(SimpleName:ZipOutputStream)))(Block(ExpressionStatement(MethodInvocation(SimpleName:addTemplate)(METHOD_INVOCATION_ARGUMENTS(SimpleName:outputStream)(SimpleName:velocityContext)(SimpleName:tu)(StringLiteral:<STR>)(StringLiteral:<STR>))))(ExpressionStatement(MethodInvocation(SimpleName:addTemplate)(METHOD_INVOCATION_ARGUMENTS(SimpleName:outputStream)(SimpleName:velocityContext)(SimpleName:tu)(StringLiteral:<STR>)(StringLiteral:<STR>))))))))))