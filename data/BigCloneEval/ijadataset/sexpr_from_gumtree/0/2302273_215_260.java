(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:protected)(PrimitiveType:void)(SimpleName:registerClient)(SingleVariableDeclaration(SimpleType(SimpleName:KernelAdapter))(SimpleName:ka))(SingleVariableDeclaration(SimpleType(SimpleName:Endpoint))(SimpleName:p))(SingleVariableDeclaration(SimpleType(SimpleName:ClientRegistrationMessage))(SimpleName:m))(Block(VariableDeclarationStatement(SimpleType(SimpleName:Connection))(VariableDeclarationFragment(SimpleName:addedConnection)(NullLiteral)))(SynchronizedStatement(ThisExpression)(Block(VariableDeclarationStatement(PrimitiveType:long)(VariableDeclarationFragment(SimpleName:tempId)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:m))(SimpleName:getId))))(VariableDeclarationStatement(SimpleType(SimpleName:Connection))(VariableDeclarationFragment(SimpleName:c)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:connecting))(SimpleName:remove)(METHOD_INVOCATION_ARGUMENTS(SimpleName:tempId)))))(IfStatement(InfixExpression(SimpleName:c)(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(Block(ExpressionStatement(Assignment(SimpleName:c)(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(SimpleType(SimpleName:Connection))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:channels))(SimpleName:size)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:log))(SimpleName:log)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:Level.FINE)(StringLiteral:<STR>)(SimpleName:p)))))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:log))(SimpleName:log)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:Level.FINE)(StringLiteral:<STR>)(SimpleName:p))))))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:channel)(MethodInvocation(SimpleName:getChannel)(METHOD_INVOCATION_ARGUMENTS(SimpleName:ka)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:c))(SimpleName:setChannel)(METHOD_INVOCATION_ARGUMENTS(SimpleName:channel)(SimpleName:p))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:log))(SimpleName:log)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:Level.FINE)(StringLiteral:<STR>)(SimpleName:channel))))(IfStatement(InfixExpression(SimpleName:channel)(INFIX_EXPRESSION_OPERATOR:==)(SimpleName:CH_RELIABLE))(Block(IfStatement(InfixExpression(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(SimpleName:getGameName)))(SimpleName:equals)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:m))(SimpleName:getGameName)))))(INFIX_EXPRESSION_OPERATOR:||)(InfixExpression(MethodInvocation(SimpleName:getVersion))(INFIX_EXPRESSION_OPERATOR:!=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:m))(SimpleName:getVersion))))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:log))(SimpleName:log)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:Level.INFO)(StringLiteral:<STR>)(SimpleName:c))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:c))(SimpleName:close)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(MethodInvocation(SimpleName:getGameName))(StringLiteral:<STR>)(MethodInvocation(SimpleName:getVersion))(StringLiteral:<STR>)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:m))(SimpleName:getGameName))(StringLiteral:<STR>)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:m))(SimpleName:getVersion))))))(ReturnStatement)))(IfStatement(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:alternatePorts))(SimpleName:isEmpty)))(Block(VariableDeclarationStatement(SimpleType(SimpleName:ChannelInfoMessage))(VariableDeclarationFragment(SimpleName:cim)(ClassInstanceCreation(SimpleType(SimpleName:ChannelInfoMessage))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:m))(SimpleName:getId))(SimpleName:alternatePorts))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:c))(SimpleName:send)(METHOD_INVOCATION_ARGUMENTS(SimpleName:cim))))))))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:c))(SimpleName:isComplete))(Block(IfStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:connections))(SimpleName:put)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:c))(SimpleName:getId))(SimpleName:c)))(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(Block(EnhancedForStatement(SingleVariableDeclaration(SimpleType(SimpleName:Endpoint))(SimpleName:cp))(QualifiedName:c.channels)(Block(IfStatement(InfixExpression(SimpleName:cp)(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(ContinueStatement))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:endpointConnections))(SimpleName:put)(METHOD_INVOCATION_ARGUMENTS(SimpleName:cp)(SimpleName:c))))))(ExpressionStatement(Assignment(SimpleName:addedConnection)(ASSIGNMENT_OPERATOR:=)(SimpleName:c))))))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:connecting))(SimpleName:put)(METHOD_INVOCATION_ARGUMENTS(SimpleName:tempId)(SimpleName:c))))))))(IfStatement(InfixExpression(SimpleName:addedConnection)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:log))(SimpleName:log)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:Level.INFO)(StringLiteral:<STR>)(SimpleName:addedConnection))))(ExpressionStatement(Assignment(SimpleName:m)(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(SimpleType(SimpleName:ClientRegistrationMessage)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:m))(SimpleName:setId)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:addedConnection))(SimpleName:getId)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:m))(SimpleName:setReliable)(METHOD_INVOCATION_ARGUMENTS(BooleanLiteral:true))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:addedConnection))(SimpleName:send)(METHOD_INVOCATION_ARGUMENTS(SimpleName:m))))(ExpressionStatement(MethodInvocation(SimpleName:fireConnectionAdded)(METHOD_INVOCATION_ARGUMENTS(SimpleName:addedConnection))))))))))