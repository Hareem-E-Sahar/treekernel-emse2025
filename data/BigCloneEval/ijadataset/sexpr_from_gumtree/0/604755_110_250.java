(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:public)(PrimitiveType:void)(SimpleName:downloadFileFromRemote)(SingleVariableDeclaration(PrimitiveType:int)(SimpleName:fileIndex))(SingleVariableDeclaration(PrimitiveType:int)(SimpleName:resType))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Log))(SimpleName:d)(METHOD_INVOCATION_ARGUMENTS(SimpleName:logTag)(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Thread))(SimpleName:currentThread)))(SimpleName:getName))(INFIX_EXPRESSION_OPERATOR:+)(StringLiteral:<STR>)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:listener))(SimpleName:downloadPreExec)(METHOD_INVOCATION_ARGUMENTS(SimpleName:fileIndex)(SimpleName:resType))))(VariableDeclarationStatement(Modifier:final)(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:MEDIA_FILE)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(SimpleName:getResources)))(SimpleName:getInteger)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:R.integer.MEDIA_TYPE)))))(VariableDeclarationStatement(Modifier:final)(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:SUBTITLE_FILE)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(SimpleName:getResources)))(SimpleName:getInteger)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:R.integer.SUBTITLE_TYPE)))))(VariableDeclarationStatement(Modifier:final)(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:THEORY_FILE)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(SimpleName:getResources)))(SimpleName:getInteger)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:R.integer.THEORY_TYPE)))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:resTypeMsg)(Dimension)(ArrayCreation(ArrayType(SimpleType(SimpleName:String))(Dimension(NumberLiteral:3))))))(ExpressionStatement(Assignment(ArrayAccess(SimpleName:resTypeMsg)(SimpleName:MEDIA_FILE))(ASSIGNMENT_OPERATOR:=)(StringLiteral:<STR>)))(ExpressionStatement(Assignment(ArrayAccess(SimpleName:resTypeMsg)(SimpleName:SUBTITLE_FILE))(ASSIGNMENT_OPERATOR:=)(StringLiteral:<STR>)))(ExpressionStatement(Assignment(ArrayAccess(SimpleName:resTypeMsg)(SimpleName:THEORY_FILE))(ASSIGNMENT_OPERATOR:=)(StringLiteral:<STR>)))(VariableDeclarationStatement(PrimitiveType:long)(VariableDeclarationFragment(SimpleName:contentLength)(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:-)(NumberLiteral:1))))(VariableDeclarationStatement(SimpleType(SimpleName:InputStream))(VariableDeclarationFragment(SimpleName:is)(NullLiteral)))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:targetSite)(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:-)(NumberLiteral:1))))(VariableDeclarationStatement(SimpleType(SimpleName:File))(VariableDeclarationFragment(SimpleName:outputPath)(NullLiteral)))(VariableDeclarationStatement(SimpleType(SimpleName:File))(VariableDeclarationFragment(SimpleName:orgPath)(NullLiteral)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Log))(SimpleName:d)(METHOD_INVOCATION_ARGUMENTS(SimpleName:logTag)(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Thread))(SimpleName:currentThread)))(SimpleName:getName))(INFIX_EXPRESSION_OPERATOR:+)(StringLiteral:<STR>)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:remoteResources))(SimpleName:size))(StringLiteral:<STR>)))))(VariableDeclarationStatement(ArrayType(SimpleType(SimpleName:CheckRemoteThread))(Dimension))(VariableDeclarationFragment(SimpleName:crt)(ArrayCreation(ArrayType(SimpleType(SimpleName:CheckRemoteThread))(Dimension(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:remoteResources))(SimpleName:size)))))))(ForStatement(VariableDeclarationExpression(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:i)(NumberLiteral:0)))(InfixExpression(SimpleName:i)(INFIX_EXPRESSION_OPERATOR:<)(QualifiedName:crt.length))(PostfixExpression(SimpleName:i)(POSTFIX_EXPRESSION_OPERATOR:++))(Block(IfStatement(InfixExpression(SimpleName:fileIndex)(INFIX_EXPRESSION_OPERATOR:!=)(SimpleName:downloadingIndex))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Log))(SimpleName:d)(METHOD_INVOCATION_ARGUMENTS(SimpleName:logTag)(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Thread))(SimpleName:currentThread)))(SimpleName:getName))(INFIX_EXPRESSION_OPERATOR:+)(StringLiteral:<STR>)))))(ReturnStatement)))(VariableDeclarationStatement(SimpleType(SimpleName:RemoteSource))(VariableDeclarationFragment(SimpleName:rs)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:remoteResources))(SimpleName:get)(METHOD_INVOCATION_ARGUMENTS(SimpleName:i)))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:remotePath)(NullLiteral)))(IfStatement(InfixExpression(SimpleName:resType)(INFIX_EXPRESSION_OPERATOR:==)(SimpleName:MEDIA_FILE))(Block(ExpressionStatement(Assignment(SimpleName:remotePath)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:rs))(SimpleName:getMediaFileAddress)(METHOD_INVOCATION_ARGUMENTS(SimpleName:fileIndex)))))(ExpressionStatement(Assignment(SimpleName:orgPath)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:FileSysManager))(SimpleName:getLocalMediaFile)(METHOD_INVOCATION_ARGUMENTS(SimpleName:fileIndex)))))(ExpressionStatement(Assignment(SimpleName:outputPath)(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(SimpleType(SimpleName:File))(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:orgPath))(SimpleName:getParent))(INFIX_EXPRESSION_OPERATOR:+)(QualifiedName:File.separator)(MethodInvocation(SimpleName:getString)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:R.string.DL_TMP_PREFIX)))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:orgPath))(SimpleName:getName)))))))(IfStatement(InfixExpression(SimpleName:resType)(INFIX_EXPRESSION_OPERATOR:==)(SimpleName:SUBTITLE_FILE))(Block(ExpressionStatement(Assignment(SimpleName:remotePath)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:rs))(SimpleName:getSubtitleFileAddress)(METHOD_INVOCATION_ARGUMENTS(SimpleName:fileIndex)))))(ExpressionStatement(Assignment(SimpleName:orgPath)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:FileSysManager))(SimpleName:getLocalSubtitleFile)(METHOD_INVOCATION_ARGUMENTS(SimpleName:fileIndex)))))(ExpressionStatement(Assignment(SimpleName:outputPath)(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(SimpleType(SimpleName:File))(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:orgPath))(SimpleName:getParent))(INFIX_EXPRESSION_OPERATOR:+)(QualifiedName:File.separator)(MethodInvocation(SimpleName:getString)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:R.string.DL_TMP_PREFIX)))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:orgPath))(SimpleName:getName)))))))(IfStatement(InfixExpression(SimpleName:resType)(INFIX_EXPRESSION_OPERATOR:==)(SimpleName:THEORY_FILE))(Block(ExpressionStatement(Assignment(SimpleName:remotePath)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:rs))(SimpleName:getTheoryFileAddress)(METHOD_INVOCATION_ARGUMENTS(SimpleName:fileIndex)))))(ExpressionStatement(Assignment(SimpleName:orgPath)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:FileSysManager))(SimpleName:getLocalTheoryFile)(METHOD_INVOCATION_ARGUMENTS(SimpleName:fileIndex)))))(ExpressionStatement(Assignment(SimpleName:outputPath)(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(SimpleType(SimpleName:File))(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:orgPath))(SimpleName:getParent))(INFIX_EXPRESSION_OPERATOR:+)(QualifiedName:File.separator)(MethodInvocation(SimpleName:getString)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:R.string.DL_TMP_PREFIX)))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:orgPath))(SimpleName:getName))))))))))(ExpressionStatement(Assignment(ArrayAccess(SimpleName:crt)(SimpleName:i))(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(SimpleType(SimpleName:CheckRemoteThread))(SimpleName:remotePath)(SimpleName:lockKey)(SimpleName:i)(ParenthesizedExpression(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:i)))(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(SimpleName:getResources)))(SimpleName:getInteger)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:R.integer.DL_WAIT_TIME))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Log))(SimpleName:d)(METHOD_INVOCATION_ARGUMENTS(SimpleName:logTag)(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Thread))(SimpleName:currentThread)))(SimpleName:getName))(INFIX_EXPRESSION_OPERATOR:+)(StringLiteral:<STR>)(ParenthesizedExpression(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:i)))(StringLiteral:<STR>)(ArrayAccess(SimpleName:resTypeMsg)(SimpleName:resType))(StringLiteral:<STR>)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:rs))(SimpleName:getName))(StringLiteral:<STR>)(SimpleName:remotePath)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(ArrayAccess(SimpleName:crt)(SimpleName:i)))(SimpleName:start)))))(IfStatement(InfixExpression(SimpleName:fileIndex)(INFIX_EXPRESSION_OPERATOR:!=)(SimpleName:downloadingIndex))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Log))(SimpleName:d)(METHOD_INVOCATION_ARGUMENTS(SimpleName:logTag)(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Thread))(SimpleName:currentThread)))(SimpleName:getName))(INFIX_EXPRESSION_OPERATOR:+)(StringLiteral:<STR>)))))(ReturnStatement)))(TryStatement(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Log))(SimpleName:d)(METHOD_INVOCATION_ARGUMENTS(SimpleName:logTag)(StringLiteral:<STR>))))(ForStatement(VariableDeclarationExpression(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:i)(NumberLiteral:0)))(InfixExpression(SimpleName:i)(INFIX_EXPRESSION_OPERATOR:<)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:remoteResources))(SimpleName:size)))(PostfixExpression(SimpleName:i)(POSTFIX_EXPRESSION_OPERATOR:++))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Log))(SimpleName:d)(METHOD_INVOCATION_ARGUMENTS(SimpleName:logTag)(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Thread))(SimpleName:currentThread)))(SimpleName:getName))(INFIX_EXPRESSION_OPERATOR:+)(StringLiteral:<STR>)(SimpleName:i)))))(SynchronizedStatement(SimpleName:lockKey)(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:lockKey))(SimpleName:wait)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(SimpleName:getResources)))(SimpleName:getInteger)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:R.integer.DL_WAIT_TIME))))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Log))(SimpleName:d)(METHOD_INVOCATION_ARGUMENTS(SimpleName:logTag)(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:System))(SimpleName:currentTimeMillis))))))(IfStatement(InfixExpression(SimpleName:fileIndex)(INFIX_EXPRESSION_OPERATOR:!=)(SimpleName:downloadingIndex))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Log))(SimpleName:d)(METHOD_INVOCATION_ARGUMENTS(SimpleName:logTag)(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Thread))(SimpleName:currentThread)))(SimpleName:getName))(INFIX_EXPRESSION_OPERATOR:+)(StringLiteral:<STR>)))))(ReturnStatement)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Log))(SimpleName:d)(METHOD_INVOCATION_ARGUMENTS(SimpleName:logTag)(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Thread))(SimpleName:currentThread)))(SimpleName:getName))(INFIX_EXPRESSION_OPERATOR:+)(StringLiteral:<STR>)))))(EnhancedForStatement(SingleVariableDeclaration(SimpleType(SimpleName:CheckRemoteThread))(SimpleName:t))(SimpleName:crt)(Block(IfStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:t))(SimpleName:getResponseCode))(INFIX_EXPRESSION_OPERATOR:==)(NumberLiteral:200))(Block(ExpressionStatement(Assignment(SimpleName:is)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:t))(SimpleName:getInputStream))))(ExpressionStatement(Assignment(SimpleName:targetSite)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:t))(SimpleName:getFromSite))))(ExpressionStatement(Assignment(SimpleName:contentLength)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:t))(SimpleName:getContentLength))))(BreakStatement)))(IfStatement(InfixExpression(SimpleName:is)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(BreakStatement)))))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:InterruptedException))(SimpleName:e))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:e))(SimpleName:printStackTrace)))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:IllegalStateException))(SimpleName:e))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:e))(SimpleName:printStackTrace)))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:IOException))(SimpleName:e))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:e))(SimpleName:printStackTrace))))))(IfStatement(InfixExpression(SimpleName:fileIndex)(INFIX_EXPRESSION_OPERATOR:!=)(SimpleName:downloadingIndex))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Log))(SimpleName:d)(METHOD_INVOCATION_ARGUMENTS(SimpleName:logTag)(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Thread))(SimpleName:currentThread)))(SimpleName:getName))(INFIX_EXPRESSION_OPERATOR:+)(StringLiteral:<STR>)))))(ReturnStatement)))(IfStatement(InfixExpression(SimpleName:is)(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Log))(SimpleName:d)(METHOD_INVOCATION_ARGUMENTS(SimpleName:logTag)(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Thread))(SimpleName:currentThread)))(SimpleName:getName))(INFIX_EXPRESSION_OPERATOR:+)(StringLiteral:<STR>)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:listener))(SimpleName:downloadFail)(METHOD_INVOCATION_ARGUMENTS(SimpleName:fileIndex)(SimpleName:resType))))(ReturnStatement)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Log))(SimpleName:d)(METHOD_INVOCATION_ARGUMENTS(SimpleName:logTag)(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Thread))(SimpleName:currentThread)))(SimpleName:getName))(INFIX_EXPRESSION_OPERATOR:+)(StringLiteral:<STR>)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:remoteResources))(SimpleName:get)(METHOD_INVOCATION_ARGUMENTS(SimpleName:targetSite))))(SimpleName:getName))(StringLiteral:<STR>)(SimpleName:contentLength)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Log))(SimpleName:d)(METHOD_INVOCATION_ARGUMENTS(SimpleName:logTag)(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Thread))(SimpleName:currentThread)))(SimpleName:getName))(INFIX_EXPRESSION_OPERATOR:+)(StringLiteral:<STR>)))))(VariableDeclarationStatement(PrimitiveType:long)(VariableDeclarationFragment(SimpleName:startTime)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:System))(SimpleName:currentTimeMillis))))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:readLen)(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:-)(NumberLiteral:1))))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:counter)(NumberLiteral:0)))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:bufLen)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(SimpleName:getResources)))(SimpleName:getInteger)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:R.integer.downloadBufferSize)))))(VariableDeclarationStatement(SimpleType(SimpleName:Checksum))(VariableDeclarationFragment(SimpleName:checksum)(ClassInstanceCreation(SimpleType(SimpleName:CRC32)))))(VariableDeclarationStatement(SimpleType(SimpleName:FileOutputStream))(VariableDeclarationFragment(SimpleName:fos)(NullLiteral)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:listener))(SimpleName:setMaxProgress)(METHOD_INVOCATION_ARGUMENTS(SimpleName:contentLength))))(TryStatement(Block(ExpressionStatement(Assignment(SimpleName:fos)(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(SimpleType(SimpleName:FileOutputStream))(SimpleName:outputPath)))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:FileNotFoundException))(SimpleName:e1))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:e1))(SimpleName:printStackTrace))))))(TryStatement(Block(VariableDeclarationStatement(ArrayType(PrimitiveType:byte)(Dimension))(VariableDeclarationFragment(SimpleName:buf)(ArrayCreation(ArrayType(PrimitiveType:byte)(Dimension(SimpleName:bufLen))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Log))(SimpleName:d)(METHOD_INVOCATION_ARGUMENTS(SimpleName:logTag)(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Thread))(SimpleName:currentThread)))(SimpleName:getName))(INFIX_EXPRESSION_OPERATOR:+)(StringLiteral:<STR>)(ParenthesizedExpression(ConditionalExpression(ParenthesizedExpression(InfixExpression(SimpleName:is)(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral)))(StringLiteral:<STR>)(StringLiteral:<STR>)))(StringLiteral:<STR>)(ParenthesizedExpression(ConditionalExpression(ParenthesizedExpression(InfixExpression(SimpleName:buf)(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral)))(StringLiteral:<STR>)(StringLiteral:<STR>)))))))(WhileStatement(InfixExpression(ParenthesizedExpression(Assignment(SimpleName:readLen)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:is))(SimpleName:read)(METHOD_INVOCATION_ARGUMENTS(SimpleName:buf)))))(INFIX_EXPRESSION_OPERATOR:!=)(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:-)(NumberLiteral:1)))(Block(IfStatement(InfixExpression(SimpleName:fileIndex)(INFIX_EXPRESSION_OPERATOR:!=)(SimpleName:downloadingIndex))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Log))(SimpleName:d)(METHOD_INVOCATION_ARGUMENTS(SimpleName:logTag)(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Thread))(SimpleName:currentThread)))(SimpleName:getName))(INFIX_EXPRESSION_OPERATOR:+)(StringLiteral:<STR>)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:is))(SimpleName:close)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fos))(SimpleName:close)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Log))(SimpleName:d)(METHOD_INVOCATION_ARGUMENTS(SimpleName:logTag)(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Thread))(SimpleName:currentThread)))(SimpleName:getName))(INFIX_EXPRESSION_OPERATOR:+)(StringLiteral:<STR>)))))(ReturnStatement)))(ExpressionStatement(Assignment(SimpleName:counter)(ASSIGNMENT_OPERATOR:+=)(SimpleName:readLen)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fos))(SimpleName:write)(METHOD_INVOCATION_ARGUMENTS(SimpleName:buf)(NumberLiteral:0)(SimpleName:readLen))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:checksum))(SimpleName:update)(METHOD_INVOCATION_ARGUMENTS(SimpleName:buf)(NumberLiteral:0)(SimpleName:readLen))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:listener))(SimpleName:setDownloadProgress)(METHOD_INVOCATION_ARGUMENTS(SimpleName:counter))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:is))(SimpleName:close)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fos))(SimpleName:flush)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fos))(SimpleName:close))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:IOException))(SimpleName:e))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:e))(SimpleName:printStackTrace)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Log))(SimpleName:d)(METHOD_INVOCATION_ARGUMENTS(SimpleName:logTag)(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Thread))(SimpleName:currentThread)))(SimpleName:getName))(INFIX_EXPRESSION_OPERATOR:+)(StringLiteral:<STR>)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:listener))(SimpleName:downloadFail)(METHOD_INVOCATION_ARGUMENTS(SimpleName:fileIndex)(SimpleName:resType))))(ReturnStatement))))(IfStatement(InfixExpression(SimpleName:fileIndex)(INFIX_EXPRESSION_OPERATOR:!=)(SimpleName:downloadingIndex))(ReturnStatement))(IfStatement(InfixExpression(SimpleName:MEDIA_FILE)(INFIX_EXPRESSION_OPERATOR:==)(SimpleName:resType))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Log))(SimpleName:d)(METHOD_INVOCATION_ARGUMENTS(SimpleName:logTag)(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Thread))(SimpleName:currentThread)))(SimpleName:getName))(INFIX_EXPRESSION_OPERATOR:+)(StringLiteral:<STR>)))))(VariableDeclarationStatement(PrimitiveType:long)(VariableDeclarationFragment(SimpleName:sum)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:checksum))(SimpleName:getValue))))(VariableDeclarationStatement(PrimitiveType:boolean)(VariableDeclarationFragment(SimpleName:isCorrect)(ParenthesizedExpression(InfixExpression(ArrayAccess(QualifiedName:FileSysManager.mp3FileCRC32)(SimpleName:fileIndex))(INFIX_EXPRESSION_OPERATOR:==)(SimpleName:sum)))))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:spend)(CastExpression(PrimitiveType:int)(ParenthesizedExpression(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:System))(SimpleName:currentTimeMillis))(INFIX_EXPRESSION_OPERATOR:-)(SimpleName:startTime))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Log))(SimpleName:d)(METHOD_INVOCATION_ARGUMENTS(SimpleName:logTag)(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Thread))(SimpleName:currentThread)))(SimpleName:getName))(INFIX_EXPRESSION_OPERATOR:+)(StringLiteral:<STR>)(SimpleName:fileIndex)(StringLiteral:<STR>)(SimpleName:counter)(StringLiteral:<STR>)(ParenthesizedExpression(ConditionalExpression(ParenthesizedExpression(SimpleName:isCorrect))(StringLiteral:<STR>)(InfixExpression(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(StringLiteral:<STR>))(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:sum)(StringLiteral:<STR>)(ArrayAccess(QualifiedName:FileSysManager.mp3FileCRC32)(SimpleName:fileIndex)))))(StringLiteral:<STR>)(SimpleName:spend)(StringLiteral:<STR>)))))(IfStatement(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(SimpleName:isCorrect))(Block(IfStatement(InfixExpression(SimpleName:fileIndex)(INFIX_EXPRESSION_OPERATOR:!=)(SimpleName:downloadingIndex))(ReturnStatement))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:listener))(SimpleName:downloadFail)(METHOD_INVOCATION_ARGUMENTS(SimpleName:fileIndex)(SimpleName:resType))))(ReturnStatement)))))(IfStatement(InfixExpression(SimpleName:fileIndex)(INFIX_EXPRESSION_OPERATOR:!=)(SimpleName:downloadingIndex))(ReturnStatement))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:outputPath))(SimpleName:renameTo)(METHOD_INVOCATION_ARGUMENTS(SimpleName:orgPath))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:listener))(SimpleName:downloadFinish)(METHOD_INVOCATION_ARGUMENTS(SimpleName:fileIndex)(SimpleName:resType))))(ReturnStatement)))))