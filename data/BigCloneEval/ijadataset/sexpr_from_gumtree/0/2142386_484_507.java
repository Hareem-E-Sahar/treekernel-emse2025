(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:public)(SimpleType(SimpleName:FtpletResult))(SimpleName:handleStor)(SingleVariableDeclaration(SimpleType(SimpleName:Request))(SimpleName:request))(SingleVariableDeclaration(SimpleType(SimpleName:Entry))(SimpleName:group))(SingleVariableDeclaration(SimpleType(SimpleName:FtpSession))(SimpleName:session))(SingleVariableDeclaration(SimpleType(SimpleName:FtpRequest))(SimpleName:ftpRequest))(SimpleType(SimpleName:Exception))(Block(IfStatement(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(SimpleName:getRepository)))(SimpleName:getAccessManager)))(SimpleName:canDoAction)(METHOD_INVOCATION_ARGUMENTS(SimpleName:request)(SimpleName:group)(QualifiedName:Permission.ACTION_NEW))))(Block(ReturnStatement(MethodInvocation(SimpleName:handleError)(METHOD_INVOCATION_ARGUMENTS(SimpleName:session)(SimpleName:ftpRequest)(QualifiedName:FtpReply.REPLY_450_REQUESTED_FILE_ACTION_NOT_TAKEN)(StringLiteral:<STR>))))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:name)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ftpRequest))(SimpleName:getArgument))))(IfStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:name))(SimpleName:trim)))(SimpleName:length))(INFIX_EXPRESSION_OPERATOR:==)(NumberLiteral:0))(Block(ReturnStatement(MethodInvocation(SimpleName:handleError)(METHOD_INVOCATION_ARGUMENTS(SimpleName:session)(SimpleName:ftpRequest)(StringLiteral:<STR>))))))(VariableDeclarationStatement(SimpleType(SimpleName:File))(VariableDeclarationFragment(SimpleName:newFile)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(SimpleName:getRepository)))(SimpleName:getStorageManager)))(SimpleName:getTmpFile)(METHOD_INVOCATION_ARGUMENTS(SimpleName:request)(SimpleName:name)))))(VariableDeclarationStatement(SimpleType(SimpleName:FileOutputStream))(VariableDeclarationFragment(SimpleName:fos)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(SimpleName:getRepository)))(SimpleName:getStorageManager)))(SimpleName:getFileOutputStream)(METHOD_INVOCATION_ARGUMENTS(SimpleName:newFile)))))(TryStatement(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(QualifiedName:System.err))(SimpleName:println)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:session))(SimpleName:getDataConnection)))(SimpleName:openConnection)))(SimpleName:transferFromClient)(METHOD_INVOCATION_ARGUMENTS(SimpleName:session)(SimpleName:fos))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(QualifiedName:System.err))(SimpleName:println)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:IOUtil))(SimpleName:close)(METHOD_INVOCATION_ARGUMENTS(SimpleName:fos))))))(ExpressionStatement(Assignment(SimpleName:newFile)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(SimpleName:getRepository)))(SimpleName:getStorageManager)))(SimpleName:moveToStorage)(METHOD_INVOCATION_ARGUMENTS(SimpleName:request)(SimpleName:newFile)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(QualifiedName:System.err))(SimpleName:println)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))(VariableDeclarationStatement(SimpleType(SimpleName:Entry))(VariableDeclarationFragment(SimpleName:entry)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(SimpleName:getEntryManager)))(SimpleName:addFileEntry)(METHOD_INVOCATION_ARGUMENTS(SimpleName:request)(SimpleName:newFile)(SimpleName:group)(SimpleName:name)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:request))(SimpleName:getUser))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(QualifiedName:System.err))(SimpleName:println)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:session))(SimpleName:write)(METHOD_INVOCATION_ARGUMENTS(ClassInstanceCreation(SimpleType(SimpleName:DefaultFtpReply))(QualifiedName:FtpReply.REPLY_257_PATHNAME_CREATED)(StringLiteral:<STR>)))))(ReturnStatement(QualifiedName:FtpletResult.SKIP))))))