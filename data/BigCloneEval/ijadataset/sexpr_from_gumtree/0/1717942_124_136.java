(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:public)(SimpleType(SimpleName:FeedAppender))(SimpleName:appendAllItemsAt)(SingleVariableDeclaration(PrimitiveType:int)(SimpleName:index))(SingleVariableDeclaration(ParameterizedType(SimpleType(SimpleName:List))(SimpleType(SimpleName:ItemEntry)))(SimpleName:items))(SimpleType(SimpleName:YarfrawException))(Block(VariableDeclarationStatement(SimpleType(SimpleName:ChannelFeed))(VariableDeclarationFragment(SimpleName:ch)(MethodInvocation(SimpleName:readChannel))))(VariableDeclarationStatement(ParameterizedType(SimpleType(SimpleName:List))(SimpleType(SimpleName:ItemEntry)))(VariableDeclarationFragment(SimpleName:old)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ch))(SimpleName:getItems))))(IfStatement(InfixExpression(SimpleName:old)(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(Block(ExpressionStatement(Assignment(SimpleName:old)(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(ParameterizedType(SimpleType(SimpleName:ArrayList))(SimpleType(SimpleName:ItemEntry))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ch))(SimpleName:setItems)(METHOD_INVOCATION_ARGUMENTS(SimpleName:old))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:old))(SimpleName:addAll)(METHOD_INVOCATION_ARGUMENTS(SimpleName:index)(SimpleName:items))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ch))(SimpleName:setItems)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(SimpleName:trimItemsList)(METHOD_INVOCATION_ARGUMENTS(SimpleName:old))))))(ExpressionStatement(Assignment(SimpleName:_writer)(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(SimpleType(SimpleName:FeedWriter))(QualifiedName:_reader._file))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:_writer))(SimpleName:writeChannel)(METHOD_INVOCATION_ARGUMENTS(SimpleName:ch))))(ReturnStatement(ThisExpression))))))