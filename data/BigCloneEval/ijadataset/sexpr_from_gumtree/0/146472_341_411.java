(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:public)(PrimitiveType:void)(SimpleName:newStudyFiles)(Block(VariableDeclarationStatement(SimpleType(SimpleName:Preferences))(VariableDeclarationFragment(SimpleName:prefs)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Preferences))(SimpleName:userNodeForPackage)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(SimpleName:getClass))))))(VariableDeclarationStatement(SimpleType(SimpleName:JFileChooser))(VariableDeclarationFragment(SimpleName:jNewStudyChooser)(ClassInstanceCreation(SimpleType(SimpleName:JFileChooser)))))(VariableDeclarationStatement(SimpleType(SimpleName:File))(VariableDeclarationFragment(SimpleName:dirFile))(VariableDeclarationFragment(SimpleName:newStudyFile)))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:projectPath)(NullLiteral)))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:projectName)(NullLiteral)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:jNewStudyChooser))(SimpleName:addChoosableFileFilter)(METHOD_INVOCATION_ARGUMENTS(SimpleName:studyFilter))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:jNewStudyChooser))(SimpleName:setDialogTitle)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))(IfStatement(InfixExpression(MethodInvocation(SimpleName:getStudyFile))(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:jNewStudyChooser))(SimpleName:setCurrentDirectory)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(SimpleName:getStudyFile)))(SimpleName:getParentFile))))))(Block(VariableDeclarationStatement(SimpleType(SimpleName:File))(VariableDeclarationFragment(SimpleName:directory)(ClassInstanceCreation(SimpleType(SimpleName:File))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:prefs))(SimpleName:get)(METHOD_INVOCATION_ARGUMENTS(SimpleName:FILE_PREF)(StringLiteral:<STR>))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:jNewStudyChooser))(SimpleName:setCurrentDirectory)(METHOD_INVOCATION_ARGUMENTS(SimpleName:directory))))))(TryStatement(Block(IfStatement(InfixExpression(QualifiedName:JFileChooser.APPROVE_OPTION)(INFIX_EXPRESSION_OPERATOR:==)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:jNewStudyChooser))(SimpleName:showSaveDialog)(METHOD_INVOCATION_ARGUMENTS(SimpleName:parent))))(Block(ExpressionStatement(Assignment(SimpleName:projectPath)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:jNewStudyChooser))(SimpleName:getSelectedFile)))(SimpleName:getParent))))(ExpressionStatement(Assignment(SimpleName:projectName)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:jNewStudyChooser))(SimpleName:getSelectedFile)))(SimpleName:getName))))(IfStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:projectName))(SimpleName:indexOf)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))(INFIX_EXPRESSION_OPERATOR:!=)(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:-)(NumberLiteral:1)))(Block(ExpressionStatement(Assignment(SimpleName:projectName)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:projectName))(SimpleName:substring)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:0)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:projectName))(SimpleName:indexOf)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))))))))(TryStatement(Block(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:folder)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:projectPath))(SimpleName:substring)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:projectPath))(SimpleName:lastIndexOf)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:File.separator)))(INFIX_EXPRESSION_OPERATOR:+)(NumberLiteral:1))))))(IfStatement(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:folder))(SimpleName:equals)(METHOD_INVOCATION_ARGUMENTS(SimpleName:projectName))))(Block(ExpressionStatement(Assignment(SimpleName:dirFile)(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(SimpleType(SimpleName:File))(SimpleName:projectPath)(SimpleName:projectName))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:dirFile))(SimpleName:mkdir)))(ExpressionStatement(Assignment(SimpleName:projectPath)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:dirFile))(SimpleName:getPath)))))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:SecurityException))(SimpleName:e))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:JOptionPane))(SimpleName:showMessageDialog)(METHOD_INVOCATION_ARGUMENTS(SimpleName:parent)(StringLiteral:<STR>)(StringLiteral:<STR>)(QualifiedName:JOptionPane.ERROR_MESSAGE))))(ThrowStatement(ClassInstanceCreation(SimpleType(SimpleName:IOException))(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:projectPath)))))))(TryStatement(Block(ExpressionStatement(Assignment(SimpleName:newStudyFile)(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(SimpleType(SimpleName:File))(SimpleName:projectPath)(SimpleName:projectName))))(ExpressionStatement(Assignment(SimpleName:newStudyFile)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(ParenthesizedExpression(CastExpression(SimpleType(SimpleName:ExtensionFileFilter))(SimpleName:studyFilter))))(SimpleName:getCorrectFileName)(METHOD_INVOCATION_ARGUMENTS(SimpleName:newStudyFile)))))(IfStatement(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:newStudyFile))(SimpleName:createNewFile)))(Block(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:confirm)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:JOptionPane))(SimpleName:showConfirmDialog)(METHOD_INVOCATION_ARGUMENTS(SimpleName:parent)(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(StringLiteral:<STR>))(StringLiteral:<STR>)(QualifiedName:JOptionPane.OK_CANCEL_OPTION)))))(IfStatement(InfixExpression(SimpleName:confirm)(INFIX_EXPRESSION_OPERATOR:!=)(QualifiedName:JOptionPane.OK_OPTION))(Block(ThrowStatement(ClassInstanceCreation(SimpleType(SimpleName:IOException))(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:newStudyFile))(SimpleName:getName))))))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:newStudyFile))(SimpleName:delete)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:newStudyFile))(SimpleName:createNewFile)))))))(VariableDeclarationStatement(SimpleType(SimpleName:Throwable))(VariableDeclarationFragment(SimpleName:t)(ClassInstanceCreation(SimpleType(SimpleName:Throwable)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:t))(SimpleName:setStackTrace)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Thread))(SimpleName:currentThread)))(SimpleName:getStackTrace)))))(VariableDeclarationStatement(SimpleType(SimpleName:Study))(VariableDeclarationFragment(SimpleName:study)(ClassInstanceCreation(SimpleType(SimpleName:Study)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:study))(SimpleName:setStudyId)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:System))(SimpleName:currentTimeMillis)))))(ExpressionStatement(MethodInvocation(SimpleName:setCurrentStudy)(METHOD_INVOCATION_ARGUMENTS(SimpleName:newStudyFile)(SimpleName:study))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(SimpleName:getStudy)))(SimpleName:setStudyName)(METHOD_INVOCATION_ARGUMENTS(SimpleName:projectName))))(VariableDeclarationStatement(SimpleType(SimpleName:StudyWriter))(VariableDeclarationFragment(SimpleName:sw)(ClassInstanceCreation(SimpleType(SimpleName:StudyWriter))(SimpleName:newStudyFile))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:sw))(SimpleName:setStudy)(METHOD_INVOCATION_ARGUMENTS(SimpleName:study))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:prefs))(SimpleName:put)(METHOD_INVOCATION_ARGUMENTS(SimpleName:FILE_PREF)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:newStudyFile))(SimpleName:getParent))))))(CatchClause(SingleVariableDeclaration(SimpleType(QualifiedName:java.io.IOException))(SimpleName:e))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:JOptionPane))(SimpleName:showMessageDialog)(METHOD_INVOCATION_ARGUMENTS(SimpleName:parent)(StringLiteral:<STR>)(StringLiteral:<STR>)(QualifiedName:JOptionPane.ERROR_MESSAGE))))(ThrowStatement(ClassInstanceCreation(SimpleType(SimpleName:IOException))(SimpleName:e))))))(TryStatement(Block(ExpressionStatement(Assignment(SimpleName:dirFile)(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(SimpleType(SimpleName:File))(SimpleName:projectPath)(StringLiteral:<STR>))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:dirFile))(SimpleName:mkdir)))(ExpressionStatement(Assignment(SimpleName:dirFile)(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(SimpleType(SimpleName:File))(SimpleName:projectPath)(StringLiteral:<STR>))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:dirFile))(SimpleName:mkdir))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:SecurityException))(SimpleName:e))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:JOptionPane))(SimpleName:showMessageDialog)(METHOD_INVOCATION_ARGUMENTS(SimpleName:parent)(StringLiteral:<STR>)(StringLiteral:<STR>)(QualifiedName:JOptionPane.ERROR_MESSAGE))))(ThrowStatement(ClassInstanceCreation(SimpleType(SimpleName:IOException))(SimpleName:e)))))))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:IOException))(SimpleName:e))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:JOptionPane))(SimpleName:showMessageDialog)(METHOD_INVOCATION_ARGUMENTS(SimpleName:parent)(StringLiteral:<STR>)))))))))))