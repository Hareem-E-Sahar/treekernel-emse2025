(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:public)(PrimitiveType:void)(SimpleName:handle)(SingleVariableDeclaration(SimpleType(SimpleName:NetworkManager))(SimpleName:man))(SingleVariableDeclaration(SimpleType(SimpleName:DatagramSession))(SimpleName:server))(SingleVariableDeclaration(SimpleType(SimpleName:Packet))(SimpleName:packet))(SimpleType(SimpleName:Exception))(Block(IfStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(SimpleName:getStore)))(SimpleName:getChannel))(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(ReturnStatement))(VariableDeclarationStatement(SimpleType(SimpleName:EChnlRsp))(VariableDeclarationFragment(SimpleName:f)(ClassInstanceCreation(SimpleType(SimpleName:EChnlRsp)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:f))(SimpleName:deserialize)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:packet))(SimpleName:getBuf))(QualifiedName:Protocol.RUDP_CURSOR))))(VariableDeclarationStatement(SimpleType(SimpleName:ChannelBean))(VariableDeclarationFragment(SimpleName:cbean)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:f))(SimpleName:getChannelBean))))(IfStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:f))(SimpleName:getStatusCode))(INFIX_EXPRESSION_OPERATOR:==)(QualifiedName:StatusCode.OK))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(SimpleName:getStore)))(SimpleName:setChannel)(METHOD_INVOCATION_ARGUMENTS(SimpleName:cbean)))))(VariableDeclarationStatement(ArrayType(SimpleType(SimpleName:ChannelBean))(Dimension))(VariableDeclarationFragment(SimpleName:array)(ArrayCreation(ArrayType(SimpleType(SimpleName:ChannelBean))(Dimension))(ArrayInitializer(SimpleName:cbean)))))(VariableDeclarationStatement(SimpleType(SimpleName:ChannelEvent))(VariableDeclarationFragment(SimpleName:e)(ClassInstanceCreation(SimpleType(SimpleName:ChannelEvent))(ThisExpression)(SimpleName:array)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:f))(SimpleName:getStatusCode)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:man))(SimpleName:fireOnEnteredChannel)(METHOD_INVOCATION_ARGUMENTS(SimpleName:e))))(VariableDeclarationStatement(ArrayType(SimpleType(SimpleName:PeerBean))(Dimension))(VariableDeclarationFragment(SimpleName:pbeans)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:f))(SimpleName:getPeerBeans))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:man))(SimpleName:fireOnFoundPeers)(METHOD_INVOCATION_ARGUMENTS(ClassInstanceCreation(SimpleType(SimpleName:PeerEvent))(ThisExpression)(SimpleName:pbeans)))))(IfStatement(InfixExpression(SimpleName:pbeans)(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(ReturnStatement))(EnhancedForStatement(SingleVariableDeclaration(SimpleType(SimpleName:PeerBean))(SimpleName:pbean))(SimpleName:pbeans)(Block(VariableDeclarationStatement(SimpleType(SimpleName:Speaker))(VariableDeclarationFragment(SimpleName:speaker)(ClassInstanceCreation(SimpleType(SimpleName:Speaker)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:pbean))(SimpleName:setData)(METHOD_INVOCATION_ARGUMENTS(SimpleName:speaker))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:pbean))(SimpleName:fireOnTalkingChanged)(METHOD_INVOCATION_ARGUMENTS(ClassInstanceCreation(SimpleType(QualifiedName:com.peterhi.beans.PeerEvent))(ThisExpression)))))(IfStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:pbean))(SimpleName:getTalkState))(INFIX_EXPRESSION_OPERATOR:==)(QualifiedName:TalkState.On))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:speaker))(SimpleName:start))))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:id)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(SimpleName:getStore)))(SimpleName:getID))))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:tid)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:pbean))(SimpleName:getID))))(VariableDeclarationStatement(SimpleType(SimpleName:DatagramSession))(VariableDeclarationFragment(SimpleName:ses)(ClassInstanceCreation(SimpleType(SimpleName:DatagramSession))(SimpleName:man)(BooleanLiteral:false))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ses))(SimpleName:setTsa)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:server))(SimpleName:getRemoteSocketAddress)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ses))(SimpleName:start)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:man))(SimpleName:putPeerSession)(METHOD_INVOCATION_ARGUMENTS(SimpleName:tid)(SimpleName:ses))))(VariableDeclarationStatement(SimpleType(SimpleName:ISesMsg))(VariableDeclarationFragment(SimpleName:m)(ClassInstanceCreation(SimpleType(SimpleName:ISesMsg)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:m))(SimpleName:setClientHashCode)(METHOD_INVOCATION_ARGUMENTS(SimpleName:id))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:m))(SimpleName:setTargetClientHashCode)(METHOD_INVOCATION_ARGUMENTS(SimpleName:tid))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:man))(SimpleName:udpPost)(METHOD_INVOCATION_ARGUMENTS(SimpleName:tid)(SimpleName:m))))))))))