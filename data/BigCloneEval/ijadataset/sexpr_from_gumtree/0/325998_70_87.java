(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(MarkerAnnotation(SimpleName:Override))(Modifier:public)(PrimitiveType:int)(SimpleName:executeBulkOperation)(SingleVariableDeclaration(SimpleType(SimpleName:String))(SimpleName:bulkQuery))(SingleVariableDeclaration(ArrayType(SimpleType(SimpleName:Object))(Dimension))(SimpleName:parameters))(SimpleType(SimpleName:GenericPersistenceException))(Block(VariableDeclarationStatement(SimpleType(SimpleName:EntityManager))(VariableDeclarationFragment(SimpleName:em)(NullLiteral)))(TryStatement(Block(ExpressionStatement(Assignment(SimpleName:em)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:EMFactory))(SimpleName:getEntityManagerFactory)(METHOD_INVOCATION_ARGUMENTS(FieldAccess(ThisExpression)(SimpleName:puName)))))(SimpleName:createEntityManager))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:em))(SimpleName:getTransaction)))(SimpleName:begin)))(VariableDeclarationStatement(SimpleType(SimpleName:Query))(VariableDeclarationFragment(SimpleName:query)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:em))(SimpleName:createQuery)(METHOD_INVOCATION_ARGUMENTS(SimpleName:bulkQuery)))))(IfStatement(InfixExpression(SimpleName:parameters)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(ForStatement(VariableDeclarationExpression(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:count)(NumberLiteral:0)))(InfixExpression(SimpleName:count)(INFIX_EXPRESSION_OPERATOR:<)(QualifiedName:parameters.length))(PostfixExpression(SimpleName:count)(POSTFIX_EXPRESSION_OPERATOR:++))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:query))(SimpleName:setParameter)(METHOD_INVOCATION_ARGUMENTS(ParenthesizedExpression(InfixExpression(SimpleName:count)(INFIX_EXPRESSION_OPERATOR:+)(NumberLiteral:1)))(ArrayAccess(SimpleName:parameters)(SimpleName:count)))))))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:rows)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:query))(SimpleName:executeUpdate))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:em))(SimpleName:getTransaction)))(SimpleName:commit)))(ReturnStatement(SimpleName:rows)))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:Exception))(SimpleName:ex))(Block(IfStatement(InfixExpression(SimpleName:em)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:em))(SimpleName:getTransaction)))(SimpleName:isActive))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:em))(SimpleName:getTransaction)))(SimpleName:rollback)))))(ThrowStatement(CastExpression(SimpleType(SimpleName:GenericPersistenceException))(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(ThisExpression))(SimpleName:createGenericPersistenceException)(METHOD_INVOCATION_ARGUMENTS(SimpleName:ex))))(SimpleName:initCause)(METHOD_INVOCATION_ARGUMENTS(SimpleName:ex)))))))(Block(IfStatement(InfixExpression(SimpleName:em)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:em))(SimpleName:close))))))))))