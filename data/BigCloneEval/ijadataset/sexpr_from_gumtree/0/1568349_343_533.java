(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:protected)(PrimitiveType:void)(SimpleName:initSipStack)(SimpleType(SimpleName:LifecycleException))(Block(TryStatement(Block(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:logger))(SimpleName:isDebugEnabled))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:logger))(SimpleName:debug)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))))(ExpressionStatement(MethodInvocation(SimpleName:initializeSystemPortProperties)))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:catalinaBase)(MethodInvocation(SimpleName:getCatalinaBase))))(IfStatement(InfixExpression(InfixExpression(SimpleName:sipStackPropertiesFileLocation)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(INFIX_EXPRESSION_OPERATOR:&&)(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:sipStackPropertiesFileLocation))(SimpleName:startsWith)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))))(Block(ExpressionStatement(Assignment(SimpleName:sipStackPropertiesFileLocation)(ASSIGNMENT_OPERATOR:=)(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:catalinaBase))(SimpleName:replace)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:File.separatorChar)(CharacterLiteral:<STR>)))(StringLiteral:<STR>)(SimpleName:sipStackPropertiesFileLocation))))))(VariableDeclarationStatement(PrimitiveType:boolean)(VariableDeclarationFragment(SimpleName:isPropsLoaded)(BooleanLiteral:false)))(IfStatement(InfixExpression(SimpleName:sipStackProperties)(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(Block(ExpressionStatement(Assignment(SimpleName:sipStackProperties)(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(SimpleType(SimpleName:Properties))))))(Block(ExpressionStatement(Assignment(SimpleName:isPropsLoaded)(ASSIGNMENT_OPERATOR:=)(BooleanLiteral:true)))))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:logger))(SimpleName:isDebugEnabled))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:logger))(SimpleName:debug)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:sipStackPropertiesFileLocation)))))))(IfStatement(InfixExpression(SimpleName:sipStackPropertiesFileLocation)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(VariableDeclarationStatement(SimpleType(SimpleName:File))(VariableDeclarationFragment(SimpleName:sipStackPropertiesFile)(NullLiteral)))(VariableDeclarationStatement(SimpleType(SimpleName:URL))(VariableDeclarationFragment(SimpleName:url)(NullLiteral)))(TryStatement(Block(ExpressionStatement(Assignment(SimpleName:url)(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(SimpleType(SimpleName:URL))(SimpleName:sipStackPropertiesFileLocation)))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:MalformedURLException))(SimpleName:e))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:logger))(SimpleName:fatal)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(SimpleName:e))))(ThrowStatement(ClassInstanceCreation(SimpleType(SimpleName:IllegalArgumentException))(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:sipStackPropertiesFileLocation)(StringLiteral:<STR>))(SimpleName:e))))))(TryStatement(Block(ExpressionStatement(Assignment(SimpleName:sipStackPropertiesFile)(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(SimpleType(SimpleName:File))(ClassInstanceCreation(SimpleType(SimpleName:URI))(SimpleName:sipStackPropertiesFileLocation))))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:URISyntaxException))(SimpleName:e))(Block(ExpressionStatement(Assignment(SimpleName:sipStackPropertiesFile)(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(SimpleType(SimpleName:File))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:url))(SimpleName:getPath))))))))(VariableDeclarationStatement(SimpleType(SimpleName:FileInputStream))(VariableDeclarationFragment(SimpleName:sipStackPropertiesInputStream)(NullLiteral)))(TryStatement(Block(ExpressionStatement(Assignment(SimpleName:sipStackPropertiesInputStream)(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(SimpleType(SimpleName:FileInputStream))(SimpleName:sipStackPropertiesFile))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:sipStackProperties))(SimpleName:load)(METHOD_INVOCATION_ARGUMENTS(SimpleName:sipStackPropertiesInputStream)))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:Exception))(SimpleName:e))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:logger))(SimpleName:warn)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:sipStackPropertiesFileLocation))(SimpleName:e))))))(Block(IfStatement(InfixExpression(SimpleName:sipStackPropertiesInputStream)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(TryStatement(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:sipStackPropertiesInputStream))(SimpleName:close))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:IOException))(SimpleName:e))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:logger))(SimpleName:error)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:sipStackPropertiesFile))(SimpleName:getAbsolutePath)))(SimpleName:e)))))))))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:debugLog)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:sipStackProperties))(SimpleName:getProperty)(METHOD_INVOCATION_ARGUMENTS(SimpleName:DEBUG_LOG_STACK_PROP)))))(IfStatement(InfixExpression(InfixExpression(InfixExpression(SimpleName:debugLog)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(INFIX_EXPRESSION_OPERATOR:&&)(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:debugLog))(SimpleName:length))(INFIX_EXPRESSION_OPERATOR:>)(NumberLiteral:0)))(INFIX_EXPRESSION_OPERATOR:&&)(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:debugLog))(SimpleName:startsWith)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:sipStackProperties))(SimpleName:setProperty)(METHOD_INVOCATION_ARGUMENTS(SimpleName:DEBUG_LOG_STACK_PROP)(InfixExpression(SimpleName:catalinaBase)(INFIX_EXPRESSION_OPERATOR:+)(StringLiteral:<STR>)(SimpleName:debugLog)))))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:serverLog)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:sipStackProperties))(SimpleName:getProperty)(METHOD_INVOCATION_ARGUMENTS(SimpleName:SERVER_LOG_STACK_PROP)))))(IfStatement(InfixExpression(InfixExpression(InfixExpression(SimpleName:serverLog)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(INFIX_EXPRESSION_OPERATOR:&&)(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:serverLog))(SimpleName:length))(INFIX_EXPRESSION_OPERATOR:>)(NumberLiteral:0)))(INFIX_EXPRESSION_OPERATOR:&&)(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:serverLog))(SimpleName:startsWith)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:sipStackProperties))(SimpleName:setProperty)(METHOD_INVOCATION_ARGUMENTS(SimpleName:SERVER_LOG_STACK_PROP)(InfixExpression(SimpleName:catalinaBase)(INFIX_EXPRESSION_OPERATOR:+)(StringLiteral:<STR>)(SimpleName:serverLog)))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:sipStackProperties))(SimpleName:setProperty)(METHOD_INVOCATION_ARGUMENTS(SimpleName:AUTOMATIC_DIALOG_SUPPORT_STACK_PROP)(StringLiteral:<STR>))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:sipStackProperties))(SimpleName:setProperty)(METHOD_INVOCATION_ARGUMENTS(SimpleName:LOOSE_DIALOG_VALIDATION)(StringLiteral:<STR>))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:sipStackProperties))(SimpleName:setProperty)(METHOD_INVOCATION_ARGUMENTS(SimpleName:PASS_INVITE_NON_2XX_ACK_TO_LISTENER)(StringLiteral:<STR>))))(ExpressionStatement(Assignment(SimpleName:isPropsLoaded)(ASSIGNMENT_OPERATOR:=)(BooleanLiteral:true))))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:logger))(SimpleName:warn)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))))(IfStatement(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(SimpleName:isPropsLoaded))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:logger))(SimpleName:warn)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:sipStackProperties))(SimpleName:setProperty)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(StringLiteral:<STR>))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:sipStackProperties))(SimpleName:setProperty)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(StringLiteral:<STR>))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:sipStackProperties))(SimpleName:setProperty)(METHOD_INVOCATION_ARGUMENTS(SimpleName:DEBUG_LOG_STACK_PROP)(InfixExpression(SimpleName:catalinaBase)(INFIX_EXPRESSION_OPERATOR:+)(StringLiteral:<STR>)(StringLiteral:<STR>)(MethodInvocation(SimpleName:getName))(StringLiteral:<STR>)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:sipStackProperties))(SimpleName:setProperty)(METHOD_INVOCATION_ARGUMENTS(SimpleName:SERVER_LOG_STACK_PROP)(InfixExpression(SimpleName:catalinaBase)(INFIX_EXPRESSION_OPERATOR:+)(StringLiteral:<STR>)(StringLiteral:<STR>)(MethodInvocation(SimpleName:getName))(StringLiteral:<STR>)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:sipStackProperties))(SimpleName:setProperty)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(MethodInvocation(SimpleName:getName))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:sipStackProperties))(SimpleName:setProperty)(METHOD_INVOCATION_ARGUMENTS(SimpleName:AUTOMATIC_DIALOG_SUPPORT_STACK_PROP)(StringLiteral:<STR>))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:sipStackProperties))(SimpleName:setProperty)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(StringLiteral:<STR>))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:sipStackProperties))(SimpleName:setProperty)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(StringLiteral:<STR>))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:sipStackProperties))(SimpleName:setProperty)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(StringLiteral:<STR>))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:sipStackProperties))(SimpleName:setProperty)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(StringLiteral:<STR>))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:sipStackProperties))(SimpleName:setProperty)(METHOD_INVOCATION_ARGUMENTS(SimpleName:LOOSE_DIALOG_VALIDATION)(StringLiteral:<STR>))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:sipStackProperties))(SimpleName:setProperty)(METHOD_INVOCATION_ARGUMENTS(SimpleName:PASS_INVITE_NON_2XX_ACK_TO_LISTENER)(StringLiteral:<STR>))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:sipStackProperties))(SimpleName:setProperty)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(StringLiteral:<STR>))))))(IfStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:sipStackProperties))(SimpleName:get)(METHOD_INVOCATION_ARGUMENTS(SimpleName:TCP_POST_PARSING_THREAD_POOL_SIZE)))(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:sipStackProperties))(SimpleName:setProperty)(METHOD_INVOCATION_ARGUMENTS(SimpleName:TCP_POST_PARSING_THREAD_POOL_SIZE)(StringLiteral:<STR>))))))(IfStatement(InfixExpression(InfixExpression(SimpleName:dnsServerLocatorClass)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(INFIX_EXPRESSION_OPERATOR:&&)(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:dnsServerLocatorClass))(SimpleName:trim)))(SimpleName:length))(INFIX_EXPRESSION_OPERATOR:>)(NumberLiteral:0)))(Block(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:logger))(SimpleName:isDebugEnabled))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:logger))(SimpleName:debug)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:sipStackProperties))(SimpleName:getProperty)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))(StringLiteral:<STR>)(SimpleName:dnsServerLocatorClass)(StringLiteral:<STR>)))))))(TryStatement(Block(VariableDeclarationStatement(ArrayType(SimpleType(SimpleName:Class))(Dimension))(VariableDeclarationFragment(SimpleName:paramTypes)(ArrayCreation(ArrayType(SimpleType(SimpleName:Class))(Dimension(NumberLiteral:0))))))(VariableDeclarationStatement(SimpleType(SimpleName:Constructor))(VariableDeclarationFragment(SimpleName:dnsServerLocatorConstructor)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Class))(SimpleName:forName)(METHOD_INVOCATION_ARGUMENTS(SimpleName:dnsServerLocatorClass))))(SimpleName:getConstructor)(METHOD_INVOCATION_ARGUMENTS(SimpleName:paramTypes)))))(VariableDeclarationStatement(ArrayType(SimpleType(SimpleName:Object))(Dimension))(VariableDeclarationFragment(SimpleName:conArgs)(ArrayCreation(ArrayType(SimpleType(SimpleName:Object))(Dimension(NumberLiteral:0))))))(VariableDeclarationStatement(SimpleType(SimpleName:DNSServerLocator))(VariableDeclarationFragment(SimpleName:dnsServerLocator)(CastExpression(SimpleType(SimpleName:DNSServerLocator))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:dnsServerLocatorConstructor))(SimpleName:newInstance)(METHOD_INVOCATION_ARGUMENTS(SimpleName:conArgs))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:sipApplicationDispatcher))(SimpleName:setDNSServerLocator)(METHOD_INVOCATION_ARGUMENTS(SimpleName:dnsServerLocator))))(IfStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:sipStackProperties))(SimpleName:getProperty)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:sipStackProperties))(SimpleName:setProperty)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(MethodInvocation(METHOD_INVOCATION_RECEIVER(TypeLiteral(SimpleType(SimpleName:DNSAwareRouter))))(SimpleName:getCanonicalName))))))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:Exception))(SimpleName:e))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:logger))(SimpleName:error)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:addressResolverClass))(SimpleName:e))))(ThrowStatement(SimpleName:e))))))(Block(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:logger))(SimpleName:isInfoEnabled))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:logger))(SimpleName:info)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:serverHeaderValue)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:sipStackProperties))(SimpleName:getProperty)(METHOD_INVOCATION_ARGUMENTS(SimpleName:SERVER_HEADER)))))(IfStatement(InfixExpression(SimpleName:serverHeaderValue)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(VariableDeclarationStatement(ParameterizedType(SimpleType(SimpleName:List))(SimpleType(SimpleName:String)))(VariableDeclarationFragment(SimpleName:serverHeaderList)(ClassInstanceCreation(ParameterizedType(SimpleType(SimpleName:ArrayList))(SimpleType(SimpleName:String))))))(VariableDeclarationStatement(SimpleType(SimpleName:StringTokenizer))(VariableDeclarationFragment(SimpleName:stringTokenizer)(ClassInstanceCreation(SimpleType(SimpleName:StringTokenizer))(SimpleName:serverHeaderValue)(StringLiteral:<STR>))))(WhileStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:stringTokenizer))(SimpleName:hasMoreTokens))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:serverHeaderList))(SimpleName:add)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:stringTokenizer))(SimpleName:nextToken)))))))(VariableDeclarationStatement(SimpleType(SimpleName:ServerHeader))(VariableDeclarationFragment(SimpleName:serverHeader)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:sipApplicationDispatcher))(SimpleName:getSipFactory)))(SimpleName:getHeaderFactory)))(SimpleName:createServerHeader)(METHOD_INVOCATION_ARGUMENTS(SimpleName:serverHeaderList)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(ParenthesizedExpression(CastExpression(SimpleType(SimpleName:MessageFactoryExt))(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:sipApplicationDispatcher))(SimpleName:getSipFactory)))(SimpleName:getMessageFactory)))))(SimpleName:setDefaultServerHeader)(METHOD_INVOCATION_ARGUMENTS(SimpleName:serverHeader))))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:userAgent)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:sipStackProperties))(SimpleName:getProperty)(METHOD_INVOCATION_ARGUMENTS(SimpleName:USER_AGENT_HEADER)))))(IfStatement(InfixExpression(SimpleName:userAgent)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(VariableDeclarationStatement(ParameterizedType(SimpleType(SimpleName:List))(SimpleType(SimpleName:String)))(VariableDeclarationFragment(SimpleName:userAgentList)(ClassInstanceCreation(ParameterizedType(SimpleType(SimpleName:ArrayList))(SimpleType(SimpleName:String))))))(VariableDeclarationStatement(SimpleType(SimpleName:StringTokenizer))(VariableDeclarationFragment(SimpleName:stringTokenizer)(ClassInstanceCreation(SimpleType(SimpleName:StringTokenizer))(SimpleName:userAgent)(StringLiteral:<STR>))))(WhileStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:stringTokenizer))(SimpleName:hasMoreTokens))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:userAgentList))(SimpleName:add)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:stringTokenizer))(SimpleName:nextToken)))))))(VariableDeclarationStatement(SimpleType(SimpleName:UserAgentHeader))(VariableDeclarationFragment(SimpleName:userAgentHeader)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:sipApplicationDispatcher))(SimpleName:getSipFactory)))(SimpleName:getHeaderFactory)))(SimpleName:createUserAgentHeader)(METHOD_INVOCATION_ARGUMENTS(SimpleName:userAgentList)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(ParenthesizedExpression(CastExpression(SimpleType(SimpleName:MessageFactoryExt))(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:sipApplicationDispatcher))(SimpleName:getSipFactory)))(SimpleName:getMessageFactory)))))(SimpleName:setDefaultUserAgentHeader)(METHOD_INVOCATION_ARGUMENTS(SimpleName:userAgentHeader))))))(IfStatement(InfixExpression(SimpleName:balancers)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(IfStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:sipStackProperties))(SimpleName:get)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:LoadBalancerHeartBeatingService.LB_HB_SERVICE_CLASS_NAME)))(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:sipStackProperties))(SimpleName:put)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:LoadBalancerHeartBeatingService.LB_HB_SERVICE_CLASS_NAME)(MethodInvocation(METHOD_INVOCATION_RECEIVER(TypeLiteral(SimpleType(SimpleName:LoadBalancerHeartBeatingServiceImpl))))(SimpleName:getCanonicalName)))))))(IfStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:sipStackProperties))(SimpleName:get)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:LoadBalancerHeartBeatingService.BALANCERS)))(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:sipStackProperties))(SimpleName:put)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:LoadBalancerHeartBeatingService.BALANCERS)(SimpleName:balancers))))))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:replicationStrategyString)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:sipStackProperties))(SimpleName:getProperty)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:ClusteredSipStack.REPLICATION_STRATEGY_PROPERTY)))))(IfStatement(InfixExpression(SimpleName:replicationStrategyString)(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(Block(ExpressionStatement(Assignment(SimpleName:replicationStrategyString)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(QualifiedName:ReplicationStrategy.ConfirmedDialog))(SimpleName:toString))))))(VariableDeclarationStatement(PrimitiveType:boolean)(VariableDeclarationFragment(SimpleName:replicateApplicationData)(BooleanLiteral:false)))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:replicationStrategyString))(SimpleName:equals)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(QualifiedName:ReplicationStrategy.EarlyDialog))(SimpleName:toString))))(Block(ExpressionStatement(Assignment(SimpleName:replicateApplicationData)(ASSIGNMENT_OPERATOR:=)(BooleanLiteral:true)))))(IfStatement(InfixExpression(SimpleName:replicationStrategyString)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(ExpressionStatement(Assignment(SimpleName:replicationStrategy)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ReplicationStrategy))(SimpleName:valueOf)(METHOD_INVOCATION_ARGUMENTS(SimpleName:replicationStrategyString)))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:sipStackProperties))(SimpleName:put)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:ClusteredSipStack.REPLICATION_STRATEGY_PROPERTY)(SimpleName:replicationStrategyString))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:sipStackProperties))(SimpleName:put)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:ClusteredSipStack.REPLICATE_APPLICATION_DATA)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Boolean))(SimpleName:valueOf)(METHOD_INVOCATION_ARGUMENTS(SimpleName:replicateApplicationData))))(SimpleName:toString)))))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:logger))(SimpleName:isInfoEnabled))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:logger))(SimpleName:info)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:sipStackProperties)))))))(ExpressionStatement(Assignment(SimpleName:sipStack)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:sipApplicationDispatcher))(SimpleName:getSipFactory)))(SimpleName:getJainSipFactory)))(SimpleName:createSipStack)(METHOD_INVOCATION_ARGUMENTS(SimpleName:sipStackProperties)))))(VariableDeclarationStatement(SimpleType(SimpleName:LoadBalancerHeartBeatingService))(VariableDeclarationFragment(SimpleName:loadBalancerHeartBeatingService)(NullLiteral)))(IfStatement(InstanceofExpression(SimpleName:sipStack)(SimpleType(SimpleName:ClusteredSipStack)))(Block(ExpressionStatement(Assignment(SimpleName:loadBalancerHeartBeatingService)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(ParenthesizedExpression(CastExpression(SimpleType(SimpleName:ClusteredSipStack))(SimpleName:sipStack))))(SimpleName:getLoadBalancerHeartBeatingService))))(IfStatement(InfixExpression(ParenthesizedExpression(InfixExpression(FieldAccess(ThisExpression)(SimpleName:container))(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral)))(INFIX_EXPRESSION_OPERATOR:&&)(ParenthesizedExpression(InstanceofExpression(FieldAccess(ThisExpression)(SimpleName:container))(SimpleType(SimpleName:Engine))))(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(ParenthesizedExpression(CastExpression(SimpleType(SimpleName:Engine))(SimpleName:container))))(SimpleName:getJvmRoute))(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral)))(Block(VariableDeclarationStatement(Modifier:final)(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:jvmRoute)(MethodInvocation(METHOD_INVOCATION_RECEIVER(ParenthesizedExpression(CastExpression(SimpleType(SimpleName:Engine))(SimpleName:container))))(SimpleName:getJvmRoute))))(IfStatement(InfixExpression(SimpleName:jvmRoute)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:loadBalancerHeartBeatingService))(SimpleName:setJvmRoute)(METHOD_INVOCATION_ARGUMENTS(SimpleName:jvmRoute))))(ExpressionStatement(MethodInvocation(SimpleName:setJvmRoute)(METHOD_INVOCATION_ARGUMENTS(SimpleName:jvmRoute))))))))))(IfStatement(InfixExpression(InfixExpression(InfixExpression(SimpleName:sipApplicationDispatcher)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(INFIX_EXPRESSION_OPERATOR:&&)(InfixExpression(SimpleName:loadBalancerHeartBeatingService)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral)))(INFIX_EXPRESSION_OPERATOR:&&)(InstanceofExpression(SimpleName:sipApplicationDispatcher)(SimpleType(SimpleName:LoadBalancerHeartBeatingListener))))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:loadBalancerHeartBeatingService))(SimpleName:addLoadBalancerHeartBeatingListener)(METHOD_INVOCATION_ARGUMENTS(CastExpression(SimpleType(SimpleName:LoadBalancerHeartBeatingListener))(SimpleName:sipApplicationDispatcher)))))))(IfStatement(InfixExpression(InfixExpression(InstanceofExpression(SimpleName:sipStack)(SimpleType(SimpleName:SipStackExt)))(INFIX_EXPRESSION_OPERATOR:&&)(InfixExpression(SimpleName:addressResolverClass)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral)))(INFIX_EXPRESSION_OPERATOR:&&)(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:addressResolverClass))(SimpleName:trim)))(SimpleName:length))(INFIX_EXPRESSION_OPERATOR:>)(NumberLiteral:0)))(Block(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:logger))(SimpleName:isDebugEnabled))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:logger))(SimpleName:debug)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:sipStack))(SimpleName:getStackName))(StringLiteral:<STR>)(SimpleName:addressResolverClass)(StringLiteral:<STR>)))))))(TryStatement(Block(VariableDeclarationStatement(ArrayType(SimpleType(SimpleName:Class))(Dimension))(VariableDeclarationFragment(SimpleName:paramTypes)(ArrayCreation(ArrayType(SimpleType(SimpleName:Class))(Dimension(NumberLiteral:1))))))(ExpressionStatement(Assignment(ArrayAccess(SimpleName:paramTypes)(NumberLiteral:0))(ASSIGNMENT_OPERATOR:=)(TypeLiteral(SimpleType(SimpleName:SipApplicationDispatcher)))))(VariableDeclarationStatement(SimpleType(SimpleName:Constructor))(VariableDeclarationFragment(SimpleName:addressResolverConstructor)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Class))(SimpleName:forName)(METHOD_INVOCATION_ARGUMENTS(SimpleName:addressResolverClass))))(SimpleName:getConstructor)(METHOD_INVOCATION_ARGUMENTS(SimpleName:paramTypes)))))(VariableDeclarationStatement(ArrayType(SimpleType(SimpleName:Object))(Dimension))(VariableDeclarationFragment(SimpleName:conArgs)(ArrayCreation(ArrayType(SimpleType(SimpleName:Object))(Dimension(NumberLiteral:1))))))(ExpressionStatement(Assignment(ArrayAccess(SimpleName:conArgs)(NumberLiteral:0))(ASSIGNMENT_OPERATOR:=)(SimpleName:sipApplicationDispatcher)))(VariableDeclarationStatement(SimpleType(SimpleName:AddressResolver))(VariableDeclarationFragment(SimpleName:addressResolver)(CastExpression(SimpleType(SimpleName:AddressResolver))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:addressResolverConstructor))(SimpleName:newInstance)(METHOD_INVOCATION_ARGUMENTS(SimpleName:conArgs))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(ParenthesizedExpression(CastExpression(SimpleType(SimpleName:SipStackExt))(SimpleName:sipStack))))(SimpleName:setAddressResolver)(METHOD_INVOCATION_ARGUMENTS(SimpleName:addressResolver)))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:Exception))(SimpleName:e))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:logger))(SimpleName:error)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:addressResolverClass))(SimpleName:e))))(ThrowStatement(SimpleName:e))))))(Block(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:logger))(SimpleName:isInfoEnabled))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:logger))(SimpleName:info)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))))))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:logger))(SimpleName:isInfoEnabled))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:logger))(SimpleName:info)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:Exception))(SimpleName:ex))(Block(ThrowStatement(ClassInstanceCreation(SimpleType(SimpleName:LifecycleException))(StringLiteral:<STR>)(SimpleName:ex))))))))))