(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:public)(SimpleType(SimpleName:String))(SimpleName:savePersonalData)(SimpleType(SimpleName:AlvsanandException))(Block(VariableDeclarationStatement(SimpleType(SimpleName:User))(VariableDeclarationFragment(SimpleName:actualUser)(CastExpression(SimpleType(SimpleName:User))(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:FacesContext))(SimpleName:getCurrentInstance)))(SimpleName:getExternalContext)))(SimpleName:getSessionMap)))(SimpleName:get)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:Globals.SES_USER))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:logger))(SimpleName:info)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:actualUser)(StringLiteral:<STR>)))))(ExpressionStatement(Assignment(SimpleName:savedPersonalData)(ASSIGNMENT_OPERATOR:=)(BooleanLiteral:true)))(VariableDeclarationStatement(SimpleType(SimpleName:User))(VariableDeclarationFragment(SimpleName:user)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(SimpleName:getUserService)))(SimpleName:getUser)(METHOD_INVOCATION_ARGUMENTS(SimpleName:actualUser)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:user))(SimpleName:setPassword)(METHOD_INVOCATION_ARGUMENTS(SimpleName:password))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:user))(SimpleName:setName)(METHOD_INVOCATION_ARGUMENTS(SimpleName:name))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:user))(SimpleName:setSurname)(METHOD_INVOCATION_ARGUMENTS(SimpleName:surname))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:user))(SimpleName:setEmail)(METHOD_INVOCATION_ARGUMENTS(SimpleName:email))))(IfStatement(InfixExpression(InfixExpression(SimpleName:photoData)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(INFIX_EXPRESSION_OPERATOR:&&)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:StringUtils))(SimpleName:isNotEmpty)(METHOD_INVOCATION_ARGUMENTS(SimpleName:photoMediaType))))(Block(VariableDeclarationStatement(SimpleType(SimpleName:Avatar))(VariableDeclarationFragment(SimpleName:avatar)(ClassInstanceCreation(SimpleType(SimpleName:Avatar)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:avatar))(SimpleName:setDate)(METHOD_INVOCATION_ARGUMENTS(ClassInstanceCreation(SimpleType(SimpleName:Date))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:avatar))(SimpleName:setUser)(METHOD_INVOCATION_ARGUMENTS(SimpleName:actualUser))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:avatar))(SimpleName:setMediaType)(METHOD_INVOCATION_ARGUMENTS(SimpleName:photoMediaType))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:avatar))(SimpleName:setData)(METHOD_INVOCATION_ARGUMENTS(ClassInstanceCreation(SimpleType(SimpleName:Blob))(SimpleName:photoData)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:user))(SimpleName:setAvatar)(METHOD_INVOCATION_ARGUMENTS(SimpleName:avatar))))(ExpressionStatement(Assignment(SimpleName:photoData)(ASSIGNMENT_OPERATOR:=)(NullLiteral)))(ExpressionStatement(Assignment(SimpleName:photoMediaType)(ASSIGNMENT_OPERATOR:=)(NullLiteral)))))(IfStatement(InfixExpression(InfixExpression(SimpleName:user)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(INFIX_EXPRESSION_OPERATOR:&&)(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:user))(SimpleName:getPassword))(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral)))(Block(TryStatement(Block(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:passwordDigested)(ClassInstanceCreation(SimpleType(SimpleName:String))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Base64))(SimpleName:encodeBase64)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(SimpleName:getCryptographyService)))(SimpleName:digest)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:user))(SimpleName:getPassword)))(SimpleName:getBytes)))))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:user))(SimpleName:setPassword)(METHOD_INVOCATION_ARGUMENTS(SimpleName:passwordDigested)))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:NoSuchAlgorithmException))(SimpleName:noSuchAlgorithmException))(Block)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(SimpleName:getUserService)))(SimpleName:saveUser)(METHOD_INVOCATION_ARGUMENTS(SimpleName:user))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:FacesContext))(SimpleName:getCurrentInstance)))(SimpleName:getExternalContext)))(SimpleName:getSessionMap)))(SimpleName:put)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:Globals.SES_USER)(SimpleName:user))))(VariableDeclarationStatement(SimpleType(SimpleName:FacesMessage))(VariableDeclarationFragment(SimpleName:message)(ClassInstanceCreation(SimpleType(SimpleName:FacesMessage)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:message))(SimpleName:setDetail)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:MessageResources))(SimpleName:getMessage)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:MessageResources.REGISTRATION_RESOURCE_BUNDLE_NAME)(StringLiteral:<STR>)(NullLiteral))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:message))(SimpleName:setSummary)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:MessageResources))(SimpleName:getMessage)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:MessageResources.REGISTRATION_RESOURCE_BUNDLE_NAME)(StringLiteral:<STR>)(NullLiteral))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:message))(SimpleName:setSeverity)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:FacesMessage.SEVERITY_INFO))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:FacesContext))(SimpleName:getCurrentInstance)))(SimpleName:addMessage)(METHOD_INVOCATION_ARGUMENTS(NullLiteral)(SimpleName:message))))(ExpressionStatement(Assignment(SimpleName:password)(ASSIGNMENT_OPERATOR:=)(NullLiteral)))(ExpressionStatement(Assignment(SimpleName:rePassword)(ASSIGNMENT_OPERATOR:=)(NullLiteral)))(ExpressionStatement(Assignment(SimpleName:showFileUpload)(ASSIGNMENT_OPERATOR:=)(BooleanLiteral:false)))(ReturnStatement(SimpleName:MODIFY_PERSONAL_DATA_VIEW_ID))))))