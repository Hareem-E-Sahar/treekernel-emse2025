(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:public)(PrimitiveType:int)(SimpleName:write)(SingleVariableDeclaration(SimpleType(SimpleName:AudioInputStream))(SimpleName:stream))(SingleVariableDeclaration(SimpleType(QualifiedName:AudioFileFormat.Type))(SimpleName:fileType))(SingleVariableDeclaration(SimpleType(SimpleName:File))(SimpleName:out))(SimpleType(SimpleName:IOException))(Block(VariableDeclarationStatement(SimpleType(SimpleName:AiffFileFormat))(VariableDeclarationFragment(SimpleName:aiffFileFormat)(CastExpression(SimpleType(SimpleName:AiffFileFormat))(MethodInvocation(SimpleName:getAudioFileFormat)(METHOD_INVOCATION_ARGUMENTS(SimpleName:fileType)(SimpleName:stream))))))(VariableDeclarationStatement(SimpleType(SimpleName:FileOutputStream))(VariableDeclarationFragment(SimpleName:fos)(ClassInstanceCreation(SimpleType(SimpleName:FileOutputStream))(SimpleName:out))))(VariableDeclarationStatement(SimpleType(SimpleName:BufferedOutputStream))(VariableDeclarationFragment(SimpleName:bos)(ClassInstanceCreation(SimpleType(SimpleName:BufferedOutputStream))(SimpleName:fos)(SimpleName:bisBufferSize))))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:bytesWritten)(MethodInvocation(SimpleName:writeAiffFile)(METHOD_INVOCATION_ARGUMENTS(SimpleName:stream)(SimpleName:aiffFileFormat)(SimpleName:bos)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:bos))(SimpleName:close)))(IfStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:aiffFileFormat))(SimpleName:getByteLength))(INFIX_EXPRESSION_OPERATOR:==)(QualifiedName:AudioSystem.NOT_SPECIFIED))(Block(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:ssndBlockSize)(ParenthesizedExpression(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:aiffFileFormat))(SimpleName:getFormat)))(SimpleName:getChannels))(INFIX_EXPRESSION_OPERATOR:*)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:aiffFileFormat))(SimpleName:getFormat)))(SimpleName:getSampleSizeInBits))))))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:aiffLength)(SimpleName:bytesWritten)))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:ssndChunkSize)(InfixExpression(InfixExpression(SimpleName:aiffLength)(INFIX_EXPRESSION_OPERATOR:-)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:aiffFileFormat))(SimpleName:getHeaderSize)))(INFIX_EXPRESSION_OPERATOR:+)(NumberLiteral:16))))(VariableDeclarationStatement(PrimitiveType:long)(VariableDeclarationFragment(SimpleName:dataSize)(InfixExpression(SimpleName:ssndChunkSize)(INFIX_EXPRESSION_OPERATOR:-)(NumberLiteral:16))))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:numFrames)(CastExpression(PrimitiveType:int)(ParenthesizedExpression(InfixExpression(InfixExpression(SimpleName:dataSize)(INFIX_EXPRESSION_OPERATOR:*)(NumberLiteral:8))(INFIX_EXPRESSION_OPERATOR:/)(SimpleName:ssndBlockSize))))))(VariableDeclarationStatement(SimpleType(SimpleName:RandomAccessFile))(VariableDeclarationFragment(SimpleName:raf)(ClassInstanceCreation(SimpleType(SimpleName:RandomAccessFile))(SimpleName:out)(StringLiteral:<STR>))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:raf))(SimpleName:skipBytes)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:4))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:raf))(SimpleName:writeInt)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(SimpleName:aiffLength)(INFIX_EXPRESSION_OPERATOR:-)(NumberLiteral:8)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:raf))(SimpleName:skipBytes)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(NumberLiteral:4)(INFIX_EXPRESSION_OPERATOR:+)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:aiffFileFormat))(SimpleName:getFverChunkSize))(NumberLiteral:4)(NumberLiteral:4)(NumberLiteral:2)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:raf))(SimpleName:writeInt)(METHOD_INVOCATION_ARGUMENTS(SimpleName:numFrames))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:raf))(SimpleName:skipBytes)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(NumberLiteral:2)(INFIX_EXPRESSION_OPERATOR:+)(NumberLiteral:10)(NumberLiteral:4)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:raf))(SimpleName:writeInt)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(SimpleName:ssndChunkSize)(INFIX_EXPRESSION_OPERATOR:-)(NumberLiteral:8)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:raf))(SimpleName:close)))))(ReturnStatement(SimpleName:bytesWritten))))))