(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:static)(PrimitiveType:void)(SimpleName:activateKey)(SingleVariableDeclaration(SimpleType(SimpleName:ShortMessage))(SimpleName:message))(SingleVariableDeclaration(PrimitiveType:int)(SimpleName:device))(Block(VariableDeclarationStatement(ParameterizedType(SimpleType(SimpleName:SortedMap))(SimpleType(SimpleName:Integer))(ParameterizedType(SimpleType(SimpleName:SortedSet))(SimpleType(SimpleName:Key))))(VariableDeclarationFragment(SimpleName:deviceKeys)(MethodInvocation(METHOD_INVOCATION_RECEIVER(QualifiedName:state.activeKeys))(SimpleName:get)(METHOD_INVOCATION_ARGUMENTS(SimpleName:device)))))(IfStatement(InfixExpression(SimpleName:deviceKeys)(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(Block(ExpressionStatement(Assignment(SimpleName:deviceKeys)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Collections))(SimpleName:synchronizedSortedMap)(METHOD_INVOCATION_ARGUMENTS(ClassInstanceCreation(ParameterizedType(SimpleType(SimpleName:TreeMap))(SimpleType(SimpleName:Integer))(ParameterizedType(SimpleType(SimpleName:SortedSet))(SimpleType(SimpleName:Key)))))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(QualifiedName:state.activeKeys))(SimpleName:put)(METHOD_INVOCATION_ARGUMENTS(SimpleName:device)(SimpleName:deviceKeys))))))(VariableDeclarationStatement(Modifier:final)(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:channel)))(VariableDeclarationStatement(ParameterizedType(SimpleType(SimpleName:SortedSet))(SimpleType(SimpleName:Key)))(VariableDeclarationFragment(SimpleName:channelKeys)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:deviceKeys))(SimpleName:get)(METHOD_INVOCATION_ARGUMENTS(Assignment(SimpleName:channel)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:message))(SimpleName:getChannel)))))))(IfStatement(InfixExpression(SimpleName:channelKeys)(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(Block(ExpressionStatement(Assignment(SimpleName:channelKeys)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Collections))(SimpleName:synchronizedSortedSet)(METHOD_INVOCATION_ARGUMENTS(ClassInstanceCreation(ParameterizedType(SimpleType(SimpleName:TreeSet))(SimpleType(SimpleName:Key))))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:deviceKeys))(SimpleName:put)(METHOD_INVOCATION_ARGUMENTS(SimpleName:channel)(SimpleName:channelKeys))))))(VariableDeclarationStatement(Modifier:final)(SimpleType(SimpleName:Key))(VariableDeclarationFragment(SimpleName:key)(ClassInstanceCreation(SimpleType(SimpleName:Key))(SimpleName:message))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:channelKeys))(SimpleName:remove)(METHOD_INVOCATION_ARGUMENTS(SimpleName:key))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:channelKeys))(SimpleName:add)(METHOD_INVOCATION_ARGUMENTS(SimpleName:key))))(IfStatement(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(MethodInvocation(SimpleName:isScreenRefreshing)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Graphs))(SimpleName:activateKey)(METHOD_INVOCATION_ARGUMENTS(SimpleName:key)))))))))