(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:public)(Modifier:static)(PrimitiveType:void)(SimpleName:download)(SingleVariableDeclaration(SimpleType(SimpleName:String))(SimpleName:url))(SingleVariableDeclaration(SimpleType(SimpleName:Shell))(SimpleName:parentShell))(SimpleType(SimpleName:Exception))(Block(VariableDeclarationStatement(SimpleType(SimpleName:FileOutputStream))(VariableDeclarationFragment(SimpleName:fos)(NullLiteral)))(VariableDeclarationStatement(SimpleType(SimpleName:File))(VariableDeclarationFragment(SimpleName:outFile)(NullLiteral)))(TryStatement(Block(ExpressionStatement(Assignment(SimpleName:url)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:url))(SimpleName:replace)(METHOD_INVOCATION_ARGUMENTS(CharacterLiteral:<STR>)(CharacterLiteral:<STR>)))))(ExpressionStatement(Assignment(SimpleName:outFile)(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(SimpleType(SimpleName:File))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:url))(SimpleName:substring)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:url))(SimpleName:lastIndexOf)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))))))(VariableDeclarationStatement(SimpleType(SimpleName:FileDialog))(VariableDeclarationFragment(SimpleName:fileDialog)(ClassInstanceCreation(SimpleType(SimpleName:FileDialog))(SimpleName:parentShell)(QualifiedName:SWT.SAVE))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fileDialog))(SimpleName:setFileName)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:outFile))(SimpleName:getName)))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:str)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fileDialog))(SimpleName:open))))(IfStatement(InfixExpression(SimpleName:str)(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(ReturnStatement))(ExpressionStatement(Assignment(SimpleName:outFile)(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(SimpleType(SimpleName:File))(SimpleName:str))))(VariableDeclarationStatement(SimpleType(SimpleName:HttpURLConnection))(VariableDeclarationFragment(SimpleName:httpcon)(CastExpression(SimpleType(SimpleName:HttpURLConnection))(MethodInvocation(METHOD_INVOCATION_RECEIVER(ClassInstanceCreation(SimpleType(SimpleName:URL))(SimpleName:url)))(SimpleName:openConnection)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:httpcon))(SimpleName:setInstanceFollowRedirects)(METHOD_INVOCATION_ARGUMENTS(BooleanLiteral:true))))(IfStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:httpcon))(SimpleName:getResponseCode))(INFIX_EXPRESSION_OPERATOR:==)(QualifiedName:HttpURLConnection.HTTP_UNAUTHORIZED))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:VidUtil))(SimpleName:openURL)(METHOD_INVOCATION_ARGUMENTS(SimpleName:url)))))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:max)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:httpcon))(SimpleName:getContentLength))))(VariableDeclarationStatement(SimpleType(SimpleName:BufferedInputStream))(VariableDeclarationFragment(SimpleName:in)(ClassInstanceCreation(SimpleType(SimpleName:BufferedInputStream))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:httpcon))(SimpleName:getInputStream)))))(ExpressionStatement(Assignment(SimpleName:fos)(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(SimpleType(SimpleName:FileOutputStream))(SimpleName:outFile))))(VariableDeclarationStatement(SimpleType(SimpleName:ProgressMonitorDialog))(VariableDeclarationFragment(SimpleName:progress)(ClassInstanceCreation(SimpleType(SimpleName:ProgressMonitorDialog))(SimpleName:parentShell))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:progress))(SimpleName:create)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:progress))(SimpleName:getShell)))(SimpleName:setText)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:I18N))(SimpleName:translate)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))))(VariableDeclarationStatement(SimpleType(SimpleName:Downloader))(VariableDeclarationFragment(SimpleName:dw)(ClassInstanceCreation(SimpleType(SimpleName:Downloader))(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:I18N))(SimpleName:translate)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))(INFIX_EXPRESSION_OPERATOR:+)(StringLiteral:<STR>)(SimpleName:url))(SimpleName:in)(SimpleName:fos)(SimpleName:max))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:progress))(SimpleName:setBlockOnOpen)(METHOD_INVOCATION_ARGUMENTS(BooleanLiteral:false))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:progress))(SimpleName:setOpenOnRun)(METHOD_INVOCATION_ARGUMENTS(BooleanLiteral:true))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:progress))(SimpleName:setCancelable)(METHOD_INVOCATION_ARGUMENTS(BooleanLiteral:true))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:progress))(SimpleName:run)(METHOD_INVOCATION_ARGUMENTS(BooleanLiteral:true)(BooleanLiteral:true)(SimpleName:dw)))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:InterruptedException))(SimpleName:cancel))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fos))(SimpleName:close)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:outFile))(SimpleName:delete)))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:Exception))(SimpleName:e))(Block(ThrowStatement(ClassInstanceCreation(SimpleType(SimpleName:ExplicantoException))(ClassInstanceCreation(SimpleType(SimpleName:WSResponse))(NumberLiteral:2000)(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:url)(StringLiteral:<STR>)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:e))(SimpleName:getMessage)))(NullLiteral)(NullLiteral)))))))))))