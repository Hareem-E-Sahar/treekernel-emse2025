(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(MarkerAnnotation(SimpleName:LargeTest))(Modifier:public)(PrimitiveType:void)(SimpleName:testSimpleHttpPostsHTTP10)(SimpleType(SimpleName:Exception))(Block(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:reqNo)(NumberLiteral:20)))(VariableDeclarationStatement(SimpleType(SimpleName:Random))(VariableDeclarationFragment(SimpleName:rnd)(ClassInstanceCreation(SimpleType(SimpleName:Random)))))(VariableDeclarationStatement(SimpleType(SimpleName:List))(VariableDeclarationFragment(SimpleName:testData)(ClassInstanceCreation(SimpleType(SimpleName:ArrayList))(SimpleName:reqNo))))(ForStatement(VariableDeclarationExpression(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:i)(NumberLiteral:0)))(InfixExpression(SimpleName:i)(INFIX_EXPRESSION_OPERATOR:<)(SimpleName:reqNo))(PostfixExpression(SimpleName:i)(POSTFIX_EXPRESSION_OPERATOR:++))(Block(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:size)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:rnd))(SimpleName:nextInt)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:5000)))))(VariableDeclarationStatement(ArrayType(PrimitiveType:byte)(Dimension))(VariableDeclarationFragment(SimpleName:data)(ArrayCreation(ArrayType(PrimitiveType:byte)(Dimension(SimpleName:size))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:rnd))(SimpleName:nextBytes)(METHOD_INVOCATION_ARGUMENTS(SimpleName:data))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:testData))(SimpleName:add)(METHOD_INVOCATION_ARGUMENTS(SimpleName:data))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(FieldAccess(ThisExpression)(SimpleName:server)))(SimpleName:registerHandler)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(ClassInstanceCreation(SimpleType(SimpleName:HttpRequestHandler))(AnonymousClassDeclaration(MethodDeclaration(Modifier:public)(PrimitiveType:void)(SimpleName:handle)(SingleVariableDeclaration(Modifier:final)(SimpleType(SimpleName:HttpRequest))(SimpleName:request))(SingleVariableDeclaration(Modifier:final)(SimpleType(SimpleName:HttpResponse))(SimpleName:response))(SingleVariableDeclaration(Modifier:final)(SimpleType(SimpleName:HttpContext))(SimpleName:context))(SimpleType(SimpleName:HttpException))(SimpleType(SimpleName:IOException))(Block(IfStatement(InstanceofExpression(SimpleName:request)(SimpleType(SimpleName:HttpEntityEnclosingRequest)))(Block(VariableDeclarationStatement(SimpleType(SimpleName:HttpEntity))(VariableDeclarationFragment(SimpleName:incoming)(MethodInvocation(METHOD_INVOCATION_RECEIVER(ParenthesizedExpression(CastExpression(SimpleType(SimpleName:HttpEntityEnclosingRequest))(SimpleName:request))))(SimpleName:getEntity))))(VariableDeclarationStatement(ArrayType(PrimitiveType:byte)(Dimension))(VariableDeclarationFragment(SimpleName:data)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:EntityUtils))(SimpleName:toByteArray)(METHOD_INVOCATION_ARGUMENTS(SimpleName:incoming)))))(VariableDeclarationStatement(SimpleType(SimpleName:ByteArrayEntity))(VariableDeclarationFragment(SimpleName:outgoing)(ClassInstanceCreation(SimpleType(SimpleName:ByteArrayEntity))(SimpleName:data))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:outgoing))(SimpleName:setChunked)(METHOD_INVOCATION_ARGUMENTS(BooleanLiteral:false))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:response))(SimpleName:setEntity)(METHOD_INVOCATION_ARGUMENTS(SimpleName:outgoing)))))(Block(VariableDeclarationStatement(SimpleType(SimpleName:StringEntity))(VariableDeclarationFragment(SimpleName:outgoing)(ClassInstanceCreation(SimpleType(SimpleName:StringEntity))(StringLiteral:<STR>))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:response))(SimpleName:setEntity)(METHOD_INVOCATION_ARGUMENTS(SimpleName:outgoing)))))))))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(FieldAccess(ThisExpression)(SimpleName:server)))(SimpleName:start)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(FieldAccess(ThisExpression)(SimpleName:client)))(SimpleName:getParams)))(SimpleName:setParameter)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:CoreProtocolPNames.PROTOCOL_VERSION)(QualifiedName:HttpVersion.HTTP_1_0))))(VariableDeclarationStatement(SimpleType(SimpleName:DefaultHttpClientConnection))(VariableDeclarationFragment(SimpleName:conn)(ClassInstanceCreation(SimpleType(SimpleName:DefaultHttpClientConnection)))))(VariableDeclarationStatement(SimpleType(SimpleName:HttpHost))(VariableDeclarationFragment(SimpleName:host)(ClassInstanceCreation(SimpleType(SimpleName:HttpHost))(StringLiteral:<STR>)(MethodInvocation(METHOD_INVOCATION_RECEIVER(FieldAccess(ThisExpression)(SimpleName:server)))(SimpleName:getPort)))))(TryStatement(Block(ForStatement(VariableDeclarationExpression(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:r)(NumberLiteral:0)))(InfixExpression(SimpleName:r)(INFIX_EXPRESSION_OPERATOR:<)(SimpleName:reqNo))(PostfixExpression(SimpleName:r)(POSTFIX_EXPRESSION_OPERATOR:++))(Block(IfStatement(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:conn))(SimpleName:isOpen)))(Block(VariableDeclarationStatement(SimpleType(SimpleName:Socket))(VariableDeclarationFragment(SimpleName:socket)(ClassInstanceCreation(SimpleType(SimpleName:Socket))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:host))(SimpleName:getHostName))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:host))(SimpleName:getPort)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:conn))(SimpleName:bind)(METHOD_INVOCATION_ARGUMENTS(SimpleName:socket)(MethodInvocation(METHOD_INVOCATION_RECEIVER(FieldAccess(ThisExpression)(SimpleName:client)))(SimpleName:getParams)))))))(VariableDeclarationStatement(SimpleType(SimpleName:BasicHttpEntityEnclosingRequest))(VariableDeclarationFragment(SimpleName:post)(ClassInstanceCreation(SimpleType(SimpleName:BasicHttpEntityEnclosingRequest))(StringLiteral:<STR>)(StringLiteral:<STR>))))(VariableDeclarationStatement(ArrayType(PrimitiveType:byte)(Dimension))(VariableDeclarationFragment(SimpleName:data)(CastExpression(ArrayType(PrimitiveType:byte)(Dimension))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:testData))(SimpleName:get)(METHOD_INVOCATION_ARGUMENTS(SimpleName:r))))))(VariableDeclarationStatement(SimpleType(SimpleName:ByteArrayEntity))(VariableDeclarationFragment(SimpleName:outgoing)(ClassInstanceCreation(SimpleType(SimpleName:ByteArrayEntity))(SimpleName:data))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:post))(SimpleName:setEntity)(METHOD_INVOCATION_ARGUMENTS(SimpleName:outgoing))))(VariableDeclarationStatement(SimpleType(SimpleName:HttpResponse))(VariableDeclarationFragment(SimpleName:response)(MethodInvocation(METHOD_INVOCATION_RECEIVER(FieldAccess(ThisExpression)(SimpleName:client)))(SimpleName:execute)(METHOD_INVOCATION_ARGUMENTS(SimpleName:post)(SimpleName:host)(SimpleName:conn)))))(ExpressionStatement(MethodInvocation(SimpleName:assertEquals)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:HttpVersion.HTTP_1_0)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:response))(SimpleName:getStatusLine)))(SimpleName:getProtocolVersion)))))(VariableDeclarationStatement(ArrayType(PrimitiveType:byte)(Dimension))(VariableDeclarationFragment(SimpleName:received)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:EntityUtils))(SimpleName:toByteArray)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:response))(SimpleName:getEntity))))))(VariableDeclarationStatement(ArrayType(PrimitiveType:byte)(Dimension))(VariableDeclarationFragment(SimpleName:expected)(CastExpression(ArrayType(PrimitiveType:byte)(Dimension))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:testData))(SimpleName:get)(METHOD_INVOCATION_ARGUMENTS(SimpleName:r))))))(ExpressionStatement(MethodInvocation(SimpleName:assertEquals)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:expected.length)(QualifiedName:received.length))))(ForStatement(VariableDeclarationExpression(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:i)(NumberLiteral:0)))(InfixExpression(SimpleName:i)(INFIX_EXPRESSION_OPERATOR:<)(QualifiedName:expected.length))(PostfixExpression(SimpleName:i)(POSTFIX_EXPRESSION_OPERATOR:++))(Block(ExpressionStatement(MethodInvocation(SimpleName:assertEquals)(METHOD_INVOCATION_ARGUMENTS(ArrayAccess(SimpleName:expected)(SimpleName:i))(ArrayAccess(SimpleName:received)(SimpleName:i)))))))(IfStatement(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(MethodInvocation(METHOD_INVOCATION_RECEIVER(FieldAccess(ThisExpression)(SimpleName:client)))(SimpleName:keepAlive)(METHOD_INVOCATION_ARGUMENTS(SimpleName:response))))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:conn))(SimpleName:close)))))))(VariableDeclarationStatement(SimpleType(SimpleName:HttpConnectionMetrics))(VariableDeclarationFragment(SimpleName:cm)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:conn))(SimpleName:getMetrics))))(ExpressionStatement(MethodInvocation(SimpleName:assertEquals)(METHOD_INVOCATION_ARGUMENTS(SimpleName:reqNo)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:cm))(SimpleName:getRequestCount)))))(ExpressionStatement(MethodInvocation(SimpleName:assertEquals)(METHOD_INVOCATION_ARGUMENTS(SimpleName:reqNo)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:cm))(SimpleName:getResponseCount))))))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:conn))(SimpleName:close)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(FieldAccess(ThisExpression)(SimpleName:server)))(SimpleName:shutdown)))))))))