(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:public)(ArrayType(SimpleType(SimpleName:Object))(Dimension))(SimpleName:toArray)(SingleVariableDeclaration(ArrayType(SimpleType(SimpleName:Object))(Dimension))(SimpleName:result))(Block(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:n)(MethodInvocation(SimpleName:size))))(IfStatement(InfixExpression(QualifiedName:result.length)(INFIX_EXPRESSION_OPERATOR:<)(SimpleName:n))(Block(ExpressionStatement(Assignment(SimpleName:result)(ASSIGNMENT_OPERATOR:=)(CastExpression(ArrayType(SimpleType(SimpleName:Object))(Dimension))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Array))(SimpleName:newInstance)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:result))(SimpleName:getClass)))(SimpleName:getComponentType))(SimpleName:n))))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:l1))(SimpleName:toArray)(METHOD_INVOCATION_ARGUMENTS(SimpleName:result))))(ExpressionStatement(Assignment(SimpleName:n)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:l1))(SimpleName:size))))(IfStatement(SimpleName:USE_ARRAYCOPY)(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:System))(SimpleName:arraycopy)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:l2))(SimpleName:toArray))(NumberLiteral:0)(SimpleName:result)(SimpleName:n)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:l2))(SimpleName:size))))))(Block(ForStatement(VariableDeclarationExpression(SimpleType(SimpleName:Iterator))(VariableDeclarationFragment(SimpleName:i)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:l2))(SimpleName:iterator))))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:i))(SimpleName:hasNext))(Block(ExpressionStatement(Assignment(ArrayAccess(SimpleName:result)(PostfixExpression(SimpleName:n)(POSTFIX_EXPRESSION_OPERATOR:++)))(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:i))(SimpleName:next))))))))(ReturnStatement(SimpleName:result))))))