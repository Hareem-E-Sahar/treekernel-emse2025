(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(SingleMemberAnnotation(SimpleName:SuppressWarnings)(StringLiteral:<STR>))(Modifier:public)(SimpleType(SimpleName:StringBuffer))(SimpleName:getResource)(SingleVariableDeclaration(SimpleType(SimpleName:String))(SimpleName:resource))(SingleVariableDeclaration(PrimitiveType:boolean)(SimpleName:fromWeb))(SingleVariableDeclaration(PrimitiveType:boolean)(SimpleName:cacheContent))(Block(TryStatement(Block(VariableDeclarationStatement(SimpleType(SimpleName:URL))(VariableDeclarationFragment(SimpleName:url)(ConditionalExpression(SimpleName:fromWeb)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:context))(SimpleName:getResource)(METHOD_INVOCATION_ARGUMENTS(SimpleName:resource)))(MethodInvocation(METHOD_INVOCATION_RECEIVER(TypeLiteral(SimpleType(SimpleName:ControllerServlet))))(SimpleName:getResource)(METHOD_INVOCATION_ARGUMENTS(SimpleName:resource))))))(VariableDeclarationStatement(SimpleType(SimpleName:URLConnection))(VariableDeclarationFragment(SimpleName:con)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:url))(SimpleName:openConnection))))(IfStatement(SimpleName:cacheContent)(Block(VariableDeclarationStatement(ParameterizedType(SimpleType(SimpleName:HashMap))(SimpleType(SimpleName:String))(SimpleType(SimpleName:StringBuffer)))(VariableDeclarationFragment(SimpleName:cache)(CastExpression(ParameterizedType(SimpleType(SimpleName:HashMap))(SimpleType(SimpleName:String))(SimpleType(SimpleName:StringBuffer)))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:context))(SimpleName:getAttribute)(METHOD_INVOCATION_ARGUMENTS(SimpleName:CACHE))))))(VariableDeclarationStatement(ParameterizedType(SimpleType(SimpleName:HashMap))(SimpleType(SimpleName:String))(SimpleType(SimpleName:Long)))(VariableDeclarationFragment(SimpleName:cacheTimes)(CastExpression(ParameterizedType(SimpleType(SimpleName:HashMap))(SimpleType(SimpleName:String))(SimpleType(SimpleName:Long)))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:context))(SimpleName:getAttribute)(METHOD_INVOCATION_ARGUMENTS(SimpleName:CACHE_TIMES))))))(IfStatement(InfixExpression(SimpleName:cache)(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(Block(ExpressionStatement(Assignment(SimpleName:cache)(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(ParameterizedType(SimpleType(SimpleName:HashMap))(SimpleType(SimpleName:String))(SimpleType(SimpleName:StringBuffer))))))(ExpressionStatement(Assignment(SimpleName:cacheTimes)(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(ParameterizedType(SimpleType(SimpleName:HashMap))(SimpleType(SimpleName:String))(SimpleType(SimpleName:Long))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:context))(SimpleName:setAttribute)(METHOD_INVOCATION_ARGUMENTS(SimpleName:CACHE)(SimpleName:cache))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:context))(SimpleName:setAttribute)(METHOD_INVOCATION_ARGUMENTS(SimpleName:CACHE_TIMES)(SimpleName:cacheTimes))))))(VariableDeclarationStatement(PrimitiveType:long)(VariableDeclarationFragment(SimpleName:lastModified)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:con))(SimpleName:getLastModified))))(VariableDeclarationStatement(PrimitiveType:long)(VariableDeclarationFragment(SimpleName:cacheModified)(NumberLiteral:0)))(IfStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:cacheTimes))(SimpleName:get)(METHOD_INVOCATION_ARGUMENTS(SimpleName:resource)))(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(ExpressionStatement(Assignment(SimpleName:cacheModified)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(ParenthesizedExpression(CastExpression(SimpleType(SimpleName:Long))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:cacheTimes))(SimpleName:get)(METHOD_INVOCATION_ARGUMENTS(SimpleName:resource))))))(SimpleName:longValue))))))(IfStatement(InfixExpression(SimpleName:cacheModified)(INFIX_EXPRESSION_OPERATOR:<)(SimpleName:lastModified))(Block(VariableDeclarationStatement(SimpleType(SimpleName:StringBuffer))(VariableDeclarationFragment(SimpleName:buffer)(MethodInvocation(SimpleName:getResource)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:con))(SimpleName:getInputStream))))))(SynchronizedStatement(SimpleName:cacheTimes)(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:cacheTimes))(SimpleName:put)(METHOD_INVOCATION_ARGUMENTS(SimpleName:resource)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Long))(SimpleName:valueOf)(METHOD_INVOCATION_ARGUMENTS(SimpleName:lastModified))))))))(SynchronizedStatement(SimpleName:cache)(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:cache))(SimpleName:put)(METHOD_INVOCATION_ARGUMENTS(SimpleName:resource)(SimpleName:buffer))))))(ReturnStatement(SimpleName:buffer)))(Block(ReturnStatement(CastExpression(SimpleType(SimpleName:StringBuffer))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:cache))(SimpleName:get)(METHOD_INVOCATION_ARGUMENTS(SimpleName:resource))))))))(Block(ReturnStatement(MethodInvocation(SimpleName:getResource)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:con))(SimpleName:getInputStream))))))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:Exception))(SimpleName:e))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:PetstoreUtil))(SimpleName:getLogger)))(SimpleName:log)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:Level.SEVERE)(StringLiteral:<STR>)(InfixExpression(SimpleName:resource)(INFIX_EXPRESSION_OPERATOR:+)(StringLiteral:<STR>)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:e))(SimpleName:toString)))))))))(ReturnStatement(NullLiteral))))))