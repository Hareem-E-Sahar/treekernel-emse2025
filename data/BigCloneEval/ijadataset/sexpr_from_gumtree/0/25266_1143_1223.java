(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:public)(Modifier:static)(PrimitiveType:void)(SimpleName:replaceTemplateVariables)(SingleVariableDeclaration(SimpleType(SimpleName:Writer))(SimpleName:writer))(SingleVariableDeclaration(SimpleType(SimpleName:Reader))(SimpleName:reader))(SingleVariableDeclaration(ParameterizedType(SimpleType(SimpleName:Map))(SimpleType(SimpleName:String))(SimpleType(SimpleName:String)))(SimpleName:variables))(SimpleType(SimpleName:IOException))(Block(VariableDeclarationStatement(SimpleType(SimpleName:StreamTokenizer))(VariableDeclarationFragment(SimpleName:stk)(ClassInstanceCreation(SimpleType(SimpleName:StreamTokenizer))(SimpleName:reader))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:stk))(SimpleName:resetSyntax)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:stk))(SimpleName:wordChars)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:0)(QualifiedName:Integer.MAX_VALUE))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:stk))(SimpleName:ordinaryChar)(METHOD_INVOCATION_ARGUMENTS(CharacterLiteral:<STR>))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:stk))(SimpleName:ordinaryChar)(METHOD_INVOCATION_ARGUMENTS(CharacterLiteral:<STR>))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:stk))(SimpleName:ordinaryChar)(METHOD_INVOCATION_ARGUMENTS(CharacterLiteral:<STR>))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:stk))(SimpleName:ordinaryChar)(METHOD_INVOCATION_ARGUMENTS(CharacterLiteral:<STR>))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:variableName)(NullLiteral)))(VariableDeclarationStatement(SimpleType(SimpleName:StringBuffer))(VariableDeclarationFragment(SimpleName:tmpBuf)(ClassInstanceCreation(SimpleType(SimpleName:StringBuffer)))))(VariableDeclarationStatement(SimpleType(SimpleName:ParserExpects))(VariableDeclarationFragment(SimpleName:parserExpects)(QualifiedName:ParserExpects.NORMAL)))(WhileStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:stk))(SimpleName:nextToken))(INFIX_EXPRESSION_OPERATOR:!=)(QualifiedName:StreamTokenizer.TT_EOF))(Block(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:stringToWrite)(NullLiteral)))(IfStatement(InfixExpression(QualifiedName:stk.ttype)(INFIX_EXPRESSION_OPERATOR:==)(QualifiedName:StreamTokenizer.TT_WORD))(Block(SwitchStatement(SimpleName:parserExpects)(SwitchCase(SimpleName:VARIABLE))(ExpressionStatement(Assignment(SimpleName:parserExpects)(ASSIGNMENT_OPERATOR:=)(QualifiedName:ParserExpects.BRACKET_CLOSE)))(ExpressionStatement(Assignment(SimpleName:variableName)(ASSIGNMENT_OPERATOR:=)(QualifiedName:stk.sval)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:tmpBuf))(SimpleName:append)(METHOD_INVOCATION_ARGUMENTS(SimpleName:variableName))))(BreakStatement)(SwitchCase(SimpleName:NORMAL))(ExpressionStatement(Assignment(SimpleName:stringToWrite)(ASSIGNMENT_OPERATOR:=)(QualifiedName:stk.sval)))(BreakStatement)(SwitchCase)(ExpressionStatement(Assignment(SimpleName:parserExpects)(ASSIGNMENT_OPERATOR:=)(QualifiedName:ParserExpects.NORMAL)))(ExpressionStatement(Assignment(SimpleName:stringToWrite)(ASSIGNMENT_OPERATOR:=)(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:tmpBuf))(SimpleName:toString))(INFIX_EXPRESSION_OPERATOR:+)(QualifiedName:stk.sval))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:tmpBuf))(SimpleName:setLength)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:0))))))(IfStatement(InfixExpression(QualifiedName:stk.ttype)(INFIX_EXPRESSION_OPERATOR:==)(CharacterLiteral:<STR>))(Block(ExpressionStatement(Assignment(SimpleName:stringToWrite)(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(SimpleType(SimpleName:String))(ArrayCreation(ArrayType(PrimitiveType:char)(Dimension))(ArrayInitializer(CastExpression(PrimitiveType:char)(QualifiedName:stk.ttype)))))))(IfStatement(InfixExpression(SimpleName:parserExpects)(INFIX_EXPRESSION_OPERATOR:!=)(QualifiedName:ParserExpects.NORMAL))(Block(ExpressionStatement(Assignment(SimpleName:parserExpects)(ASSIGNMENT_OPERATOR:=)(QualifiedName:ParserExpects.NORMAL)))(ExpressionStatement(Assignment(SimpleName:stringToWrite)(ASSIGNMENT_OPERATOR:=)(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:tmpBuf))(SimpleName:toString))(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:stringToWrite))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:tmpBuf))(SimpleName:setLength)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:0)))))))(IfStatement(InfixExpression(QualifiedName:stk.ttype)(INFIX_EXPRESSION_OPERATOR:==)(CharacterLiteral:<STR>))(Block(IfStatement(InfixExpression(SimpleName:parserExpects)(INFIX_EXPRESSION_OPERATOR:!=)(QualifiedName:ParserExpects.NORMAL))(Block(ExpressionStatement(Assignment(SimpleName:stringToWrite)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:tmpBuf))(SimpleName:toString))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:tmpBuf))(SimpleName:setLength)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:0))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:tmpBuf))(SimpleName:append)(METHOD_INVOCATION_ARGUMENTS(CastExpression(PrimitiveType:char)(QualifiedName:stk.ttype)))))(ExpressionStatement(Assignment(SimpleName:parserExpects)(ASSIGNMENT_OPERATOR:=)(QualifiedName:ParserExpects.BRACKET_OPEN))))(IfStatement(InfixExpression(QualifiedName:stk.ttype)(INFIX_EXPRESSION_OPERATOR:==)(CharacterLiteral:<STR>))(Block(SwitchStatement(SimpleName:parserExpects)(SwitchCase(SimpleName:NORMAL))(ExpressionStatement(Assignment(SimpleName:stringToWrite)(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(SimpleType(SimpleName:String))(ArrayCreation(ArrayType(PrimitiveType:char)(Dimension))(ArrayInitializer(CastExpression(PrimitiveType:char)(QualifiedName:stk.ttype)))))))(BreakStatement)(SwitchCase(SimpleName:BRACKET_OPEN))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:tmpBuf))(SimpleName:append)(METHOD_INVOCATION_ARGUMENTS(CastExpression(PrimitiveType:char)(QualifiedName:stk.ttype)))))(ExpressionStatement(Assignment(SimpleName:parserExpects)(ASSIGNMENT_OPERATOR:=)(QualifiedName:ParserExpects.VARIABLE)))(BreakStatement)(SwitchCase)(ExpressionStatement(Assignment(SimpleName:parserExpects)(ASSIGNMENT_OPERATOR:=)(QualifiedName:ParserExpects.NORMAL)))(ExpressionStatement(Assignment(SimpleName:stringToWrite)(ASSIGNMENT_OPERATOR:=)(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:tmpBuf))(SimpleName:toString))(INFIX_EXPRESSION_OPERATOR:+)(CastExpression(PrimitiveType:char)(QualifiedName:stk.ttype)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:tmpBuf))(SimpleName:setLength)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:0))))))(IfStatement(InfixExpression(QualifiedName:stk.ttype)(INFIX_EXPRESSION_OPERATOR:==)(CharacterLiteral:<STR>))(Block(SwitchStatement(SimpleName:parserExpects)(SwitchCase(SimpleName:NORMAL))(ExpressionStatement(Assignment(SimpleName:stringToWrite)(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(SimpleType(SimpleName:String))(ArrayCreation(ArrayType(PrimitiveType:char)(Dimension))(ArrayInitializer(CastExpression(PrimitiveType:char)(QualifiedName:stk.ttype)))))))(BreakStatement)(SwitchCase(SimpleName:BRACKET_CLOSE))(ExpressionStatement(Assignment(SimpleName:parserExpects)(ASSIGNMENT_OPERATOR:=)(QualifiedName:ParserExpects.NORMAL)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:tmpBuf))(SimpleName:append)(METHOD_INVOCATION_ARGUMENTS(CastExpression(PrimitiveType:char)(QualifiedName:stk.ttype)))))(IfStatement(InfixExpression(SimpleName:variableName)(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(ThrowStatement(ClassInstanceCreation(SimpleType(SimpleName:IllegalStateException))(StringLiteral:<STR>))))(ExpressionStatement(Assignment(SimpleName:stringToWrite)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:variables))(SimpleName:get)(METHOD_INVOCATION_ARGUMENTS(SimpleName:variableName)))))(IfStatement(InfixExpression(SimpleName:stringToWrite)(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:logger))(SimpleName:warn)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:tmpBuf))(SimpleName:toString))(StringLiteral:<STR>)))))(ExpressionStatement(Assignment(SimpleName:stringToWrite)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:tmpBuf))(SimpleName:toString))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:tmpBuf))(SimpleName:setLength)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:0))))(BreakStatement)(SwitchCase)(ExpressionStatement(Assignment(SimpleName:parserExpects)(ASSIGNMENT_OPERATOR:=)(QualifiedName:ParserExpects.NORMAL)))(ExpressionStatement(Assignment(SimpleName:stringToWrite)(ASSIGNMENT_OPERATOR:=)(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:tmpBuf))(SimpleName:toString))(INFIX_EXPRESSION_OPERATOR:+)(CastExpression(PrimitiveType:char)(QualifiedName:stk.ttype)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:tmpBuf))(SimpleName:setLength)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:0)))))))))))(IfStatement(InfixExpression(SimpleName:stringToWrite)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:writer))(SimpleName:write)(METHOD_INVOCATION_ARGUMENTS(SimpleName:stringToWrite)))))))))))