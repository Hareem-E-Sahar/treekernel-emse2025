(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:public)(SimpleType(SimpleName:ActionForward))(SimpleName:sendMail)(SingleVariableDeclaration(SimpleType(SimpleName:ActionMapping))(SimpleName:mapping))(SingleVariableDeclaration(SimpleType(SimpleName:ActionForm))(SimpleName:actForm))(SingleVariableDeclaration(SimpleType(SimpleName:HttpServletRequest))(SimpleName:request))(SingleVariableDeclaration(SimpleType(SimpleName:HttpServletResponse))(SimpleName:response))(Block(VariableDeclarationStatement(SimpleType(SimpleName:ActionMessages))(VariableDeclarationFragment(SimpleName:errors)(ClassInstanceCreation(SimpleType(SimpleName:ActionMessages)))))(TryStatement(Block(VariableDeclarationStatement(SimpleType(SimpleName:SendMailForm))(VariableDeclarationFragment(SimpleName:form)(CastExpression(SimpleType(SimpleName:SendMailForm))(SimpleName:actForm))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:senderEmail)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:form))(SimpleName:getSenderEmail))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:body)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:form))(SimpleName:getBody))))(VariableDeclarationStatement(SimpleType(SimpleName:Integer))(VariableDeclarationFragment(SimpleName:mProposalId)(CastExpression(SimpleType(SimpleName:Integer))(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:request))(SimpleName:getSession)))(SimpleName:getAttribute)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:Constants.PROPOSAL_ID))))))(VariableDeclarationStatement(SimpleType(SimpleName:ProposalFacadeLocal))(VariableDeclarationFragment(SimpleName:proposalFacade)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ProposalFacadeUtil))(SimpleName:getLocalHome)))(SimpleName:create))))(VariableDeclarationStatement(SimpleType(SimpleName:ProposalLightValue))(VariableDeclarationFragment(SimpleName:proposal)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:proposalFacade))(SimpleName:findByPrimaryKey)(METHOD_INVOCATION_ARGUMENTS(SimpleName:mProposalId)))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:host)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:mProp))(SimpleName:getProperty)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))))(IfStatement(InfixExpression(SimpleName:host)(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(ExpressionStatement(Assignment(SimpleName:host)(ASSIGNMENT_OPERATOR:=)(StringLiteral:<STR>))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:from)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:mProp))(SimpleName:getProperty)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))))(IfStatement(InfixExpression(SimpleName:from)(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(ExpressionStatement(Assignment(SimpleName:from)(ASSIGNMENT_OPERATOR:=)(StringLiteral:<STR>))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:to)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:mProp))(SimpleName:getProperty)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))))(IfStatement(InfixExpression(SimpleName:to)(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(ExpressionStatement(Assignment(SimpleName:to)(ASSIGNMENT_OPERATOR:=)(StringLiteral:<STR>))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:cc)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:mProp))(SimpleName:getProperty)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))))(IfStatement(InfixExpression(SimpleName:cc)(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(ExpressionStatement(Assignment(SimpleName:cc)(ASSIGNMENT_OPERATOR:=)(StringLiteral:<STR>))))(VariableDeclarationStatement(SimpleType(SimpleName:Properties))(VariableDeclarationFragment(SimpleName:props)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:System))(SimpleName:getProperties))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:props))(SimpleName:put)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(SimpleName:host))))(VariableDeclarationStatement(SimpleType(SimpleName:Session))(VariableDeclarationFragment(SimpleName:session)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Session))(SimpleName:getDefaultInstance)(METHOD_INVOCATION_ARGUMENTS(SimpleName:props)(NullLiteral)))))(VariableDeclarationStatement(SimpleType(SimpleName:MimeMessage))(VariableDeclarationFragment(SimpleName:message)(ClassInstanceCreation(SimpleType(SimpleName:MimeMessage))(SimpleName:session))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:message))(SimpleName:setFrom)(METHOD_INVOCATION_ARGUMENTS(ClassInstanceCreation(SimpleType(SimpleName:InternetAddress))(SimpleName:from)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:message))(SimpleName:addRecipient)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:Message.RecipientType.TO)(ClassInstanceCreation(SimpleType(SimpleName:InternetAddress))(SimpleName:to)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:message))(SimpleName:addRecipient)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:Message.RecipientType.CC)(ClassInstanceCreation(SimpleType(SimpleName:InternetAddress))(SimpleName:senderEmail)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:message))(SimpleName:setSubject)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:proposal))(SimpleName:getCode))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:proposal))(SimpleName:getNumber))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:message))(SimpleName:setText)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(SimpleName:senderEmail)(INFIX_EXPRESSION_OPERATOR:+)(StringLiteral:<STR>)(SimpleName:body)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Transport))(SimpleName:send)(METHOD_INVOCATION_ARGUMENTS(SimpleName:message)))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:Exception))(SimpleName:e))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:errors))(SimpleName:add)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:ActionMessages.GLOBAL_MESSAGE)(ClassInstanceCreation(SimpleType(SimpleName:ActionMessage))(StringLiteral:<STR>)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:e))(SimpleName:toString))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ClientLogger))(SimpleName:getInstance)))(SimpleName:error)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:e))(SimpleName:toString)))))(ExpressionStatement(MethodInvocation(SimpleName:saveErrors)(METHOD_INVOCATION_ARGUMENTS(SimpleName:request)(SimpleName:errors))))(ReturnStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:mapping))(SimpleName:findForward)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))))))(ReturnStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:mapping))(SimpleName:findForward)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))))))