(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:private)(Modifier:final)(PrimitiveType:int)(SimpleName:addFilesToZip)(SingleVariableDeclaration(ParameterizedType(SimpleType(SimpleName:ArrayList))(SimpleType(SimpleName:File)))(SimpleName:files))(SimpleType(SimpleName:IOException))(Block(VariableDeclarationStatement(SimpleType(SimpleName:File))(VariableDeclarationFragment(SimpleName:old_file)(NullLiteral)))(TryStatement(Block(VariableDeclarationStatement(ArrayType(PrimitiveType:byte)(Dimension))(VariableDeclarationFragment(SimpleName:buf)(ArrayCreation(ArrayType(PrimitiveType:byte)(Dimension(SimpleName:BLOCK_SIZE))))))(VariableDeclarationStatement(SimpleType(SimpleName:ZipOutputStream))(VariableDeclarationFragment(SimpleName:out)))(IfStatement(SimpleName:newZip)(Block(ExpressionStatement(Assignment(SimpleName:out)(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(SimpleType(SimpleName:ZipOutputStream))(ClassInstanceCreation(SimpleType(SimpleName:FileOutputStream))(SimpleName:zipFile))))))(Block(VariableDeclarationStatement(SimpleType(SimpleName:ZipFile))(VariableDeclarationFragment(SimpleName:zf)(ClassInstanceCreation(SimpleType(SimpleName:ZipFile))(SimpleName:zipFile))))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:num_entries)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:zf))(SimpleName:size))))(VariableDeclarationStatement(PrimitiveType:long)(VariableDeclarationFragment(SimpleName:total_size)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:zipFile))(SimpleName:length)))(VariableDeclarationFragment(SimpleName:bytes_saved)(NumberLiteral:0)))(ExpressionStatement(Assignment(SimpleName:old_file)(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(SimpleType(SimpleName:File))(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:zipFile))(SimpleName:getAbsolutePath))(INFIX_EXPRESSION_OPERATOR:+)(StringLiteral:<STR>)(MethodInvocation(METHOD_INVOCATION_RECEIVER(ParenthesizedExpression(ClassInstanceCreation(SimpleType(SimpleName:Date)))))(SimpleName:getSeconds))(StringLiteral:<STR>)))))(IfStatement(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:zipFile))(SimpleName:renameTo)(METHOD_INVOCATION_ARGUMENTS(SimpleName:old_file))))(ThrowStatement(ClassInstanceCreation(SimpleType(SimpleName:RuntimeException))(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:zipFile))(SimpleName:getAbsolutePath))(StringLiteral:<STR>)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:old_file))(SimpleName:getAbsolutePath))))))(VariableDeclarationStatement(SimpleType(SimpleName:ZipInputStream))(VariableDeclarationFragment(SimpleName:zin)(ClassInstanceCreation(SimpleType(SimpleName:ZipInputStream))(ClassInstanceCreation(SimpleType(SimpleName:FileInputStream))(SimpleName:old_file)))))(ExpressionStatement(Assignment(SimpleName:out)(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(SimpleType(SimpleName:ZipOutputStream))(ClassInstanceCreation(SimpleType(SimpleName:FileOutputStream))(SimpleName:zipFile)))))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:e_i)(NumberLiteral:0))(VariableDeclarationFragment(SimpleName:pp)))(VariableDeclarationStatement(SimpleType(SimpleName:ZipEntry))(VariableDeclarationFragment(SimpleName:entry)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:zin))(SimpleName:getNextEntry))))(WhileStatement(InfixExpression(SimpleName:entry)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(IfStatement(MethodInvocation(SimpleName:isStopReq))(BreakStatement))(ExpressionStatement(Assignment(SimpleName:pp)(ASSIGNMENT_OPERATOR:=)(InfixExpression(InfixExpression(PostfixExpression(SimpleName:e_i)(POSTFIX_EXPRESSION_OPERATOR:++))(INFIX_EXPRESSION_OPERATOR:*)(NumberLiteral:100))(INFIX_EXPRESSION_OPERATOR:/)(SimpleName:num_entries))))(ExpressionStatement(MethodInvocation(SimpleName:sendProgress)(METHOD_INVOCATION_ARGUMENTS(SimpleName:prep)(SimpleName:pp)(NumberLiteral:0))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:name)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:entry))(SimpleName:getName))))(VariableDeclarationStatement(PrimitiveType:boolean)(VariableDeclarationFragment(SimpleName:notInFiles)(BooleanLiteral:true)))(EnhancedForStatement(SingleVariableDeclaration(SimpleType(SimpleName:File))(SimpleName:f))(SimpleName:files)(Block(IfStatement(MethodInvocation(SimpleName:isStopReq))(BreakStatement))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:f_path)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:f))(SimpleName:getAbsolutePath))))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:f_path))(SimpleName:regionMatches)(METHOD_INVOCATION_ARGUMENTS(BooleanLiteral:true)(SimpleName:basePathLen)(SimpleName:name)(NumberLiteral:0)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:name))(SimpleName:length))))(Block(ExpressionStatement(Assignment(SimpleName:notInFiles)(ASSIGNMENT_OPERATOR:=)(BooleanLiteral:false)))(BreakStatement)))))(IfStatement(SimpleName:notInFiles)(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:out))(SimpleName:putNextEntry)(METHOD_INVOCATION_ARGUMENTS(ClassInstanceCreation(SimpleType(SimpleName:ZipEntry))(SimpleName:name)))))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:len)))(WhileStatement(InfixExpression(ParenthesizedExpression(Assignment(SimpleName:len)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:zin))(SimpleName:read)(METHOD_INVOCATION_ARGUMENTS(SimpleName:buf)))))(INFIX_EXPRESSION_OPERATOR:>)(NumberLiteral:0))(Block(IfStatement(MethodInvocation(SimpleName:isStopReq))(BreakStatement))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:out))(SimpleName:write)(METHOD_INVOCATION_ARGUMENTS(SimpleName:buf)(NumberLiteral:0)(SimpleName:len))))(ExpressionStatement(Assignment(SimpleName:bytes_saved)(ASSIGNMENT_OPERATOR:+=)(SimpleName:len)))(ExpressionStatement(MethodInvocation(SimpleName:sendProgress)(METHOD_INVOCATION_ARGUMENTS(SimpleName:prep)(SimpleName:pp)(CastExpression(PrimitiveType:int)(ParenthesizedExpression(InfixExpression(InfixExpression(SimpleName:bytes_saved)(INFIX_EXPRESSION_OPERATOR:*)(NumberLiteral:100))(INFIX_EXPRESSION_OPERATOR:/)(SimpleName:total_size)))))))))))(ExpressionStatement(Assignment(SimpleName:entry)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:zin))(SimpleName:getNextEntry))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:zin))(SimpleName:close)))(IfStatement(MethodInvocation(SimpleName:isStopReq))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:out))(SimpleName:close)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:zipFile))(SimpleName:delete)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:old_file))(SimpleName:renameTo)(METHOD_INVOCATION_ARGUMENTS(SimpleName:zipFile))))(ReturnStatement(NumberLiteral:0))))))(VariableDeclarationStatement(PrimitiveType:double)(VariableDeclarationFragment(SimpleName:conv)(InfixExpression(NumberLiteral:100.)(INFIX_EXPRESSION_OPERATOR:/)(CastExpression(PrimitiveType:double)(SimpleName:totalSize)))))(VariableDeclarationStatement(PrimitiveType:long)(VariableDeclarationFragment(SimpleName:byte_count)(NumberLiteral:0)))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:i)))(ForStatement(Assignment(SimpleName:i)(ASSIGNMENT_OPERATOR:=)(NumberLiteral:0))(InfixExpression(SimpleName:i)(INFIX_EXPRESSION_OPERATOR:<)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:files))(SimpleName:size)))(PostfixExpression(SimpleName:i)(POSTFIX_EXPRESSION_OPERATOR:++))(Block(IfStatement(MethodInvocation(SimpleName:isStopReq))(BreakStatement))(VariableDeclarationStatement(SimpleType(SimpleName:File))(VariableDeclarationFragment(SimpleName:f)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:files))(SimpleName:get)(METHOD_INVOCATION_ARGUMENTS(SimpleName:i)))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:fn)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:f))(SimpleName:getAbsolutePath))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:rfn)(InfixExpression(SimpleName:destPath)(INFIX_EXPRESSION_OPERATOR:+)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fn))(SimpleName:substring)(METHOD_INVOCATION_ARGUMENTS(SimpleName:basePathLen))))))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:f))(SimpleName:isDirectory))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:out))(SimpleName:putNextEntry)(METHOD_INVOCATION_ARGUMENTS(ClassInstanceCreation(SimpleType(SimpleName:ZipEntry))(InfixExpression(SimpleName:rfn)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:SLS)))))))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:out))(SimpleName:putNextEntry)(METHOD_INVOCATION_ARGUMENTS(ClassInstanceCreation(SimpleType(SimpleName:ZipEntry))(SimpleName:rfn)))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:pack_s)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ctx))(SimpleName:getString)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:R.string.packing)(SimpleName:fn)))))(VariableDeclarationStatement(SimpleType(SimpleName:InputStream))(VariableDeclarationFragment(SimpleName:in)(ClassInstanceCreation(SimpleType(SimpleName:FileInputStream))(SimpleName:f))))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:len)))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:so_far)(CastExpression(PrimitiveType:int)(ParenthesizedExpression(InfixExpression(SimpleName:byte_count)(INFIX_EXPRESSION_OPERATOR:*)(SimpleName:conv))))))(WhileStatement(InfixExpression(ParenthesizedExpression(Assignment(SimpleName:len)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:in))(SimpleName:read)(METHOD_INVOCATION_ARGUMENTS(SimpleName:buf)))))(INFIX_EXPRESSION_OPERATOR:>)(NumberLiteral:0))(Block(IfStatement(MethodInvocation(SimpleName:isStopReq))(BreakStatement))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:out))(SimpleName:write)(METHOD_INVOCATION_ARGUMENTS(SimpleName:buf)(NumberLiteral:0)(SimpleName:len))))(ExpressionStatement(Assignment(SimpleName:byte_count)(ASSIGNMENT_OPERATOR:+=)(SimpleName:len)))(ExpressionStatement(MethodInvocation(SimpleName:sendProgress)(METHOD_INVOCATION_ARGUMENTS(SimpleName:pack_s)(SimpleName:so_far)(CastExpression(PrimitiveType:int)(ParenthesizedExpression(InfixExpression(SimpleName:byte_count)(INFIX_EXPRESSION_OPERATOR:*)(SimpleName:conv)))))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:in))(SimpleName:close)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:out))(SimpleName:closeEntry)))(IfStatement(SimpleName:move)(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:f))(SimpleName:delete))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:out))(SimpleName:close)))(IfStatement(MethodInvocation(SimpleName:isStopReq))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:zipFile))(SimpleName:delete)))(IfStatement(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(SimpleName:newZip))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:old_file))(SimpleName:renameTo)(METHOD_INVOCATION_ARGUMENTS(SimpleName:zipFile)))))(ReturnStatement(NumberLiteral:0))))(IfStatement(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(SimpleName:newZip))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:old_file))(SimpleName:delete))))(ReturnStatement(SimpleName:i)))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:Exception))(SimpleName:e))(Block(ExpressionStatement(MethodInvocation(SimpleName:error)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:e))(SimpleName:getMessage)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:e))(SimpleName:printStackTrace)))(IfStatement(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(SimpleName:newZip))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:zipFile))(SimpleName:delete)))(IfStatement(InfixExpression(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(SimpleName:newZip))(INFIX_EXPRESSION_OPERATOR:&&)(InfixExpression(SimpleName:old_file)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:old_file))(SimpleName:renameTo)(METHOD_INVOCATION_ARGUMENTS(SimpleName:zipFile)))))))(ReturnStatement(NumberLiteral:0)))))))))