(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(MarkerAnnotation(SimpleName:Override))(Modifier:public)(SimpleType(SimpleName:User))(SimpleName:register)(SingleVariableDeclaration(SimpleType(SimpleName:String))(SimpleName:emailAddress))(SingleVariableDeclaration(SimpleType(SimpleName:String))(SimpleName:password))(SingleVariableDeclaration(SimpleType(SimpleName:String))(SimpleName:fullName))(SimpleType(SimpleName:NoSuchGroupException))(SimpleType(SimpleName:AlreadyRegisteredException))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:logger))(SimpleName:info)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:emailAddress)))))(VariableDeclarationStatement(SimpleType(SimpleName:User))(VariableDeclarationFragment(SimpleName:user)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:userFacade))(SimpleName:findByEmail)(METHOD_INVOCATION_ARGUMENTS(SimpleName:emailAddress)))))(IfStatement(InfixExpression(SimpleName:user)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(ThrowStatement(ClassInstanceCreation(SimpleType(SimpleName:AlreadyRegisteredException))(SimpleName:user)))))(VariableDeclarationStatement(SimpleType(SimpleName:Group))(VariableDeclarationFragment(SimpleName:group)(MethodInvocation(SimpleName:getGroup)(METHOD_INVOCATION_ARGUMENTS(SimpleName:USERGROUP)))))(IfStatement(InfixExpression(SimpleName:group)(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(Block(ExpressionStatement(Assignment(SimpleName:group)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:groupFacade))(SimpleName:create)(METHOD_INVOCATION_ARGUMENTS(SimpleName:USERGROUP)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:groupFacade))(SimpleName:create)(METHOD_INVOCATION_ARGUMENTS(SimpleName:ADMINGROUP))))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:digestedPassword)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:TextUtil))(SimpleName:digest)(METHOD_INVOCATION_ARGUMENTS(SimpleName:password)))))(IfStatement(InfixExpression(SimpleName:digestedPassword)(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(Block(ThrowStatement(ClassInstanceCreation(SimpleType(SimpleName:RuntimeException))))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:digestedActivationKey)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:TextUtil))(SimpleName:digest)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(SimpleName:emailAddress)(INFIX_EXPRESSION_OPERATOR:+)(StringLiteral:<STR>)(SimpleName:fullName)(StringLiteral:<STR>)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:TextUtil))(SimpleName:getRandomString)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:10))))))))(IfStatement(InfixExpression(SimpleName:digestedActivationKey)(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(Block(ThrowStatement(ClassInstanceCreation(SimpleType(SimpleName:RuntimeException))))))(ExpressionStatement(Assignment(SimpleName:user)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:userFacade))(SimpleName:createUser)(METHOD_INVOCATION_ARGUMENTS(SimpleName:emailAddress)(SimpleName:digestedPassword)(SimpleName:fullName)(SimpleName:group)(SimpleName:digestedActivationKey)))))(VariableDeclarationStatement(ParameterizedType(SimpleType(SimpleName:Set))(SimpleType(SimpleName:ImageSet)))(VariableDeclarationFragment(SimpleName:sets)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:user))(SimpleName:getImageSets))))(IfStatement(InfixExpression(SimpleName:sets)(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(Block(ExpressionStatement(Assignment(SimpleName:sets)(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(ParameterizedType(SimpleType(SimpleName:HashSet))(SimpleType(SimpleName:ImageSet))))))))(VariableDeclarationStatement(SimpleType(SimpleName:ImageSet))(VariableDeclarationFragment(SimpleName:set)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:imageSetFacade))(SimpleName:createImageSet)(METHOD_INVOCATION_ARGUMENTS(SimpleName:user)(QualifiedName:ImageSetFacadeLocal.DEFAULT)(QualifiedName:ImageSetFacadeLocal.DEFAULT)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:sets))(SimpleName:add)(METHOD_INVOCATION_ARGUMENTS(SimpleName:set))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:user))(SimpleName:setImageSets)(METHOD_INVOCATION_ARGUMENTS(SimpleName:sets))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:userFacade))(SimpleName:modify)(METHOD_INVOCATION_ARGUMENTS(SimpleName:user))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:logger))(SimpleName:info)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:emailAddress)))))(ReturnStatement(SimpleName:user))))))