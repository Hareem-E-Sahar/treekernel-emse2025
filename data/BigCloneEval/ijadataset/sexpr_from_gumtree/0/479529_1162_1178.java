(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:public)(PrimitiveType:int)(SimpleName:Call)(SingleVariableDeclaration(SimpleType(SimpleName:lua_State))(SimpleName:thread))(Block(ExpressionStatement(MethodInvocation(SimpleName:createmeta)(METHOD_INVOCATION_ARGUMENTS(SimpleName:thread))))(VariableDeclarationStatement(ArrayType(SimpleType(SimpleName:luaL_Reg))(Dimension))(VariableDeclarationFragment(SimpleName:luaReg)(ArrayCreation(ArrayType(SimpleType(SimpleName:luaL_Reg))(Dimension))(ArrayInitializer(ClassInstanceCreation(SimpleType(SimpleName:luaL_Reg))(StringLiteral:<STR>)(ClassInstanceCreation(SimpleType(SimpleName:io_close))))(ClassInstanceCreation(SimpleType(SimpleName:luaL_Reg))(StringLiteral:<STR>)(ClassInstanceCreation(SimpleType(SimpleName:io_flush))))(ClassInstanceCreation(SimpleType(SimpleName:luaL_Reg))(StringLiteral:<STR>)(ClassInstanceCreation(SimpleType(SimpleName:io_input))))(ClassInstanceCreation(SimpleType(SimpleName:luaL_Reg))(StringLiteral:<STR>)(ClassInstanceCreation(SimpleType(SimpleName:io_lines))))(ClassInstanceCreation(SimpleType(SimpleName:luaL_Reg))(StringLiteral:<STR>)(ClassInstanceCreation(SimpleType(SimpleName:io_open))))(ClassInstanceCreation(SimpleType(SimpleName:luaL_Reg))(StringLiteral:<STR>)(ClassInstanceCreation(SimpleType(SimpleName:io_output))))(ClassInstanceCreation(SimpleType(SimpleName:luaL_Reg))(StringLiteral:<STR>)(ClassInstanceCreation(SimpleType(SimpleName:io_popen))))(ClassInstanceCreation(SimpleType(SimpleName:luaL_Reg))(StringLiteral:<STR>)(ClassInstanceCreation(SimpleType(SimpleName:io_read))))(ClassInstanceCreation(SimpleType(SimpleName:luaL_Reg))(StringLiteral:<STR>)(ClassInstanceCreation(SimpleType(SimpleName:io_tmpfile))))(ClassInstanceCreation(SimpleType(SimpleName:luaL_Reg))(StringLiteral:<STR>)(ClassInstanceCreation(SimpleType(SimpleName:io_type))))(ClassInstanceCreation(SimpleType(SimpleName:luaL_Reg))(StringLiteral:<STR>)(ClassInstanceCreation(SimpleType(SimpleName:io_write))))))))(ExpressionStatement(MethodInvocation(SimpleName:newfenv)(METHOD_INVOCATION_ARGUMENTS(SimpleName:thread)(ClassInstanceCreation(SimpleType(SimpleName:io_fclose))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:LuaAPI))(SimpleName:lua_replace)(METHOD_INVOCATION_ARGUMENTS(SimpleName:thread)(QualifiedName:LuaAPI.LUA_ENVIRONINDEX))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:LuaAPI))(SimpleName:luaL_register)(METHOD_INVOCATION_ARGUMENTS(SimpleName:thread)(SimpleName:LUA_IOLIBNAME)(SimpleName:luaReg))))(ExpressionStatement(MethodInvocation(SimpleName:newfenv)(METHOD_INVOCATION_ARGUMENTS(SimpleName:thread)(ClassInstanceCreation(SimpleType(SimpleName:io_noclose))))))(ExpressionStatement(MethodInvocation(SimpleName:createstdfile)(METHOD_INVOCATION_ARGUMENTS(SimpleName:thread)(ClassInstanceCreation(SimpleType(SimpleName:FileStruct)))(SimpleName:IO_INPUT)(StringLiteral:<STR>))))(ExpressionStatement(MethodInvocation(SimpleName:createstdfile)(METHOD_INVOCATION_ARGUMENTS(SimpleName:thread)(ClassInstanceCreation(SimpleType(SimpleName:FileStruct)))(SimpleName:IO_OUTPUT)(StringLiteral:<STR>))))(ExpressionStatement(MethodInvocation(SimpleName:createstdfile)(METHOD_INVOCATION_ARGUMENTS(SimpleName:thread)(ClassInstanceCreation(SimpleType(SimpleName:FileStruct)))(NumberLiteral:0)(StringLiteral:<STR>))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:LuaAPI))(SimpleName:lua_pop)(METHOD_INVOCATION_ARGUMENTS(SimpleName:thread)(NumberLiteral:1))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:LuaAPI))(SimpleName:lua_getfield)(METHOD_INVOCATION_ARGUMENTS(SimpleName:thread)(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:-)(NumberLiteral:1))(StringLiteral:<STR>))))(ExpressionStatement(MethodInvocation(SimpleName:newfenv)(METHOD_INVOCATION_ARGUMENTS(SimpleName:thread)(ClassInstanceCreation(SimpleType(SimpleName:io_pclose))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:LuaAPI))(SimpleName:lua_setfenv)(METHOD_INVOCATION_ARGUMENTS(SimpleName:thread)(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:-)(NumberLiteral:2)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:LuaAPI))(SimpleName:lua_pop)(METHOD_INVOCATION_ARGUMENTS(SimpleName:thread)(NumberLiteral:1))))(ReturnStatement(NumberLiteral:1))))))