(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:public)(SimpleName:FileManager)(SingleVariableDeclaration(SimpleType(SimpleName:EnvironmentImpl))(SimpleName:envImpl))(SingleVariableDeclaration(SimpleType(SimpleName:File))(SimpleName:dbEnvHome))(SingleVariableDeclaration(PrimitiveType:boolean)(SimpleName:readOnly))(SimpleType(SimpleName:EnvironmentLockedException))(Block(ExpressionStatement(Assignment(FieldAccess(ThisExpression)(SimpleName:envImpl))(ASSIGNMENT_OPERATOR:=)(SimpleName:envImpl)))(ExpressionStatement(Assignment(FieldAccess(ThisExpression)(SimpleName:dbEnvHome))(ASSIGNMENT_OPERATOR:=)(SimpleName:dbEnvHome)))(ExpressionStatement(Assignment(FieldAccess(ThisExpression)(SimpleName:readOnly))(ASSIGNMENT_OPERATOR:=)(SimpleName:readOnly)))(VariableDeclarationStatement(PrimitiveType:boolean)(VariableDeclarationFragment(SimpleName:success)(BooleanLiteral:false)))(ExpressionStatement(Assignment(SimpleName:stats)(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(SimpleType(SimpleName:StatGroup))(QualifiedName:LogStatDefinition.FILEMGR_GROUP_NAME)(QualifiedName:LogStatDefinition.FILEMGR_GROUP_DESC))))(ExpressionStatement(Assignment(SimpleName:nRandomReads)(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(SimpleType(SimpleName:LongStat))(SimpleName:stats)(SimpleName:FILEMGR_RANDOM_READS))))(ExpressionStatement(Assignment(SimpleName:nRandomWrites)(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(SimpleType(SimpleName:LongStat))(SimpleName:stats)(SimpleName:FILEMGR_RANDOM_WRITES))))(ExpressionStatement(Assignment(SimpleName:nSequentialReads)(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(SimpleType(SimpleName:LongStat))(SimpleName:stats)(SimpleName:FILEMGR_SEQUENTIAL_READS))))(ExpressionStatement(Assignment(SimpleName:nSequentialWrites)(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(SimpleType(SimpleName:LongStat))(SimpleName:stats)(SimpleName:FILEMGR_SEQUENTIAL_WRITES))))(ExpressionStatement(Assignment(SimpleName:nRandomReadBytes)(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(SimpleType(SimpleName:LongStat))(SimpleName:stats)(SimpleName:FILEMGR_RANDOM_READ_BYTES))))(ExpressionStatement(Assignment(SimpleName:nRandomWriteBytes)(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(SimpleType(SimpleName:LongStat))(SimpleName:stats)(SimpleName:FILEMGR_RANDOM_WRITE_BYTES))))(ExpressionStatement(Assignment(SimpleName:nSequentialReadBytes)(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(SimpleType(SimpleName:LongStat))(SimpleName:stats)(SimpleName:FILEMGR_SEQUENTIAL_READ_BYTES))))(ExpressionStatement(Assignment(SimpleName:nSequentialWriteBytes)(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(SimpleType(SimpleName:LongStat))(SimpleName:stats)(SimpleName:FILEMGR_SEQUENTIAL_WRITE_BYTES))))(ExpressionStatement(Assignment(SimpleName:nFileOpens)(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(SimpleType(SimpleName:IntStat))(SimpleName:stats)(SimpleName:FILEMGR_FILE_OPENS))))(ExpressionStatement(Assignment(SimpleName:nOpenFiles)(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(SimpleType(SimpleName:IntStat))(SimpleName:stats)(SimpleName:FILEMGR_OPEN_FILES))))(ExpressionStatement(Assignment(SimpleName:nBytesReadFromWriteQueue)(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(SimpleType(SimpleName:LongStat))(SimpleName:stats)(SimpleName:FILEMGR_BYTES_READ_FROM_WRITEQUEUE))))(ExpressionStatement(Assignment(SimpleName:nBytesWrittenFromWriteQueue)(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(SimpleType(SimpleName:LongStat))(SimpleName:stats)(SimpleName:FILEMGR_BYTES_WRITTEN_FROM_WRITEQUEUE))))(ExpressionStatement(Assignment(SimpleName:nReadsFromWriteQueue)(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(SimpleType(SimpleName:LongStat))(SimpleName:stats)(SimpleName:FILEMGR_READS_FROM_WRITEQUEUE))))(ExpressionStatement(Assignment(SimpleName:nWritesFromWriteQueue)(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(SimpleType(SimpleName:LongStat))(SimpleName:stats)(SimpleName:FILEMGR_WRITES_FROM_WRITEQUEUE))))(ExpressionStatement(Assignment(SimpleName:nWriteQueueOverflow)(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(SimpleType(SimpleName:LongStat))(SimpleName:stats)(SimpleName:FILEMGR_WRITEQUEUE_OVERFLOW))))(ExpressionStatement(Assignment(SimpleName:nWriteQueueOverflowFailures)(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(SimpleType(SimpleName:LongStat))(SimpleName:stats)(SimpleName:FILEMGR_WRITEQUEUE_OVERFLOW_FAILURES))))(ExpressionStatement(Assignment(SimpleName:nLogFSyncs)(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(SimpleType(SimpleName:LongStat))(SimpleName:stats)(SimpleName:FILEMGR_LOG_FSYNCS))))(TryStatement(Block(VariableDeclarationStatement(SimpleType(SimpleName:DbConfigManager))(VariableDeclarationFragment(SimpleName:configManager)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:envImpl))(SimpleName:getConfigManager))))(ExpressionStatement(Assignment(SimpleName:maxFileSize)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:configManager))(SimpleName:getLong)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:EnvironmentParams.LOG_FILE_MAX)))))(ExpressionStatement(Assignment(SimpleName:useWriteQueue)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:configManager))(SimpleName:getBoolean)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:EnvironmentParams.LOG_USE_WRITE_QUEUE)))))(ExpressionStatement(Assignment(SimpleName:writeQueueSize)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:configManager))(SimpleName:getInt)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:EnvironmentParams.LOG_WRITE_QUEUE_SIZE)))))(ExpressionStatement(Assignment(SimpleName:useODSYNC)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:configManager))(SimpleName:getBoolean)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:EnvironmentParams.LOG_USE_ODSYNC)))))(ExpressionStatement(Assignment(SimpleName:VERIFY_CHECKSUMS)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:configManager))(SimpleName:getBoolean)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:EnvironmentParams.LOG_VERIFY_CHECKSUMS)))))(IfStatement(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:envImpl))(SimpleName:isMemOnly)))(Block(IfStatement(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:dbEnvHome))(SimpleName:exists)))(Block(ThrowStatement(ClassInstanceCreation(SimpleType(SimpleName:IllegalArgumentException))(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:dbEnvHome)(StringLiteral:<STR>))))))(IfStatement(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(MethodInvocation(SimpleName:lockEnvironment)(METHOD_INVOCATION_ARGUMENTS(SimpleName:readOnly)(BooleanLiteral:false))))(Block(ThrowStatement(ClassInstanceCreation(SimpleType(SimpleName:EnvironmentLockedException))(SimpleName:envImpl)(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(ParenthesizedExpression(ConditionalExpression(SimpleName:readOnly)(StringLiteral:<STR>)(StringLiteral:<STR>)))(StringLiteral:<STR>))))))))(ExpressionStatement(Assignment(SimpleName:fileCache)(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(SimpleType(SimpleName:FileCache))(SimpleName:configManager))))(ExpressionStatement(Assignment(SimpleName:fileCacheLatch)(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(SimpleType(SimpleName:Latch))(InfixExpression(SimpleName:DEBUG_NAME)(INFIX_EXPRESSION_OPERATOR:+)(StringLiteral:<STR>)))))(ExpressionStatement(Assignment(SimpleName:currentFileNum)(ASSIGNMENT_OPERATOR:=)(NumberLiteral:0L)))(ExpressionStatement(Assignment(SimpleName:nextAvailableLsn)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:DbLsn))(SimpleName:makeLsn)(METHOD_INVOCATION_ARGUMENTS(SimpleName:currentFileNum)(MethodInvocation(SimpleName:firstLogEntryOffset))))))(ExpressionStatement(Assignment(SimpleName:lastUsedLsn)(ASSIGNMENT_OPERATOR:=)(QualifiedName:DbLsn.NULL_LSN)))(ExpressionStatement(Assignment(SimpleName:perFileLastUsedLsn)(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(ParameterizedType(SimpleType(SimpleName:HashMap))(SimpleType(SimpleName:Long))(SimpleType(SimpleName:Long))))))(ExpressionStatement(Assignment(SimpleName:prevOffset)(ASSIGNMENT_OPERATOR:=)(NumberLiteral:0L)))(ExpressionStatement(Assignment(SimpleName:endOfLog)(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(SimpleType(SimpleName:LogEndFileDescriptor)))))(ExpressionStatement(Assignment(SimpleName:forceNewFile)(ASSIGNMENT_OPERATOR:=)(BooleanLiteral:false)))(ExpressionStatement(MethodInvocation(SimpleName:saveLastPosition)))(VariableDeclarationStatement(Modifier:final)(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:stopOnWriteCountName)(StringLiteral:<STR>)))(VariableDeclarationStatement(Modifier:final)(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:stopOnWriteCountProp)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:System))(SimpleName:getProperty)(METHOD_INVOCATION_ARGUMENTS(SimpleName:stopOnWriteCountName)))))(IfStatement(InfixExpression(SimpleName:stopOnWriteCountProp)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(TryStatement(Block(ExpressionStatement(Assignment(SimpleName:STOP_ON_WRITE_COUNT)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Long))(SimpleName:parseLong)(METHOD_INVOCATION_ARGUMENTS(SimpleName:stopOnWriteCountProp))))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:NumberFormatException))(SimpleName:e))(Block(ThrowStatement(ClassInstanceCreation(SimpleType(SimpleName:IllegalArgumentException))(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:stopOnWriteCountName))(SimpleName:e))))))))(VariableDeclarationStatement(Modifier:final)(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:stopOnWriteActionName)(StringLiteral:<STR>)))(VariableDeclarationStatement(Modifier:final)(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:stopOnWriteActionProp)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:System))(SimpleName:getProperty)(METHOD_INVOCATION_ARGUMENTS(SimpleName:stopOnWriteActionName)))))(IfStatement(InfixExpression(SimpleName:stopOnWriteActionProp)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(IfStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:stopOnWriteActionProp))(SimpleName:compareToIgnoreCase)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))(INFIX_EXPRESSION_OPERATOR:==)(NumberLiteral:0))(Block(ExpressionStatement(Assignment(SimpleName:THROW_ON_WRITE)(ASSIGNMENT_OPERATOR:=)(BooleanLiteral:true))))(IfStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:stopOnWriteActionProp))(SimpleName:compareToIgnoreCase)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))(INFIX_EXPRESSION_OPERATOR:==)(NumberLiteral:0))(Block(ExpressionStatement(Assignment(SimpleName:THROW_ON_WRITE)(ASSIGNMENT_OPERATOR:=)(BooleanLiteral:false))))(Block(ThrowStatement(ClassInstanceCreation(SimpleType(SimpleName:IllegalArgumentException))(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:stopOnWriteActionName)(SimpleName:stopOnWriteActionProp)))))))))(ExpressionStatement(Assignment(SimpleName:syncManager)(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(SimpleType(SimpleName:FSyncManager))(SimpleName:envImpl))))(ExpressionStatement(Assignment(SimpleName:success)(ASSIGNMENT_OPERATOR:=)(BooleanLiteral:true))))(Block(IfStatement(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(SimpleName:success))(Block(TryStatement(Block(ExpressionStatement(MethodInvocation(SimpleName:close))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:IOException))(SimpleName:e))(Block)))))))))))