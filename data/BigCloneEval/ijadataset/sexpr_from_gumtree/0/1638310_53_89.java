(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:public)(PrimitiveType:int)(SimpleName:read)(SingleVariableDeclaration(ArrayType(PrimitiveType:int)(Dimension))(SimpleName:buffer))(SingleVariableDeclaration(PrimitiveType:int)(SimpleName:off))(SingleVariableDeclaration(PrimitiveType:int)(SimpleName:len))(Block(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:written)(NumberLiteral:0)))(TryStatement(Block(WhileStatement(InfixExpression(SimpleName:len)(INFIX_EXPRESSION_OPERATOR:>)(NumberLiteral:0))(Block(IfStatement(InfixExpression(SimpleName:samplesLeft)(INFIX_EXPRESSION_OPERATOR:==)(NumberLiteral:0))(Block(VariableDeclarationStatement(SimpleType(SimpleName:Header))(VariableDeclarationFragment(SimpleName:h)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:bitstream))(SimpleName:readFrame))))(IfStatement(InfixExpression(SimpleName:h)(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(Block(IfStatement(InfixExpression(SimpleName:written)(INFIX_EXPRESSION_OPERATOR:==)(NumberLiteral:0))(ReturnStatement(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:-)(NumberLiteral:1))))(ReturnStatement(SimpleName:written))))(VariableDeclarationStatement(SimpleType(SimpleName:SampleBuffer))(VariableDeclarationFragment(SimpleName:output)(CastExpression(SimpleType(SimpleName:SampleBuffer))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:decoder))(SimpleName:decodeFrame)(METHOD_INVOCATION_ARGUMENTS(SimpleName:h)(SimpleName:bitstream))))))(ExpressionStatement(Assignment(SimpleName:samples)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:output))(SimpleName:getBuffer))))(ExpressionStatement(Assignment(SimpleName:samplePos)(ASSIGNMENT_OPERATOR:=)(NumberLiteral:0)))(ExpressionStatement(Assignment(SimpleName:channels)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:output))(SimpleName:getChannelCount))))(ExpressionStatement(Assignment(SimpleName:pitch)(ASSIGNMENT_OPERATOR:=)(CastExpression(PrimitiveType:int)(ParenthesizedExpression(InfixExpression(ParenthesizedExpression(InfixExpression(CastExpression(PrimitiveType:float)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:output))(SimpleName:getSampleFrequency)))(INFIX_EXPRESSION_OPERATOR:/)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:device))(SimpleName:getSampleRate))))(INFIX_EXPRESSION_OPERATOR:*)(NumberLiteral:65536))))))(ExpressionStatement(Assignment(SimpleName:samplesLeft)(ASSIGNMENT_OPERATOR:=)(InfixExpression(ParenthesizedExpression(InfixExpression(ParenthesizedExpression(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:output))(SimpleName:getBufferLength))(INFIX_EXPRESSION_OPERATOR:/)(SimpleName:channels)))(INFIX_EXPRESSION_OPERATOR:<<)(NumberLiteral:16)))(INFIX_EXPRESSION_OPERATOR:/)(SimpleName:pitch))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:bitstream))(SimpleName:closeFrame)))))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:read)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Math))(SimpleName:min)(METHOD_INVOCATION_ARGUMENTS(SimpleName:samplesLeft)(SimpleName:len)))))(ForStatement(VariableDeclarationExpression(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:i)(NumberLiteral:0)))(InfixExpression(SimpleName:i)(INFIX_EXPRESSION_OPERATOR:<)(SimpleName:read))(PostfixExpression(SimpleName:i)(POSTFIX_EXPRESSION_OPERATOR:++))(Block(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:realPos)(InfixExpression(ParenthesizedExpression(InfixExpression(SimpleName:samplePos)(INFIX_EXPRESSION_OPERATOR:>>)(NumberLiteral:16)))(INFIX_EXPRESSION_OPERATOR:*)(SimpleName:channels))))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:l)(InfixExpression(MethodInvocation(SimpleName:clamp)(METHOD_INVOCATION_ARGUMENTS(ArrayAccess(SimpleName:samples)(SimpleName:realPos))))(INFIX_EXPRESSION_OPERATOR:&)(NumberLiteral:0xffff))))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:r)(SimpleName:l)))(IfStatement(InfixExpression(SimpleName:channels)(INFIX_EXPRESSION_OPERATOR:==)(NumberLiteral:2))(ExpressionStatement(Assignment(SimpleName:r)(ASSIGNMENT_OPERATOR:=)(InfixExpression(MethodInvocation(SimpleName:clamp)(METHOD_INVOCATION_ARGUMENTS(ArrayAccess(SimpleName:samples)(InfixExpression(SimpleName:realPos)(INFIX_EXPRESSION_OPERATOR:+)(NumberLiteral:1)))))(INFIX_EXPRESSION_OPERATOR:&)(NumberLiteral:0xffff)))))(ExpressionStatement(Assignment(SimpleName:samplePos)(ASSIGNMENT_OPERATOR:+=)(SimpleName:pitch)))(ExpressionStatement(Assignment(ArrayAccess(SimpleName:buffer)(InfixExpression(SimpleName:off)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:i)))(ASSIGNMENT_OPERATOR:=)(InfixExpression(SimpleName:l)(INFIX_EXPRESSION_OPERATOR:|)(InfixExpression(SimpleName:r)(INFIX_EXPRESSION_OPERATOR:<<)(NumberLiteral:16)))))))(ExpressionStatement(Assignment(SimpleName:off)(ASSIGNMENT_OPERATOR:+=)(SimpleName:read)))(ExpressionStatement(Assignment(SimpleName:len)(ASSIGNMENT_OPERATOR:-=)(SimpleName:read)))(ExpressionStatement(Assignment(SimpleName:samplesLeft)(ASSIGNMENT_OPERATOR:-=)(SimpleName:read)))(ExpressionStatement(Assignment(SimpleName:written)(ASSIGNMENT_OPERATOR:+=)(SimpleName:read))))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:Exception))(SimpleName:ex))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ex))(SimpleName:printStackTrace))))))(ReturnStatement(SimpleName:written))))))