(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:public)(PrimitiveType:void)(SimpleName:testSimpleQuery)(SimpleType(SimpleName:Exception))(Block(VariableDeclarationStatement(SimpleType(SimpleName:JCRNodeSource))(VariableDeclarationFragment(SimpleName:dummySource)(CastExpression(SimpleType(SimpleName:JCRNodeSource))(MethodInvocation(SimpleName:resolveSource)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(SimpleName:BASE_URL)(INFIX_EXPRESSION_OPERATOR:+)(StringLiteral:<STR>)))))))(ExpressionStatement(MethodInvocation(SimpleName:assertNotNull)(METHOD_INVOCATION_ARGUMENTS(SimpleName:dummySource))))(VariableDeclarationStatement(SimpleType(SimpleName:OutputStream))(VariableDeclarationFragment(SimpleName:os)(MethodInvocation(METHOD_INVOCATION_RECEIVER(ParenthesizedExpression(CastExpression(SimpleType(SimpleName:ModifiableSource))(SimpleName:dummySource))))(SimpleName:getOutputStream))))(ExpressionStatement(MethodInvocation(SimpleName:assertNotNull)(METHOD_INVOCATION_ARGUMENTS(SimpleName:os))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:dummyContent)(StringLiteral:<STR>)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:os))(SimpleName:write)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:dummyContent))(SimpleName:getBytes)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:os))(SimpleName:flush)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:os))(SimpleName:close)))(VariableDeclarationStatement(SimpleType(SimpleName:JCRNodeSource))(VariableDeclarationFragment(SimpleName:source)(CastExpression(SimpleType(SimpleName:JCRNodeSource))(MethodInvocation(SimpleName:resolveSource)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(SimpleName:BASE_URL)(INFIX_EXPRESSION_OPERATOR:+)(StringLiteral:<STR>)))))))(ExpressionStatement(MethodInvocation(SimpleName:assertNotNull)(METHOD_INVOCATION_ARGUMENTS(SimpleName:source))))(ExpressionStatement(Assignment(SimpleName:os)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(ParenthesizedExpression(CastExpression(SimpleType(SimpleName:ModifiableSource))(SimpleName:source))))(SimpleName:getOutputStream))))(ExpressionStatement(MethodInvocation(SimpleName:assertNotNull)(METHOD_INVOCATION_ARGUMENTS(SimpleName:os))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:content)(StringLiteral:<STR>)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:os))(SimpleName:write)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:content))(SimpleName:getBytes)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:os))(SimpleName:flush)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:os))(SimpleName:close)))(VariableDeclarationStatement(SimpleType(SimpleName:QueryResultSource))(VariableDeclarationFragment(SimpleName:qResult)(CastExpression(SimpleType(SimpleName:QueryResultSource))(MethodInvocation(SimpleName:resolveSource)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(SimpleName:BASE_URL)(INFIX_EXPRESSION_OPERATOR:+)(StringLiteral:<STR>)))))))(ExpressionStatement(MethodInvocation(SimpleName:assertNotNull)(METHOD_INVOCATION_ARGUMENTS(SimpleName:qResult))))(VariableDeclarationStatement(SimpleType(SimpleName:Collection))(VariableDeclarationFragment(SimpleName:results)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:qResult))(SimpleName:getChildren))))(ExpressionStatement(MethodInvocation(SimpleName:assertEquals)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:1)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:results))(SimpleName:size)))))(VariableDeclarationStatement(SimpleType(SimpleName:Iterator))(VariableDeclarationFragment(SimpleName:it)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:results))(SimpleName:iterator))))(VariableDeclarationStatement(SimpleType(SimpleName:JCRNodeSource))(VariableDeclarationFragment(SimpleName:rSrc)(CastExpression(SimpleType(SimpleName:JCRNodeSource))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:it))(SimpleName:next)))))(VariableDeclarationStatement(SimpleType(SimpleName:InputStream))(VariableDeclarationFragment(SimpleName:rSrcIn)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:rSrc))(SimpleName:getInputStream))))(VariableDeclarationStatement(SimpleType(SimpleName:ByteArrayOutputStream))(VariableDeclarationFragment(SimpleName:actualOut)(ClassInstanceCreation(SimpleType(SimpleName:ByteArrayOutputStream)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:IOUtils))(SimpleName:copy)(METHOD_INVOCATION_ARGUMENTS(SimpleName:rSrcIn)(SimpleName:actualOut))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:rSrcIn))(SimpleName:close)))(ExpressionStatement(MethodInvocation(SimpleName:assertEquals)(METHOD_INVOCATION_ARGUMENTS(SimpleName:content)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:actualOut))(SimpleName:toString)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:actualOut))(SimpleName:close)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:rSrc))(SimpleName:delete)))))))