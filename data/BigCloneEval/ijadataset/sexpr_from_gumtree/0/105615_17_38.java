(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:public)(PrimitiveType:void)(SimpleName:handle)(SingleVariableDeclaration(SimpleType(SimpleName:INonBlockingConnection))(SimpleName:client))(SingleVariableDeclaration(SimpleType(SimpleName:LeaveChannelMessage))(SimpleName:message))(SimpleType(SimpleName:IOException))(Block(VariableDeclarationStatement(SimpleType(SimpleName:SocketServer))(VariableDeclarationFragment(SimpleName:ss)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:SocketServer))(SimpleName:getInstance))))(VariableDeclarationStatement(Modifier:final)(SimpleType(SimpleName:ClientHandle))(VariableDeclarationFragment(SimpleName:cs)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ss))(SimpleName:get)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:message.id)))))(IfStatement(InfixExpression(SimpleName:cs)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(VariableDeclarationStatement(SimpleType(SimpleName:KillPeerMessage))(VariableDeclarationFragment(SimpleName:killPeer)(ClassInstanceCreation(SimpleType(SimpleName:KillPeerMessage)))))(ExpressionStatement(Assignment(QualifiedName:killPeer.id)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:cs))(SimpleName:getId))))(EnhancedForStatement(SingleVariableDeclaration(SimpleType(SimpleName:Integer))(SimpleName:id))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:cs))(SimpleName:getIds))(Block(VariableDeclarationStatement(SimpleType(SimpleName:ClientHandle))(VariableDeclarationFragment(SimpleName:ses)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ss))(SimpleName:get)(METHOD_INVOCATION_ARGUMENTS(SimpleName:id)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ses))(SimpleName:getIds)))(SimpleName:remove)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Integer))(SimpleName:valueOf)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:cs))(SimpleName:getId)))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ss))(SimpleName:send)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ses))(SimpleName:connection))(SimpleName:killPeer))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:cs))(SimpleName:getIds)))(SimpleName:clear)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Persister))(SimpleName:getInstance)))(SimpleName:execute)(METHOD_INVOCATION_ARGUMENTS(ClassInstanceCreation(SimpleType(SimpleName:MarkAsOffline))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:cs))(SimpleName:getChannel))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:cs))(SimpleName:getEmail))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:cs))(SimpleName:setChannelId)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:0))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:cs))(SimpleName:setChannel)(METHOD_INVOCATION_ARGUMENTS(NullLiteral))))(VariableDeclarationStatement(SimpleType(SimpleName:State))(VariableDeclarationFragment(SimpleName:state)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:cs))(SimpleName:getState))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:state))(SimpleName:setBaseStatus)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:PeterHi.BASE_STATUS_OFFLINE))))))(VariableDeclarationStatement(SimpleType(SimpleName:LeaveChannelResponse))(VariableDeclarationFragment(SimpleName:response)(ClassInstanceCreation(SimpleType(SimpleName:LeaveChannelResponse)))))(ExpressionStatement(Assignment(QualifiedName:response.code)(ASSIGNMENT_OPERATOR:=)(QualifiedName:PeterHi.OK)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ss))(SimpleName:send)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:cs))(SimpleName:connection))(SimpleName:response))))))))