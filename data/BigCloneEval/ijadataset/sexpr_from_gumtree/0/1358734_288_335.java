(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:public)(PrimitiveType:void)(SimpleName:startDownload)(SimpleType(SimpleName:IOException))(Block(VariableDeclarationStatement(SimpleType(SimpleName:Flags))(VariableDeclarationFragment(SimpleName:f)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Flags))(SimpleName:valueOf)(METHOD_INVOCATION_ARGUMENTS(SimpleName:flags)))))(VariableDeclarationStatement(SimpleType(QualifiedName:FileCache.Group))(VariableDeclarationFragment(SimpleName:cache)(ConditionalExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:f))(SimpleName:isSet)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(SimpleName:DOWNLOAD_NO_CACHE_UPDATE)(INFIX_EXPRESSION_OPERATOR:|)(SimpleName:DOWNLOAD_USE_CACHE))))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:FileCache))(SimpleName:getDownloadGroup))(NullLiteral))))(TryStatement(Block(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:f))(SimpleName:isSet)(METHOD_INVOCATION_ARGUMENTS(SimpleName:DOWNLOAD_NO_CACHE_UPDATE)))(Block(ExpressionStatement(Assignment(SimpleName:file)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:cache))(SimpleName:getFile)(METHOD_INVOCATION_ARGUMENTS(SimpleName:url)(QualifiedName:FileCache.IGNORE_DATE)))))(IfStatement(InfixExpression(SimpleName:file)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(ExpressionStatement(Assignment(SimpleName:length)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:file))(SimpleName:length))))(IfStatement(InfixExpression(SimpleName:destinationFile)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:FS))(SimpleName:copyFile)(METHOD_INVOCATION_ARGUMENTS(SimpleName:file)(SimpleName:destinationFile)))))(ReturnStatement)))))(ExpressionStatement(Assignment(SimpleName:connection)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:url))(SimpleName:openConnection))))(ExpressionStatement(MethodInvocation(SimpleName:setupConnection)(METHOD_INVOCATION_ARGUMENTS(SimpleName:connection)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:f))(SimpleName:intValue)))))(ExpressionStatement(Assignment(SimpleName:connection)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(SimpleName:checkTemporaryRedirect)(METHOD_INVOCATION_ARGUMENTS(SimpleName:connection)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:f))(SimpleName:intValue))))))(ExpressionStatement(Assignment(SimpleName:lastModified)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:connection))(SimpleName:getLastModified))))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:f))(SimpleName:isSet)(METHOD_INVOCATION_ARGUMENTS(SimpleName:DOWNLOAD_USE_CACHE)))(Block(ExpressionStatement(Assignment(SimpleName:file)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:cache))(SimpleName:getFile)(METHOD_INVOCATION_ARGUMENTS(SimpleName:url)(SimpleName:lastModified)))))(IfStatement(InfixExpression(SimpleName:file)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:log))(SimpleName:debugFormat)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(SimpleName:file))))(ExpressionStatement(Assignment(SimpleName:length)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:file))(SimpleName:length))))(IfStatement(InfixExpression(SimpleName:destinationFile)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:FS))(SimpleName:copyFile)(METHOD_INVOCATION_ARGUMENTS(SimpleName:file)(SimpleName:destinationFile)))))(ReturnStatement)))(IfStatement(InfixExpression(SimpleName:lastModified)(INFIX_EXPRESSION_OPERATOR:==)(QualifiedName:FileCache.NO_DATE))(ExpressionStatement(Assignment(SimpleName:file)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:cache))(SimpleName:newPath)(METHOD_INVOCATION_ARGUMENTS(SimpleName:url)(QualifiedName:FileCache.IGNORE_DATE)(SimpleName:cacheSuffix))))(SimpleName:toFile))))(ExpressionStatement(Assignment(SimpleName:file)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:cache))(SimpleName:newPath)(METHOD_INVOCATION_ARGUMENTS(SimpleName:url)(SimpleName:lastModified)(SimpleName:cacheSuffix))))(SimpleName:toFile)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:log))(SimpleName:debugFormat)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(SimpleName:file)))))(Block(ExpressionStatement(Assignment(SimpleName:file)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:File))(SimpleName:createTempFile)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(SimpleName:cacheSuffix)))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:log))(SimpleName:debugFormat)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(SimpleName:url))))(ExpressionStatement(Assignment(SimpleName:input)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(SimpleName:getInputStream)(METHOD_INVOCATION_ARGUMENTS(SimpleName:connection)))))(ExpressionStatement(Assignment(SimpleName:inputType)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:input))(SimpleName:getClass))))(ExpressionStatement(Assignment(SimpleName:input)(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(SimpleType(SimpleName:BufferedInputStream))(SimpleName:input))))(ExpressionStatement(Assignment(SimpleName:output)(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(SimpleType(QualifiedName:FS.BufferedFileOutput))(SimpleName:file))))(ExpressionStatement(Assignment(SimpleName:length)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:connection))(SimpleName:getContentLengthLong))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:FS))(SimpleName:copyStream)(METHOD_INVOCATION_ARGUMENTS(SimpleName:input)(SimpleName:output)(QualifiedName:FS.COPY_BUF_LENGTH)(SimpleName:length)(SimpleName:progressListener))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:FS))(SimpleName:close)(METHOD_INVOCATION_ARGUMENTS(SimpleName:output))))(IfStatement(InfixExpression(SimpleName:destinationFile)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:FS))(SimpleName:copyFile)(METHOD_INVOCATION_ARGUMENTS(SimpleName:file)(SimpleName:destinationFile))))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:IOException))(SimpleName:exception))(Block(IfStatement(InfixExpression(SimpleName:cache)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:cache))(SimpleName:remove)(METHOD_INVOCATION_ARGUMENTS(SimpleName:url)))))(ThrowStatement(SimpleName:exception))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:Exception))(SimpleName:exception))(Block(IfStatement(InfixExpression(SimpleName:cache)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:cache))(SimpleName:remove)(METHOD_INVOCATION_ARGUMENTS(SimpleName:url)))))(ThrowStatement(ClassInstanceCreation(SimpleType(SimpleName:IOException))(SimpleName:exception)))))(Block(ExpressionStatement(MethodInvocation(SimpleName:shutDownConnection)))))))))