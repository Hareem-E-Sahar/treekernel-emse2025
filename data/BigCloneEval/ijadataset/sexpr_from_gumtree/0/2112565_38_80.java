(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:public)(Modifier:synchronized)(PrimitiveType:void)(SimpleName:fileUpload)(SingleVariableDeclaration(SimpleType(SimpleName:UploadEvent))(SimpleName:event))(SimpleType(SimpleName:Exception))(Block(VariableDeclarationStatement(SimpleType(SimpleName:UploadItem))(VariableDeclarationFragment(SimpleName:item)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:event))(SimpleName:getUploadItem))))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:StringUtils))(SimpleName:isNotEmpty)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:item))(SimpleName:getFileName))))(Block(VariableDeclarationStatement(ArrayType(PrimitiveType:byte)(Dimension))(VariableDeclarationFragment(SimpleName:byteCode)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:IOUtils))(SimpleName:toByteArray)(METHOD_INVOCATION_ARGUMENTS(ClassInstanceCreation(SimpleType(SimpleName:FileInputStream))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:item))(SimpleName:getFile)))))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:fileName)(MethodInvocation(METHOD_INVOCATION_RECEIVER(ClassInstanceCreation(SimpleType(SimpleName:File))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:StringUtils))(SimpleName:replace)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:item))(SimpleName:getFileName))(StringLiteral:<STR>)(StringLiteral:<STR>)))))(SimpleName:getName))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:log))(SimpleName:info)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(SimpleName:fileName))))(ExpressionStatement(Assignment(SimpleName:fileName)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fileName))(SimpleName:replace)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(StringLiteral:<STR>)))))(VariableDeclarationStatement(SimpleType(SimpleName:JavaClass))(VariableDeclarationFragment(SimpleName:typeClass)(MethodInvocation(METHOD_INVOCATION_RECEIVER(ClassInstanceCreation(SimpleType(SimpleName:ClassParser))(ClassInstanceCreation(SimpleType(SimpleName:ByteArrayInputStream))(SimpleName:byteCode))(SimpleName:fileName)))(SimpleName:parse))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:packageName)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:typeClass))(SimpleName:getPackageName))))(VariableDeclarationStatement(SimpleType(SimpleName:Folder))(VariableDeclarationFragment(SimpleName:packageFolder)(NullLiteral)))(EnhancedForStatement(SingleVariableDeclaration(SimpleType(SimpleName:Folder))(SimpleName:rootFolder))(SimpleName:roots)(Block(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:rootFolder))(SimpleName:getName)))(SimpleName:equals)(METHOD_INVOCATION_ARGUMENTS(SimpleName:packageName)))(ExpressionStatement(Assignment(SimpleName:packageFolder)(ASSIGNMENT_OPERATOR:=)(SimpleName:rootFolder))))))(IfStatement(InfixExpression(SimpleName:packageFolder)(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(Block(ExpressionStatement(Assignment(SimpleName:packageFolder)(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(SimpleType(SimpleName:Folder))(SimpleName:packageName))))(ExpressionStatement(Assignment(SimpleName:packageFolder)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:folderDao))(SimpleName:create)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:FolderDao.TYPES_ROOT_PATH)(SimpleName:packageFolder)))))))(VariableDeclarationStatement(SimpleType(SimpleName:ContentType))(VariableDeclarationFragment(SimpleName:existingType)(NullLiteral)))(EnhancedForStatement(SingleVariableDeclaration(SimpleType(SimpleName:ContentFile))(SimpleName:contentFile))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:packageFolder))(SimpleName:getFiles))(Block(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:contentFile))(SimpleName:getName)))(SimpleName:equals)(METHOD_INVOCATION_ARGUMENTS(SimpleName:fileName)))(Block(ExpressionStatement(Assignment(SimpleName:existingType)(ASSIGNMENT_OPERATOR:=)(CastExpression(SimpleType(SimpleName:ContentType))(SimpleName:contentFile))))))))(VariableDeclarationStatement(SimpleType(SimpleName:JcrDataProviderImpl))(VariableDeclarationFragment(SimpleName:jcrDataProvider)(ClassInstanceCreation(SimpleType(SimpleName:JcrDataProviderImpl))(QualifiedName:JcrDataProvider.TYPE.BYTES)(SimpleName:byteCode))))(IfStatement(InfixExpression(SimpleName:existingType)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:existingType))(SimpleName:getContent)))(SimpleName:setDataProvider)(METHOD_INVOCATION_ARGUMENTS(SimpleName:jcrDataProvider))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:existingType))(SimpleName:getContent)))(SimpleName:setLastModified)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Calendar))(SimpleName:getInstance)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fileDao))(SimpleName:update)(METHOD_INVOCATION_ARGUMENTS(SimpleName:existingType))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:log))(SimpleName:info)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:typeClass))(SimpleName:getClassName))))))(Block(VariableDeclarationStatement(SimpleType(SimpleName:ContentType))(VariableDeclarationFragment(SimpleName:contentType)(ClassInstanceCreation(SimpleType(SimpleName:ContentType))(SimpleName:fileName))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:contentType))(SimpleName:setClassName)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:typeClass))(SimpleName:getClassName)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:contentType))(SimpleName:getContent)))(SimpleName:setLastModified)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Calendar))(SimpleName:getInstance)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:contentType))(SimpleName:getContent)))(SimpleName:setMimeType)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:MimeType.CLASS))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:contentType))(SimpleName:getContent)))(SimpleName:setDataProvider)(METHOD_INVOCATION_ARGUMENTS(SimpleName:jcrDataProvider))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:packageFolder))(SimpleName:getFiles)))(SimpleName:add)(METHOD_INVOCATION_ARGUMENTS(SimpleName:contentType))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fileDao))(SimpleName:create)(METHOD_INVOCATION_ARGUMENTS(SimpleName:contentType)(SimpleName:packageFolder))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:cmsController))(SimpleName:addType)(METHOD_INVOCATION_ARGUMENTS(SimpleName:contentType))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:log))(SimpleName:info)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:typeClass))(SimpleName:getClassName)))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(ThisExpression))(SimpleName:setSelectedFolder)(METHOD_INVOCATION_ARGUMENTS(SimpleName:packageFolder))))))))))