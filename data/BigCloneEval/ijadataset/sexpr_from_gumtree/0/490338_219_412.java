(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:public)(PrimitiveType:void)(SimpleName:sendMessage)(SingleVariableDeclaration(SimpleType(SimpleName:Message))(SimpleName:message))(SingleVariableDeclaration(ArrayType(SimpleType(SimpleName:Address))(Dimension))(SimpleName:addresses))(SimpleType(SimpleName:MessagingException))(SimpleType(SimpleName:SendFailedException))(Block(IfStatement(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(MethodInvocation(SimpleName:isConnected)))(Block(ThrowStatement(ClassInstanceCreation(SimpleType(SimpleName:MessagingException))(StringLiteral:<STR>)))))(IfStatement(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(ParenthesizedExpression(InstanceofExpression(SimpleName:message)(SimpleType(SimpleName:MimeMessage)))))(Block(ThrowStatement(ClassInstanceCreation(SimpleType(SimpleName:SendFailedException))(StringLiteral:<STR>)))))(VariableDeclarationStatement(SimpleType(SimpleName:MimeMessage))(VariableDeclarationFragment(SimpleName:mimeMessage)(CastExpression(SimpleType(SimpleName:MimeMessage))(SimpleName:message))))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:len)(QualifiedName:addresses.length)))(VariableDeclarationStatement(SimpleType(SimpleName:List))(VariableDeclarationFragment(SimpleName:sent)(ClassInstanceCreation(SimpleType(SimpleName:ArrayList))(SimpleName:len))))(VariableDeclarationStatement(SimpleType(SimpleName:List))(VariableDeclarationFragment(SimpleName:unsent)(ClassInstanceCreation(SimpleType(SimpleName:ArrayList))(SimpleName:len))))(VariableDeclarationStatement(SimpleType(SimpleName:List))(VariableDeclarationFragment(SimpleName:invalid)(ClassInstanceCreation(SimpleType(SimpleName:ArrayList))(SimpleName:len))))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:deliveryStatus)(QualifiedName:TransportEvent.MESSAGE_NOT_DELIVERED)))(VariableDeclarationStatement(SimpleType(SimpleName:ParameterList))(VariableDeclarationFragment(SimpleName:params)(NullLiteral)))(SynchronizedStatement(SimpleName:connection)(Block(TryStatement(Block(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:from0)(MethodInvocation(SimpleName:getProperty)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))))(VariableDeclarationStatement(SimpleType(SimpleName:InternetAddress))(VariableDeclarationFragment(SimpleName:from)(NullLiteral)))(IfStatement(InfixExpression(SimpleName:from0)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(VariableDeclarationStatement(ArrayType(SimpleType(SimpleName:InternetAddress))(Dimension))(VariableDeclarationFragment(SimpleName:from1)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:InternetAddress))(SimpleName:parse)(METHOD_INVOCATION_ARGUMENTS(SimpleName:from0)))))(IfStatement(InfixExpression(InfixExpression(SimpleName:from1)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(INFIX_EXPRESSION_OPERATOR:&&)(InfixExpression(QualifiedName:from1.length)(INFIX_EXPRESSION_OPERATOR:>)(NumberLiteral:0)))(Block(ExpressionStatement(Assignment(SimpleName:from)(ASSIGNMENT_OPERATOR:=)(ArrayAccess(SimpleName:from1)(NumberLiteral:0))))))))(IfStatement(InfixExpression(SimpleName:from)(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(Block(VariableDeclarationStatement(ArrayType(SimpleType(SimpleName:Address))(Dimension))(VariableDeclarationFragment(SimpleName:from2)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:mimeMessage))(SimpleName:getFrom))))(IfStatement(InfixExpression(InfixExpression(InfixExpression(SimpleName:from2)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(INFIX_EXPRESSION_OPERATOR:&&)(InfixExpression(QualifiedName:from2.length)(INFIX_EXPRESSION_OPERATOR:>)(NumberLiteral:0)))(INFIX_EXPRESSION_OPERATOR:&&)(InstanceofExpression(ArrayAccess(SimpleName:from2)(NumberLiteral:0))(SimpleType(SimpleName:InternetAddress))))(Block(ExpressionStatement(Assignment(SimpleName:from)(ASSIGNMENT_OPERATOR:=)(CastExpression(SimpleType(SimpleName:InternetAddress))(ArrayAccess(SimpleName:from2)(NumberLiteral:0)))))))))(IfStatement(InfixExpression(SimpleName:from)(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(Block(ExpressionStatement(Assignment(SimpleName:from)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:InternetAddress))(SimpleName:getLocalAddress)(METHOD_INVOCATION_ARGUMENTS(SimpleName:session)))))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:reversePath)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:from))(SimpleName:getAddress))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:dsnRet)(MethodInvocation(SimpleName:getProperty)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))))(IfStatement(InfixExpression(InfixExpression(InfixExpression(SimpleName:dsnRet)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(INFIX_EXPRESSION_OPERATOR:&&)(InfixExpression(SimpleName:extensions)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral)))(INFIX_EXPRESSION_OPERATOR:&&)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:extensions))(SimpleName:contains)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))(Block(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:FULL)(StringLiteral:<STR>))(VariableDeclarationFragment(SimpleName:HDRS)(StringLiteral:<STR>)))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:value)(NullLiteral)))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:FULL))(SimpleName:equalsIgnoreCase)(METHOD_INVOCATION_ARGUMENTS(SimpleName:dsnRet)))(Block(ExpressionStatement(Assignment(SimpleName:value)(ASSIGNMENT_OPERATOR:=)(SimpleName:FULL))))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:HDRS))(SimpleName:equalsIgnoreCase)(METHOD_INVOCATION_ARGUMENTS(SimpleName:dsnRet)))(Block(ExpressionStatement(Assignment(SimpleName:value)(ASSIGNMENT_OPERATOR:=)(SimpleName:HDRS))))))(IfStatement(InfixExpression(SimpleName:value)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(IfStatement(InfixExpression(SimpleName:params)(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(ExpressionStatement(Assignment(SimpleName:params)(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(SimpleType(SimpleName:ParameterList))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:params))(SimpleName:add)(METHOD_INVOCATION_ARGUMENTS(ClassInstanceCreation(SimpleType(SimpleName:Parameter))(StringLiteral:<STR>)(SimpleName:value)))))))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:mtrk)(MethodInvocation(SimpleName:getProperty)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))))(IfStatement(InfixExpression(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(StringLiteral:<STR>))(SimpleName:equals)(METHOD_INVOCATION_ARGUMENTS(SimpleName:mtrk)))(INFIX_EXPRESSION_OPERATOR:&&)(InfixExpression(SimpleName:extensions)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral)))(INFIX_EXPRESSION_OPERATOR:&&)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:extensions))(SimpleName:contains)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))(Block(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:mtrkTimeout)(NumberLiteral:0)))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:mt)(MethodInvocation(SimpleName:getProperty)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))))(IfStatement(InfixExpression(SimpleName:mt)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(ExpressionStatement(Assignment(SimpleName:mtrkTimeout)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Integer))(SimpleName:parseInt)(METHOD_INVOCATION_ARGUMENTS(SimpleName:mt))))))(TryStatement(Block(VariableDeclarationStatement(SimpleType(SimpleName:Random))(VariableDeclarationFragment(SimpleName:r)(ClassInstanceCreation(SimpleType(SimpleName:Random)))))(VariableDeclarationStatement(ArrayType(PrimitiveType:byte)(Dimension))(VariableDeclarationFragment(SimpleName:a)(ArrayCreation(ArrayType(PrimitiveType:byte)(Dimension(NumberLiteral:256))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:r))(SimpleName:nextBytes)(METHOD_INVOCATION_ARGUMENTS(SimpleName:a))))(VariableDeclarationStatement(SimpleType(SimpleName:MessageDigest))(VariableDeclarationFragment(SimpleName:md)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:MessageDigest))(SimpleName:getInstance)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:md))(SimpleName:update)(METHOD_INVOCATION_ARGUMENTS(SimpleName:a))))(VariableDeclarationStatement(ArrayType(PrimitiveType:byte)(Dimension))(VariableDeclarationFragment(SimpleName:b)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:md))(SimpleName:digest))))(VariableDeclarationStatement(ArrayType(PrimitiveType:byte)(Dimension))(VariableDeclarationFragment(SimpleName:certifier)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:BASE64))(SimpleName:encode)(METHOD_INVOCATION_ARGUMENTS(SimpleName:b)))))(IfStatement(InfixExpression(SimpleName:params)(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(ExpressionStatement(Assignment(SimpleName:params)(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(SimpleType(SimpleName:ParameterList))))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:value)(ClassInstanceCreation(SimpleType(SimpleName:String))(SimpleName:certifier)(StringLiteral:<STR>))))(IfStatement(InfixExpression(SimpleName:mtrkTimeout)(INFIX_EXPRESSION_OPERATOR:>)(NumberLiteral:0))(Block(ExpressionStatement(Assignment(SimpleName:value)(ASSIGNMENT_OPERATOR:+=)(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:mtrkTimeout))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:params))(SimpleName:add)(METHOD_INVOCATION_ARGUMENTS(ClassInstanceCreation(SimpleType(SimpleName:Parameter))(StringLiteral:<STR>)(SimpleName:value)))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:envid)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:mimeMessage))(SimpleName:getMessageID))))(IfStatement(InfixExpression(SimpleName:envid)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:ai)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:envid))(SimpleName:indexOf)(METHOD_INVOCATION_ARGUMENTS(CharacterLiteral:<STR>)))))(IfStatement(InfixExpression(SimpleName:ai)(INFIX_EXPRESSION_OPERATOR:!=)(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:-)(NumberLiteral:1)))(ExpressionStatement(Assignment(SimpleName:envid)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:envid))(SimpleName:substring)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:0)(SimpleName:ai)))))))(Block(ExpressionStatement(Assignment(SimpleName:envid)(ASSIGNMENT_OPERATOR:=)(StringLiteral:<STR>)))))(ExpressionStatement(Assignment(SimpleName:envid)(ASSIGNMENT_OPERATOR:+=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Long))(SimpleName:toHexString)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:System))(SimpleName:currentTimeMillis))))))(ExpressionStatement(Assignment(SimpleName:envid)(ASSIGNMENT_OPERATOR:+=)(StringLiteral:<STR>)))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:lha)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:InetAddress))(SimpleName:getLocalHost)))(SimpleName:getHostAddress))))(IfStatement(InfixExpression(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:envid))(SimpleName:length))(INFIX_EXPRESSION_OPERATOR:+)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:lha))(SimpleName:length)))(INFIX_EXPRESSION_OPERATOR:>)(NumberLiteral:100))(Block(ExpressionStatement(Assignment(SimpleName:b)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:lha))(SimpleName:getBytes)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:md))(SimpleName:reset)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:md))(SimpleName:update)(METHOD_INVOCATION_ARGUMENTS(SimpleName:b))))(ExpressionStatement(Assignment(SimpleName:b)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:md))(SimpleName:digest))))(ExpressionStatement(Assignment(SimpleName:b)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:BASE64))(SimpleName:encode)(METHOD_INVOCATION_ARGUMENTS(SimpleName:b)))))(ExpressionStatement(Assignment(SimpleName:lha)(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(SimpleType(SimpleName:String))(SimpleName:b)(StringLiteral:<STR>))))))(ExpressionStatement(Assignment(SimpleName:envid)(ASSIGNMENT_OPERATOR:+=)(SimpleName:lha)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:params))(SimpleName:add)(METHOD_INVOCATION_ARGUMENTS(ClassInstanceCreation(SimpleType(SimpleName:Parameter))(StringLiteral:<STR>)(SimpleName:envid))))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:NoSuchAlgorithmException))(SimpleName:e))(Block(VariableDeclarationStatement(SimpleType(SimpleName:MessagingException))(VariableDeclarationFragment(SimpleName:e2)(ClassInstanceCreation(SimpleType(SimpleName:MessagingException))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:e))(SimpleName:getMessage)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:e2))(SimpleName:initCause)(METHOD_INVOCATION_ARGUMENTS(SimpleName:e))))(ThrowStatement(SimpleName:e2))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:UnsupportedEncodingException))(SimpleName:e))(Block(VariableDeclarationStatement(SimpleType(SimpleName:MessagingException))(VariableDeclarationFragment(SimpleName:e2)(ClassInstanceCreation(SimpleType(SimpleName:MessagingException))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:e))(SimpleName:getMessage)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:e2))(SimpleName:initCause)(METHOD_INVOCATION_ARGUMENTS(SimpleName:e))))(ThrowStatement(SimpleName:e2)))))))(IfStatement(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:connection))(SimpleName:mailFrom)(METHOD_INVOCATION_ARGUMENTS(SimpleName:reversePath)(SimpleName:params))))(Block(ThrowStatement(ClassInstanceCreation(SimpleType(SimpleName:SendFailedException))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:connection))(SimpleName:getLastResponse))))))(ExpressionStatement(Assignment(SimpleName:params)(ASSIGNMENT_OPERATOR:=)(NullLiteral)))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:dsnNotify)(MethodInvocation(SimpleName:getProperty)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))))(IfStatement(InfixExpression(InfixExpression(InfixExpression(SimpleName:dsnNotify)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(INFIX_EXPRESSION_OPERATOR:&&)(InfixExpression(SimpleName:extensions)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral)))(INFIX_EXPRESSION_OPERATOR:&&)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:extensions))(SimpleName:contains)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))(Block(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:NEVER)(StringLiteral:<STR>))(VariableDeclarationFragment(SimpleName:SUCCESS)(StringLiteral:<STR>)))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:FAILURE)(StringLiteral:<STR>))(VariableDeclarationFragment(SimpleName:DELAY)(StringLiteral:<STR>)))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:value)(NullLiteral)))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:NEVER))(SimpleName:equalsIgnoreCase)(METHOD_INVOCATION_ARGUMENTS(SimpleName:dsnNotify)))(Block(ExpressionStatement(Assignment(SimpleName:value)(ASSIGNMENT_OPERATOR:=)(SimpleName:NEVER))))(Block(VariableDeclarationStatement(SimpleType(SimpleName:StringBuffer))(VariableDeclarationFragment(SimpleName:buf)(ClassInstanceCreation(SimpleType(SimpleName:StringBuffer)))))(VariableDeclarationStatement(SimpleType(SimpleName:StringTokenizer))(VariableDeclarationFragment(SimpleName:st)(ClassInstanceCreation(SimpleType(SimpleName:StringTokenizer))(SimpleName:dsnNotify)(StringLiteral:<STR>))))(WhileStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:st))(SimpleName:hasMoreTokens))(Block(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:token)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:st))(SimpleName:nextToken))))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:SUCCESS))(SimpleName:equalsIgnoreCase)(METHOD_INVOCATION_ARGUMENTS(SimpleName:token)))(Block(IfStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:buf))(SimpleName:length))(INFIX_EXPRESSION_OPERATOR:>)(NumberLiteral:0))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:buf))(SimpleName:append)(METHOD_INVOCATION_ARGUMENTS(CharacterLiteral:<STR>))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:buf))(SimpleName:append)(METHOD_INVOCATION_ARGUMENTS(SimpleName:SUCCESS)))))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:FAILURE))(SimpleName:equalsIgnoreCase)(METHOD_INVOCATION_ARGUMENTS(SimpleName:token)))(Block(IfStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:buf))(SimpleName:length))(INFIX_EXPRESSION_OPERATOR:>)(NumberLiteral:0))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:buf))(SimpleName:append)(METHOD_INVOCATION_ARGUMENTS(CharacterLiteral:<STR>))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:buf))(SimpleName:append)(METHOD_INVOCATION_ARGUMENTS(SimpleName:FAILURE)))))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:DELAY))(SimpleName:equalsIgnoreCase)(METHOD_INVOCATION_ARGUMENTS(SimpleName:token)))(Block(IfStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:buf))(SimpleName:length))(INFIX_EXPRESSION_OPERATOR:>)(NumberLiteral:0))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:buf))(SimpleName:append)(METHOD_INVOCATION_ARGUMENTS(CharacterLiteral:<STR>))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:buf))(SimpleName:append)(METHOD_INVOCATION_ARGUMENTS(SimpleName:DELAY))))))))))(IfStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:buf))(SimpleName:length))(INFIX_EXPRESSION_OPERATOR:>)(NumberLiteral:0))(Block(ExpressionStatement(Assignment(SimpleName:value)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:buf))(SimpleName:toString))))))))(IfStatement(InfixExpression(SimpleName:value)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(ExpressionStatement(Assignment(SimpleName:params)(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(SimpleType(SimpleName:ParameterList)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:params))(SimpleName:add)(METHOD_INVOCATION_ARGUMENTS(ClassInstanceCreation(SimpleType(SimpleName:Parameter))(StringLiteral:<STR>)(SimpleName:value)))))))))(ForStatement(VariableDeclarationExpression(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:i)(NumberLiteral:0)))(InfixExpression(SimpleName:i)(INFIX_EXPRESSION_OPERATOR:<)(QualifiedName:addresses.length))(PostfixExpression(SimpleName:i)(POSTFIX_EXPRESSION_OPERATOR:++))(Block(VariableDeclarationStatement(SimpleType(SimpleName:Address))(VariableDeclarationFragment(SimpleName:address)(ArrayAccess(SimpleName:addresses)(SimpleName:i))))(IfStatement(InstanceofExpression(SimpleName:address)(SimpleType(SimpleName:InternetAddress)))(Block(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:forwardPath)(MethodInvocation(METHOD_INVOCATION_RECEIVER(ParenthesizedExpression(CastExpression(SimpleType(SimpleName:InternetAddress))(SimpleName:address))))(SimpleName:getAddress))))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:connection))(SimpleName:rcptTo)(METHOD_INVOCATION_ARGUMENTS(SimpleName:forwardPath)(SimpleName:params)))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:sent))(SimpleName:add)(METHOD_INVOCATION_ARGUMENTS(SimpleName:address)))))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:invalid))(SimpleName:add)(METHOD_INVOCATION_ARGUMENTS(SimpleName:address)))))))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:invalid))(SimpleName:add)(METHOD_INVOCATION_ARGUMENTS(SimpleName:address)))))))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:IOException))(SimpleName:e))(Block(TryStatement(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:connection))(SimpleName:rset))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:IOException))(SimpleName:e2))(Block)))(ThrowStatement(ClassInstanceCreation(SimpleType(SimpleName:SendFailedException))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:e))(SimpleName:getMessage)))))))(IfStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:sent))(SimpleName:size))(INFIX_EXPRESSION_OPERATOR:>)(NumberLiteral:0))(Block(TryStatement(Block(VariableDeclarationStatement(SimpleType(SimpleName:OutputStream))(VariableDeclarationFragment(SimpleName:dataStream)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:connection))(SimpleName:data))))(IfStatement(InfixExpression(SimpleName:dataStream)(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(Block(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:msg)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:connection))(SimpleName:getLastResponse))))(ThrowStatement(ClassInstanceCreation(SimpleType(SimpleName:MessagingException))(SimpleName:msg)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:mimeMessage))(SimpleName:writeTo)(METHOD_INVOCATION_ARGUMENTS(SimpleName:dataStream))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:dataStream))(SimpleName:flush)))(IfStatement(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:connection))(SimpleName:finishData)))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:unsent))(SimpleName:addAll)(METHOD_INVOCATION_ARGUMENTS(SimpleName:sent))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:sent))(SimpleName:clear)))(ExpressionStatement(Assignment(SimpleName:deliveryStatus)(ASSIGNMENT_OPERATOR:=)(QualifiedName:TransportEvent.MESSAGE_NOT_DELIVERED))))(Block(ExpressionStatement(Assignment(SimpleName:deliveryStatus)(ASSIGNMENT_OPERATOR:=)(ConditionalExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:invalid))(SimpleName:isEmpty))(QualifiedName:TransportEvent.MESSAGE_DELIVERED)(QualifiedName:TransportEvent.MESSAGE_PARTIALLY_DELIVERED)))))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:IOException))(SimpleName:e))(Block(TryStatement(Block(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:connection))(SimpleName:finishData))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:connection))(SimpleName:rset))))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:IOException))(SimpleName:e2))(Block)))(ThrowStatement(ClassInstanceCreation(SimpleType(SimpleName:SendFailedException))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:e))(SimpleName:getMessage)))))))))))(VariableDeclarationStatement(ArrayType(SimpleType(SimpleName:Address))(Dimension))(VariableDeclarationFragment(SimpleName:a_sent)(ArrayCreation(ArrayType(SimpleType(SimpleName:Address))(Dimension(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:sent))(SimpleName:size)))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:sent))(SimpleName:toArray)(METHOD_INVOCATION_ARGUMENTS(SimpleName:a_sent))))(VariableDeclarationStatement(ArrayType(SimpleType(SimpleName:Address))(Dimension))(VariableDeclarationFragment(SimpleName:a_unsent)(ArrayCreation(ArrayType(SimpleType(SimpleName:Address))(Dimension(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:unsent))(SimpleName:size)))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:unsent))(SimpleName:toArray)(METHOD_INVOCATION_ARGUMENTS(SimpleName:a_unsent))))(VariableDeclarationStatement(ArrayType(SimpleType(SimpleName:Address))(Dimension))(VariableDeclarationFragment(SimpleName:a_invalid)(ArrayCreation(ArrayType(SimpleType(SimpleName:Address))(Dimension(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:invalid))(SimpleName:size)))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:invalid))(SimpleName:toArray)(METHOD_INVOCATION_ARGUMENTS(SimpleName:a_invalid))))(ExpressionStatement(MethodInvocation(SimpleName:notifyTransportListeners)(METHOD_INVOCATION_ARGUMENTS(SimpleName:deliveryStatus)(SimpleName:a_sent)(SimpleName:a_unsent)(SimpleName:a_invalid)(SimpleName:mimeMessage))))))))