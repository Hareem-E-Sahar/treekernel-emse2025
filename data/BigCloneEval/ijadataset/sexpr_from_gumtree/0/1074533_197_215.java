(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:public)(PrimitiveType:void)(SimpleName:testUnregisterReregisterForReads)(SimpleType(SimpleName:Exception))(Block(VariableDeclarationStatement(SimpleType(SimpleName:Class))(VariableDeclarationFragment(SimpleName:c)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Class))(SimpleName:forName)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(SimpleName:getChannelImplName))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:client1))(SimpleName:bind)(METHOD_INVOCATION_ARGUMENTS(SimpleName:loopBackAnyPort))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:client1))(SimpleName:connect)(METHOD_INVOCATION_ARGUMENTS(SimpleName:svrAddr))))(VariableDeclarationStatement(SimpleType(SimpleName:TCPChannel))(VariableDeclarationFragment(SimpleName:svrChan)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ZNioFailureSuperclass))(SimpleName:expectServerChannel)(METHOD_INVOCATION_ARGUMENTS(SimpleName:mockServer)(SimpleName:c)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:client1))(SimpleName:registerForReads)(METHOD_INVOCATION_ARGUMENTS(CastExpression(SimpleType(SimpleName:DataListener))(SimpleName:mockHandler)))))(VariableDeclarationStatement(SimpleType(SimpleName:ByteBuffer))(VariableDeclarationFragment(SimpleName:b)(MethodInvocation(SimpleName:verifyDataPassing)(METHOD_INVOCATION_ARGUMENTS(SimpleName:svrChan)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:client1))(SimpleName:unregisterForReads)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:b))(SimpleName:rewind)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:svrChan))(SimpleName:write)(METHOD_INVOCATION_ARGUMENTS(SimpleName:b))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Thread))(SimpleName:sleep)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:5000))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:mockHandler))(SimpleName:expect)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:MockObject.NONE))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:client1))(SimpleName:registerForReads)(METHOD_INVOCATION_ARGUMENTS(CastExpression(SimpleType(SimpleName:DataListener))(SimpleName:mockHandler)))))(VariableDeclarationStatement(SimpleType(SimpleName:CalledMethod))(VariableDeclarationFragment(SimpleName:m)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:mockHandler))(SimpleName:expect)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:MockNIOServer.INCOMING_DATA)))))(VariableDeclarationStatement(SimpleType(SimpleName:ByteBuffer))(VariableDeclarationFragment(SimpleName:actualBuf)(CastExpression(SimpleType(SimpleName:ByteBuffer))(ArrayAccess(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:m))(SimpleName:getAllParams))(NumberLiteral:1)))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:result)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:helper))(SimpleName:readString)(METHOD_INVOCATION_ARGUMENTS(SimpleName:actualBuf)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:actualBuf))(SimpleName:remaining))))))(ExpressionStatement(MethodInvocation(SimpleName:assertEquals)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(SimpleName:result))))(ExpressionStatement(MethodInvocation(SimpleName:verifyTearDown)))))))