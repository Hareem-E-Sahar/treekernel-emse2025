(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:public)(SimpleType(SimpleName:KeyValuePair))(SimpleName:decryptUserId)(SingleVariableDeclaration(SimpleType(SimpleName:String))(SimpleName:companyId))(SingleVariableDeclaration(SimpleType(SimpleName:String))(SimpleName:userId))(SingleVariableDeclaration(SimpleType(SimpleName:String))(SimpleName:password))(SimpleType(SimpleName:PortalException))(SimpleType(SimpleName:SystemException))(Block(VariableDeclarationStatement(SimpleType(SimpleName:Company))(VariableDeclarationFragment(SimpleName:company)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:CompanyUtil))(SimpleName:findByPrimaryKey)(METHOD_INVOCATION_ARGUMENTS(SimpleName:companyId)))))(TryStatement(Block(ExpressionStatement(Assignment(SimpleName:userId)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Encryptor))(SimpleName:decrypt)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:company))(SimpleName:getKeyObj))(SimpleName:userId))))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:EncryptorException))(SimpleName:ee))(Block(ThrowStatement(ClassInstanceCreation(SimpleType(SimpleName:SystemException))(SimpleName:ee))))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:liferayUserId)(SimpleName:userId)))(TryStatement(Block(VariableDeclarationStatement(SimpleType(SimpleName:PrincipalFinder))(VariableDeclarationFragment(SimpleName:principalFinder)(CastExpression(SimpleType(SimpleName:PrincipalFinder))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:InstancePool))(SimpleName:get)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:PropsUtil))(SimpleName:get)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:PropsUtil.PRINCIPAL_FINDER))))))))(ExpressionStatement(Assignment(SimpleName:liferayUserId)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:principalFinder))(SimpleName:toLiferay)(METHOD_INVOCATION_ARGUMENTS(SimpleName:userId))))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:Exception))(SimpleName:e))(Block)))(VariableDeclarationStatement(SimpleType(SimpleName:User))(VariableDeclarationFragment(SimpleName:user)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:UserUtil))(SimpleName:findByPrimaryKey)(METHOD_INVOCATION_ARGUMENTS(SimpleName:liferayUserId)))))(TryStatement(Block(ExpressionStatement(Assignment(SimpleName:password)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Encryptor))(SimpleName:decrypt)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:company))(SimpleName:getKeyObj))(SimpleName:password))))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:EncryptorException))(SimpleName:ee))(Block(ThrowStatement(ClassInstanceCreation(SimpleType(SimpleName:SystemException))(SimpleName:ee))))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:encPwd)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Encryptor))(SimpleName:digest)(METHOD_INVOCATION_ARGUMENTS(SimpleName:password)))))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:user))(SimpleName:getPassword)))(SimpleName:equals)(METHOD_INVOCATION_ARGUMENTS(SimpleName:encPwd)))(Block(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:user))(SimpleName:isPasswordExpired))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:user))(SimpleName:setPasswordReset)(METHOD_INVOCATION_ARGUMENTS(BooleanLiteral:true))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:UserUtil))(SimpleName:update)(METHOD_INVOCATION_ARGUMENTS(SimpleName:user))))))(ReturnStatement(ClassInstanceCreation(SimpleType(SimpleName:KeyValuePair))(SimpleName:userId)(SimpleName:password))))(Block(ThrowStatement(ClassInstanceCreation(SimpleType(SimpleName:PrincipalException))))))))))