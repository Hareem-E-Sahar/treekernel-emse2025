(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:public)(SimpleName:ArrayBasedSet)(SingleVariableDeclaration(ArrayType(SimpleType(SimpleName:E))(Dimension))(SimpleName:A))(SingleVariableDeclaration(ParameterizedType(SimpleType(SimpleName:Comparator))(SimpleType(SimpleName:E)))(SimpleName:comparator))(Block(ExpressionStatement(Assignment(FieldAccess(ThisExpression)(SimpleName:comparator))(ASSIGNMENT_OPERATOR:=)(SimpleName:comparator)))(ExpressionStatement(Assignment(SimpleName:type)(ASSIGNMENT_OPERATOR:=)(CastExpression(ParameterizedType(SimpleType(SimpleName:Class))(SimpleType(SimpleName:E)))(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:A))(SimpleName:getClass)))(SimpleName:getComponentType)))))(ExpressionStatement(Assignment(SimpleName:array)(ASSIGNMENT_OPERATOR:=)(CastExpression(ArrayType(SimpleType(SimpleName:E))(Dimension))(MethodInvocation(METHOD_INVOCATION_RECEIVER(QualifiedName:java.lang.reflect.Array))(SimpleName:newInstance)(METHOD_INVOCATION_ARGUMENTS(SimpleName:type)(QualifiedName:A.length))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:System))(SimpleName:arraycopy)(METHOD_INVOCATION_ARGUMENTS(SimpleName:A)(NumberLiteral:0)(SimpleName:array)(NumberLiteral:0)(QualifiedName:A.length))))(ExpressionStatement(Assignment(SimpleName:size)(ASSIGNMENT_OPERATOR:=)(QualifiedName:A.length)))))))