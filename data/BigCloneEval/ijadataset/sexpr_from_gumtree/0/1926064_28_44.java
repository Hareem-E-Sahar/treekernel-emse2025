(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(MarkerAnnotation(SimpleName:Override))(Modifier:public)(PrimitiveType:void)(SimpleName:run)(Block(VariableDeclarationStatement(SimpleType(SimpleName:IWorkbenchPart))(VariableDeclarationFragment(SimpleName:part)(MethodInvocation(SimpleName:getWorkbenchPart))))(IfStatement(InfixExpression(SimpleName:part)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(VariableDeclarationStatement(SimpleType(SimpleName:GraphicalViewer))(VariableDeclarationFragment(SimpleName:viewer)(CastExpression(SimpleType(SimpleName:GraphicalViewer))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:part))(SimpleName:getAdapter)(METHOD_INVOCATION_ARGUMENTS(TypeLiteral(SimpleType(SimpleName:GraphicalViewer))))))))(IfStatement(InfixExpression(SimpleName:viewer)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(VariableDeclarationStatement(SimpleType(SimpleName:LayerManager))(VariableDeclarationFragment(SimpleName:layerManager)(CastExpression(SimpleType(SimpleName:LayerManager))(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:viewer))(SimpleName:getEditPartRegistry)))(SimpleName:get)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:LayerManager.ID))))))(VariableDeclarationStatement(SimpleType(SimpleName:IFigure))(VariableDeclarationFragment(SimpleName:contentLayer)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:layerManager))(SimpleName:getLayer)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:LayerConstants.PRIMARY_LAYER)))))(VariableDeclarationStatement(SimpleType(SimpleName:IFigure))(VariableDeclarationFragment(SimpleName:connectionLayer)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:layerManager))(SimpleName:getLayer)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:LayerConstants.CONNECTION_LAYER)))))(VariableDeclarationStatement(SimpleType(SimpleName:Dimension))(VariableDeclarationFragment(SimpleName:size)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(ParenthesizedExpression(CastExpression(SimpleType(SimpleName:AbstractGraphicalEditPart))(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:viewer))(SimpleName:getRootEditPart)))(SimpleName:getContents)))))(SimpleName:getFigure)))(SimpleName:getPreferredSize))))(VariableDeclarationStatement(SimpleType(SimpleName:PrintableFigure))(VariableDeclarationFragment(SimpleName:figure)(ClassInstanceCreation(SimpleType(SimpleName:PrintableFigure))(SimpleName:contentLayer)(SimpleName:connectionLayer)(SimpleName:size))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:diagramLabel)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:part))(SimpleName:getTitle))))(VariableDeclarationStatement(SimpleType(SimpleName:PreviewDialog))(VariableDeclarationFragment(SimpleName:pd)(ClassInstanceCreation(SimpleType(SimpleName:PreviewDialog))(SimpleName:figure)(SimpleName:diagramLabel)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:part))(SimpleName:getSite)))(SimpleName:getShell)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:pd))(SimpleName:open)))))))))))