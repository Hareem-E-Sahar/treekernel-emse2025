(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:public)(ArrayType(PrimitiveType:byte)(Dimension))(SimpleName:getFileSum)(SingleVariableDeclaration(SimpleType(SimpleName:String))(SimpleName:key))(SingleVariableDeclaration(SimpleType(SimpleName:String))(SimpleName:fileKey))(SingleVariableDeclaration(PrimitiveType:long)(SimpleName:fileSize))(SimpleType(SimpleName:UploadException))(Block(VariableDeclarationStatement(SimpleType(SimpleName:TransactionInfo))(VariableDeclarationFragment(SimpleName:ti)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:tranz))(SimpleName:get)(METHOD_INVOCATION_ARGUMENTS(SimpleName:key)))))(IfStatement(InfixExpression(SimpleName:ti)(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(Block(ReturnStatement(NullLiteral))))(VariableDeclarationStatement(SimpleType(SimpleName:FileInfo))(VariableDeclarationFragment(SimpleName:fi)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ti))(SimpleName:getFileInfo)(METHOD_INVOCATION_ARGUMENTS(SimpleName:fileKey)))))(IfStatement(InfixExpression(SimpleName:fi)(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(Block(ReturnStatement(NullLiteral))))(IfStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fi))(SimpleName:getDigest))(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(ReturnStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fi))(SimpleName:getDigest))))(VariableDeclarationStatement(ParameterizedType(SimpleType(SimpleName:List))(SimpleType(SimpleName:Chunk)))(VariableDeclarationFragment(SimpleName:chlst)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fi))(SimpleName:getChunks))))(IfStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fi))(SimpleName:getStatus))(INFIX_EXPRESSION_OPERATOR:==)(QualifiedName:FileInfo.STATUS.CHUNKED))(ThrowStatement(ClassInstanceCreation(SimpleType(SimpleName:UploadException))(SimpleName:fileKey)(QualifiedName:UploadException.FILE_INCOMPLETE))))(IfStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fi))(SimpleName:getStatus))(INFIX_EXPRESSION_OPERATOR:==)(QualifiedName:FileInfo.STATUS.ASSEMBLED))(Block(VariableDeclarationStatement(ArrayType(PrimitiveType:byte)(Dimension))(VariableDeclarationFragment(SimpleName:dig)))(TryStatement(Block(ExpressionStatement(Assignment(SimpleName:dig)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(ClassInstanceCreation(SimpleType(SimpleName:FileDigest))(ClassInstanceCreation(SimpleType(SimpleName:File))(SimpleName:workDir)(InfixExpression(SimpleName:key)(INFIX_EXPRESSION_OPERATOR:+)(QualifiedName:File.separator)(SimpleName:fileKey)))))(SimpleName:getDigest)))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:IOException))(SimpleName:e))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:e))(SimpleName:printStackTrace)))(ThrowStatement(ClassInstanceCreation(SimpleType(SimpleName:UploadException))(StringLiteral:<STR>)(SimpleName:e)(QualifiedName:UploadException.IOError))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fi))(SimpleName:setDigest)(METHOD_INVOCATION_ARGUMENTS(SimpleName:dig))))(ReturnStatement(SimpleName:dig))))(VariableDeclarationStatement(SimpleType(SimpleName:MessageDigest))(VariableDeclarationFragment(SimpleName:md)(NullLiteral)))(TryStatement(Block(ExpressionStatement(Assignment(SimpleName:md)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:MessageDigest))(SimpleName:getInstance)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:Constants.hashAlgorithm))))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:NoSuchAlgorithmException))(SimpleName:e))(Block)))(VariableDeclarationStatement(SimpleType(SimpleName:Chunk))(VariableDeclarationFragment(SimpleName:prev)(NullLiteral)))(EnhancedForStatement(SingleVariableDeclaration(SimpleType(SimpleName:Chunk))(SimpleName:ch))(SimpleName:chlst)(Block(TryStatement(Block(VariableDeclarationStatement(SimpleType(SimpleName:FileInputStream))(VariableDeclarationFragment(SimpleName:fis)(ClassInstanceCreation(SimpleType(SimpleName:FileInputStream))(MethodInvocation(SimpleName:getChunkFile)(METHOD_INVOCATION_ARGUMENTS(SimpleName:key)(SimpleName:fileKey)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ch))(SimpleName:getBegin))(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ch))(SimpleName:getEnd))(INFIX_EXPRESSION_OPERATOR:-)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ch))(SimpleName:getBegin)))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ch))(SimpleName:getID)))))))(IfStatement(InfixExpression(InfixExpression(SimpleName:prev)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(INFIX_EXPRESSION_OPERATOR:&&)(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:prev))(SimpleName:getEnd))(INFIX_EXPRESSION_OPERATOR:>)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ch))(SimpleName:getBegin))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fis))(SimpleName:skip)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:prev))(SimpleName:getEnd))(INFIX_EXPRESSION_OPERATOR:-)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ch))(SimpleName:getBegin)))))))(VariableDeclarationStatement(ArrayType(PrimitiveType:byte)(Dimension))(VariableDeclarationFragment(SimpleName:buffer)(ArrayCreation(ArrayType(PrimitiveType:byte)(Dimension(NumberLiteral:10000))))))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:l)))(WhileStatement(InfixExpression(ParenthesizedExpression(Assignment(SimpleName:l)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fis))(SimpleName:read)(METHOD_INVOCATION_ARGUMENTS(SimpleName:buffer)))))(INFIX_EXPRESSION_OPERATOR:>)(NumberLiteral:0))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:md))(SimpleName:update)(METHOD_INVOCATION_ARGUMENTS(SimpleName:buffer)(NumberLiteral:0)(SimpleName:l))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fis))(SimpleName:close)))(ExpressionStatement(Assignment(SimpleName:prev)(ASSIGNMENT_OPERATOR:=)(SimpleName:ch))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:IOException))(SimpleName:e))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:e))(SimpleName:printStackTrace)))(ThrowStatement(ClassInstanceCreation(SimpleType(SimpleName:UploadException))(StringLiteral:<STR>)(SimpleName:e)(QualifiedName:UploadException.IOError))))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fi))(SimpleName:setDigest)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:md))(SimpleName:digest)))))(ReturnStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fi))(SimpleName:getDigest)))))))