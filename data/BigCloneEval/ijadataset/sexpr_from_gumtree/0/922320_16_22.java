(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:public)(PrimitiveType:int)(SimpleName:match)(SingleVariableDeclaration(SimpleType(SimpleName:LocalDeclaration))(SimpleName:node))(SingleVariableDeclaration(SimpleType(SimpleName:MatchingNodeSet))(SimpleName:nodeSet))(Block(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:referencesLevel)(SimpleName:IMPOSSIBLE_MATCH)))(IfStatement(FieldAccess(FieldAccess(ThisExpression)(SimpleName:pattern))(SimpleName:findReferences))(IfStatement(InfixExpression(FieldAccess(FieldAccess(ThisExpression)(SimpleName:pattern))(SimpleName:writeAccess))(INFIX_EXPRESSION_OPERATOR:&&)(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(FieldAccess(FieldAccess(ThisExpression)(SimpleName:pattern))(SimpleName:readAccess)))(InfixExpression(QualifiedName:node.initialization)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral)))(IfStatement(MethodInvocation(SimpleName:matchesName)(METHOD_INVOCATION_ARGUMENTS(FieldAccess(FieldAccess(ThisExpression)(SimpleName:pattern))(SimpleName:name))(QualifiedName:node.name)))(ExpressionStatement(Assignment(SimpleName:referencesLevel)(ASSIGNMENT_OPERATOR:=)(ConditionalExpression(FieldAccess(ParenthesizedExpression(CastExpression(SimpleType(SimpleName:InternalSearchPattern))(FieldAccess(ThisExpression)(SimpleName:pattern))))(SimpleName:mustResolve))(SimpleName:POSSIBLE_MATCH)(SimpleName:ACCURATE_MATCH)))))))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:declarationsLevel)(SimpleName:IMPOSSIBLE_MATCH)))(IfStatement(FieldAccess(FieldAccess(ThisExpression)(SimpleName:pattern))(SimpleName:findDeclarations))(IfStatement(MethodInvocation(SimpleName:matchesName)(METHOD_INVOCATION_ARGUMENTS(FieldAccess(FieldAccess(ThisExpression)(SimpleName:pattern))(SimpleName:name))(QualifiedName:node.name)))(IfStatement(InfixExpression(QualifiedName:node.declarationSourceStart)(INFIX_EXPRESSION_OPERATOR:==)(FieldAccess(MethodInvocation(SimpleName:getLocalVariable))(SimpleName:declarationSourceStart)))(ExpressionStatement(Assignment(SimpleName:declarationsLevel)(ASSIGNMENT_OPERATOR:=)(ConditionalExpression(FieldAccess(ParenthesizedExpression(CastExpression(SimpleType(SimpleName:InternalSearchPattern))(FieldAccess(ThisExpression)(SimpleName:pattern))))(SimpleName:mustResolve))(SimpleName:POSSIBLE_MATCH)(SimpleName:ACCURATE_MATCH)))))))(ReturnStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:nodeSet))(SimpleName:addMatch)(METHOD_INVOCATION_ARGUMENTS(SimpleName:node)(ConditionalExpression(InfixExpression(SimpleName:referencesLevel)(INFIX_EXPRESSION_OPERATOR:>=)(SimpleName:declarationsLevel))(SimpleName:referencesLevel)(SimpleName:declarationsLevel)))))))))