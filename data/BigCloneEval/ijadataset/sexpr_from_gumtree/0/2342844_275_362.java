(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:public)(SimpleType(SimpleName:PatientDocument))(SimpleName:addPatient)(SingleVariableDeclaration(SimpleType(SimpleName:String))(SimpleName:patient))(Block(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:key)(NullLiteral)))(VariableDeclarationStatement(SimpleType(SimpleName:PreparedStatement))(VariableDeclarationFragment(SimpleName:psPatient)(NullLiteral)))(VariableDeclarationStatement(SimpleType(SimpleName:PreparedStatement))(VariableDeclarationFragment(SimpleName:psNextofkin)(NullLiteral)))(VariableDeclarationStatement(SimpleType(SimpleName:PreparedStatement))(VariableDeclarationFragment(SimpleName:psCommit)(NullLiteral)))(VariableDeclarationStatement(SimpleType(SimpleName:PreparedStatement))(VariableDeclarationFragment(SimpleName:psRollback)(NullLiteral)))(VariableDeclarationStatement(SimpleType(SimpleName:PreparedStatement))(VariableDeclarationFragment(SimpleName:psAdmitance)(NullLiteral)))(VariableDeclarationStatement(SimpleType(SimpleName:PreparedStatement))(VariableDeclarationFragment(SimpleName:psWard)(NullLiteral)))(VariableDeclarationStatement(SimpleType(SimpleName:PreparedStatement))(VariableDeclarationFragment(SimpleName:psHospital)(NullLiteral)))(VariableDeclarationStatement(SimpleType(SimpleName:ResultSet))(VariableDeclarationFragment(SimpleName:rsHospital)(NullLiteral)))(VariableDeclarationStatement(SimpleType(SimpleName:PatientDocument))(VariableDeclarationFragment(SimpleName:doc)(NullLiteral)))(TryStatement(Block(ExpressionStatement(Assignment(SimpleName:doc)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(QualifiedName:PatientDocument.Factory))(SimpleName:parse)(METHOD_INVOCATION_ARGUMENTS(SimpleName:patient)))))(ExpressionStatement(Assignment(SimpleName:helper)(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(SimpleType(SimpleName:DBHelper)))))(ExpressionStatement(Assignment(SimpleName:psPatient)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:helper))(SimpleName:prepareStatement)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:SQL))(SimpleName:insertPatient))))))(ExpressionStatement(Assignment(SimpleName:psNextofkin)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:helper))(SimpleName:prepareStatement)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:SQL))(SimpleName:insertNextofkin))))))(ExpressionStatement(Assignment(SimpleName:psCommit)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:helper))(SimpleName:prepareStatement)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:SQL))(SimpleName:commit))))))(ExpressionStatement(Assignment(SimpleName:psRollback)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:helper))(SimpleName:prepareStatement)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:SQL))(SimpleName:rollback))))))(ExpressionStatement(Assignment(SimpleName:psAdmitance)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:helper))(SimpleName:prepareStatement)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:SQL))(SimpleName:insertAdmitance))))))(ExpressionStatement(Assignment(SimpleName:psWard)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:helper))(SimpleName:prepareStatement)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:SQL))(SimpleName:insertPatientWard))))))(ExpressionStatement(Assignment(SimpleName:psHospital)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:helper))(SimpleName:prepareStatement)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:SQL))(SimpleName:getHospitalFromWard))))))(ExpressionStatement(Assignment(SimpleName:key)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:MedisisKeyGenerator))(SimpleName:generate))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:doc))(SimpleName:getPatient)))(SimpleName:setPatientno)(METHOD_INVOCATION_ARGUMENTS(SimpleName:key))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:psPatient))(SimpleName:setString)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:1)(SimpleName:key))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:psPatient))(SimpleName:setString)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:2)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:doc))(SimpleName:getPatient)))(SimpleName:getId)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:psPatient))(SimpleName:setString)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:3)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:doc))(SimpleName:getPatient)))(SimpleName:getIllnessno)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:psPatient))(SimpleName:setString)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:4)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:doc))(SimpleName:getPatient)))(SimpleName:getTitle)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:psPatient))(SimpleName:setString)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:5)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:doc))(SimpleName:getPatient)))(SimpleName:getName)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:psPatient))(SimpleName:setString)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:6)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:doc))(SimpleName:getPatient)))(SimpleName:getSurname)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:psPatient))(SimpleName:setString)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:7)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:doc))(SimpleName:getPatient)))(SimpleName:getStreet)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:psPatient))(SimpleName:setString)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:8)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:doc))(SimpleName:getPatient)))(SimpleName:getSuburb)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:psPatient))(SimpleName:setString)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:9)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:doc))(SimpleName:getPatient)))(SimpleName:getPostcode)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:psPatient))(SimpleName:addBatch)))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:wardno)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:doc))(SimpleName:getPatient)))(SimpleName:getWardHistory)))(SimpleName:getPatientInWardArray)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:0))))(SimpleName:getWardno))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:psHospital))(SimpleName:setString)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:1)(SimpleName:wardno))))(ExpressionStatement(Assignment(SimpleName:rsHospital)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:psHospital))(SimpleName:executeQuery))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:rsHospital))(SimpleName:next)))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:hospitalno)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:rsHospital))(SimpleName:getString)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:psAdmitance))(SimpleName:setString)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:1)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:MedisisKeyGenerator))(SimpleName:generate)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:psAdmitance))(SimpleName:setString)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:2)(SimpleName:hospitalno))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:psAdmitance))(SimpleName:setString)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:3)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:doc))(SimpleName:getPatient)))(SimpleName:getPatientno)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:psAdmitance))(SimpleName:setLong)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:4)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:System))(SimpleName:currentTimeMillis)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:psAdmitance))(SimpleName:addBatch)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:psWard))(SimpleName:setString)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:1)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:doc))(SimpleName:getPatient)))(SimpleName:getWardHistory)))(SimpleName:getPatientInWardArray)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:0))))(SimpleName:getPwno)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:psWard))(SimpleName:setString)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:2)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:doc))(SimpleName:getPatient)))(SimpleName:getPatientno)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:psWard))(SimpleName:setString)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:3)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:doc))(SimpleName:getPatient)))(SimpleName:getWardHistory)))(SimpleName:getPatientInWardArray)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:0))))(SimpleName:getWardno)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:psWard))(SimpleName:setLong)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:4)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:System))(SimpleName:currentTimeMillis)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:psWard))(SimpleName:setLong)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:5)(NumberLiteral:0))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:psWard))(SimpleName:addBatch)))(VariableDeclarationStatement(ArrayType(SimpleType(SimpleName:NextOfKinType))(Dimension))(VariableDeclarationFragment(SimpleName:nok)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:doc))(SimpleName:getPatient)))(SimpleName:getNextOfKinList)))(SimpleName:getNextOfKinArray))))(ForStatement(VariableDeclarationExpression(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:i)(NumberLiteral:0)))(InfixExpression(SimpleName:i)(INFIX_EXPRESSION_OPERATOR:<)(QualifiedName:nok.length))(PostfixExpression(SimpleName:i)(POSTFIX_EXPRESSION_OPERATOR:++))(Block(VariableDeclarationStatement(SimpleType(SimpleName:NextOfKinType))(VariableDeclarationFragment(SimpleName:n)(ArrayAccess(SimpleName:nok)(SimpleName:i))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:n))(SimpleName:setNextOfKinNo)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:MedisisKeyGenerator))(SimpleName:generate)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:psNextofkin))(SimpleName:setString)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:1)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:n))(SimpleName:getNextOfKinNo)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:psNextofkin))(SimpleName:setString)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:2)(SimpleName:key))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:psNextofkin))(SimpleName:setString)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:3)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:n))(SimpleName:getTitle)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:psNextofkin))(SimpleName:setString)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:4)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:n))(SimpleName:getName)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:psNextofkin))(SimpleName:setString)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:5)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:n))(SimpleName:getSurname)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:psNextofkin))(SimpleName:setString)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:6)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:n))(SimpleName:getTelephone)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:psNextofkin))(SimpleName:setString)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:7)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:n))(SimpleName:getCell)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:psNextofkin))(SimpleName:addBatch)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:psPatient))(SimpleName:executeBatch)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:psAdmitance))(SimpleName:executeBatch)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:psWard))(SimpleName:executeBatch)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:psNextofkin))(SimpleName:executeBatch)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:psCommit))(SimpleName:executeUpdate))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:Exception))(SimpleName:e))(Block(ExpressionStatement(Assignment(SimpleName:patient)(ASSIGNMENT_OPERATOR:=)(NullLiteral)))(TryStatement(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:psRollback))(SimpleName:executeUpdate))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:Exception))(SimpleName:ee))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ee))(SimpleName:printStackTrace))))))))(Block(TryStatement(Block(IfStatement(InfixExpression(SimpleName:rsHospital)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:rsHospital))(SimpleName:close)))))(IfStatement(InfixExpression(SimpleName:helper)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:helper))(SimpleName:cleanup))))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:SQLException))(SimpleName:e))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:e))(SimpleName:printStackTrace))))))))(ReturnStatement(SimpleName:doc))))))