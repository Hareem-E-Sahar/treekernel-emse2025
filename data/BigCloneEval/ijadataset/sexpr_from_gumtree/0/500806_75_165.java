(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(MarkerAnnotation(SimpleName:Override))(Modifier:public)(PrimitiveType:void)(SimpleName:execute)(SingleVariableDeclaration(ArrayType(SimpleType(SimpleName:String))(Dimension))(SimpleName:args))(SimpleType(SimpleName:Exception))(Block(VariableDeclarationStatement(SimpleType(SimpleName:Options))(VariableDeclarationFragment(SimpleName:cmdLineOptions)(MethodInvocation(SimpleName:getCommandOptions))))(TryStatement(Block(VariableDeclarationStatement(SimpleType(SimpleName:GnuParser))(VariableDeclarationFragment(SimpleName:parser)(ClassInstanceCreation(SimpleType(SimpleName:GnuParser)))))(VariableDeclarationStatement(SimpleType(SimpleName:CommandLine))(VariableDeclarationFragment(SimpleName:commandLine)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:parser))(SimpleName:parse)(METHOD_INVOCATION_ARGUMENTS(SimpleName:cmdLineOptions)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:TolvenPlugin))(SimpleName:getInitArgs))))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:srcRepositoryURLString)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:commandLine))(SimpleName:getOptionValue)(METHOD_INVOCATION_ARGUMENTS(SimpleName:CMD_LINE_SRC_REPOSITORYURL_OPTION)))))(VariableDeclarationStatement(SimpleType(SimpleName:Plugins))(VariableDeclarationFragment(SimpleName:libraryPlugins)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:RepositoryMetadata))(SimpleName:getRepositoryPlugins)(METHOD_INVOCATION_ARGUMENTS(ClassInstanceCreation(SimpleType(SimpleName:URL))(SimpleName:srcRepositoryURLString))))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:srcPluginId)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:commandLine))(SimpleName:getOptionValue)(METHOD_INVOCATION_ARGUMENTS(SimpleName:CMD_LINE_SRC_PLUGIN_ID_OPTION)))))(VariableDeclarationStatement(SimpleType(SimpleName:PluginDetail))(VariableDeclarationFragment(SimpleName:plugin)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:RepositoryMetadata))(SimpleName:getPluginDetail)(METHOD_INVOCATION_ARGUMENTS(SimpleName:srcPluginId)(SimpleName:libraryPlugins)))))(IfStatement(InfixExpression(SimpleName:plugin)(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(Block(ThrowStatement(ClassInstanceCreation(SimpleType(SimpleName:RuntimeException))(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:srcPluginId)(StringLiteral:<STR>)(SimpleName:srcRepositoryURLString))))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:srcPluginVersionString)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:commandLine))(SimpleName:getOptionValue)(METHOD_INVOCATION_ARGUMENTS(SimpleName:CMD_LINE_SRC_PLUGIN_VERSION_OPTION)))))(VariableDeclarationStatement(SimpleType(SimpleName:PluginVersionDetail))(VariableDeclarationFragment(SimpleName:srcPluginVersion)(NullLiteral)))(IfStatement(InfixExpression(SimpleName:srcPluginVersion)(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(Block(ExpressionStatement(Assignment(SimpleName:srcPluginVersion)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:RepositoryMetadata))(SimpleName:getLatestVersion)(METHOD_INVOCATION_ARGUMENTS(SimpleName:plugin))))))(Block(ExpressionStatement(Assignment(SimpleName:srcPluginVersion)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:RepositoryMetadata))(SimpleName:getPluginVersionDetail)(METHOD_INVOCATION_ARGUMENTS(SimpleName:srcPluginVersionString)(SimpleName:plugin)))))))(IfStatement(InfixExpression(SimpleName:plugin)(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(Block(ThrowStatement(ClassInstanceCreation(SimpleType(SimpleName:RuntimeException))(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:srcPluginId)(StringLiteral:<STR>)(SimpleName:srcRepositoryURLString))))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:destPluginId)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:commandLine))(SimpleName:getOptionValue)(METHOD_INVOCATION_ARGUMENTS(SimpleName:CMD_LINE_DEST_PLUGIN_ID_OPTION)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:FileUtils))(SimpleName:deleteDirectory)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(SimpleName:getPluginTmpDir)))))(VariableDeclarationStatement(SimpleType(SimpleName:URL))(VariableDeclarationFragment(SimpleName:srcURL)(ClassInstanceCreation(SimpleType(SimpleName:URL))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:srcPluginVersion))(SimpleName:getUri)))))(VariableDeclarationStatement(SimpleType(SimpleName:File))(VariableDeclarationFragment(SimpleName:newPluginDir)(ClassInstanceCreation(SimpleType(SimpleName:File))(MethodInvocation(SimpleName:getPluginTmpDir))(SimpleName:destPluginId))))(TryStatement(Block(VariableDeclarationStatement(SimpleType(SimpleName:InputStream))(VariableDeclarationFragment(SimpleName:in)(NullLiteral)))(VariableDeclarationStatement(SimpleType(SimpleName:FileOutputStream))(VariableDeclarationFragment(SimpleName:out)(NullLiteral)))(VariableDeclarationStatement(SimpleType(SimpleName:File))(VariableDeclarationFragment(SimpleName:tmpZip)(ClassInstanceCreation(SimpleType(SimpleName:File))(MethodInvocation(SimpleName:getPluginTmpDir))(MethodInvocation(METHOD_INVOCATION_RECEIVER(ClassInstanceCreation(SimpleType(SimpleName:File))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:srcURL))(SimpleName:getFile))))(SimpleName:getName)))))(TryStatement(Block(ExpressionStatement(Assignment(SimpleName:in)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:srcURL))(SimpleName:openStream))))(ExpressionStatement(Assignment(SimpleName:out)(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(SimpleType(SimpleName:FileOutputStream))(SimpleName:tmpZip))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:IOUtils))(SimpleName:copy)(METHOD_INVOCATION_ARGUMENTS(SimpleName:in)(SimpleName:out))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:TolvenZip))(SimpleName:unzip)(METHOD_INVOCATION_ARGUMENTS(SimpleName:tmpZip)(SimpleName:newPluginDir)))))(Block(IfStatement(InfixExpression(SimpleName:in)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:in))(SimpleName:close)))))(IfStatement(InfixExpression(SimpleName:out)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:out))(SimpleName:close)))))(IfStatement(InfixExpression(SimpleName:tmpZip)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:tmpZip))(SimpleName:delete)))))))(VariableDeclarationStatement(SimpleType(SimpleName:File))(VariableDeclarationFragment(SimpleName:pluginManifestFile)(ClassInstanceCreation(SimpleType(SimpleName:File))(SimpleName:newPluginDir)(StringLiteral:<STR>))))(IfStatement(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:pluginManifestFile))(SimpleName:exists)))(Block(ThrowStatement(ClassInstanceCreation(SimpleType(SimpleName:RuntimeException))(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:srcURL))(SimpleName:toExternalForm))(INFIX_EXPRESSION_OPERATOR:+)(StringLiteral:<STR>))))))(VariableDeclarationStatement(SimpleType(SimpleName:Plugin))(VariableDeclarationFragment(SimpleName:pluginManifest)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:RepositoryMetadata))(SimpleName:getPlugin)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:pluginManifestFile))(SimpleName:toURI)))(SimpleName:toURL))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:pluginManifest))(SimpleName:setId)(METHOD_INVOCATION_ARGUMENTS(SimpleName:destPluginId))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:destPluginVersion)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:commandLine))(SimpleName:getOptionValue)(METHOD_INVOCATION_ARGUMENTS(SimpleName:CMD_LINE_DEST_PLUGIN_VERSION_OPTION)))))(IfStatement(InfixExpression(SimpleName:destPluginVersion)(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(Block(ExpressionStatement(Assignment(SimpleName:destPluginVersion)(ASSIGNMENT_OPERATOR:=)(SimpleName:DEFAULT_DEST_VERSION)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:pluginManifest))(SimpleName:setVersion)(METHOD_INVOCATION_ARGUMENTS(SimpleName:destPluginVersion))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:pluginManifestXML)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:RepositoryMetadata))(SimpleName:getPluginManifest)(METHOD_INVOCATION_ARGUMENTS(SimpleName:pluginManifest)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:FileUtils))(SimpleName:writeStringToFile)(METHOD_INVOCATION_ARGUMENTS(SimpleName:pluginManifestFile)(SimpleName:pluginManifestXML))))(VariableDeclarationStatement(SimpleType(SimpleName:File))(VariableDeclarationFragment(SimpleName:pluginFragmentManifestFile)(ClassInstanceCreation(SimpleType(SimpleName:File))(SimpleName:newPluginDir)(StringLiteral:<STR>))))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:pluginFragmentManifestFile))(SimpleName:exists))(Block(VariableDeclarationStatement(SimpleType(SimpleName:PluginFragment))(VariableDeclarationFragment(SimpleName:pluginManifestFragment)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:RepositoryMetadata))(SimpleName:getPluginFragment)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:pluginFragmentManifestFile))(SimpleName:toURI)))(SimpleName:toURL))))))(VariableDeclarationStatement(SimpleType(SimpleName:Requires))(VariableDeclarationFragment(SimpleName:requires)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:pluginManifestFragment))(SimpleName:getRequires))))(IfStatement(InfixExpression(SimpleName:requires)(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(Block(ThrowStatement(ClassInstanceCreation(SimpleType(SimpleName:RuntimeException))(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:srcURL))(SimpleName:toExternalForm)))))))(IfStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:requires))(SimpleName:getImport)))(SimpleName:size))(INFIX_EXPRESSION_OPERATOR:!=)(NumberLiteral:1))(Block(ThrowStatement(ClassInstanceCreation(SimpleType(SimpleName:RuntimeException))(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:srcURL))(SimpleName:toExternalForm)))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:requires))(SimpleName:getImport)))(SimpleName:get)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:0))))(SimpleName:setPluginId)(METHOD_INVOCATION_ARGUMENTS(SimpleName:destPluginId))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:requires))(SimpleName:getImport)))(SimpleName:get)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:0))))(SimpleName:setPluginVersion)(METHOD_INVOCATION_ARGUMENTS(SimpleName:destPluginVersion))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:pluginFragmentManifestXML)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:RepositoryMetadata))(SimpleName:getPluginFragmentManifest)(METHOD_INVOCATION_ARGUMENTS(SimpleName:pluginManifestFragment)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:FileUtils))(SimpleName:writeStringToFile)(METHOD_INVOCATION_ARGUMENTS(SimpleName:pluginFragmentManifestFile)(SimpleName:pluginFragmentManifestXML))))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:destDirname)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:commandLine))(SimpleName:getOptionValue)(METHOD_INVOCATION_ARGUMENTS(SimpleName:CMD_LINE_DEST_DIR_OPTION)))))(VariableDeclarationStatement(SimpleType(SimpleName:File))(VariableDeclarationFragment(SimpleName:destDir)(ClassInstanceCreation(SimpleType(SimpleName:File))(SimpleName:destDirname))))(VariableDeclarationStatement(SimpleType(SimpleName:File))(VariableDeclarationFragment(SimpleName:destZip)(ClassInstanceCreation(SimpleType(SimpleName:File))(SimpleName:destDir)(InfixExpression(SimpleName:destPluginId)(INFIX_EXPRESSION_OPERATOR:+)(StringLiteral:<STR>)(SimpleName:destPluginVersion)(StringLiteral:<STR>)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:destDir))(SimpleName:mkdirs)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:TolvenZip))(SimpleName:zip)(METHOD_INVOCATION_ARGUMENTS(SimpleName:newPluginDir)(SimpleName:destZip)))))(Block(IfStatement(InfixExpression(SimpleName:newPluginDir)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:FileUtils))(SimpleName:deleteDirectory)(METHOD_INVOCATION_ARGUMENTS(SimpleName:newPluginDir)))))))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:ParseException))(SimpleName:ex))(Block(VariableDeclarationStatement(SimpleType(SimpleName:HelpFormatter))(VariableDeclarationFragment(SimpleName:formatter)(ClassInstanceCreation(SimpleType(SimpleName:HelpFormatter)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:formatter))(SimpleName:printHelp)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(SimpleName:getClass)))(SimpleName:getName))(SimpleName:cmdLineOptions))))(ThrowStatement(ClassInstanceCreation(SimpleType(SimpleName:RuntimeException))(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(SimpleName:getClass)))(SimpleName:getName)))(SimpleName:ex))))))))))