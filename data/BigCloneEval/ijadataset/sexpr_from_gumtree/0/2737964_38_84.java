(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:private)(PrimitiveType:void)(SimpleName:checkWriteOnMultiThread)(SingleVariableDeclaration(Modifier:final)(SimpleType(SimpleName:Stream))(SimpleName:stream))(SimpleType(SimpleName:SkypeException))(Block(VariableDeclarationStatement(ArrayType(SimpleType(SimpleName:Thread))(Dimension))(VariableDeclarationFragment(SimpleName:threads)(ArrayCreation(ArrayType(SimpleType(SimpleName:Thread))(Dimension(NumberLiteral:20))))))(VariableDeclarationStatement(Modifier:final)(ArrayType(SimpleType(SimpleName:String))(Dimension))(VariableDeclarationFragment(SimpleName:results)(ArrayCreation(ArrayType(SimpleType(SimpleName:String))(Dimension(QualifiedName:threads.length))))))(ForStatement(VariableDeclarationExpression(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:i)(NumberLiteral:0)))(InfixExpression(SimpleName:i)(INFIX_EXPRESSION_OPERATOR:<)(QualifiedName:threads.length))(PostfixExpression(SimpleName:i)(POSTFIX_EXPRESSION_OPERATOR:++))(Block(VariableDeclarationStatement(Modifier:final)(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:index)(SimpleName:i)))(VariableDeclarationStatement(SimpleType(SimpleName:Thread))(VariableDeclarationFragment(SimpleName:thread)(ClassInstanceCreation(SimpleType(SimpleName:Thread))(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:index))(AnonymousClassDeclaration(MethodDeclaration(MarkerAnnotation(SimpleName:Override))(Modifier:public)(PrimitiveType:void)(SimpleName:run)(Block(TryStatement(Block(VariableDeclarationStatement(Modifier:final)(SimpleType(SimpleName:Object))(VariableDeclarationFragment(SimpleName:lock)(ClassInstanceCreation(SimpleType(SimpleName:Object)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:stream))(SimpleName:addStreamListener)(METHOD_INVOCATION_ARGUMENTS(ClassInstanceCreation(SimpleType(SimpleName:StreamAdapter))(AnonymousClassDeclaration(MethodDeclaration(MarkerAnnotation(SimpleName:Override))(Modifier:public)(PrimitiveType:void)(SimpleName:textReceived)(SingleVariableDeclaration(SimpleType(SimpleName:String))(SimpleName:text))(SimpleType(SimpleName:SkypeException))(Block(ExpressionStatement(Assignment(ArrayAccess(SimpleName:results)(SimpleName:index))(ASSIGNMENT_OPERATOR:=)(SimpleName:text)))(SynchronizedStatement(SimpleName:lock)(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:lock))(SimpleName:notify))))))))))))(SynchronizedStatement(SimpleName:lock)(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:stream))(SimpleName:write)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))(TryStatement(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:lock))(SimpleName:wait)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:10000)))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:InterruptedException))(SimpleName:e))(Block))))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:SkypeException))(SimpleName:e))(Block)))))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:thread))(SimpleName:start)))(ExpressionStatement(Assignment(ArrayAccess(SimpleName:threads)(SimpleName:i))(ASSIGNMENT_OPERATOR:=)(SimpleName:thread)))))(EnhancedForStatement(SingleVariableDeclaration(SimpleType(SimpleName:Thread))(SimpleName:thread))(SimpleName:threads)(Block(TryStatement(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:thread))(SimpleName:join))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:InterruptedException))(SimpleName:e))(Block)))))(EnhancedForStatement(SingleVariableDeclaration(SimpleType(SimpleName:String))(SimpleName:result))(SimpleName:results)(Block(ExpressionStatement(MethodInvocation(SimpleName:assertEquals)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(SimpleName:result))))))))))