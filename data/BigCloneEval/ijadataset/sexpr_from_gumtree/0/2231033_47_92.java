(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:public)(Modifier:static)(PrimitiveType:void)(SimpleName:saveDigraph)(SingleVariableDeclaration(SimpleType(SimpleName:mainFrame))(SimpleName:parentFrame))(SingleVariableDeclaration(SimpleType(SimpleName:DigraphView))(SimpleName:digraphView))(SingleVariableDeclaration(SimpleType(SimpleName:File))(SimpleName:tobeSaved))(Block(VariableDeclarationStatement(SimpleType(SimpleName:DigraphFile))(VariableDeclarationFragment(SimpleName:digraphFile)(ClassInstanceCreation(SimpleType(SimpleName:DigraphFile)))))(VariableDeclarationStatement(SimpleType(SimpleName:DigraphTextFile))(VariableDeclarationFragment(SimpleName:digraphTextFile)(ClassInstanceCreation(SimpleType(SimpleName:DigraphTextFile)))))(TryStatement(Block(IfStatement(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(MethodInvocation(METHOD_INVOCATION_RECEIVER(QualifiedName:DigraphFile.DIGRAPH_FILE_EXTENSION))(SimpleName:equals)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(SimpleName:getExtension)(METHOD_INVOCATION_ARGUMENTS(SimpleName:tobeSaved))))))(Block(ExpressionStatement(Assignment(SimpleName:tobeSaved)(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(SimpleType(SimpleName:File))(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:tobeSaved))(SimpleName:getPath))(INFIX_EXPRESSION_OPERATOR:+)(StringLiteral:<STR>)(QualifiedName:DigraphFile.DIGRAPH_FILE_EXTENSION)))))))(VariableDeclarationStatement(SimpleType(SimpleName:File))(VariableDeclarationFragment(SimpleName:dtdFile)(ClassInstanceCreation(SimpleType(SimpleName:File))(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:tobeSaved))(SimpleName:getParent))(INFIX_EXPRESSION_OPERATOR:+)(StringLiteral:<STR>)(QualifiedName:DigraphFile.DTD_FILE)))))(IfStatement(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:dtdFile))(SimpleName:exists)))(Block(VariableDeclarationStatement(SimpleType(SimpleName:File))(VariableDeclarationFragment(SimpleName:baseDigraphDtdFile)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:parentFrame))(SimpleName:getDigraphDtdFile))))(IfStatement(InfixExpression(InfixExpression(SimpleName:baseDigraphDtdFile)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(INFIX_EXPRESSION_OPERATOR:&&)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:baseDigraphDtdFile))(SimpleName:exists)))(Block(TryStatement(Block(VariableDeclarationStatement(SimpleType(SimpleName:BufferedOutputStream))(VariableDeclarationFragment(SimpleName:bos)(ClassInstanceCreation(SimpleType(SimpleName:BufferedOutputStream))(ClassInstanceCreation(SimpleType(SimpleName:FileOutputStream))(SimpleName:dtdFile)))))(VariableDeclarationStatement(SimpleType(SimpleName:BufferedInputStream))(VariableDeclarationFragment(SimpleName:bis)(ClassInstanceCreation(SimpleType(SimpleName:BufferedInputStream))(ClassInstanceCreation(SimpleType(SimpleName:FileInputStream))(SimpleName:baseDigraphDtdFile)))))(WhileStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:bis))(SimpleName:available))(INFIX_EXPRESSION_OPERATOR:>)(NumberLiteral:1))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:bos))(SimpleName:write)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:bis))(SimpleName:read)))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:bis))(SimpleName:close)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:bos))(SimpleName:close))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:IOException))(SimpleName:ex))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(QualifiedName:System.out))(SimpleName:println)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ex))(SimpleName:getMessage))))))))))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(QualifiedName:System.out))(SimpleName:println)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))))))(VariableDeclarationStatement(SimpleType(SimpleName:Digraph))(VariableDeclarationFragment(SimpleName:digraph)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:digraphView))(SimpleName:getDigraph))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:digraphFile))(SimpleName:saveDigraph)(METHOD_INVOCATION_ARGUMENTS(SimpleName:tobeSaved)(SimpleName:digraph))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:fileName)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:tobeSaved))(SimpleName:getName))))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:extensionIndex)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fileName))(SimpleName:lastIndexOf)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))))(IfStatement(InfixExpression(SimpleName:extensionIndex)(INFIX_EXPRESSION_OPERATOR:>)(NumberLiteral:0))(Block(ExpressionStatement(Assignment(SimpleName:fileName)(ASSIGNMENT_OPERATOR:=)(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fileName))(SimpleName:substring)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:0)(InfixExpression(SimpleName:extensionIndex)(INFIX_EXPRESSION_OPERATOR:+)(NumberLiteral:1))))(INFIX_EXPRESSION_OPERATOR:+)(StringLiteral:<STR>)))))(Block(ExpressionStatement(Assignment(SimpleName:fileName)(ASSIGNMENT_OPERATOR:=)(InfixExpression(SimpleName:fileName)(INFIX_EXPRESSION_OPERATOR:+)(StringLiteral:<STR>))))))(VariableDeclarationStatement(SimpleType(SimpleName:File))(VariableDeclarationFragment(SimpleName:textFile)(ClassInstanceCreation(SimpleType(SimpleName:File))(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:tobeSaved))(SimpleName:getParent))(INFIX_EXPRESSION_OPERATOR:+)(StringLiteral:<STR>)(SimpleName:fileName)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:digraphTextFile))(SimpleName:saveDigraph)(METHOD_INVOCATION_ARGUMENTS(SimpleName:textFile)(SimpleName:digraph))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:digraphView))(SimpleName:setDigraphDirty)(METHOD_INVOCATION_ARGUMENTS(BooleanLiteral:false))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:parentFrame))(SimpleName:setFilePath)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:tobeSaved))(SimpleName:getPath)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:parentFrame))(SimpleName:setSavedOnce)(METHOD_INVOCATION_ARGUMENTS(BooleanLiteral:true)))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:DigraphFileException))(SimpleName:exep))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:JOptionPane))(SimpleName:showMessageDialog)(METHOD_INVOCATION_ARGUMENTS(SimpleName:parentFrame)(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:exep))(SimpleName:getMessage)))(StringLiteral:<STR>)(QualifiedName:JOptionPane.ERROR_MESSAGE))))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:DigraphException))(SimpleName:exep))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:JOptionPane))(SimpleName:showMessageDialog)(METHOD_INVOCATION_ARGUMENTS(SimpleName:parentFrame)(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:exep))(SimpleName:getMessage)))(StringLiteral:<STR>)(QualifiedName:JOptionPane.ERROR_MESSAGE)))))))))))