(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:public)(Modifier:static)(PrimitiveType:boolean)(SimpleName:enhanceZipFile)(SingleVariableDeclaration(SimpleType(SimpleName:ClassFileEnhancer))(SimpleName:enhancer))(SingleVariableDeclaration(SimpleType(SimpleName:ZipInputStream))(SimpleName:zip_in))(SingleVariableDeclaration(SimpleType(SimpleName:ZipOutputStream))(SimpleName:zip_out))(SimpleType(SimpleName:EnhancerUserException))(SimpleType(SimpleName:EnhancerFatalError))(Block(VariableDeclarationStatement(PrimitiveType:boolean)(VariableDeclarationFragment(SimpleName:enhanced)(BooleanLiteral:false)))(TryStatement(Block(VariableDeclarationStatement(SimpleType(SimpleName:CRC32))(VariableDeclarationFragment(SimpleName:crc32)(ClassInstanceCreation(SimpleType(SimpleName:CRC32)))))(VariableDeclarationStatement(SimpleType(SimpleName:ZipEntry))(VariableDeclarationFragment(SimpleName:entry)))(WhileStatement(InfixExpression(ParenthesizedExpression(Assignment(SimpleName:entry)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:zip_in))(SimpleName:getNextEntry))))(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(VariableDeclarationStatement(SimpleType(SimpleName:InputStream))(VariableDeclarationFragment(SimpleName:in)(SimpleName:zip_in)))(VariableDeclarationStatement(Modifier:final)(SimpleType(SimpleName:ZipEntry))(VariableDeclarationFragment(SimpleName:out_entry)(ClassInstanceCreation(SimpleType(SimpleName:ZipEntry))(SimpleName:entry))))(IfStatement(MethodInvocation(SimpleName:isClassFileEntry)(METHOD_INVOCATION_ARGUMENTS(SimpleName:entry)))(Block(ExpressionStatement(Assignment(SimpleName:in)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(SimpleName:openZipEntry)(METHOD_INVOCATION_ARGUMENTS(SimpleName:zip_in)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:in))(SimpleName:mark)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:Integer.MAX_VALUE))))(VariableDeclarationStatement(Modifier:final)(SimpleType(SimpleName:ByteArrayOutputStream))(VariableDeclarationFragment(SimpleName:tmp)(ClassInstanceCreation(SimpleType(SimpleName:ByteArrayOutputStream)))))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:enhancer))(SimpleName:enhanceClassFile)(METHOD_INVOCATION_ARGUMENTS(SimpleName:in)(SimpleName:tmp)))(Block(ExpressionStatement(Assignment(SimpleName:enhanced)(ASSIGNMENT_OPERATOR:=)(BooleanLiteral:true)))(VariableDeclarationStatement(Modifier:final)(ArrayType(PrimitiveType:byte)(Dimension))(VariableDeclarationFragment(SimpleName:bytes)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:tmp))(SimpleName:toByteArray))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:tmp))(SimpleName:close)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:in))(SimpleName:close)))(ExpressionStatement(MethodInvocation(SimpleName:modifyZipEntry)(METHOD_INVOCATION_ARGUMENTS(SimpleName:out_entry)(SimpleName:bytes)(SimpleName:crc32))))(ExpressionStatement(Assignment(SimpleName:in)(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(SimpleType(SimpleName:ByteArrayInputStream))(SimpleName:bytes)))))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:in))(SimpleName:reset)))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:zip_out))(SimpleName:putNextEntry)(METHOD_INVOCATION_ARGUMENTS(SimpleName:out_entry))))(ExpressionStatement(MethodInvocation(SimpleName:copyZipEntry)(METHOD_INVOCATION_ARGUMENTS(SimpleName:in)(SimpleName:zip_out))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:zip_out))(SimpleName:closeEntry)))(IfStatement(InfixExpression(SimpleName:in)(INFIX_EXPRESSION_OPERATOR:!=)(SimpleName:zip_in))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:in))(SimpleName:close))))))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:IOException))(SimpleName:ex))(Block(ThrowStatement(ClassInstanceCreation(SimpleType(SimpleName:EnhancerFatalError))(SimpleName:ex))))))(ReturnStatement(SimpleName:enhanced))))))