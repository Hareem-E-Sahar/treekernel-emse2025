(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:public)(SimpleName:XmppRouter)(SingleVariableDeclaration(SimpleType(SimpleName:XmppConfig))(SimpleName:config))(SingleVariableDeclaration(SimpleType(SimpleName:JsonRpcService))(SimpleName:rpcService))(SingleVariableDeclaration(PrimitiveType:boolean)(SimpleName:server))(SimpleType(SimpleName:XMPPException))(Block(ExpressionStatement(Assignment(FieldAccess(ThisExpression)(SimpleName:config))(ASSIGNMENT_OPERATOR:=)(SimpleName:config)))(ExpressionStatement(Assignment(FieldAccess(ThisExpression)(SimpleName:rpcService))(ASSIGNMENT_OPERATOR:=)(SimpleName:rpcService)))(VariableDeclarationStatement(SimpleType(SimpleName:ConnectionConfiguration))(VariableDeclarationFragment(SimpleName:xmppConfig)(ClassInstanceCreation(SimpleType(SimpleName:ConnectionConfiguration))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:config))(SimpleName:getHost))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:config))(SimpleName:getPort)))))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:config))(SimpleName:getProxy)))(SimpleName:getEnabled))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:xmppConfig))(SimpleName:setSocketFactory)(METHOD_INVOCATION_ARGUMENTS(ClassInstanceCreation(SimpleType(SimpleName:ProxySocketFactory))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:config))(SimpleName:getProxy)))))))(ExpressionStatement(Assignment(SimpleName:connection)(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(SimpleType(SimpleName:XMPPConnection))(SimpleName:xmppConfig))))(VariableDeclarationStatement(SimpleType(SimpleName:PacketFilter))(VariableDeclarationFragment(SimpleName:filter)(ClassInstanceCreation(SimpleType(SimpleName:AndFilter))(ClassInstanceCreation(SimpleType(SimpleName:OrFilter))(ClassInstanceCreation(SimpleType(SimpleName:MessageTypeFilter))(QualifiedName:Message.Type.chat))(ClassInstanceCreation(SimpleType(SimpleName:MessageTypeFilter))(QualifiedName:Message.Type.normal)))(ClassInstanceCreation(SimpleType(SimpleName:FromContainsFilter))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:config))(SimpleName:getAcceptFrom))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:connection))(SimpleName:connect)))(ExpressionStatement(Assignment(SimpleName:collector)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:connection))(SimpleName:createPacketCollector)(METHOD_INVOCATION_ARGUMENTS(SimpleName:filter)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:connection))(SimpleName:login)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:config))(SimpleName:getUser)))(SimpleName:getName))(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:config))(SimpleName:getUser)))(SimpleName:getPassword))(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:config))(SimpleName:getUser)))(SimpleName:getResource)))))(ExpressionStatement(Assignment(SimpleName:from)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:connection))(SimpleName:getUser))))(ExpressionStatement(Assignment(SimpleName:chatManager)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:connection))(SimpleName:getChatManager))))(IfStatement(SimpleName:server)(ExpressionStatement(MethodInvocation(SimpleName:start))))))))