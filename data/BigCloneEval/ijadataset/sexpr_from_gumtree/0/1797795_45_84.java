(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:public)(PrimitiveType:void)(SimpleName:actionSetup)(SingleVariableDeclaration(SimpleType(SimpleName:Action))(SimpleName:action))(Block(AssertStatement(InfixExpression(SimpleName:envAction)(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral)))(ExpressionStatement(Assignment(SimpleName:env)(ASSIGNMENT_OPERATOR:=)(NullLiteral)))(ExpressionStatement(Assignment(SimpleName:envAction)(ASSIGNMENT_OPERATOR:=)(NullLiteral)))(VariableDeclarationStatement(Modifier:final)(SimpleType(SimpleName:DynamicEnvironmentFrame))(VariableDeclarationFragment(SimpleName:local)(ClassInstanceCreation(SimpleType(SimpleName:DynamicEnvironmentFrame))(SimpleName:actorEnv))))(VariableDeclarationStatement(SimpleType(SimpleName:Executor))(VariableDeclarationFragment(SimpleName:myInterpreter)(ClassInstanceCreation(SimpleType(SimpleName:Executor))(SimpleName:theConfiguration)(FieldAccess(ThisExpression)(SimpleName:actorEnv)))))(VariableDeclarationStatement(SimpleType(SimpleName:TypeSystem))(VariableDeclarationFragment(SimpleName:ts)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:theConfiguration))(SimpleName:getTypeSystem))))(VariableDeclarationStatement(Modifier:final)(ArrayType(SimpleType(SimpleName:InputPattern))(Dimension))(VariableDeclarationFragment(SimpleName:inputPatterns)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:action))(SimpleName:getInputPatterns))))(ForStatement(VariableDeclarationExpression(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:i)(NumberLiteral:0)))(InfixExpression(SimpleName:i)(INFIX_EXPRESSION_OPERATOR:<)(QualifiedName:inputPatterns.length))(PostfixExpression(SimpleName:i)(POSTFIX_EXPRESSION_OPERATOR:++))(Block(VariableDeclarationStatement(Modifier:final)(SimpleType(SimpleName:InputPattern))(VariableDeclarationFragment(SimpleName:inputPattern)(ArrayAccess(SimpleName:inputPatterns)(SimpleName:i))))(VariableDeclarationStatement(Modifier:final)(ArrayType(SimpleType(SimpleName:String))(Dimension))(VariableDeclarationFragment(SimpleName:vars)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:inputPattern))(SimpleName:getVariables))))(VariableDeclarationStatement(Modifier:final)(SimpleType(SimpleName:Expression))(VariableDeclarationFragment(SimpleName:repExpr)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:inputPattern))(SimpleName:getRepeatExpr))))(IfStatement(InfixExpression(SimpleName:repExpr)(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(Block(ForStatement(VariableDeclarationExpression(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:j)(NumberLiteral:0)))(InfixExpression(SimpleName:j)(INFIX_EXPRESSION_OPERATOR:<)(QualifiedName:vars.length))(PostfixExpression(SimpleName:j)(POSTFIX_EXPRESSION_OPERATOR:++))(Block(VariableDeclarationStatement(Modifier:final)(SimpleType(SimpleName:InputChannel))(VariableDeclarationFragment(SimpleName:channel)(MethodInvocation(METHOD_INVOCATION_RECEIVER(ParenthesizedExpression(CastExpression(SimpleType(SimpleName:InputPort))(ParenthesizedExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:inputPortMap))(SimpleName:get)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:inputPattern))(SimpleName:getPortname))))))))(SimpleName:getChannel)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:0)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:local))(SimpleName:bind)(METHOD_INVOCATION_ARGUMENTS(ArrayAccess(SimpleName:vars)(SimpleName:j))(ClassInstanceCreation(SimpleType(SimpleName:SingleTokenReaderThunk))(SimpleName:channel)(SimpleName:j))(NullLiteral)))))))(Block(VariableDeclarationStatement(SimpleType(SimpleName:Thunk))(VariableDeclarationFragment(SimpleName:repExprThunk)(ClassInstanceCreation(SimpleType(SimpleName:Thunk))(SimpleName:repExpr)(SimpleName:interpreter)(SimpleName:local))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:local))(SimpleName:bind)(METHOD_INVOCATION_ARGUMENTS(ClassInstanceCreation(SimpleType(SimpleName:EnvironmentKey))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:inputPattern))(SimpleName:getPortname)))(SimpleName:repExprThunk)(NullLiteral))))(ForStatement(VariableDeclarationExpression(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:j)(NumberLiteral:0)))(InfixExpression(SimpleName:j)(INFIX_EXPRESSION_OPERATOR:<)(QualifiedName:vars.length))(PostfixExpression(SimpleName:j)(POSTFIX_EXPRESSION_OPERATOR:++))(Block(VariableDeclarationStatement(Modifier:final)(SimpleType(SimpleName:InputChannel))(VariableDeclarationFragment(SimpleName:channel)(MethodInvocation(METHOD_INVOCATION_RECEIVER(ParenthesizedExpression(CastExpression(SimpleType(SimpleName:InputPort))(ParenthesizedExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:inputPortMap))(SimpleName:get)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:inputPattern))(SimpleName:getPortname))))))))(SimpleName:getChannel)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:0)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:local))(SimpleName:bind)(METHOD_INVOCATION_ARGUMENTS(ArrayAccess(SimpleName:vars)(SimpleName:j))(ClassInstanceCreation(SimpleType(SimpleName:MultipleTokenReaderThunk))(SimpleName:channel)(SimpleName:j)(QualifiedName:vars.length)(SimpleName:repExprThunk)(SimpleName:configuration))(NullLiteral))))))))))(VariableDeclarationStatement(Modifier:final)(ArrayType(SimpleType(SimpleName:Decl))(Dimension))(VariableDeclarationFragment(SimpleName:decls)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:action))(SimpleName:getDecls))))(ForStatement(VariableDeclarationExpression(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:i)(NumberLiteral:0)))(InfixExpression(SimpleName:i)(INFIX_EXPRESSION_OPERATOR:<)(QualifiedName:decls.length))(PostfixExpression(SimpleName:i)(POSTFIX_EXPRESSION_OPERATOR:++))(Block(VariableDeclarationStatement(Modifier:final)(SimpleType(SimpleName:Expression))(VariableDeclarationFragment(SimpleName:v)(MethodInvocation(METHOD_INVOCATION_RECEIVER(ArrayAccess(SimpleName:decls)(SimpleName:i)))(SimpleName:getInitialValue))))(VariableDeclarationStatement(SimpleType(SimpleName:TypeExpr))(VariableDeclarationFragment(SimpleName:te)(MethodInvocation(METHOD_INVOCATION_RECEIVER(ArrayAccess(SimpleName:decls)(SimpleName:i)))(SimpleName:getType))))(VariableDeclarationStatement(SimpleType(SimpleName:Type))(VariableDeclarationFragment(SimpleName:type)(ConditionalExpression(ParenthesizedExpression(InfixExpression(SimpleName:ts)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral)))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ts))(SimpleName:evaluate)(METHOD_INVOCATION_ARGUMENTS(SimpleName:te)(SimpleName:myInterpreter)))(NullLiteral))))(IfStatement(InfixExpression(SimpleName:v)(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:local))(SimpleName:bind)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(ArrayAccess(SimpleName:decls)(SimpleName:i)))(SimpleName:getName))(NullLiteral)(SimpleName:type)))))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:local))(SimpleName:bind)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(ArrayAccess(SimpleName:decls)(SimpleName:i)))(SimpleName:getName))(ClassInstanceCreation(SimpleType(SimpleName:Thunk))(SimpleName:v)(SimpleName:interpreter)(SimpleName:local)(SimpleName:type))(SimpleName:type))))))))(ExpressionStatement(Assignment(SimpleName:env)(ASSIGNMENT_OPERATOR:=)(SimpleName:local)))(ExpressionStatement(Assignment(SimpleName:envAction)(ASSIGNMENT_OPERATOR:=)(SimpleName:action)))))))