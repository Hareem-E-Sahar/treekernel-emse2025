(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(SingleMemberAnnotation(SimpleName:SuppressWarnings)(StringLiteral:<STR>))(Modifier:private)(Modifier:static)(PrimitiveType:void)(SimpleName:saveEditorContentsAsImage)(SingleVariableDeclaration(SimpleType(SimpleName:IEditorPart))(SimpleName:editorPart))(SingleVariableDeclaration(SimpleType(SimpleName:GraphicalViewer))(SimpleName:viewer))(SingleVariableDeclaration(SimpleType(SimpleName:String))(SimpleName:saveFilePath))(SingleVariableDeclaration(PrimitiveType:int)(SimpleName:format))(Block(VariableDeclarationStatement(SimpleType(SimpleName:FigureCanvas))(VariableDeclarationFragment(SimpleName:figureCanvas)(CastExpression(SimpleType(SimpleName:FigureCanvas))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:viewer))(SimpleName:getControl)))))(VariableDeclarationStatement(SimpleType(SimpleName:IFigure))(VariableDeclarationFragment(SimpleName:rootFigure)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:figureCanvas))(SimpleName:getContents))))(VariableDeclarationStatement(SimpleType(SimpleName:Rectangle))(VariableDeclarationFragment(SimpleName:rootFigureBounds)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:rootFigure))(SimpleName:getBounds))))(VariableDeclarationStatement(SimpleType(SimpleName:GC))(VariableDeclarationFragment(SimpleName:figureCanvasGC)(ClassInstanceCreation(SimpleType(SimpleName:GC))(SimpleName:figureCanvas))))(VariableDeclarationStatement(SimpleType(SimpleName:Image))(VariableDeclarationFragment(SimpleName:img)(ClassInstanceCreation(SimpleType(SimpleName:Image))(NullLiteral)(QualifiedName:rootFigureBounds.width)(QualifiedName:rootFigureBounds.height))))(VariableDeclarationStatement(SimpleType(SimpleName:GC))(VariableDeclarationFragment(SimpleName:imageGC)(ClassInstanceCreation(SimpleType(SimpleName:GC))(SimpleName:img))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:imageGC))(SimpleName:setTransform)(METHOD_INVOCATION_ARGUMENTS(ClassInstanceCreation(SimpleType(SimpleName:Transform))(NullLiteral)(NumberLiteral:1)(NumberLiteral:0)(NumberLiteral:0)(NumberLiteral:1)(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:-)(QualifiedName:rootFigureBounds.x))(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:-)(QualifiedName:rootFigureBounds.y))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:imageGC))(SimpleName:setBackground)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:figureCanvasGC))(SimpleName:getBackground)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:imageGC))(SimpleName:setForeground)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:figureCanvasGC))(SimpleName:getForeground)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:imageGC))(SimpleName:setFont)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:figureCanvasGC))(SimpleName:getFont)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:imageGC))(SimpleName:setLineStyle)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:figureCanvasGC))(SimpleName:getLineStyle)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:imageGC))(SimpleName:setLineWidth)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:figureCanvasGC))(SimpleName:getLineWidth)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:imageGC))(SimpleName:setXORMode)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:figureCanvasGC))(SimpleName:getXORMode)))))(VariableDeclarationStatement(SimpleType(SimpleName:Graphics))(VariableDeclarationFragment(SimpleName:imgGraphics)(ClassInstanceCreation(SimpleType(SimpleName:SWTGraphics))(SimpleName:imageGC))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:rootFigure))(SimpleName:paint)(METHOD_INVOCATION_ARGUMENTS(SimpleName:imgGraphics))))(VariableDeclarationStatement(ArrayType(SimpleType(SimpleName:ImageData))(Dimension))(VariableDeclarationFragment(SimpleName:imgData)(ArrayCreation(ArrayType(SimpleType(SimpleName:ImageData))(Dimension(NumberLiteral:1))))))(ExpressionStatement(Assignment(ArrayAccess(SimpleName:imgData)(NumberLiteral:0))(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:img))(SimpleName:getImageData))))(VariableDeclarationStatement(SimpleType(SimpleName:ImageLoader))(VariableDeclarationFragment(SimpleName:imgLoader)(ClassInstanceCreation(SimpleType(SimpleName:ImageLoader)))))(ExpressionStatement(Assignment(QualifiedName:imgLoader.data)(ASSIGNMENT_OPERATOR:=)(SimpleName:imgData)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:imgLoader))(SimpleName:save)(METHOD_INVOCATION_ARGUMENTS(SimpleName:saveFilePath)(SimpleName:format))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:figureCanvasGC))(SimpleName:dispose)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:imageGC))(SimpleName:dispose)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:img))(SimpleName:dispose)))))))