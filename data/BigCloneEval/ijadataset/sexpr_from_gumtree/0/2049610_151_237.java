(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:public)(PrimitiveType:void)(SimpleName:write)(SingleVariableDeclaration(SimpleType(SimpleName:RandomAccessFile))(SimpleName:raf))(SingleVariableDeclaration(ArrayType(SimpleType(SimpleName:DirectByteBuffer))(Dimension))(SimpleName:buffers))(SingleVariableDeclaration(PrimitiveType:long)(SimpleName:position))(SimpleType(SimpleName:FMFileManagerException))(Block(IfStatement(InfixExpression(SimpleName:raf)(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(Block(ThrowStatement(ParenthesizedExpression(ClassInstanceCreation(SimpleType(SimpleName:FMFileManagerException))(StringLiteral:<STR>))))))(VariableDeclarationStatement(SimpleType(SimpleName:FileChannel))(VariableDeclarationFragment(SimpleName:fc)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:raf))(SimpleName:getChannel))))(IfStatement(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fc))(SimpleName:isOpen)))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Debug))(SimpleName:out)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:owner))(SimpleName:getName))))))(ThrowStatement(ParenthesizedExpression(ClassInstanceCreation(SimpleType(SimpleName:FMFileManagerException))(StringLiteral:<STR>))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:AEThread2))(SimpleName:setDebug)(METHOD_INVOCATION_ARGUMENTS(SimpleName:owner))))(VariableDeclarationStatement(ArrayType(PrimitiveType:int)(Dimension))(VariableDeclarationFragment(SimpleName:original_positions)(NullLiteral)))(TryStatement(Block(VariableDeclarationStatement(PrimitiveType:long)(VariableDeclarationFragment(SimpleName:expected_write)(NumberLiteral:0)))(VariableDeclarationStatement(PrimitiveType:long)(VariableDeclarationFragment(SimpleName:actual_write)(NumberLiteral:0)))(VariableDeclarationStatement(PrimitiveType:boolean)(VariableDeclarationFragment(SimpleName:partial_write)(BooleanLiteral:false)))(IfStatement(SimpleName:DEBUG)(Block(ForStatement(VariableDeclarationExpression(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:i)(NumberLiteral:0)))(InfixExpression(SimpleName:i)(INFIX_EXPRESSION_OPERATOR:<)(QualifiedName:buffers.length))(PostfixExpression(SimpleName:i)(POSTFIX_EXPRESSION_OPERATOR:++))(Block(ExpressionStatement(Assignment(SimpleName:expected_write)(ASSIGNMENT_OPERATOR:+=)(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(ArrayAccess(SimpleName:buffers)(SimpleName:i)))(SimpleName:limit)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:DirectByteBuffer.SS_FILE)))(INFIX_EXPRESSION_OPERATOR:-)(MethodInvocation(METHOD_INVOCATION_RECEIVER(ArrayAccess(SimpleName:buffers)(SimpleName:i)))(SimpleName:position)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:DirectByteBuffer.SS_FILE))))))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fc))(SimpleName:position)(METHOD_INVOCATION_ARGUMENTS(SimpleName:position))))(VariableDeclarationStatement(ArrayType(SimpleType(SimpleName:ByteBuffer))(Dimension))(VariableDeclarationFragment(SimpleName:bbs)(ArrayCreation(ArrayType(SimpleType(SimpleName:ByteBuffer))(Dimension(QualifiedName:buffers.length))))))(ExpressionStatement(Assignment(SimpleName:original_positions)(ASSIGNMENT_OPERATOR:=)(ArrayCreation(ArrayType(PrimitiveType:int)(Dimension(QualifiedName:buffers.length))))))(VariableDeclarationStatement(SimpleType(SimpleName:ByteBuffer))(VariableDeclarationFragment(SimpleName:last_bb)(NullLiteral)))(ForStatement(VariableDeclarationExpression(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:i)(NumberLiteral:0)))(InfixExpression(SimpleName:i)(INFIX_EXPRESSION_OPERATOR:<)(QualifiedName:bbs.length))(PostfixExpression(SimpleName:i)(POSTFIX_EXPRESSION_OPERATOR:++))(Block(VariableDeclarationStatement(SimpleType(SimpleName:ByteBuffer))(VariableDeclarationFragment(SimpleName:bb)(Assignment(ArrayAccess(SimpleName:bbs)(SimpleName:i))(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(ArrayAccess(SimpleName:buffers)(SimpleName:i)))(SimpleName:getBuffer)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:DirectByteBuffer.SS_FILE))))))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:pos)(Assignment(ArrayAccess(SimpleName:original_positions)(SimpleName:i))(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:bb))(SimpleName:position)))))(IfStatement(InfixExpression(SimpleName:pos)(INFIX_EXPRESSION_OPERATOR:!=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:bb))(SimpleName:limit)))(Block(ExpressionStatement(Assignment(SimpleName:last_bb)(ASSIGNMENT_OPERATOR:=)(ArrayAccess(SimpleName:bbs)(SimpleName:i))))))))(IfStatement(InfixExpression(SimpleName:last_bb)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:loop)(NumberLiteral:0)))(WhileStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:last_bb))(SimpleName:position))(INFIX_EXPRESSION_OPERATOR:!=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:last_bb))(SimpleName:limit)))(Block(VariableDeclarationStatement(PrimitiveType:long)(VariableDeclarationFragment(SimpleName:written)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fc))(SimpleName:write)(METHOD_INVOCATION_ARGUMENTS(SimpleName:bbs)))))(ExpressionStatement(Assignment(SimpleName:actual_write)(ASSIGNMENT_OPERATOR:+=)(SimpleName:written)))(IfStatement(InfixExpression(SimpleName:written)(INFIX_EXPRESSION_OPERATOR:>)(NumberLiteral:0))(Block(ExpressionStatement(Assignment(SimpleName:loop)(ASSIGNMENT_OPERATOR:=)(NumberLiteral:0)))(IfStatement(SimpleName:DEBUG)(Block(IfStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:last_bb))(SimpleName:position))(INFIX_EXPRESSION_OPERATOR:!=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:last_bb))(SimpleName:limit)))(Block(ExpressionStatement(Assignment(SimpleName:partial_write)(ASSIGNMENT_OPERATOR:=)(BooleanLiteral:true)))(IfStatement(SimpleName:DEBUG_VERBOSE)(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Debug))(SimpleName:out)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:written)(StringLiteral:<STR>)(SimpleName:actual_write)(StringLiteral:<STR>)(SimpleName:expected_write))))))))))))(Block(ExpressionStatement(PostfixExpression(SimpleName:loop)(POSTFIX_EXPRESSION_OPERATOR:++)))(IfStatement(InfixExpression(SimpleName:loop)(INFIX_EXPRESSION_OPERATOR:==)(SimpleName:WRITE_RETRY_LIMIT))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Debug))(SimpleName:out)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))(ThrowStatement(ParenthesizedExpression(ClassInstanceCreation(SimpleType(SimpleName:FMFileManagerException))(StringLiteral:<STR>)))))(Block(IfStatement(SimpleName:DEBUG_VERBOSE)(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Debug))(SimpleName:out)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))))(TryStatement(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Thread))(SimpleName:sleep)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(SimpleName:WRITE_RETRY_DELAY)(INFIX_EXPRESSION_OPERATOR:*)(SimpleName:loop))))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:InterruptedException))(SimpleName:e))(Block(ThrowStatement(ParenthesizedExpression(ClassInstanceCreation(SimpleType(SimpleName:FMFileManagerException))(StringLiteral:<STR>)))))))))))))))(IfStatement(SimpleName:DEBUG)(Block(IfStatement(InfixExpression(SimpleName:expected_write)(INFIX_EXPRESSION_OPERATOR:!=)(SimpleName:actual_write))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Debug))(SimpleName:out)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:expected_write)(StringLiteral:<STR>)(SimpleName:actual_write)))))(ThrowStatement(ParenthesizedExpression(ClassInstanceCreation(SimpleType(SimpleName:FMFileManagerException))(StringLiteral:<STR>)))))(Block(IfStatement(InfixExpression(SimpleName:partial_write)(INFIX_EXPRESSION_OPERATOR:&&)(SimpleName:DEBUG_VERBOSE))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Debug))(SimpleName:out)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))))))))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:Throwable))(SimpleName:e))(Block(IfStatement(InfixExpression(SimpleName:original_positions)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(TryStatement(Block(ForStatement(VariableDeclarationExpression(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:i)(NumberLiteral:0)))(InfixExpression(SimpleName:i)(INFIX_EXPRESSION_OPERATOR:<)(QualifiedName:original_positions.length))(PostfixExpression(SimpleName:i)(POSTFIX_EXPRESSION_OPERATOR:++))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(ArrayAccess(SimpleName:buffers)(SimpleName:i)))(SimpleName:position)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:DirectByteBuffer.SS_FILE)(ArrayAccess(SimpleName:original_positions)(SimpleName:i))))))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:Throwable))(SimpleName:e2))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Debug))(SimpleName:out)(METHOD_INVOCATION_ARGUMENTS(SimpleName:e2)))))))))(ThrowStatement(ParenthesizedExpression(ClassInstanceCreation(SimpleType(SimpleName:FMFileManagerException))(StringLiteral:<STR>)(SimpleName:e)))))))))))