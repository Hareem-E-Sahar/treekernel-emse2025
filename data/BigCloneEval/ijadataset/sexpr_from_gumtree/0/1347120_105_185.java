(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(MarkerAnnotation(SimpleName:Override))(SingleMemberAnnotation(SimpleName:SuppressWarnings)(StringLiteral:<STR>))(Modifier:public)(SimpleType(SimpleName:IStatus))(SimpleName:run)(SingleVariableDeclaration(Modifier:final)(SimpleType(SimpleName:IProgressMonitor))(SimpleName:progressMonitor))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:progressMonitor))(SimpleName:beginTask)(METHOD_INVOCATION_ARGUMENTS(SimpleName:JOB_LABEL)(QualifiedName:IProgressMonitor.UNKNOWN))))(VariableDeclarationStatement(Modifier:final)(SimpleType(SimpleName:File))(VariableDeclarationFragment(SimpleName:monitorFile)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:UiUsageMonitorPlugin))(SimpleName:getDefault)))(SimpleName:getMonitorLogFile))))(VariableDeclarationStatement(SimpleType(SimpleName:InteractionEventLogger))(VariableDeclarationFragment(SimpleName:logger)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:UiUsageMonitorPlugin))(SimpleName:getDefault)))(SimpleName:getInteractionLogger))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:logger))(SimpleName:stopMonitoring)))(VariableDeclarationStatement(ParameterizedType(SimpleType(SimpleName:List))(SimpleType(SimpleName:InteractionEvent)))(VariableDeclarationFragment(SimpleName:events)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:logger))(SimpleName:getHistoryFromFile)(METHOD_INVOCATION_ARGUMENTS(SimpleName:monitorFile)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:progressMonitor))(SimpleName:worked)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:1))))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:nowMonth)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Calendar))(SimpleName:getInstance)))(SimpleName:get)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:Calendar.MONTH)))))(IfStatement(InfixExpression(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:events))(SimpleName:size))(INFIX_EXPRESSION_OPERATOR:>)(NumberLiteral:0))(INFIX_EXPRESSION_OPERATOR:&&)(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:events))(SimpleName:get)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:0))))(SimpleName:getDate)))(SimpleName:getMonth))(INFIX_EXPRESSION_OPERATOR:!=)(SimpleName:nowMonth)))(Block(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:currMonth)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:events))(SimpleName:get)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:0))))(SimpleName:getDate)))(SimpleName:getMonth))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:fileName)(InfixExpression(MethodInvocation(SimpleName:getYear)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:events))(SimpleName:get)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:0)))))(INFIX_EXPRESSION_OPERATOR:+)(StringLiteral:<STR>)(MethodInvocation(SimpleName:getMonth)(METHOD_INVOCATION_ARGUMENTS(SimpleName:currMonth)))(StringLiteral:<STR>)(SimpleName:BACKUP_FILE_SUFFIX))))(VariableDeclarationStatement(SimpleType(SimpleName:File))(VariableDeclarationFragment(SimpleName:dir)(ClassInstanceCreation(SimpleType(SimpleName:File))(MethodInvocation(SimpleName:getZippedMonitorFileDirPath)))))(IfStatement(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:dir))(SimpleName:exists)))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:dir))(SimpleName:mkdir)))))(TryStatement(Block(VariableDeclarationStatement(SimpleType(SimpleName:File))(VariableDeclarationFragment(SimpleName:currBackupZipFile)(ClassInstanceCreation(SimpleType(SimpleName:File))(SimpleName:dir)(InfixExpression(SimpleName:fileName)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:ZIP_EXTENSION)))))(IfStatement(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:currBackupZipFile))(SimpleName:exists)))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:currBackupZipFile))(SimpleName:createNewFile)))))(VariableDeclarationStatement(SimpleType(SimpleName:ZipOutputStream))(VariableDeclarationFragment(SimpleName:zipFileStream)))(ExpressionStatement(Assignment(SimpleName:zipFileStream)(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(SimpleType(SimpleName:ZipOutputStream))(ClassInstanceCreation(SimpleType(SimpleName:FileOutputStream))(SimpleName:currBackupZipFile)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:zipFileStream))(SimpleName:putNextEntry)(METHOD_INVOCATION_ARGUMENTS(ClassInstanceCreation(SimpleType(SimpleName:ZipEntry))(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:UiUsageMonitorPlugin))(SimpleName:getDefault)))(SimpleName:getMonitorLogFile)))(SimpleName:getName))))))(EnhancedForStatement(SingleVariableDeclaration(SimpleType(SimpleName:InteractionEvent))(SimpleName:event))(SimpleName:events)(Block(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:monthOfCurrEvent)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:event))(SimpleName:getDate)))(SimpleName:getMonth))))(IfStatement(InfixExpression(SimpleName:monthOfCurrEvent)(INFIX_EXPRESSION_OPERATOR:==)(SimpleName:currMonth))(Block(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:xml)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:logger))(SimpleName:writeLegacyEvent)(METHOD_INVOCATION_ARGUMENTS(SimpleName:event)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:zipFileStream))(SimpleName:write)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:xml))(SimpleName:getBytes))))))(IfStatement(InfixExpression(SimpleName:monthOfCurrEvent)(INFIX_EXPRESSION_OPERATOR:!=)(SimpleName:nowMonth))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:progressMonitor))(SimpleName:worked)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:1))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:zipFileStream))(SimpleName:closeEntry)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:zipFileStream))(SimpleName:close)))(ExpressionStatement(Assignment(SimpleName:fileName)(ASSIGNMENT_OPERATOR:=)(InfixExpression(MethodInvocation(SimpleName:getYear)(METHOD_INVOCATION_ARGUMENTS(SimpleName:event)))(INFIX_EXPRESSION_OPERATOR:+)(StringLiteral:<STR>)(MethodInvocation(SimpleName:getMonth)(METHOD_INVOCATION_ARGUMENTS(SimpleName:monthOfCurrEvent)))(StringLiteral:<STR>)(SimpleName:BACKUP_FILE_SUFFIX))))(ExpressionStatement(Assignment(SimpleName:currBackupZipFile)(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(SimpleType(SimpleName:File))(SimpleName:dir)(InfixExpression(SimpleName:fileName)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:ZIP_EXTENSION)))))(IfStatement(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:currBackupZipFile))(SimpleName:exists)))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:currBackupZipFile))(SimpleName:createNewFile)))))(ExpressionStatement(Assignment(SimpleName:zipFileStream)(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(SimpleType(SimpleName:ZipOutputStream))(ClassInstanceCreation(SimpleType(SimpleName:FileOutputStream))(SimpleName:currBackupZipFile)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:zipFileStream))(SimpleName:putNextEntry)(METHOD_INVOCATION_ARGUMENTS(ClassInstanceCreation(SimpleType(SimpleName:ZipEntry))(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:UiUsageMonitorPlugin))(SimpleName:getDefault)))(SimpleName:getMonitorLogFile)))(SimpleName:getName))))))(ExpressionStatement(Assignment(SimpleName:currMonth)(ASSIGNMENT_OPERATOR:=)(SimpleName:monthOfCurrEvent)))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:xml)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:logger))(SimpleName:writeLegacyEvent)(METHOD_INVOCATION_ARGUMENTS(SimpleName:event)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:zipFileStream))(SimpleName:write)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:xml))(SimpleName:getBytes))))))(IfStatement(InfixExpression(SimpleName:monthOfCurrEvent)(INFIX_EXPRESSION_OPERATOR:==)(SimpleName:nowMonth))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:logger))(SimpleName:clearInteractionHistory)(METHOD_INVOCATION_ARGUMENTS(BooleanLiteral:false))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:logger))(SimpleName:interactionObserved)(METHOD_INVOCATION_ARGUMENTS(SimpleName:event))))))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:zipFileStream))(SimpleName:closeEntry)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:zipFileStream))(SimpleName:close))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:FileNotFoundException))(SimpleName:e))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:StatusHandler))(SimpleName:log)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:e))(SimpleName:getMessage)))(ThisExpression))))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:IOException))(SimpleName:e))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:StatusHandler))(SimpleName:log)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:e))(SimpleName:getMessage)))(ThisExpression)))))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:progressMonitor))(SimpleName:worked)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:1))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:logger))(SimpleName:startMonitoring)))(ExpressionStatement(Assignment(SimpleName:generator)(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(SimpleType(SimpleName:ReportGenerator))(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:UiUsageMonitorPlugin))(SimpleName:getDefault)))(SimpleName:getInteractionLogger))(SimpleName:collectors)(ThisExpression)(SimpleName:forceSyncForTesting))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:progressMonitor))(SimpleName:worked)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:1))))(VariableDeclarationStatement(Modifier:final)(ParameterizedType(SimpleType(SimpleName:List))(SimpleType(SimpleName:File)))(VariableDeclarationFragment(SimpleName:files)(ClassInstanceCreation(ParameterizedType(SimpleType(SimpleName:ArrayList))(SimpleType(SimpleName:File))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:files))(SimpleName:add)(METHOD_INVOCATION_ARGUMENTS(SimpleName:monitorFile))))(ExpressionStatement(Assignment(SimpleName:input)(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(SimpleType(SimpleName:UsageStatsEditorInput))(SimpleName:files)(SimpleName:generator))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:progressMonitor))(SimpleName:done)))(IfStatement(SimpleName:forceSyncForTesting)(Block(TryStatement(Block(VariableDeclarationStatement(Modifier:final)(SimpleType(SimpleName:IEditorInput))(VariableDeclarationFragment(SimpleName:input)(FieldAccess(ThisExpression)(SimpleName:input))))(VariableDeclarationStatement(SimpleType(SimpleName:IWorkbenchPage))(VariableDeclarationFragment(SimpleName:page)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:UiUsageMonitorPlugin))(SimpleName:getDefault)))(SimpleName:getWorkbench)))(SimpleName:getActiveWorkbenchWindow)))(SimpleName:getActivePage))))(IfStatement(InfixExpression(SimpleName:page)(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(Block(ReturnStatement(ClassInstanceCreation(SimpleType(SimpleName:Status))(QualifiedName:Status.ERROR)(QualifiedName:UiUsageMonitorPlugin.PLUGIN_ID)(QualifiedName:Status.OK)(StringLiteral:<STR>)(NullLiteral)))))(IfStatement(InfixExpression(SimpleName:input)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:page))(SimpleName:openEditor)(METHOD_INVOCATION_ARGUMENTS(SimpleName:input)(QualifiedName:UsageSummaryReportEditorPart.ID)))))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:PartInitException))(SimpleName:e1))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:StatusHandler))(SimpleName:fail)(METHOD_INVOCATION_ARGUMENTS(SimpleName:e1)(StringLiteral:<STR>)(BooleanLiteral:true)))))))))(ReturnStatement(QualifiedName:Status.OK_STATUS))))))