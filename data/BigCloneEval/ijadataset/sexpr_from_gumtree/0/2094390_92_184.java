(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:protected)(PrimitiveType:boolean)(SimpleName:importDevice)(SingleVariableDeclaration(PrimitiveType:int)(SimpleName:deviceID))(SingleVariableDeclaration(SimpleType(SimpleName:String))(SimpleName:deviceName))(SingleVariableDeclaration(PrimitiveType:int)(SimpleName:manufacturerID))(SingleVariableDeclaration(PrimitiveType:int)(SimpleName:productID))(SingleVariableDeclaration(PrimitiveType:int)(SimpleName:firmwareVersion))(SingleVariableDeclaration(PrimitiveType:int)(SimpleName:channelCount))(SingleVariableDeclaration(PrimitiveType:int)(SimpleName:transmitComponentCount))(SingleVariableDeclaration(PrimitiveType:int)(SimpleName:receiveComponentCount))(SingleVariableDeclaration(SimpleType(SimpleName:String))(SimpleName:roomName))(SingleVariableDeclaration(PrimitiveType:boolean)(SimpleName:xmitsLinks))(Block(VariableDeclarationStatement(PrimitiveType:boolean)(VariableDeclarationFragment(SimpleName:deviceNew)(BooleanLiteral:false)))(VariableDeclarationStatement(PrimitiveType:boolean)(VariableDeclarationFragment(SimpleName:deviceChanged)(BooleanLiteral:false)))(VariableDeclarationStatement(PrimitiveType:boolean)(VariableDeclarationFragment(SimpleName:roomChanged)(BooleanLiteral:false)))(VariableDeclarationStatement(SimpleType(SimpleName:UPBRoomI))(VariableDeclarationFragment(SimpleName:oldRoom)(NullLiteral)))(VariableDeclarationStatement(SimpleType(SimpleName:UPBDeviceI))(VariableDeclarationFragment(SimpleName:importDevice)(NullLiteral)))(VariableDeclarationStatement(SimpleType(SimpleName:UPBProductI))(VariableDeclarationFragment(SimpleName:importProduct)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:factory))(SimpleName:lookupProduct)(METHOD_INVOCATION_ARGUMENTS(SimpleName:manufacturerID)(SimpleName:productID)))))(IfStatement(InfixExpression(ParenthesizedExpression(Assignment(SimpleName:importDevice)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:importNetwork))(SimpleName:getDeviceByID)(METHOD_INVOCATION_ARGUMENTS(SimpleName:deviceID)))))(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(IfStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:importDevice))(SimpleName:getClass))(INFIX_EXPRESSION_OPERATOR:!=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:importProduct))(SimpleName:getDeviceClass)))(Block(IfStatement(QualifiedName:UPBManager.DEBUG_MODE)(ExpressionStatement(MethodInvocation(SimpleName:debug)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:deviceID)(StringLiteral:<STR>)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:importDevice))(SimpleName:getClass)))(SimpleName:getName))(StringLiteral:<STR>)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:importProduct))(SimpleName:getDeviceClass)))(SimpleName:getName)))))))(TryStatement(Block(VariableDeclarationStatement(SimpleType(SimpleName:UPBDeviceI))(VariableDeclarationFragment(SimpleName:replacementDevice)(CastExpression(SimpleType(SimpleName:UPBDeviceI))(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:importProduct))(SimpleName:getDeviceClass)))(SimpleName:newInstance)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:replacementDevice))(SimpleName:setDeviceInfo)(METHOD_INVOCATION_ARGUMENTS(SimpleName:importNetwork)(SimpleName:importProduct)(SimpleName:deviceID))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:replacementDevice))(SimpleName:copyFrom)(METHOD_INVOCATION_ARGUMENTS(SimpleName:importDevice))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:importNetwork))(SimpleName:addDevice)(METHOD_INVOCATION_ARGUMENTS(SimpleName:replacementDevice))))(EnhancedForStatement(SingleVariableDeclaration(SimpleType(QualifiedName:UPBManager.QualifiedDeviceListener))(SimpleName:theListener))(QualifiedName:upbManager.deviceListenerList)(Block(IfStatement(InfixExpression(QualifiedName:theListener.theDevice)(INFIX_EXPRESSION_OPERATOR:==)(SimpleName:importDevice))(ExpressionStatement(Assignment(QualifiedName:theListener.theDevice)(ASSIGNMENT_OPERATOR:=)(SimpleName:replacementDevice))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:importDevice))(SimpleName:releaseResources)))(ExpressionStatement(Assignment(SimpleName:importDevice)(ASSIGNMENT_OPERATOR:=)(SimpleName:replacementDevice)))(ExpressionStatement(Assignment(SimpleName:deviceChanged)(ASSIGNMENT_OPERATOR:=)(BooleanLiteral:true))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:Throwable))(SimpleName:anyError))(Block(ExpressionStatement(MethodInvocation(SimpleName:error)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:anyError))(SimpleName:getMessage))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:anyError))(SimpleName:printStackTrace)))(ReturnStatement(BooleanLiteral:false))))))))(Block(TryStatement(Block(ExpressionStatement(Assignment(SimpleName:importDevice)(ASSIGNMENT_OPERATOR:=)(CastExpression(SimpleType(SimpleName:UPBDeviceI))(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:importProduct))(SimpleName:getDeviceClass)))(SimpleName:newInstance)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:importDevice))(SimpleName:setDeviceInfo)(METHOD_INVOCATION_ARGUMENTS(SimpleName:importNetwork)(SimpleName:importProduct)(SimpleName:deviceID))))(ExpressionStatement(Assignment(SimpleName:deviceNew)(ASSIGNMENT_OPERATOR:=)(BooleanLiteral:true)))(ExpressionStatement(Assignment(SimpleName:deviceChanged)(ASSIGNMENT_OPERATOR:=)(BooleanLiteral:true))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:Throwable))(SimpleName:anyError))(Block(ExpressionStatement(MethodInvocation(SimpleName:error)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:anyError))(SimpleName:getMessage))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:anyError))(SimpleName:printStackTrace)))(ReturnStatement(BooleanLiteral:false)))))))(IfStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:importDevice))(SimpleName:getProductInfo))(INFIX_EXPRESSION_OPERATOR:!=)(SimpleName:importProduct))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:importDevice))(SimpleName:setDeviceInfo)(METHOD_INVOCATION_ARGUMENTS(SimpleName:importNetwork)(SimpleName:importProduct)(SimpleName:deviceID))))(ExpressionStatement(Assignment(SimpleName:deviceChanged)(ASSIGNMENT_OPERATOR:=)(BooleanLiteral:true)))))(IfStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:importDevice))(SimpleName:getFirmwareVersion))(INFIX_EXPRESSION_OPERATOR:!=)(SimpleName:firmwareVersion))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:importDevice))(SimpleName:setFirmwareVersion)(METHOD_INVOCATION_ARGUMENTS(SimpleName:firmwareVersion))))(ExpressionStatement(Assignment(SimpleName:deviceChanged)(ASSIGNMENT_OPERATOR:=)(BooleanLiteral:true)))))(IfStatement(InfixExpression(SimpleName:channelCount)(INFIX_EXPRESSION_OPERATOR:!=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:importDevice))(SimpleName:getChannelCount)))(Block(IfStatement(QualifiedName:UPBManager.DEBUG_MODE)(ExpressionStatement(MethodInvocation(SimpleName:debug)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:deviceID)(StringLiteral:<STR>)(SimpleName:channelCount)(StringLiteral:<STR>)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:importDevice))(SimpleName:getChannelCount))(StringLiteral:<STR>))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:importDevice))(SimpleName:setChannelCount)(METHOD_INVOCATION_ARGUMENTS(SimpleName:channelCount))))))(IfStatement(InfixExpression(SimpleName:transmitComponentCount)(INFIX_EXPRESSION_OPERATOR:!=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:importProduct))(SimpleName:getTransmitComponentCount)))(Block(IfStatement(QualifiedName:UPBManager.DEBUG_MODE)(ExpressionStatement(MethodInvocation(SimpleName:debug)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:deviceID)(StringLiteral:<STR>)(SimpleName:transmitComponentCount)(StringLiteral:<STR>)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:importProduct))(SimpleName:getTransmitComponentCount))(StringLiteral:<STR>))))))))(IfStatement(InfixExpression(SimpleName:receiveComponentCount)(INFIX_EXPRESSION_OPERATOR:!=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:importDevice))(SimpleName:getReceiveComponentCount)))(Block(IfStatement(QualifiedName:UPBManager.DEBUG_MODE)(ExpressionStatement(MethodInvocation(SimpleName:debug)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:deviceID)(StringLiteral:<STR>)(SimpleName:receiveComponentCount)(StringLiteral:<STR>)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:importDevice))(SimpleName:getReceiveComponentCount))(StringLiteral:<STR>))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:importDevice))(SimpleName:setReceiveComponentCount)(METHOD_INVOCATION_ARGUMENTS(SimpleName:receiveComponentCount))))))(VariableDeclarationStatement(SimpleType(SimpleName:UPBRoomI))(VariableDeclarationFragment(SimpleName:importRoom)(NullLiteral)))(IfStatement(InfixExpression(ParenthesizedExpression(Assignment(SimpleName:importRoom)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:importNetwork))(SimpleName:getRoomNamed)(METHOD_INVOCATION_ARGUMENTS(SimpleName:roomName)))))(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(Block(ExpressionStatement(Assignment(SimpleName:importRoom)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:factory))(SimpleName:createRoom)(METHOD_INVOCATION_ARGUMENTS(SimpleName:importNetwork)(SimpleName:roomName)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:importNetwork))(SimpleName:addRoom)(METHOD_INVOCATION_ARGUMENTS(SimpleName:importRoom))))))(IfStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:importDevice))(SimpleName:getRoom))(INFIX_EXPRESSION_OPERATOR:!=)(SimpleName:importRoom))(Block(ExpressionStatement(Assignment(SimpleName:roomChanged)(ASSIGNMENT_OPERATOR:=)(BooleanLiteral:true)))(IfStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:importDevice))(SimpleName:getRoom))(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(ExpressionStatement(Assignment(SimpleName:oldRoom)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:importDevice))(SimpleName:getRoom))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:importDevice))(SimpleName:getRoom)))(SimpleName:getDevices)))(SimpleName:remove)(METHOD_INVOCATION_ARGUMENTS(SimpleName:importDevice))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:importDevice))(SimpleName:setRoom)(METHOD_INVOCATION_ARGUMENTS(SimpleName:importRoom))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:importDevice))(SimpleName:getRoom)))(SimpleName:getDevices)))(SimpleName:add)(METHOD_INVOCATION_ARGUMENTS(SimpleName:importDevice))))(ExpressionStatement(Assignment(SimpleName:deviceChanged)(ASSIGNMENT_OPERATOR:=)(BooleanLiteral:true)))))(IfStatement(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:importDevice))(SimpleName:getDeviceName)))(SimpleName:equals)(METHOD_INVOCATION_ARGUMENTS(SimpleName:deviceName))))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:importDevice))(SimpleName:setDeviceName)(METHOD_INVOCATION_ARGUMENTS(SimpleName:deviceName))))(ExpressionStatement(Assignment(SimpleName:deviceChanged)(ASSIGNMENT_OPERATOR:=)(BooleanLiteral:true)))))(IfStatement(InfixExpression(SimpleName:xmitsLinks)(INFIX_EXPRESSION_OPERATOR:!=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:importDevice))(SimpleName:doesTransmitsLinks)))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:importDevice))(SimpleName:setTransmitsLinks)(METHOD_INVOCATION_ARGUMENTS(SimpleName:xmitsLinks))))(ExpressionStatement(Assignment(SimpleName:deviceChanged)(ASSIGNMENT_OPERATOR:=)(BooleanLiteral:true)))))(IfStatement(SimpleName:deviceNew)(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:importNetwork))(SimpleName:addDevice)(METHOD_INVOCATION_ARGUMENTS(SimpleName:importDevice)))))(IfStatement(SimpleName:deviceChanged)(ExpressionStatement(Assignment(ArrayAccess(SimpleName:deviceChangedMap)(SimpleName:deviceID))(ASSIGNMENT_OPERATOR:=)(BooleanLiteral:true))))(IfStatement(SimpleName:deviceChanged)(ExpressionStatement(MethodInvocation(SimpleName:markChangeFound))))(IfStatement(InfixExpression(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(SimpleName:deviceNew))(INFIX_EXPRESSION_OPERATOR:&&)(SimpleName:deviceChanged))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:upbManager))(SimpleName:fireDeviceEvent)(METHOD_INVOCATION_ARGUMENTS(ClassInstanceCreation(SimpleType(SimpleName:UPBDeviceEvent))(SimpleName:importDevice)(QualifiedName:org.cdp1802.upb.UPBDeviceEvent.EventCode.DEVICE_ID_CHANGED)(SimpleName:ALL_CHANNELS))))))(IfStatement(SimpleName:roomChanged)(Block(IfStatement(InfixExpression(SimpleName:oldRoom)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:upbManager))(SimpleName:fireRoomEvent)(METHOD_INVOCATION_ARGUMENTS(ClassInstanceCreation(SimpleType(SimpleName:UPBRoomEvent))(SimpleName:oldRoom)(QualifiedName:UPBRoomEvent.EventCode.DEVICE_REMOVED)(SimpleName:importDevice)))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:upbManager))(SimpleName:fireRoomEvent)(METHOD_INVOCATION_ARGUMENTS(ClassInstanceCreation(SimpleType(SimpleName:UPBRoomEvent))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:importDevice))(SimpleName:getRoom))(QualifiedName:UPBRoomEvent.EventCode.DEVICE_ADDED)(SimpleName:importDevice)))))))(ReturnStatement(BooleanLiteral:true))))))