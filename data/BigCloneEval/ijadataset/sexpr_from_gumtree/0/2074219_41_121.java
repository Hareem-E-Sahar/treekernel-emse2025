(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:public)(Modifier:synchronized)(PrimitiveType:long)(SimpleName:nextValue)(SingleVariableDeclaration(Modifier:final)(SimpleType(SimpleName:Session))(SimpleName:session))(Block(IfStatement(InfixExpression(SimpleName:sequence)(INFIX_EXPRESSION_OPERATOR:<)(SimpleName:seqLimit))(Block(ReturnStatement(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:++)(SimpleName:sequence))))(Block(VariableDeclarationStatement(Modifier:final)(SimpleType(SimpleName:MetaDatabase))(VariableDeclarationFragment(SimpleName:db)(MethodInvocation(METHOD_INVOCATION_RECEIVER(QualifiedName:MetaTable.DATABASE))(SimpleName:of)(METHOD_INVOCATION_ARGUMENTS(SimpleName:table)))))(VariableDeclarationStatement(SimpleType(SimpleName:Connection))(VariableDeclarationFragment(SimpleName:connection)(NullLiteral)))(VariableDeclarationStatement(SimpleType(SimpleName:ResultSet))(VariableDeclarationFragment(SimpleName:res)(NullLiteral)))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:sql)(NullLiteral)))(VariableDeclarationStatement(SimpleType(SimpleName:PreparedStatement))(VariableDeclarationFragment(SimpleName:statement)(NullLiteral)))(VariableDeclarationStatement(SimpleType(SimpleName:StringBuilder))(VariableDeclarationFragment(SimpleName:out)(ClassInstanceCreation(SimpleType(SimpleName:StringBuilder))(NumberLiteral:64))))(TryStatement(Block(ExpressionStatement(Assignment(SimpleName:connection)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:session))(SimpleName:getSeqConnection)(METHOD_INVOCATION_ARGUMENTS(SimpleName:db)))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:tableName)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:db))(SimpleName:getDialect)))(SimpleName:printFullTableName)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(SimpleName:getTable))(BooleanLiteral:true)(SimpleName:out))))(SimpleName:toString))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:out))(SimpleName:setLength)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:0))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:out))(SimpleName:setLength)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:0))))(ExpressionStatement(Assignment(SimpleName:sql)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:db))(SimpleName:getDialect)))(SimpleName:printSequenceNextValue)(METHOD_INVOCATION_ARGUMENTS(ThisExpression)(SimpleName:out))))(SimpleName:toString))))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:LOGGER))(SimpleName:isLoggable)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:Level.INFO)))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:LOGGER))(SimpleName:log)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:Level.INFO)(InfixExpression(SimpleName:sql)(INFIX_EXPRESSION_OPERATOR:+)(StringLiteral:<STR>)(SimpleName:tableName)(CharacterLiteral:<STR>)))))))(ExpressionStatement(Assignment(SimpleName:statement)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:connection))(SimpleName:prepareStatement)(METHOD_INVOCATION_ARGUMENTS(SimpleName:sql)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:statement))(SimpleName:setString)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:1)(SimpleName:tableName))))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:i)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:statement))(SimpleName:executeUpdate))))(IfStatement(InfixExpression(SimpleName:i)(INFIX_EXPRESSION_OPERATOR:==)(NumberLiteral:0))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:out))(SimpleName:setLength)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:0))))(ExpressionStatement(Assignment(SimpleName:sql)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:db))(SimpleName:getDialect)))(SimpleName:printSequenceInit)(METHOD_INVOCATION_ARGUMENTS(ThisExpression)(SimpleName:out))))(SimpleName:toString))))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:LOGGER))(SimpleName:isLoggable)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:Level.INFO)))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:LOGGER))(SimpleName:log)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:Level.INFO)(InfixExpression(SimpleName:sql)(INFIX_EXPRESSION_OPERATOR:+)(StringLiteral:<STR>)(SimpleName:tableName)(CharacterLiteral:<STR>)))))))(ExpressionStatement(Assignment(SimpleName:statement)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:connection))(SimpleName:prepareStatement)(METHOD_INVOCATION_ARGUMENTS(SimpleName:sql)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:statement))(SimpleName:setString)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:1)(SimpleName:tableName))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:statement))(SimpleName:executeUpdate)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:out))(SimpleName:setLength)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:0))))(ExpressionStatement(Assignment(SimpleName:sql)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:db))(SimpleName:getDialect)))(SimpleName:printSequenceCurrentValue)(METHOD_INVOCATION_ARGUMENTS(ThisExpression)(SimpleName:out))))(SimpleName:toString))))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:LOGGER))(SimpleName:isLoggable)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:Level.INFO)))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:LOGGER))(SimpleName:log)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:Level.INFO)(InfixExpression(SimpleName:sql)(INFIX_EXPRESSION_OPERATOR:+)(StringLiteral:<STR>)(SimpleName:tableName)(CharacterLiteral:<STR>)))))))(ExpressionStatement(Assignment(SimpleName:statement)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:connection))(SimpleName:prepareStatement)(METHOD_INVOCATION_ARGUMENTS(SimpleName:sql)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:statement))(SimpleName:setString)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:1)(SimpleName:tableName))))(ExpressionStatement(Assignment(SimpleName:res)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:statement))(SimpleName:executeQuery))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:res))(SimpleName:next)))(ExpressionStatement(Assignment(SimpleName:seqLimit)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:res))(SimpleName:getLong)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:1)))))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:step)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:res))(SimpleName:getInt)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:2)))))(ExpressionStatement(Assignment(SimpleName:maxValue)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:res))(SimpleName:getLong)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:3)))))(ExpressionStatement(Assignment(SimpleName:sequence)(ASSIGNMENT_OPERATOR:=)(InfixExpression(ParenthesizedExpression(InfixExpression(SimpleName:seqLimit)(INFIX_EXPRESSION_OPERATOR:-)(SimpleName:step)))(INFIX_EXPRESSION_OPERATOR:+)(NumberLiteral:1))))(IfStatement(InfixExpression(SimpleName:maxValue)(INFIX_EXPRESSION_OPERATOR:!=)(NumberLiteral:0L))(Block(IfStatement(InfixExpression(SimpleName:seqLimit)(INFIX_EXPRESSION_OPERATOR:>)(SimpleName:maxValue))(Block(ExpressionStatement(Assignment(SimpleName:seqLimit)(ASSIGNMENT_OPERATOR:=)(SimpleName:maxValue)))(IfStatement(InfixExpression(SimpleName:sequence)(INFIX_EXPRESSION_OPERATOR:>)(SimpleName:maxValue))(Block(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:msg)(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:tableName)(StringLiteral:<STR>)(SimpleName:maxValue))))(ThrowStatement(ClassInstanceCreation(SimpleType(SimpleName:IllegalStateException))(SimpleName:msg)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:statement))(SimpleName:close)))(ExpressionStatement(Assignment(SimpleName:sql)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:db))(SimpleName:getDialect)))(SimpleName:printSetMaxSequence)(METHOD_INVOCATION_ARGUMENTS(ThisExpression)(SimpleName:out))))(SimpleName:toString))))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:LOGGER))(SimpleName:isLoggable)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:Level.INFO)))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:LOGGER))(SimpleName:log)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:Level.INFO)(InfixExpression(SimpleName:sql)(INFIX_EXPRESSION_OPERATOR:+)(StringLiteral:<STR>)(SimpleName:tableName)(CharacterLiteral:<STR>)))))))(ExpressionStatement(Assignment(SimpleName:statement)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:connection))(SimpleName:prepareStatement)(METHOD_INVOCATION_ARGUMENTS(SimpleName:sql)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:statement))(SimpleName:setString)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:1)(SimpleName:tableName))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:statement))(SimpleName:execute)))))(IfStatement(InfixExpression(SimpleName:maxValue)(INFIX_EXPRESSION_OPERATOR:>)(InfixExpression(QualifiedName:Long.MAX_VALUE)(INFIX_EXPRESSION_OPERATOR:-)(SimpleName:step)))(Block(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:msg)(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:tableName)(StringLiteral:<STR>)(StringLiteral:<STR>)(ParenthesizedExpression(InfixExpression(QualifiedName:Long.MAX_VALUE)(INFIX_EXPRESSION_OPERATOR:-)(SimpleName:step)))(StringLiteral:<STR>))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:LOGGER))(SimpleName:log)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:Level.WARNING)(SimpleName:msg))))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:connection))(SimpleName:commit))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:Throwable))(SimpleName:e))(Block(IfStatement(InfixExpression(SimpleName:connection)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(TryStatement(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:connection))(SimpleName:rollback))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:SQLException))(SimpleName:ex))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:LOGGER))(SimpleName:log)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:Level.WARNING)(StringLiteral:<STR>))))))))(VariableDeclarationStatement(SimpleType(SimpleName:IllegalStateException))(VariableDeclarationFragment(SimpleName:exception)(ConditionalExpression(InstanceofExpression(SimpleName:e)(SimpleType(SimpleName:IllegalStateException)))(CastExpression(SimpleType(SimpleName:IllegalStateException))(SimpleName:e))(ClassInstanceCreation(SimpleType(SimpleName:IllegalStateException))(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:sql))(SimpleName:e)))))(ThrowStatement(SimpleName:exception))))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:MetaDatabase))(SimpleName:close)(METHOD_INVOCATION_ARGUMENTS(NullLiteral)(SimpleName:statement)(SimpleName:res)(BooleanLiteral:true))))))(ReturnStatement(SimpleName:sequence))))))))