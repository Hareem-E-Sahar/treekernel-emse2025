(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:public)(PrimitiveType:boolean)(SimpleName:write)(SingleVariableDeclaration(SimpleType(SimpleName:Node))(SimpleName:node))(SingleVariableDeclaration(SimpleType(SimpleName:LSOutput))(SimpleName:destination))(SimpleType(SimpleName:LSException))(Block(IfStatement(InfixExpression(SimpleName:node)(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(ReturnStatement(BooleanLiteral:false)))(VariableDeclarationStatement(SimpleType(SimpleName:Method))(VariableDeclarationFragment(SimpleName:getVersion)(NullLiteral)))(VariableDeclarationStatement(SimpleType(SimpleName:XMLSerializer))(VariableDeclarationFragment(SimpleName:ser)(NullLiteral)))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:ver)(NullLiteral)))(VariableDeclarationStatement(SimpleType(SimpleName:Document))(VariableDeclarationFragment(SimpleName:fDocument)(ConditionalExpression(ParenthesizedExpression(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:node))(SimpleName:getNodeType))(INFIX_EXPRESSION_OPERATOR:==)(QualifiedName:Node.DOCUMENT_NODE)))(CastExpression(SimpleType(SimpleName:Document))(SimpleName:node))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:node))(SimpleName:getOwnerDocument)))))(TryStatement(Block(ExpressionStatement(Assignment(SimpleName:getVersion)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fDocument))(SimpleName:getClass)))(SimpleName:getMethod)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(ArrayCreation(ArrayType(SimpleType(SimpleName:Class))(Dimension))(ArrayInitializer))))))(IfStatement(InfixExpression(SimpleName:getVersion)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(ExpressionStatement(Assignment(SimpleName:ver)(ASSIGNMENT_OPERATOR:=)(CastExpression(SimpleType(SimpleName:String))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:getVersion))(SimpleName:invoke)(METHOD_INVOCATION_ARGUMENTS(SimpleName:fDocument)(CastExpression(ArrayType(SimpleType(SimpleName:Object))(Dimension))(NullLiteral))))))))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:Exception))(SimpleName:e))(Block)))(IfStatement(InfixExpression(InfixExpression(SimpleName:ver)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(INFIX_EXPRESSION_OPERATOR:&&)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ver))(SimpleName:equals)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))(Block(IfStatement(InfixExpression(SimpleName:xml11Serializer)(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(Block(ExpressionStatement(Assignment(SimpleName:xml11Serializer)(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(SimpleType(SimpleName:XML11Serializer)))))(ExpressionStatement(MethodInvocation(SimpleName:initSerializer)(METHOD_INVOCATION_ARGUMENTS(SimpleName:xml11Serializer))))))(ExpressionStatement(MethodInvocation(SimpleName:copySettings)(METHOD_INVOCATION_ARGUMENTS(SimpleName:serializer)(SimpleName:xml11Serializer))))(ExpressionStatement(Assignment(SimpleName:ser)(ASSIGNMENT_OPERATOR:=)(SimpleName:xml11Serializer))))(Block(ExpressionStatement(Assignment(SimpleName:ser)(ASSIGNMENT_OPERATOR:=)(SimpleName:serializer)))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:encoding)(NullLiteral)))(IfStatement(InfixExpression(ParenthesizedExpression(Assignment(SimpleName:encoding)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:destination))(SimpleName:getEncoding))))(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(Block(TryStatement(Block(VariableDeclarationStatement(SimpleType(SimpleName:Method))(VariableDeclarationFragment(SimpleName:getEncoding)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fDocument))(SimpleName:getClass)))(SimpleName:getMethod)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(ArrayCreation(ArrayType(SimpleType(SimpleName:Class))(Dimension))(ArrayInitializer))))))(IfStatement(InfixExpression(SimpleName:getEncoding)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(ExpressionStatement(Assignment(SimpleName:encoding)(ASSIGNMENT_OPERATOR:=)(CastExpression(SimpleType(SimpleName:String))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:getEncoding))(SimpleName:invoke)(METHOD_INVOCATION_ARGUMENTS(SimpleName:fDocument)(CastExpression(ArrayType(SimpleType(SimpleName:Object))(Dimension))(NullLiteral))))))))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:Exception))(SimpleName:e))(Block)))(IfStatement(InfixExpression(SimpleName:encoding)(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(Block(TryStatement(Block(VariableDeclarationStatement(SimpleType(SimpleName:Method))(VariableDeclarationFragment(SimpleName:getEncoding)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fDocument))(SimpleName:getClass)))(SimpleName:getMethod)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(ArrayCreation(ArrayType(SimpleType(SimpleName:Class))(Dimension))(ArrayInitializer))))))(IfStatement(InfixExpression(SimpleName:getEncoding)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(ExpressionStatement(Assignment(SimpleName:encoding)(ASSIGNMENT_OPERATOR:=)(CastExpression(SimpleType(SimpleName:String))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:getEncoding))(SimpleName:invoke)(METHOD_INVOCATION_ARGUMENTS(SimpleName:fDocument)(CastExpression(ArrayType(SimpleType(SimpleName:Object))(Dimension))(NullLiteral))))))))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:Exception))(SimpleName:e))(Block)))(IfStatement(InfixExpression(SimpleName:encoding)(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(Block(ExpressionStatement(Assignment(SimpleName:encoding)(ASSIGNMENT_OPERATOR:=)(StringLiteral:<STR>)))))))))(TryStatement(Block(ExpressionStatement(MethodInvocation(SimpleName:prepareForSerialization)(METHOD_INVOCATION_ARGUMENTS(SimpleName:ser)(SimpleName:node))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(QualifiedName:ser._format))(SimpleName:setEncoding)(METHOD_INVOCATION_ARGUMENTS(SimpleName:encoding))))(VariableDeclarationStatement(SimpleType(SimpleName:OutputStream))(VariableDeclarationFragment(SimpleName:outputStream)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:destination))(SimpleName:getByteStream))))(VariableDeclarationStatement(SimpleType(SimpleName:Writer))(VariableDeclarationFragment(SimpleName:writer)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:destination))(SimpleName:getCharacterStream))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:uri)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:destination))(SimpleName:getSystemId))))(IfStatement(InfixExpression(SimpleName:writer)(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(Block(IfStatement(InfixExpression(SimpleName:outputStream)(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(Block(IfStatement(InfixExpression(SimpleName:uri)(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(Block(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:msg)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:DOMMessageFormatter))(SimpleName:formatMessage)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:DOMMessageFormatter.SERIALIZER_DOMAIN)(StringLiteral:<STR>)(NullLiteral)))))(IfStatement(InfixExpression(QualifiedName:ser.fDOMErrorHandler)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(VariableDeclarationStatement(SimpleType(SimpleName:DOMErrorImpl))(VariableDeclarationFragment(SimpleName:error)(ClassInstanceCreation(SimpleType(SimpleName:DOMErrorImpl)))))(ExpressionStatement(Assignment(QualifiedName:error.fType)(ASSIGNMENT_OPERATOR:=)(StringLiteral:<STR>)))(ExpressionStatement(Assignment(QualifiedName:error.fMessage)(ASSIGNMENT_OPERATOR:=)(SimpleName:msg)))(ExpressionStatement(Assignment(QualifiedName:error.fSeverity)(ASSIGNMENT_OPERATOR:=)(QualifiedName:DOMError.SEVERITY_FATAL_ERROR)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(QualifiedName:ser.fDOMErrorHandler))(SimpleName:handleError)(METHOD_INVOCATION_ARGUMENTS(SimpleName:error))))))(ThrowStatement(ClassInstanceCreation(SimpleType(SimpleName:LSException))(QualifiedName:LSException.SERIALIZE_ERR)(SimpleName:msg))))(Block(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:expanded)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:XMLEntityManager))(SimpleName:expandSystemId)(METHOD_INVOCATION_ARGUMENTS(SimpleName:uri)(NullLiteral)(BooleanLiteral:true)))))(VariableDeclarationStatement(SimpleType(SimpleName:URL))(VariableDeclarationFragment(SimpleName:url)(ClassInstanceCreation(SimpleType(SimpleName:URL))(ConditionalExpression(InfixExpression(SimpleName:expanded)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(SimpleName:expanded)(SimpleName:uri)))))(VariableDeclarationStatement(SimpleType(SimpleName:OutputStream))(VariableDeclarationFragment(SimpleName:out)(NullLiteral)))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:protocol)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:url))(SimpleName:getProtocol))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:host)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:url))(SimpleName:getHost))))(IfStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:protocol))(SimpleName:equals)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))(INFIX_EXPRESSION_OPERATOR:&&)(ParenthesizedExpression(InfixExpression(InfixExpression(InfixExpression(SimpleName:host)(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(INFIX_EXPRESSION_OPERATOR:||)(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:host))(SimpleName:length))(INFIX_EXPRESSION_OPERATOR:==)(NumberLiteral:0)))(INFIX_EXPRESSION_OPERATOR:||)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:host))(SimpleName:equals)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))))(Block(ExpressionStatement(Assignment(SimpleName:out)(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(SimpleType(SimpleName:FileOutputStream))(MethodInvocation(SimpleName:getPathWithoutEscapes)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:url))(SimpleName:getFile))))))))(Block(VariableDeclarationStatement(SimpleType(SimpleName:URLConnection))(VariableDeclarationFragment(SimpleName:urlCon)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:url))(SimpleName:openConnection))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:urlCon))(SimpleName:setDoInput)(METHOD_INVOCATION_ARGUMENTS(BooleanLiteral:false))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:urlCon))(SimpleName:setDoOutput)(METHOD_INVOCATION_ARGUMENTS(BooleanLiteral:true))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:urlCon))(SimpleName:setUseCaches)(METHOD_INVOCATION_ARGUMENTS(BooleanLiteral:false))))(IfStatement(InstanceofExpression(SimpleName:urlCon)(SimpleType(SimpleName:HttpURLConnection)))(Block(VariableDeclarationStatement(SimpleType(SimpleName:HttpURLConnection))(VariableDeclarationFragment(SimpleName:httpCon)(CastExpression(SimpleType(SimpleName:HttpURLConnection))(SimpleName:urlCon))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:httpCon))(SimpleName:setRequestMethod)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))))(ExpressionStatement(Assignment(SimpleName:out)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:urlCon))(SimpleName:getOutputStream))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ser))(SimpleName:setOutputByteStream)(METHOD_INVOCATION_ARGUMENTS(SimpleName:out)))))))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ser))(SimpleName:setOutputByteStream)(METHOD_INVOCATION_ARGUMENTS(SimpleName:outputStream)))))))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ser))(SimpleName:setOutputCharStream)(METHOD_INVOCATION_ARGUMENTS(SimpleName:writer))))))(IfStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:node))(SimpleName:getNodeType))(INFIX_EXPRESSION_OPERATOR:==)(QualifiedName:Node.DOCUMENT_NODE))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ser))(SimpleName:serialize)(METHOD_INVOCATION_ARGUMENTS(CastExpression(SimpleType(SimpleName:Document))(SimpleName:node)))))(IfStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:node))(SimpleName:getNodeType))(INFIX_EXPRESSION_OPERATOR:==)(QualifiedName:Node.DOCUMENT_FRAGMENT_NODE))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ser))(SimpleName:serialize)(METHOD_INVOCATION_ARGUMENTS(CastExpression(SimpleType(SimpleName:DocumentFragment))(SimpleName:node)))))(IfStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:node))(SimpleName:getNodeType))(INFIX_EXPRESSION_OPERATOR:==)(QualifiedName:Node.ELEMENT_NODE))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ser))(SimpleName:serialize)(METHOD_INVOCATION_ARGUMENTS(CastExpression(SimpleType(SimpleName:Element))(SimpleName:node)))))(IfStatement(InfixExpression(InfixExpression(InfixExpression(InfixExpression(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:node))(SimpleName:getNodeType))(INFIX_EXPRESSION_OPERATOR:==)(QualifiedName:Node.TEXT_NODE))(INFIX_EXPRESSION_OPERATOR:||)(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:node))(SimpleName:getNodeType))(INFIX_EXPRESSION_OPERATOR:==)(QualifiedName:Node.COMMENT_NODE)))(INFIX_EXPRESSION_OPERATOR:||)(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:node))(SimpleName:getNodeType))(INFIX_EXPRESSION_OPERATOR:==)(QualifiedName:Node.ENTITY_REFERENCE_NODE)))(INFIX_EXPRESSION_OPERATOR:||)(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:node))(SimpleName:getNodeType))(INFIX_EXPRESSION_OPERATOR:==)(QualifiedName:Node.CDATA_SECTION_NODE)))(INFIX_EXPRESSION_OPERATOR:||)(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:node))(SimpleName:getNodeType))(INFIX_EXPRESSION_OPERATOR:==)(QualifiedName:Node.PROCESSING_INSTRUCTION_NODE)))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ser))(SimpleName:serialize)(METHOD_INVOCATION_ARGUMENTS(SimpleName:node)))))(ReturnStatement(BooleanLiteral:false)))))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:UnsupportedEncodingException))(SimpleName:ue))(Block(IfStatement(InfixExpression(QualifiedName:ser.fDOMErrorHandler)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(VariableDeclarationStatement(SimpleType(SimpleName:DOMErrorImpl))(VariableDeclarationFragment(SimpleName:error)(ClassInstanceCreation(SimpleType(SimpleName:DOMErrorImpl)))))(ExpressionStatement(Assignment(QualifiedName:error.fException)(ASSIGNMENT_OPERATOR:=)(SimpleName:ue)))(ExpressionStatement(Assignment(QualifiedName:error.fType)(ASSIGNMENT_OPERATOR:=)(StringLiteral:<STR>)))(ExpressionStatement(Assignment(QualifiedName:error.fMessage)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ue))(SimpleName:getMessage))))(ExpressionStatement(Assignment(QualifiedName:error.fSeverity)(ASSIGNMENT_OPERATOR:=)(QualifiedName:DOMError.SEVERITY_FATAL_ERROR)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(QualifiedName:ser.fDOMErrorHandler))(SimpleName:handleError)(METHOD_INVOCATION_ARGUMENTS(SimpleName:error))))))(ThrowStatement(ClassInstanceCreation(SimpleType(SimpleName:LSException))(QualifiedName:LSException.SERIALIZE_ERR)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:DOMMessageFormatter))(SimpleName:formatMessage)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:DOMMessageFormatter.SERIALIZER_DOMAIN)(StringLiteral:<STR>)(NullLiteral)))))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:LSException))(SimpleName:lse))(Block(ThrowStatement(SimpleName:lse))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:RuntimeException))(SimpleName:e))(Block(IfStatement(InfixExpression(SimpleName:e)(INFIX_EXPRESSION_OPERATOR:==)(QualifiedName:DOMNormalizer.abort))(Block(ReturnStatement(BooleanLiteral:false))))(ThrowStatement(ClassInstanceCreation(SimpleType(SimpleName:LSException))(QualifiedName:LSException.SERIALIZE_ERR)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:e))(SimpleName:toString))))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:Exception))(SimpleName:e))(Block(IfStatement(InfixExpression(QualifiedName:ser.fDOMErrorHandler)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(VariableDeclarationStatement(SimpleType(SimpleName:DOMErrorImpl))(VariableDeclarationFragment(SimpleName:error)(ClassInstanceCreation(SimpleType(SimpleName:DOMErrorImpl)))))(ExpressionStatement(Assignment(QualifiedName:error.fException)(ASSIGNMENT_OPERATOR:=)(SimpleName:e)))(ExpressionStatement(Assignment(QualifiedName:error.fMessage)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:e))(SimpleName:getMessage))))(ExpressionStatement(Assignment(QualifiedName:error.fSeverity)(ASSIGNMENT_OPERATOR:=)(QualifiedName:DOMError.SEVERITY_ERROR)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(QualifiedName:ser.fDOMErrorHandler))(SimpleName:handleError)(METHOD_INVOCATION_ARGUMENTS(SimpleName:error))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:e))(SimpleName:printStackTrace)))(ThrowStatement(ClassInstanceCreation(SimpleType(SimpleName:LSException))(QualifiedName:LSException.SERIALIZE_ERR)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:e))(SimpleName:toString)))))))(ReturnStatement(BooleanLiteral:true))))))