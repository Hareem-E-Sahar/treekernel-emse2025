(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:public)(PrimitiveType:void)(SimpleName:setPalette)(SingleVariableDeclaration(SimpleType(SimpleName:IPalette))(SimpleName:palette))(Block(IfStatement(InfixExpression(SimpleName:m_src_index_color_raster)(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(Block(ThrowStatement(ClassInstanceCreation(SimpleType(SimpleName:IllegalStateException))(StringLiteral:<STR>)))))(IfStatement(InfixExpression(SimpleName:palette)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(TryStatement(Block(VariableDeclarationStatement(ArrayType(PrimitiveType:byte)(Dimension))(VariableDeclarationFragment(SimpleName:colors)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:palette))(SimpleName:getIndexColors))))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:color_count)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:palette))(SimpleName:getIndexColorCount))))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:transparent_color_index)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:palette))(SimpleName:getTransparentColorIndex))))(VariableDeclarationStatement(ArrayType(PrimitiveType:byte)(Dimension))(VariableDeclarationFragment(SimpleName:ra)(ArrayCreation(ArrayType(PrimitiveType:byte)(Dimension(SimpleName:color_count))))))(VariableDeclarationStatement(ArrayType(PrimitiveType:byte)(Dimension))(VariableDeclarationFragment(SimpleName:ga)(ArrayCreation(ArrayType(PrimitiveType:byte)(Dimension(SimpleName:color_count))))))(VariableDeclarationStatement(ArrayType(PrimitiveType:byte)(Dimension))(VariableDeclarationFragment(SimpleName:ba)(ArrayCreation(ArrayType(PrimitiveType:byte)(Dimension(SimpleName:color_count))))))(VariableDeclarationStatement(ArrayType(PrimitiveType:byte)(Dimension))(VariableDeclarationFragment(SimpleName:ralpha)(ArrayCreation(ArrayType(PrimitiveType:byte)(Dimension(SimpleName:color_count))))))(ForStatement(VariableDeclarationExpression(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:i)(NumberLiteral:0))(VariableDeclarationFragment(SimpleName:j)(NumberLiteral:0)))(InfixExpression(ParenthesizedExpression(InfixExpression(SimpleName:i)(INFIX_EXPRESSION_OPERATOR:<)(QualifiedName:colors.length)))(INFIX_EXPRESSION_OPERATOR:&&)(ParenthesizedExpression(InfixExpression(SimpleName:j)(INFIX_EXPRESSION_OPERATOR:<)(SimpleName:color_count))))(Assignment(SimpleName:i)(ASSIGNMENT_OPERATOR:+=)(NumberLiteral:3))(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:++)(SimpleName:j))(Block(ExpressionStatement(Assignment(ArrayAccess(SimpleName:ra)(SimpleName:j))(ASSIGNMENT_OPERATOR:=)(ArrayAccess(SimpleName:colors)(SimpleName:i))))(ExpressionStatement(Assignment(ArrayAccess(SimpleName:ga)(SimpleName:j))(ASSIGNMENT_OPERATOR:=)(ArrayAccess(SimpleName:colors)(InfixExpression(SimpleName:i)(INFIX_EXPRESSION_OPERATOR:+)(NumberLiteral:1)))))(ExpressionStatement(Assignment(ArrayAccess(SimpleName:ba)(SimpleName:j))(ASSIGNMENT_OPERATOR:=)(ArrayAccess(SimpleName:colors)(InfixExpression(SimpleName:i)(INFIX_EXPRESSION_OPERATOR:+)(NumberLiteral:2)))))(ExpressionStatement(Assignment(ArrayAccess(SimpleName:ralpha)(SimpleName:j))(ASSIGNMENT_OPERATOR:=)(CastExpression(PrimitiveType:byte)(ParenthesizedExpression(ConditionalExpression(ParenthesizedExpression(InfixExpression(SimpleName:j)(INFIX_EXPRESSION_OPERATOR:==)(SimpleName:transparent_color_index)))(NumberLiteral:0)(NumberLiteral:255))))))))(VariableDeclarationStatement(SimpleType(SimpleName:IndexColorModel))(VariableDeclarationFragment(SimpleName:icm)(ClassInstanceCreation(SimpleType(SimpleName:IndexColorModel))(NumberLiteral:8)(SimpleName:color_count)(SimpleName:ra)(SimpleName:ga)(SimpleName:ba)(SimpleName:ralpha))))(VariableDeclarationStatement(SimpleType(SimpleName:BufferedImage))(VariableDeclarationFragment(SimpleName:new_image)(ClassInstanceCreation(SimpleType(SimpleName:BufferedImage))(SimpleName:icm)(SimpleName:m_src_index_color_raster)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:icm))(SimpleName:isAlphaPremultiplied))(NullLiteral))))(ExpressionStatement(Assignment(FieldAccess(ThisExpression)(SimpleName:m_image))(ASSIGNMENT_OPERATOR:=)(MethodInvocation(SimpleName:createBuffer)(METHOD_INVOCATION_ARGUMENTS(SimpleName:new_image))))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:Exception))(SimpleName:exp))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:exp))(SimpleName:printStackTrace))))))))))))