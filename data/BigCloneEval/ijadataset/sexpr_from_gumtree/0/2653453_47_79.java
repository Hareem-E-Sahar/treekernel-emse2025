(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:private)(SimpleName:TreeSelectionSynchroniser)(Block(VariableDeclarationStatement(SimpleType(SimpleName:IWorkbenchWindow))(VariableDeclarationFragment(SimpleName:window)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:PlatformUI))(SimpleName:getWorkbench)))(SimpleName:getActiveWorkbenchWindow))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:window))(SimpleName:getPartService)))(SimpleName:addPartListener)(METHOD_INVOCATION_ARGUMENTS(ClassInstanceCreation(SimpleType(SimpleName:PartListenerAdapter))(AnonymousClassDeclaration(MethodDeclaration(MarkerAnnotation(SimpleName:Override))(Modifier:public)(PrimitiveType:void)(SimpleName:partActivated)(SingleVariableDeclaration(SimpleType(SimpleName:IWorkbenchPart))(SimpleName:part))(Block(IfStatement(InstanceofExpression(SimpleName:part)(SimpleType(SimpleName:IDiagramModelEditor)))(Block(VariableDeclarationStatement(SimpleType(SimpleName:IDiagramModelEditor))(VariableDeclarationFragment(SimpleName:diagramEditor)(CastExpression(SimpleType(SimpleName:IDiagramModelEditor))(SimpleName:part))))(IfStatement(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fDiagramEditors))(SimpleName:contains)(METHOD_INVOCATION_ARGUMENTS(SimpleName:diagramEditor))))(Block(VariableDeclarationStatement(SimpleType(SimpleName:GraphicalViewer))(VariableDeclarationFragment(SimpleName:viewer)(CastExpression(SimpleType(SimpleName:GraphicalViewer))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:diagramEditor))(SimpleName:getAdapter)(METHOD_INVOCATION_ARGUMENTS(TypeLiteral(SimpleType(SimpleName:GraphicalViewer))))))))(IfStatement(InfixExpression(SimpleName:viewer)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:viewer))(SimpleName:addSelectionChangedListener)(METHOD_INVOCATION_ARGUMENTS(ThisExpression(SimpleName:TreeSelectionSynchroniser)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fDiagramEditors))(SimpleName:add)(METHOD_INVOCATION_ARGUMENTS(SimpleName:diagramEditor))))))))))))(MethodDeclaration(MarkerAnnotation(SimpleName:Override))(Modifier:public)(PrimitiveType:void)(SimpleName:partClosed)(SingleVariableDeclaration(SimpleType(SimpleName:IWorkbenchPart))(SimpleName:part))(Block(IfStatement(InstanceofExpression(SimpleName:part)(SimpleType(SimpleName:IDiagramModelEditor)))(Block(VariableDeclarationStatement(SimpleType(SimpleName:IDiagramModelEditor))(VariableDeclarationFragment(SimpleName:diagramEditor)(CastExpression(SimpleType(SimpleName:IDiagramModelEditor))(SimpleName:part))))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fDiagramEditors))(SimpleName:contains)(METHOD_INVOCATION_ARGUMENTS(SimpleName:diagramEditor)))(Block(VariableDeclarationStatement(SimpleType(SimpleName:GraphicalViewer))(VariableDeclarationFragment(SimpleName:viewer)(CastExpression(SimpleType(SimpleName:GraphicalViewer))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:diagramEditor))(SimpleName:getAdapter)(METHOD_INVOCATION_ARGUMENTS(TypeLiteral(SimpleType(SimpleName:GraphicalViewer))))))))(IfStatement(InfixExpression(SimpleName:viewer)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:viewer))(SimpleName:removeSelectionChangedListener)(METHOD_INVOCATION_ARGUMENTS(ThisExpression(SimpleName:TreeSelectionSynchroniser)))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fDiagramEditors))(SimpleName:remove)(METHOD_INVOCATION_ARGUMENTS(SimpleName:diagramEditor)))))))))))))))))))