(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:public)(PrimitiveType:void)(SimpleName:writeMessage)(SingleVariableDeclaration(SimpleType(SimpleName:String))(SimpleName:threadName))(SingleVariableDeclaration(SimpleType(SimpleName:String))(SimpleName:message))(Block(IfStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:messages))(SimpleName:get)(METHOD_INVOCATION_ARGUMENTS(SimpleName:threadName)))(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(Block(VariableDeclarationStatement(SimpleType(SimpleName:List))(VariableDeclarationFragment(SimpleName:msgs)(ClassInstanceCreation(SimpleType(SimpleName:ArrayList))(NumberLiteral:20))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:msgs))(SimpleName:add)(METHOD_INVOCATION_ARGUMENTS(SimpleName:message))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:messages))(SimpleName:put)(METHOD_INVOCATION_ARGUMENTS(SimpleName:threadName)(SimpleName:msgs)))))(Block(VariableDeclarationStatement(SimpleType(SimpleName:List))(VariableDeclarationFragment(SimpleName:msgs)(CastExpression(SimpleType(SimpleName:List))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:messages))(SimpleName:get)(METHOD_INVOCATION_ARGUMENTS(SimpleName:threadName))))))(IfStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:msgs))(SimpleName:size))(INFIX_EXPRESSION_OPERATOR:>=)(NumberLiteral:20))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:msgs))(SimpleName:clear))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:msgs))(SimpleName:add)(METHOD_INVOCATION_ARGUMENTS(SimpleName:message))))))(ExpressionStatement(MethodInvocation(SimpleName:setChanged)))(ExpressionStatement(MethodInvocation(SimpleName:notifyObservers)(METHOD_INVOCATION_ARGUMENTS(ArrayCreation(ArrayType(SimpleType(SimpleName:String))(Dimension))(ArrayInitializer(InfixExpression(QualifiedName:Messages.ConsoleView_Thread)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:threadName))(SimpleName:message))))))))))