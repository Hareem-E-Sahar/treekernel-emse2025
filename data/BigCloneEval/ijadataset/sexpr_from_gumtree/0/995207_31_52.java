(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:protected)(PrimitiveType:int)(SimpleName:getLeftmostDerivation)(SingleVariableDeclaration(SimpleType(SimpleName:StringBuffer))(SimpleName:buf))(SingleVariableDeclaration(PrimitiveType:int)(SimpleName:step))(Block(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:numReplacements)(NumberLiteral:0)))(IfStatement(InfixExpression(SimpleName:step)(INFIX_EXPRESSION_OPERATOR:<=)(NumberLiteral:0))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:buf))(SimpleName:append)(METHOD_INVOCATION_ARGUMENTS(CharacterLiteral:<STR>))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:buf))(SimpleName:append)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(SimpleName:toString)))))(ReturnStatement(SimpleName:numReplacements))))(VariableDeclarationStatement(SimpleType(SimpleName:AST))(VariableDeclarationFragment(SimpleName:child)(MethodInvocation(SimpleName:getFirstChild))))(ExpressionStatement(Assignment(SimpleName:numReplacements)(ASSIGNMENT_OPERATOR:=)(NumberLiteral:1)))(WhileStatement(InfixExpression(SimpleName:child)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(IfStatement(InfixExpression(InfixExpression(SimpleName:numReplacements)(INFIX_EXPRESSION_OPERATOR:>=)(SimpleName:step))(INFIX_EXPRESSION_OPERATOR:||)(InstanceofExpression(SimpleName:child)(SimpleType(SimpleName:ParseTreeToken))))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:buf))(SimpleName:append)(METHOD_INVOCATION_ARGUMENTS(CharacterLiteral:<STR>))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:buf))(SimpleName:append)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:child))(SimpleName:toString))))))(Block(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:remainingReplacements)(InfixExpression(SimpleName:step)(INFIX_EXPRESSION_OPERATOR:-)(SimpleName:numReplacements))))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:n)(MethodInvocation(METHOD_INVOCATION_RECEIVER(ParenthesizedExpression(CastExpression(SimpleType(SimpleName:ParseTree))(SimpleName:child))))(SimpleName:getLeftmostDerivation)(METHOD_INVOCATION_ARGUMENTS(SimpleName:buf)(SimpleName:remainingReplacements)))))(ExpressionStatement(Assignment(SimpleName:numReplacements)(ASSIGNMENT_OPERATOR:+=)(SimpleName:n)))))(ExpressionStatement(Assignment(SimpleName:child)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:child))(SimpleName:getNextSibling))))))(ReturnStatement(SimpleName:numReplacements))))))