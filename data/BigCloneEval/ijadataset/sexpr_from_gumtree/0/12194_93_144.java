(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:public)(PrimitiveType:void)(SimpleName:open)(SimpleType(SimpleName:IOException))(SimpleType(SimpleName:DPWSException))(Block(ExpressionStatement(Assignment(SimpleName:client)(ASSIGNMENT_OPERATOR:=)(CastExpression(SimpleType(SimpleName:HttpClient))(MethodInvocation(METHOD_INVOCATION_RECEIVER(ParenthesizedExpression(CastExpression(SimpleType(SimpleName:HttpChannel))(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(SimpleName:getMessage)))(SimpleName:getChannel)))))(SimpleName:getProperty)(METHOD_INVOCATION_ARGUMENTS(SimpleName:HTTP_CLIENT))))))(IfStatement(InfixExpression(SimpleName:client)(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(Block(ExpressionStatement(Assignment(SimpleName:client)(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(SimpleType(SimpleName:HttpClient)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(ParenthesizedExpression(CastExpression(SimpleType(SimpleName:HttpChannel))(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(SimpleName:getMessage)))(SimpleName:getChannel)))))(SimpleName:setProperty)(METHOD_INVOCATION_ARGUMENTS(SimpleName:HTTP_CLIENT)(SimpleName:client))))))(VariableDeclarationStatement(SimpleType(SimpleName:DPWSContextImpl))(VariableDeclarationFragment(SimpleName:context)(MethodInvocation(SimpleName:getMessageContext))))(VariableDeclarationStatement(SimpleType(SimpleName:HttpClientParams))(VariableDeclarationFragment(SimpleName:params)(CastExpression(SimpleType(SimpleName:HttpClientParams))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:context))(SimpleName:getContextualProperty)(METHOD_INVOCATION_ARGUMENTS(SimpleName:HTTP_CLIENT_PARAMS))))))(IfStatement(InfixExpression(SimpleName:params)(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(Block(ExpressionStatement(Assignment(SimpleName:params)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:client))(SimpleName:getParams))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:client))(SimpleName:getParams)))(SimpleName:setParameter)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(SimpleName:USER_AGENT))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:client))(SimpleName:getParams)))(SimpleName:setBooleanParameter)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(BooleanLiteral:true))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:client))(SimpleName:getParams)))(SimpleName:setVersion)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:HttpVersion.HTTP_1_1)))))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:client))(SimpleName:setParams)(METHOD_INVOCATION_ARGUMENTS(SimpleName:params))))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:proxyHost)(CastExpression(SimpleType(SimpleName:String))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:context))(SimpleName:getContextualProperty)(METHOD_INVOCATION_ARGUMENTS(SimpleName:HTTP_PROXY_HOST))))))(IfStatement(InfixExpression(SimpleName:proxyHost)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:portS)(CastExpression(SimpleType(SimpleName:String))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:context))(SimpleName:getContextualProperty)(METHOD_INVOCATION_ARGUMENTS(SimpleName:HTTP_PROXY_PORT))))))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:port)(NumberLiteral:80)))(IfStatement(InfixExpression(SimpleName:portS)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(ExpressionStatement(Assignment(SimpleName:port)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Integer))(SimpleName:parseInt)(METHOD_INVOCATION_ARGUMENTS(SimpleName:portS))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:client))(SimpleName:getHostConfiguration)))(SimpleName:setProxy)(METHOD_INVOCATION_ARGUMENTS(SimpleName:proxyHost)(SimpleName:port))))))(ExpressionStatement(Assignment(SimpleName:state)(ASSIGNMENT_OPERATOR:=)(CastExpression(SimpleType(SimpleName:HttpState))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:context))(SimpleName:getContextualProperty)(METHOD_INVOCATION_ARGUMENTS(SimpleName:HTTP_STATE))))))(IfStatement(InfixExpression(SimpleName:state)(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(ExpressionStatement(Assignment(SimpleName:state)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(SimpleName:getHttpState)))))(ExpressionStatement(Assignment(SimpleName:postMethod)(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(SimpleType(SimpleName:PostMethod))(MethodInvocation(SimpleName:getUri)))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:username)(CastExpression(SimpleType(SimpleName:String))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:context))(SimpleName:getContextualProperty)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:Channel.USERNAME))))))(IfStatement(InfixExpression(SimpleName:username)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:password)(CastExpression(SimpleType(SimpleName:String))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:context))(SimpleName:getContextualProperty)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:Channel.PASSWORD))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:client))(SimpleName:getParams)))(SimpleName:setAuthenticationPreemptive)(METHOD_INVOCATION_ARGUMENTS(BooleanLiteral:true))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:state))(SimpleName:setCredentials)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:AuthScope.ANY)(ClassInstanceCreation(SimpleType(SimpleName:UsernamePasswordCredentials))(SimpleName:username)(SimpleName:password)))))))(IfStatement(InfixExpression(MethodInvocation(SimpleName:getSoapAction))(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:postMethod))(SimpleName:setRequestHeader)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(MethodInvocation(SimpleName:getQuotedSoapAction)))))))(VariableDeclarationStatement(SimpleType(SimpleName:OutMessage))(VariableDeclarationFragment(SimpleName:message)(MethodInvocation(SimpleName:getMessage))))(VariableDeclarationStatement(PrimitiveType:boolean)(VariableDeclarationFragment(SimpleName:mtomEnabled)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Boolean))(SimpleName:valueOf)(METHOD_INVOCATION_ARGUMENTS(CastExpression(SimpleType(SimpleName:String))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:context))(SimpleName:getContextualProperty)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:SoapConstants.MTOM_ENABLED)))))))(SimpleName:booleanValue))))(VariableDeclarationStatement(SimpleType(SimpleName:Attachments))(VariableDeclarationFragment(SimpleName:atts)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:message))(SimpleName:getAttachments))))(IfStatement(InfixExpression(SimpleName:mtomEnabled)(INFIX_EXPRESSION_OPERATOR:||)(InfixExpression(SimpleName:atts)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral)))(Block(IfStatement(InfixExpression(SimpleName:atts)(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(Block(ExpressionStatement(Assignment(SimpleName:atts)(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(SimpleType(SimpleName:JavaMailAttachments)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:message))(SimpleName:setAttachments)(METHOD_INVOCATION_ARGUMENTS(SimpleName:atts))))))(VariableDeclarationStatement(SimpleType(SimpleName:OutMessageDataSource))(VariableDeclarationFragment(SimpleName:source)(ClassInstanceCreation(SimpleType(SimpleName:OutMessageDataSource))(SimpleName:context)(SimpleName:message))))(VariableDeclarationStatement(SimpleType(SimpleName:DataHandler))(VariableDeclarationFragment(SimpleName:soapHandler)(ClassInstanceCreation(SimpleType(SimpleName:DataHandler))(SimpleName:source))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:atts))(SimpleName:setSoapContentType)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:HttpChannel))(SimpleName:getSoapMimeType)(METHOD_INVOCATION_ARGUMENTS(SimpleName:message))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:atts))(SimpleName:setSoapMessage)(METHOD_INVOCATION_ARGUMENTS(ClassInstanceCreation(SimpleType(SimpleName:SimpleAttachment))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:source))(SimpleName:getName))(SimpleName:soapHandler)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:postMethod))(SimpleName:setRequestHeader)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:atts))(SimpleName:getContentType))))))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:postMethod))(SimpleName:setRequestHeader)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:HttpChannel))(SimpleName:getSoapMimeType)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(SimpleName:getMessage)))))))))))))