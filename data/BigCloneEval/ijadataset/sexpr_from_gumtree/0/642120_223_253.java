(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:private)(PrimitiveType:void)(SimpleName:loadUpdate)(SingleVariableDeclaration(SimpleType(SimpleName:Module))(SimpleName:module))(SingleVariableDeclaration(SimpleType(SimpleName:UpdateId))(SimpleName:uid))(SimpleType(SimpleName:IOException))(Block(VariableDeclarationStatement(ParameterizedType(SimpleType(SimpleName:Map))(SimpleType(SimpleName:UpdateId))(SimpleType(SimpleName:ModuleUpdateDescriptor)))(VariableDeclarationFragment(SimpleName:m)(MethodInvocation(METHOD_INVOCATION_RECEIVER(FieldAccess(ThisExpression)(SimpleName:moduleUpdatesCache)))(SimpleName:get)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:module))(SimpleName:getName))))))(IfStatement(InfixExpression(SimpleName:m)(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(Block(ReturnStatement)))(VariableDeclarationStatement(SimpleType(SimpleName:ModuleUpdateDescriptor))(VariableDeclarationFragment(SimpleName:mud)(CastExpression(SimpleType(SimpleName:ModuleUpdateDescriptor))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:m))(SimpleName:get)(METHOD_INVOCATION_ARGUMENTS(SimpleName:uid))))))(VariableDeclarationStatement(ArrayType(SimpleType(SimpleName:UpdatePartDescriptor))(Dimension))(VariableDeclarationFragment(SimpleName:ucds)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:mud))(SimpleName:getComponents)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:OSUtils))(SimpleName:getOsName))))))(VariableDeclarationStatement(SimpleType(SimpleName:UpdatePartDescriptor))(VariableDeclarationFragment(SimpleName:ucd)))(VariableDeclarationStatement(SimpleType(SimpleName:Stopper))(VariableDeclarationFragment(SimpleName:stopper)(ClassInstanceCreation(SimpleType(SimpleName:Stopper))(AnonymousClassDeclaration(MethodDeclaration(Modifier:public)(PrimitiveType:boolean)(SimpleName:stop)(Block(ReturnStatement(SimpleName:cancelUpdate))))))))(ForStatement(VariableDeclarationExpression(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:i)(NumberLiteral:0)))(InfixExpression(SimpleName:i)(INFIX_EXPRESSION_OPERATOR:<)(QualifiedName:ucds.length))(PostfixExpression(SimpleName:i)(POSTFIX_EXPRESSION_OPERATOR:++))(Block(IfStatement(SimpleName:cancelUpdate)(Block(ReturnStatement)))(ExpressionStatement(Assignment(SimpleName:ucd)(ASSIGNMENT_OPERATOR:=)(ArrayAccess(SimpleName:ucds)(SimpleName:i))))(VariableDeclarationStatement(SimpleType(SimpleName:URI))(VariableDeclarationFragment(SimpleName:nurl)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:url))(SimpleName:resolve)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:uid))(SimpleName:toString))(INFIX_EXPRESSION_OPERATOR:+)(StringLiteral:<STR>)))))(SimpleName:resolve)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ucd))(SimpleName:getContentLocation))))))(VariableDeclarationStatement(SimpleType(SimpleName:HttpURLConnection))(VariableDeclarationFragment(SimpleName:conn)(CastExpression(SimpleType(SimpleName:HttpURLConnection))(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:nurl))(SimpleName:toURL)))(SimpleName:openConnection)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:conn))(SimpleName:setDoInput)(METHOD_INVOCATION_ARGUMENTS(BooleanLiteral:true))))(VariableDeclarationStatement(SimpleType(SimpleName:BufferedInputStream))(VariableDeclarationFragment(SimpleName:is)(ClassInstanceCreation(SimpleType(SimpleName:BufferedInputStream))(CastExpression(SimpleType(SimpleName:InputStream))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:conn))(SimpleName:getContent))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:UpdatePartInstaller))(SimpleName:installUpdatePart)(METHOD_INVOCATION_ARGUMENTS(SimpleName:ucd)(SimpleName:is)(SimpleName:localUpdateRepository)(SimpleName:stopper))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:conn))(SimpleName:disconnect)))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ucd))(SimpleName:needsAppRestart))(Block(ExpressionStatement(Assignment(SimpleName:needToRestartApplication)(ASSIGNMENT_OPERATOR:=)(BooleanLiteral:true)))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:mud))(SimpleName:setInstalled)(METHOD_INVOCATION_ARGUMENTS(BooleanLiteral:true))))))))