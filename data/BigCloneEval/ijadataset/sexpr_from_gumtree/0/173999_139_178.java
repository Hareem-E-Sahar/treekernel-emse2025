(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:private)(PrimitiveType:long)(SimpleName:uploadIfHashesDontMatch)(SingleVariableDeclaration(SimpleType(SimpleName:IProgressMonitor))(SimpleName:monitor))(SingleVariableDeclaration(SimpleType(SimpleName:BrowsableItem))(SimpleName:fileSource))(SingleVariableDeclaration(SimpleType(SimpleName:HashSet))(SimpleName:hashSet))(SingleVariableDeclaration(SimpleType(SimpleName:WritableFileSystem))(SimpleName:target))(SingleVariableDeclaration(SimpleType(SimpleName:String))(SimpleName:relativePath))(SimpleType(SimpleName:IOException))(SimpleType(SimpleName:NoSuchAlgorithmException))(Block(VariableDeclarationStatement(SimpleType(SimpleName:DigestInputStream))(VariableDeclarationFragment(SimpleName:sourceInput)(ClassInstanceCreation(SimpleType(SimpleName:DigestInputStream))(MethodInvocation(METHOD_INVOCATION_RECEIVER(ParenthesizedExpression(CastExpression(SimpleType(SimpleName:BrowsableFile))(SimpleName:fileSource))))(SimpleName:getInputStream))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:MessageDigest))(SimpleName:getInstance)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))))(VariableDeclarationStatement(ArrayType(PrimitiveType:byte)(Dimension))(VariableDeclarationFragment(SimpleName:currentHash)(NullLiteral)))(VariableDeclarationStatement(ArrayType(PrimitiveType:byte)(Dimension))(VariableDeclarationFragment(SimpleName:currentData)(NullLiteral)))(VariableDeclarationStatement(PrimitiveType:long)(VariableDeclarationFragment(SimpleName:totalTransferred)(NumberLiteral:0)))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:read)(NumberLiteral:0)))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:readCurrent)(NumberLiteral:0)))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:currentSection)(NumberLiteral:0)))(WhileStatement(InfixExpression(InfixExpression(SimpleName:readCurrent)(INFIX_EXPRESSION_OPERATOR:!=)(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:-)(NumberLiteral:1)))(INFIX_EXPRESSION_OPERATOR:&&)(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:monitor))(SimpleName:isCanceled))))(Block(ExpressionStatement(Assignment(SimpleName:currentData)(ASSIGNMENT_OPERATOR:=)(ArrayCreation(ArrayType(PrimitiveType:byte)(Dimension(SimpleName:SECTION_SIZE))))))(ExpressionStatement(Assignment(SimpleName:read)(ASSIGNMENT_OPERATOR:=)(NumberLiteral:0)))(ExpressionStatement(Assignment(SimpleName:readCurrent)(ASSIGNMENT_OPERATOR:=)(NumberLiteral:0)))(WhileStatement(InfixExpression(InfixExpression(SimpleName:read)(INFIX_EXPRESSION_OPERATOR:!=)(SimpleName:SECTION_SIZE))(INFIX_EXPRESSION_OPERATOR:&&)(InfixExpression(SimpleName:readCurrent)(INFIX_EXPRESSION_OPERATOR:!=)(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:-)(NumberLiteral:1))))(Block(ExpressionStatement(Assignment(SimpleName:readCurrent)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:sourceInput))(SimpleName:read)(METHOD_INVOCATION_ARGUMENTS(SimpleName:currentData)(SimpleName:read)(InfixExpression(SimpleName:SECTION_SIZE)(INFIX_EXPRESSION_OPERATOR:-)(SimpleName:read))))))(IfStatement(InfixExpression(SimpleName:readCurrent)(INFIX_EXPRESSION_OPERATOR:!=)(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:-)(NumberLiteral:1)))(Block(ExpressionStatement(Assignment(SimpleName:read)(ASSIGNMENT_OPERATOR:+=)(SimpleName:readCurrent)))))))(ExpressionStatement(Assignment(SimpleName:currentHash)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:sourceInput))(SimpleName:getMessageDigest)))(SimpleName:digest))))(IfStatement(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:hashSet))(SimpleName:sectionEquals)(METHOD_INVOCATION_ARGUMENTS(SimpleName:currentSection)(SimpleName:currentHash))))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:target))(SimpleName:putFileContents)(METHOD_INVOCATION_ARGUMENTS(ClassInstanceCreation(SimpleType(SimpleName:ByteArrayInputStream))(SimpleName:currentData)(NumberLiteral:0)(SimpleName:read))(SimpleName:read)(InfixExpression(SimpleName:relativePath)(INFIX_EXPRESSION_OPERATOR:+)(MethodInvocation(SimpleName:getName))(CharacterLiteral:<STR>)(SimpleName:currentSection))(NullLiteral)(NumberLiteral:0))))(ExpressionStatement(Assignment(SimpleName:totalTransferred)(ASSIGNMENT_OPERATOR:+=)(SimpleName:read)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:hashSet))(SimpleName:setHash)(METHOD_INVOCATION_ARGUMENTS(SimpleName:currentSection)(SimpleName:currentHash))))))(IfStatement(InfixExpression(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:monitor))(SimpleName:isCanceled)))(INFIX_EXPRESSION_OPERATOR:&&)(InfixExpression(SimpleName:currentSection)(INFIX_EXPRESSION_OPERATOR:<)(MethodInvocation(SimpleName:getNumberOfSections))))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:monitor))(SimpleName:worked)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:1))))))(ExpressionStatement(PostfixExpression(SimpleName:currentSection)(POSTFIX_EXPRESSION_OPERATOR:++)))))(IfStatement(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:monitor))(SimpleName:isCanceled)))(Block(VariableDeclarationStatement(SimpleType(SimpleName:BrowsableItem))(VariableDeclarationFragment(SimpleName:file)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:target))(SimpleName:getFile)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(SimpleName:relativePath)(INFIX_EXPRESSION_OPERATOR:+)(MethodInvocation(SimpleName:getName))(CharacterLiteral:<STR>)(SimpleName:currentSection))))))(WhileStatement(InfixExpression(SimpleName:file)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:target))(SimpleName:deleteFile)(METHOD_INVOCATION_ARGUMENTS(SimpleName:file))))(ExpressionStatement(PostfixExpression(SimpleName:currentSection)(POSTFIX_EXPRESSION_OPERATOR:++)))(ExpressionStatement(Assignment(SimpleName:file)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:target))(SimpleName:getFile)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(SimpleName:relativePath)(INFIX_EXPRESSION_OPERATOR:+)(MethodInvocation(SimpleName:getName))(CharacterLiteral:<STR>)(SimpleName:currentSection))))))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:sourceInput))(SimpleName:close)))(ReturnStatement(SimpleName:totalTransferred))))))