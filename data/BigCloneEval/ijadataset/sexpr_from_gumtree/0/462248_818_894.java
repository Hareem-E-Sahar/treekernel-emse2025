(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:private)(PrimitiveType:void)(SimpleName:actionExtractToDiskImage)(Block(VariableDeclarationStatement(SimpleType(SimpleName:JFileChooser))(VariableDeclarationFragment(SimpleName:jfc)(ClassInstanceCreation(SimpleType(SimpleName:JFileChooser)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:jfc))(SimpleName:setFileSelectionMode)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:JFileChooser.FILES_ONLY))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:jfc))(SimpleName:setMultiSelectionEnabled)(METHOD_INVOCATION_ARGUMENTS(BooleanLiteral:false))))(VariableDeclarationStatement(SimpleType(SimpleName:SimplerFileFilter))(VariableDeclarationFragment(SimpleName:ffDmg)(ClassInstanceCreation(SimpleType(SimpleName:SimplerFileFilter))(StringLiteral:<STR>)(StringLiteral:<STR>))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:jfc))(SimpleName:setFileFilter)(METHOD_INVOCATION_ARGUMENTS(SimpleName:ffDmg))))(IfStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:jfc))(SimpleName:showSaveDialog)(METHOD_INVOCATION_ARGUMENTS(ThisExpression(SimpleName:FileSystemBrowserWindow))))(INFIX_EXPRESSION_OPERATOR:==)(QualifiedName:JFileChooser.APPROVE_OPTION))(Block(VariableDeclarationStatement(SimpleType(SimpleName:File))(VariableDeclarationFragment(SimpleName:selectedFile)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:jfc))(SimpleName:getSelectedFile))))(VariableDeclarationStatement(Modifier:final)(SimpleType(SimpleName:File))(VariableDeclarationFragment(SimpleName:saveFile)))(VariableDeclarationStatement(SimpleType(SimpleName:FileFilter))(VariableDeclarationFragment(SimpleName:selectedFileFilter)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:jfc))(SimpleName:getFileFilter))))(IfStatement(InstanceofExpression(SimpleName:selectedFileFilter)(SimpleType(SimpleName:SimplerFileFilter)))(Block(VariableDeclarationStatement(SimpleType(SimpleName:SimplerFileFilter))(VariableDeclarationFragment(SimpleName:sff)(CastExpression(SimpleType(SimpleName:SimplerFileFilter))(SimpleName:selectedFileFilter))))(IfStatement(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:selectedFile))(SimpleName:getName)))(SimpleName:endsWith)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:sff))(SimpleName:getExtension)))))(ExpressionStatement(Assignment(SimpleName:saveFile)(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(SimpleType(SimpleName:File))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:selectedFile))(SimpleName:getParentFile))(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:selectedFile))(SimpleName:getName))(INFIX_EXPRESSION_OPERATOR:+)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:sff))(SimpleName:getExtension))))))(ExpressionStatement(Assignment(SimpleName:saveFile)(ASSIGNMENT_OPERATOR:=)(SimpleName:selectedFile)))))(Block(ExpressionStatement(Assignment(SimpleName:saveFile)(ASSIGNMENT_OPERATOR:=)(SimpleName:selectedFile)))))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:saveFile))(SimpleName:exists))(Block(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:res)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:JOptionPane))(SimpleName:showConfirmDialog)(METHOD_INVOCATION_ARGUMENTS(ThisExpression)(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:saveFile))(SimpleName:getPath))(StringLiteral:<STR>))(StringLiteral:<STR>)(QualifiedName:JOptionPane.YES_NO_OPTION)(QualifiedName:JOptionPane.QUESTION_MESSAGE)))))(IfStatement(InfixExpression(SimpleName:res)(INFIX_EXPRESSION_OPERATOR:!=)(QualifiedName:JOptionPane.YES_OPTION))(ReturnStatement))))(VariableDeclarationStatement(Modifier:final)(SimpleType(QualifiedName:javax.swing.ProgressMonitor))(VariableDeclarationFragment(SimpleName:pm)(ClassInstanceCreation(SimpleType(QualifiedName:javax.swing.ProgressMonitor))(ThisExpression(SimpleName:FileSystemBrowserWindow))(StringLiteral:<STR>)(StringLiteral:<STR>)(NumberLiteral:0)(QualifiedName:Integer.MAX_VALUE))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:pm))(SimpleName:setMillisToDecideToPopup)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:0))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:pm))(SimpleName:setMillisToPopup)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:0))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:pm))(SimpleName:setProgress)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:0))))(VariableDeclarationStatement(SimpleType(SimpleName:Runnable))(VariableDeclarationFragment(SimpleName:r)(ClassInstanceCreation(SimpleType(SimpleName:Runnable))(AnonymousClassDeclaration(MethodDeclaration(MarkerAnnotation(SimpleName:Override))(Modifier:public)(PrimitiveType:void)(SimpleName:run)(Block(VariableDeclarationStatement(SimpleType(SimpleName:ReadableRandomAccessStream))(VariableDeclarationFragment(SimpleName:fsStream)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fsDataLocator))(SimpleName:createReadOnlyFile))))(VariableDeclarationStatement(SimpleType(SimpleName:FileOutputStream))(VariableDeclarationFragment(SimpleName:fileOut)(NullLiteral)))(TryStatement(Block(ExpressionStatement(Assignment(SimpleName:fileOut)(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(SimpleType(SimpleName:FileOutputStream))(SimpleName:saveFile))))(VariableDeclarationStatement(SimpleType(SimpleName:DecimalFormat))(VariableDeclarationFragment(SimpleName:df)(ClassInstanceCreation(SimpleType(SimpleName:DecimalFormat))(StringLiteral:<STR>))))(VariableDeclarationStatement(SimpleType(SimpleName:CommonHFSVolumeHeader))(VariableDeclarationFragment(SimpleName:vh)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fsHandler))(SimpleName:getFSView)))(SimpleName:getVolumeHeader))))(VariableDeclarationStatement(Modifier:final)(PrimitiveType:long)(VariableDeclarationFragment(SimpleName:bytesToExtract)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:vh))(SimpleName:getFileSystemEnd))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:bytesToExtractString)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:SpeedUnitUtils))(SimpleName:bytesToBinaryUnit)(METHOD_INVOCATION_ARGUMENTS(SimpleName:bytesToExtract)(SimpleName:df)))))(VariableDeclarationStatement(PrimitiveType:long)(VariableDeclarationFragment(SimpleName:lastUpdateTimestamp)(NumberLiteral:0)))(VariableDeclarationStatement(PrimitiveType:long)(VariableDeclarationFragment(SimpleName:bytesExtracted)(NumberLiteral:0)))(VariableDeclarationStatement(ArrayType(PrimitiveType:byte)(Dimension))(VariableDeclarationFragment(SimpleName:buffer)(ArrayCreation(ArrayType(PrimitiveType:byte)(Dimension(InfixExpression(NumberLiteral:64)(INFIX_EXPRESSION_OPERATOR:*)(NumberLiteral:1024)))))))(WhileStatement(InfixExpression(InfixExpression(SimpleName:bytesExtracted)(INFIX_EXPRESSION_OPERATOR:<)(SimpleName:bytesToExtract))(INFIX_EXPRESSION_OPERATOR:&&)(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:pm))(SimpleName:isCanceled))))(Block(VariableDeclarationStatement(PrimitiveType:long)(VariableDeclarationFragment(SimpleName:bytesLeftToRead)(InfixExpression(SimpleName:bytesToExtract)(INFIX_EXPRESSION_OPERATOR:-)(SimpleName:bytesExtracted))))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:curBytesToRead)(CastExpression(PrimitiveType:int)(ParenthesizedExpression(ConditionalExpression(InfixExpression(SimpleName:bytesLeftToRead)(INFIX_EXPRESSION_OPERATOR:<)(QualifiedName:buffer.length))(SimpleName:bytesLeftToRead)(QualifiedName:buffer.length))))))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:bytesRead)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fsStream))(SimpleName:read)(METHOD_INVOCATION_ARGUMENTS(SimpleName:buffer)(NumberLiteral:0)(SimpleName:curBytesToRead)))))(IfStatement(InfixExpression(SimpleName:bytesRead)(INFIX_EXPRESSION_OPERATOR:>)(NumberLiteral:0))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fileOut))(SimpleName:write)(METHOD_INVOCATION_ARGUMENTS(SimpleName:buffer)(NumberLiteral:0)(SimpleName:bytesRead))))(ExpressionStatement(Assignment(SimpleName:bytesExtracted)(ASSIGNMENT_OPERATOR:+=)(SimpleName:bytesRead)))(VariableDeclarationStatement(PrimitiveType:long)(VariableDeclarationFragment(SimpleName:currentTimestamp)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:System))(SimpleName:currentTimeMillis))))(VariableDeclarationStatement(PrimitiveType:long)(VariableDeclarationFragment(SimpleName:millisSinceLastUpdate)(InfixExpression(SimpleName:currentTimestamp)(INFIX_EXPRESSION_OPERATOR:-)(SimpleName:lastUpdateTimestamp))))(IfStatement(InfixExpression(SimpleName:millisSinceLastUpdate)(INFIX_EXPRESSION_OPERATOR:>=)(NumberLiteral:40))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:pm))(SimpleName:setProgress)(METHOD_INVOCATION_ARGUMENTS(CastExpression(PrimitiveType:int)(ParenthesizedExpression(InfixExpression(ParenthesizedExpression(InfixExpression(SimpleName:bytesExtracted)(INFIX_EXPRESSION_OPERATOR:/)(CastExpression(PrimitiveType:double)(SimpleName:bytesToExtract))))(INFIX_EXPRESSION_OPERATOR:*)(QualifiedName:Integer.MAX_VALUE)))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:pm))(SimpleName:setNote)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:SpeedUnitUtils))(SimpleName:bytesToBinaryUnit)(METHOD_INVOCATION_ARGUMENTS(SimpleName:bytesExtracted)(SimpleName:df)))(StringLiteral:<STR>)(SimpleName:bytesToExtractString)(StringLiteral:<STR>)))))(ExpressionStatement(Assignment(SimpleName:lastUpdateTimestamp)(ASSIGNMENT_OPERATOR:=)(SimpleName:currentTimestamp))))))(Block(ThrowStatement(ClassInstanceCreation(SimpleType(SimpleName:RuntimeException))(InfixExpression(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(StringLiteral:<STR>))(INFIX_EXPRESSION_OPERATOR:+)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fsStream))(SimpleName:getFilePointer))(StringLiteral:<STR>)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fsStream))(SimpleName:length))(StringLiteral:<STR>)(SimpleName:bytesExtracted)(StringLiteral:<STR>)(SimpleName:bytesToExtract)))))))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:Exception))(SimpleName:e))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:e))(SimpleName:printStackTrace)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:GUIUtil))(SimpleName:displayExceptionDialog)(METHOD_INVOCATION_ARGUMENTS(SimpleName:e)(NumberLiteral:15)(ThisExpression(SimpleName:FileSystemBrowserWindow))(StringLiteral:<STR>))))))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:pm))(SimpleName:close)))(TryStatement(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fsStream))(SimpleName:close)))(IfStatement(InfixExpression(SimpleName:fileOut)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fileOut))(SimpleName:close))))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:Exception))(SimpleName:e))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:e))(SimpleName:printStackTrace)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:GUIUtil))(SimpleName:displayExceptionDialog)(METHOD_INVOCATION_ARGUMENTS(SimpleName:e)(ThisExpression(SimpleName:FileSystemBrowserWindow))))))))))))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(ClassInstanceCreation(SimpleType(SimpleName:Thread))(SimpleName:r)))(SimpleName:start)))))))))