(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:public)(SimpleType(SimpleName:Score))(SimpleName:thinkMain)(SingleVariableDeclaration(PrimitiveType:int)(SimpleName:x))(SingleVariableDeclaration(PrimitiveType:int)(SimpleName:rt))(SingleVariableDeclaration(ArrayType(PrimitiveType:int)(Dimension))(SimpleName:heights))(SingleVariableDeclaration(PrimitiveType:int)(SimpleName:pieces)(Dimension))(SingleVariableDeclaration(PrimitiveType:int)(SimpleName:holdPiece)(Dimension))(SingleVariableDeclaration(PrimitiveType:boolean)(SimpleName:holdOK))(SingleVariableDeclaration(PrimitiveType:int)(SimpleName:numPreviews))(Block(VariableDeclarationStatement(SimpleType(SimpleName:Score))(VariableDeclarationFragment(SimpleName:score)(ClassInstanceCreation(SimpleType(SimpleName:Score)))))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:heightMin)(NumberLiteral:99)))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:heightMax)(NumberLiteral:0)))(EmptyStatement)(VariableDeclarationStatement(ArrayType(PrimitiveType:int)(Dimension))(VariableDeclarationFragment(SimpleName:surface)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ranks))(SimpleName:heightsToSurface)(METHOD_INVOCATION_ARGUMENTS(SimpleName:heights)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:log))(SimpleName:debug)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(ArrayAccess(SimpleName:pieces)(NumberLiteral:0))(StringLiteral:<STR>)(SimpleName:rt)(StringLiteral:<STR>)(SimpleName:x)(StringLiteral:<STR>)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Arrays))(SimpleName:toString)(METHOD_INVOCATION_ARGUMENTS(SimpleName:surface)))))))(VariableDeclarationStatement(PrimitiveType:boolean)(VariableDeclarationFragment(SimpleName:isVerticalIRightMost)(ParenthesizedExpression(InfixExpression(InfixExpression(InfixExpression(ArrayAccess(SimpleName:pieces)(NumberLiteral:0))(INFIX_EXPRESSION_OPERATOR:==)(QualifiedName:Piece.PIECE_I))(INFIX_EXPRESSION_OPERATOR:&&)(ParenthesizedExpression(InfixExpression(ParenthesizedExpression(InfixExpression(SimpleName:rt)(INFIX_EXPRESSION_OPERATOR:==)(NumberLiteral:1)))(INFIX_EXPRESSION_OPERATOR:||)(ParenthesizedExpression(InfixExpression(SimpleName:rt)(INFIX_EXPRESSION_OPERATOR:==)(NumberLiteral:3))))))(INFIX_EXPRESSION_OPERATOR:&&)(ParenthesizedExpression(InfixExpression(SimpleName:x)(INFIX_EXPRESSION_OPERATOR:==)(NumberLiteral:9)))))))(IfStatement(InfixExpression(SimpleName:isVerticalIRightMost)(INFIX_EXPRESSION_OPERATOR:||)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ranks))(SimpleName:surfaceFitsPiece)(METHOD_INVOCATION_ARGUMENTS(SimpleName:surface)(ArrayAccess(SimpleName:pieces)(NumberLiteral:0))(SimpleName:rt)(SimpleName:x))))(Block(VariableDeclarationStatement(ArrayType(PrimitiveType:int)(Dimension))(VariableDeclarationFragment(SimpleName:heightsWork)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:heights))(SimpleName:clone))))(IfStatement(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(SimpleName:isVerticalIRightMost))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ranks))(SimpleName:addToHeights)(METHOD_INVOCATION_ARGUMENTS(SimpleName:heightsWork)(ArrayAccess(SimpleName:pieces)(NumberLiteral:0))(SimpleName:rt)(SimpleName:x))))(ForStatement(VariableDeclarationExpression(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:i)(NumberLiteral:0)))(InfixExpression(SimpleName:i)(INFIX_EXPRESSION_OPERATOR:<)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ranks))(SimpleName:getStackWidth)))(PostfixExpression(SimpleName:i)(POSTFIX_EXPRESSION_OPERATOR:++))(Block(IfStatement(InfixExpression(ArrayAccess(SimpleName:heightsWork)(SimpleName:i))(INFIX_EXPRESSION_OPERATOR:>)(SimpleName:heightMax))(Block(ExpressionStatement(Assignment(SimpleName:heightMax)(ASSIGNMENT_OPERATOR:=)(ArrayAccess(SimpleName:heights)(SimpleName:i))))))(IfStatement(InfixExpression(ArrayAccess(SimpleName:heightsWork)(SimpleName:i))(INFIX_EXPRESSION_OPERATOR:<)(SimpleName:heightMin))(Block(ExpressionStatement(Assignment(SimpleName:heightMin)(ASSIGNMENT_OPERATOR:=)(ArrayAccess(SimpleName:heights)(SimpleName:i)))))))))(Block(ForStatement(VariableDeclarationExpression(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:i)(NumberLiteral:0)))(InfixExpression(SimpleName:i)(INFIX_EXPRESSION_OPERATOR:<)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ranks))(SimpleName:getStackWidth)))(PostfixExpression(SimpleName:i)(POSTFIX_EXPRESSION_OPERATOR:++))(ExpressionStatement(Assignment(ArrayAccess(SimpleName:heightsWork)(SimpleName:i))(ASSIGNMENT_OPERATOR:-=)(NumberLiteral:4))))(ExpressionStatement(Assignment(SimpleName:heightMin)(ASSIGNMENT_OPERATOR:-=)(NumberLiteral:4)))(ExpressionStatement(Assignment(SimpleName:heightMax)(ASSIGNMENT_OPERATOR:-=)(NumberLiteral:4)))))(IfStatement(InfixExpression(SimpleName:numPreviews)(INFIX_EXPRESSION_OPERATOR:>)(NumberLiteral:0))(Block(VariableDeclarationStatement(SimpleType(SimpleName:Score))(VariableDeclarationFragment(SimpleName:bestScore)(ClassInstanceCreation(SimpleType(SimpleName:Score)))))(VariableDeclarationStatement(SimpleType(SimpleName:Score))(VariableDeclarationFragment(SimpleName:scoreCurrent)))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:pieceNow)(ArrayAccess(SimpleName:pieces)(NumberLiteral:1))))(VariableDeclarationStatement(ArrayType(PrimitiveType:int)(Dimension))(VariableDeclarationFragment(SimpleName:pieces2)(ArrayCreation(ArrayType(PrimitiveType:int)(Dimension(QualifiedName:pieces.length))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:System))(SimpleName:arraycopy)(METHOD_INVOCATION_ARGUMENTS(SimpleName:pieces)(NumberLiteral:1)(SimpleName:pieces2)(NumberLiteral:0)(InfixExpression(QualifiedName:pieces.length)(INFIX_EXPRESSION_OPERATOR:-)(NumberLiteral:1)))))(VariableDeclarationStatement(ArrayType(PrimitiveType:int)(Dimension))(VariableDeclarationFragment(SimpleName:holdPiece2)(ArrayCreation(ArrayType(PrimitiveType:int)(Dimension(NumberLiteral:1))))))(ExpressionStatement(Assignment(ArrayAccess(SimpleName:holdPiece2)(NumberLiteral:0))(ASSIGNMENT_OPERATOR:=)(ArrayAccess(SimpleName:holdPiece)(NumberLiteral:0))))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:numPreviews2)(InfixExpression(SimpleName:numPreviews)(INFIX_EXPRESSION_OPERATOR:-)(NumberLiteral:1))))(IfStatement(InfixExpression(InfixExpression(InfixExpression(SimpleName:pieceNow)(INFIX_EXPRESSION_OPERATOR:==)(QualifiedName:Piece.PIECE_I))(INFIX_EXPRESSION_OPERATOR:&&)(InfixExpression(SimpleName:heightMin)(INFIX_EXPRESSION_OPERATOR:>=)(SimpleName:THRESHOLD_FORCE_4LINES)))(INFIX_EXPRESSION_OPERATOR:&&)(InfixExpression(SimpleName:heightMin)(INFIX_EXPRESSION_OPERATOR:>=)(NumberLiteral:4)))(Block(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:rt2)(NumberLiteral:1)))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:maxX2)(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ranks))(SimpleName:getStackWidth))(INFIX_EXPRESSION_OPERATOR:-)(NumberLiteral:1))))(ExpressionStatement(Assignment(SimpleName:scoreCurrent)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(SimpleName:thinkMain)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(SimpleName:maxX2)(INFIX_EXPRESSION_OPERATOR:+)(NumberLiteral:1))(SimpleName:rt2)(SimpleName:heightsWork)(SimpleName:pieces2)(SimpleName:holdPiece2)(BooleanLiteral:true)(SimpleName:numPreviews2)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:log))(SimpleName:debug)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:numPreviews)(StringLiteral:<STR>)(SimpleName:pieceNow)(StringLiteral:<STR>)(ParenthesizedExpression(InfixExpression(SimpleName:maxX2)(INFIX_EXPRESSION_OPERATOR:+)(NumberLiteral:1)))(StringLiteral:<STR>)(SimpleName:rt2)(StringLiteral:<STR>)(SimpleName:scoreCurrent)))))(IfStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:scoreCurrent))(SimpleName:compareTo)(METHOD_INVOCATION_ARGUMENTS(SimpleName:bestScore)))(INFIX_EXPRESSION_OPERATOR:>)(NumberLiteral:0))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:log))(SimpleName:debug)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))(ExpressionStatement(Assignment(SimpleName:bestScore)(ASSIGNMENT_OPERATOR:=)(SimpleName:scoreCurrent))))))(Block(ForStatement(VariableDeclarationExpression(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:h2)(NumberLiteral:0)))(InfixExpression(SimpleName:h2)(INFIX_EXPRESSION_OPERATOR:<)(ParenthesizedExpression(ConditionalExpression(ParenthesizedExpression(InfixExpression(SimpleName:holdOK)(INFIX_EXPRESSION_OPERATOR:&&)(SimpleName:allowHold)))(NumberLiteral:2)(NumberLiteral:1))))(PostfixExpression(SimpleName:h2)(POSTFIX_EXPRESSION_OPERATOR:++))(Block(IfStatement(InfixExpression(SimpleName:h2)(INFIX_EXPRESSION_OPERATOR:==)(NumberLiteral:1))(Block(IfStatement(InfixExpression(ArrayAccess(SimpleName:holdPiece2)(NumberLiteral:0))(INFIX_EXPRESSION_OPERATOR:==)(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:-)(NumberLiteral:1)))(Block(ExpressionStatement(Assignment(ArrayAccess(SimpleName:holdPiece2)(NumberLiteral:0))(ASSIGNMENT_OPERATOR:=)(ArrayAccess(SimpleName:pieces2)(NumberLiteral:0))))(ForStatement(VariableDeclarationExpression(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:i)(NumberLiteral:0)))(InfixExpression(SimpleName:i)(INFIX_EXPRESSION_OPERATOR:<)(InfixExpression(QualifiedName:pieces2.length)(INFIX_EXPRESSION_OPERATOR:-)(NumberLiteral:1)))(PostfixExpression(SimpleName:i)(POSTFIX_EXPRESSION_OPERATOR:++))(ExpressionStatement(Assignment(ArrayAccess(SimpleName:pieces2)(SimpleName:i))(ASSIGNMENT_OPERATOR:=)(ArrayAccess(SimpleName:pieces2)(InfixExpression(SimpleName:i)(INFIX_EXPRESSION_OPERATOR:+)(NumberLiteral:1))))))(ExpressionStatement(Assignment(SimpleName:pieceNow)(ASSIGNMENT_OPERATOR:=)(ArrayAccess(SimpleName:pieces2)(NumberLiteral:0)))))(Block(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:tempPiece)(ArrayAccess(SimpleName:pieces2)(NumberLiteral:0))))(ExpressionStatement(Assignment(ArrayAccess(SimpleName:pieces2)(NumberLiteral:0))(ASSIGNMENT_OPERATOR:=)(ArrayAccess(SimpleName:holdPiece2)(NumberLiteral:0))))(ExpressionStatement(Assignment(ArrayAccess(SimpleName:holdPiece2)(NumberLiteral:0))(ASSIGNMENT_OPERATOR:=)(SimpleName:tempPiece)))(ExpressionStatement(Assignment(SimpleName:pieceNow)(ASSIGNMENT_OPERATOR:=)(ArrayAccess(SimpleName:pieces2)(NumberLiteral:0))))))))(ForStatement(VariableDeclarationExpression(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:rt2)(NumberLiteral:0)))(InfixExpression(SimpleName:rt2)(INFIX_EXPRESSION_OPERATOR:<)(ArrayAccess(QualifiedName:Ranks.PIECES_NUM_ROTATIONS)(SimpleName:pieceNow)))(PostfixExpression(SimpleName:rt2)(POSTFIX_EXPRESSION_OPERATOR:++))(Block(VariableDeclarationStatement(PrimitiveType:boolean)(VariableDeclarationFragment(SimpleName:isVerticalI2)(ParenthesizedExpression(InfixExpression(InfixExpression(SimpleName:pieceNow)(INFIX_EXPRESSION_OPERATOR:==)(QualifiedName:Piece.PIECE_I))(INFIX_EXPRESSION_OPERATOR:&&)(ParenthesizedExpression(InfixExpression(ParenthesizedExpression(InfixExpression(SimpleName:rt2)(INFIX_EXPRESSION_OPERATOR:==)(NumberLiteral:1)))(INFIX_EXPRESSION_OPERATOR:||)(ParenthesizedExpression(InfixExpression(SimpleName:rt2)(INFIX_EXPRESSION_OPERATOR:==)(NumberLiteral:3)))))))))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:minX2)(NumberLiteral:0)))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:maxX2)(InfixExpression(InfixExpression(SimpleName:minX2)(INFIX_EXPRESSION_OPERATOR:+)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ranks))(SimpleName:getStackWidth)))(INFIX_EXPRESSION_OPERATOR:-)(ArrayAccess(ArrayAccess(QualifiedName:Ranks.PIECES_WIDTHS)(SimpleName:pieceNow))(SimpleName:rt2)))))(ForStatement(VariableDeclarationExpression(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:x2)(SimpleName:minX2)))(InfixExpression(SimpleName:x2)(INFIX_EXPRESSION_OPERATOR:<=)(SimpleName:maxX2))(PostfixExpression(SimpleName:x2)(POSTFIX_EXPRESSION_OPERATOR:++))(Block(ExpressionStatement(Assignment(SimpleName:scoreCurrent)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(SimpleName:thinkMain)(METHOD_INVOCATION_ARGUMENTS(SimpleName:x2)(SimpleName:rt2)(SimpleName:heightsWork)(SimpleName:pieces2)(SimpleName:holdPiece2)(ConditionalExpression(ParenthesizedExpression(InfixExpression(SimpleName:h2)(INFIX_EXPRESSION_OPERATOR:==)(NumberLiteral:1)))(BooleanLiteral:false)(BooleanLiteral:true))(SimpleName:numPreviews2)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:log))(SimpleName:debug)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:numPreviews)(StringLiteral:<STR>)(SimpleName:pieceNow)(StringLiteral:<STR>)(SimpleName:x2)(StringLiteral:<STR>)(SimpleName:rt2)(StringLiteral:<STR>)(SimpleName:h2)(StringLiteral:<STR>)(SimpleName:scoreCurrent)))))(IfStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:scoreCurrent))(SimpleName:compareTo)(METHOD_INVOCATION_ARGUMENTS(SimpleName:bestScore)))(INFIX_EXPRESSION_OPERATOR:>)(NumberLiteral:0))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:log))(SimpleName:debug)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))(ExpressionStatement(Assignment(SimpleName:bestScore)(ASSIGNMENT_OPERATOR:=)(SimpleName:scoreCurrent)))))))(IfStatement(InfixExpression(SimpleName:isVerticalI2)(INFIX_EXPRESSION_OPERATOR:&&)(InfixExpression(SimpleName:heightMin)(INFIX_EXPRESSION_OPERATOR:>=)(NumberLiteral:4)))(Block(ExpressionStatement(Assignment(SimpleName:scoreCurrent)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(SimpleName:thinkMain)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(SimpleName:maxX2)(INFIX_EXPRESSION_OPERATOR:+)(NumberLiteral:1))(SimpleName:rt2)(SimpleName:heightsWork)(SimpleName:pieces2)(SimpleName:holdPiece2)(ConditionalExpression(ParenthesizedExpression(InfixExpression(SimpleName:h2)(INFIX_EXPRESSION_OPERATOR:==)(NumberLiteral:1)))(BooleanLiteral:false)(BooleanLiteral:true))(SimpleName:numPreviews2)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:log))(SimpleName:debug)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:numPreviews)(StringLiteral:<STR>)(SimpleName:pieceNow)(StringLiteral:<STR>)(ParenthesizedExpression(InfixExpression(SimpleName:maxX2)(INFIX_EXPRESSION_OPERATOR:+)(NumberLiteral:1)))(StringLiteral:<STR>)(SimpleName:rt2)(StringLiteral:<STR>)(SimpleName:h2)(StringLiteral:<STR>)(SimpleName:scoreCurrent)))))(IfStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:scoreCurrent))(SimpleName:compareTo)(METHOD_INVOCATION_ARGUMENTS(SimpleName:bestScore)))(INFIX_EXPRESSION_OPERATOR:>)(NumberLiteral:0))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:log))(SimpleName:debug)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))(ExpressionStatement(Assignment(SimpleName:bestScore)(ASSIGNMENT_OPERATOR:=)(SimpleName:scoreCurrent)))))))))))))(ReturnStatement(SimpleName:bestScore)))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:score))(SimpleName:computeScore)(METHOD_INVOCATION_ARGUMENTS(SimpleName:heightsWork))))(IfStatement(InfixExpression(ParenthesizedExpression(InfixExpression(ArrayAccess(SimpleName:pieces)(NumberLiteral:0))(INFIX_EXPRESSION_OPERATOR:==)(QualifiedName:Piece.PIECE_I)))(INFIX_EXPRESSION_OPERATOR:&&)(ParenthesizedExpression(InfixExpression(SimpleName:x)(INFIX_EXPRESSION_OPERATOR:<)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ranks))(SimpleName:getStackWidth))))(InfixExpression(SimpleName:numPreviews)(INFIX_EXPRESSION_OPERATOR:<)(SimpleName:MAX_PREVIEWS)))(Block(ExpressionStatement(Assignment(QualifiedName:score.iPieceUsedInTheStack)(ASSIGNMENT_OPERATOR:=)(BooleanLiteral:true)))))(ReturnStatement(SimpleName:score)))))(Block(ReturnStatement(SimpleName:score))))))))