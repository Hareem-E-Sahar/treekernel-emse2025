(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:public)(Modifier:static)(SimpleType(SimpleName:String))(SimpleName:uploadArticleMedia)(SingleVariableDeclaration(SimpleType(SimpleName:String))(SimpleName:localPath))(SingleVariableDeclaration(SimpleType(SimpleName:String))(SimpleName:articleImageName))(SingleVariableDeclaration(SimpleType(SimpleName:String))(SimpleName:year))(SingleVariableDeclaration(SimpleType(SimpleName:String))(SimpleName:month))(SingleVariableDeclaration(SimpleType(SimpleName:String))(SimpleName:day))(SingleVariableDeclaration(SimpleType(SimpleName:DataStore))(SimpleName:db))(SingleVariableDeclaration(SimpleType(SimpleName:HttpSession))(SimpleName:session))(Block(VariableDeclarationStatement(SimpleType(SimpleName:CofaxToolsUser))(VariableDeclarationFragment(SimpleName:user)(CastExpression(SimpleType(SimpleName:CofaxToolsUser))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:session))(SimpleName:getAttribute)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))))(IfStatement(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:localPath))(SimpleName:endsWith)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:File.separator))))(Block(ExpressionStatement(Assignment(SimpleName:localPath)(ASSIGNMENT_OPERATOR:+=)(QualifiedName:File.separator)))))(VariableDeclarationStatement(SimpleType(SimpleName:FTPClient))(VariableDeclarationFragment(SimpleName:ftp)(ClassInstanceCreation(SimpleType(SimpleName:FTPClient)))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:liveFTPLogin)(CastExpression(SimpleType(SimpleName:String))(MethodInvocation(METHOD_INVOCATION_RECEIVER(QualifiedName:user.workingPubConfigElementsHash))(SimpleName:get)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:liveFTPPassword)(CastExpression(SimpleType(SimpleName:String))(MethodInvocation(METHOD_INVOCATION_RECEIVER(QualifiedName:user.workingPubConfigElementsHash))(SimpleName:get)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:liveImagesServer)(CastExpression(SimpleType(SimpleName:String))(MethodInvocation(METHOD_INVOCATION_RECEIVER(QualifiedName:user.workingPubConfigElementsHash))(SimpleName:get)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:liveImagesFolder)(CastExpression(SimpleType(SimpleName:String))(MethodInvocation(METHOD_INVOCATION_RECEIVER(QualifiedName:user.workingPubConfigElementsHash))(SimpleName:get)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))))(IfStatement(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:liveImagesFolder))(SimpleName:endsWith)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))(Block(ExpressionStatement(Assignment(SimpleName:liveImagesFolder)(ASSIGNMENT_OPERATOR:=)(InfixExpression(SimpleName:liveImagesFolder)(INFIX_EXPRESSION_OPERATOR:+)(StringLiteral:<STR>))))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:liveImagesYearFolder)(StringLiteral:<STR>)))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:liveImagesMonthFolder)(StringLiteral:<STR>)))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:fileLocation)(StringLiteral:<STR>)))(ExpressionStatement(Assignment(SimpleName:fileLocation)(ASSIGNMENT_OPERATOR:+=)(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:year)(StringLiteral:<STR>)(SimpleName:month)(StringLiteral:<STR>)(SimpleName:day))))(ExpressionStatement(Assignment(SimpleName:liveImagesYearFolder)(ASSIGNMENT_OPERATOR:=)(InfixExpression(SimpleName:liveImagesFolder)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:year))))(ExpressionStatement(Assignment(SimpleName:liveImagesMonthFolder)(ASSIGNMENT_OPERATOR:=)(ParenthesizedExpression(InfixExpression(SimpleName:liveImagesYearFolder)(INFIX_EXPRESSION_OPERATOR:+)(StringLiteral:<STR>)(SimpleName:month)))))(ExpressionStatement(Assignment(SimpleName:liveImagesFolder)(ASSIGNMENT_OPERATOR:=)(ParenthesizedExpression(InfixExpression(SimpleName:liveImagesMonthFolder)(INFIX_EXPRESSION_OPERATOR:+)(StringLiteral:<STR>)(SimpleName:day)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:CofaxToolsUtil))(SimpleName:log)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:liveImagesServer)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:CofaxToolsUtil))(SimpleName:log)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:liveImagesFolder)))))(VariableDeclarationStatement(PrimitiveType:boolean)(VariableDeclarationFragment(SimpleName:stored)(BooleanLiteral:false)))(VariableDeclarationStatement(SimpleType(SimpleName:ArrayList))(VariableDeclarationFragment(SimpleName:servers)(MethodInvocation(SimpleName:splitServers)(METHOD_INVOCATION_ARGUMENTS(SimpleName:liveImagesServer)))))(ForStatement(VariableDeclarationExpression(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:count)(NumberLiteral:0)))(InfixExpression(SimpleName:count)(INFIX_EXPRESSION_OPERATOR:<)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:servers))(SimpleName:size)))(PostfixExpression(SimpleName:count)(POSTFIX_EXPRESSION_OPERATOR:++))(Block(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:server)(CastExpression(SimpleType(SimpleName:String))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:servers))(SimpleName:get)(METHOD_INVOCATION_ARGUMENTS(SimpleName:count))))))(TryStatement(Block(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:reply)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ftp))(SimpleName:connect)(METHOD_INVOCATION_ARGUMENTS(SimpleName:server))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:CofaxToolsUtil))(SimpleName:log)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:server)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:CofaxToolsUtil))(SimpleName:log)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ftp))(SimpleName:getReplyString))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:CofaxToolsUtil))(SimpleName:log)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ftp))(SimpleName:getReplyString)))))(ExpressionStatement(Assignment(SimpleName:reply)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ftp))(SimpleName:getReplyCode))))(IfStatement(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:FTPReply))(SimpleName:isPositiveCompletion)(METHOD_INVOCATION_ARGUMENTS(SimpleName:reply))))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ftp))(SimpleName:disconnect)))(ReturnStatement(ParenthesizedExpression(StringLiteral:<STR>))))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ftp))(SimpleName:login)(METHOD_INVOCATION_ARGUMENTS(SimpleName:liveFTPLogin)(SimpleName:liveFTPPassword))))))(TryStatement(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ftp))(SimpleName:setFileType)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:FTP.IMAGE_FILE_TYPE))))(VariableDeclarationStatement(SimpleType(SimpleName:InputStream))(VariableDeclarationFragment(SimpleName:input)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:CofaxToolsUtil))(SimpleName:log)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:localPath)(SimpleName:articleImageName)))))(ExpressionStatement(Assignment(SimpleName:input)(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(SimpleType(SimpleName:FileInputStream))(InfixExpression(SimpleName:localPath)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:articleImageName)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:CofaxToolsUtil))(SimpleName:log)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:liveImagesFolder)))))(VariableDeclarationStatement(PrimitiveType:boolean)(VariableDeclarationFragment(SimpleName:changed)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ftp))(SimpleName:changeWorkingDirectory)(METHOD_INVOCATION_ARGUMENTS(SimpleName:liveImagesFolder)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:CofaxToolsUtil))(SimpleName:log)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:changed)))))(IfStatement(InfixExpression(SimpleName:changed)(INFIX_EXPRESSION_OPERATOR:==)(BooleanLiteral:false))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:CofaxToolsUtil))(SimpleName:log)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:liveImagesFolder)))))(VariableDeclarationStatement(PrimitiveType:boolean)(VariableDeclarationFragment(SimpleName:newDirYear)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ftp))(SimpleName:makeDirectory)(METHOD_INVOCATION_ARGUMENTS(SimpleName:liveImagesYearFolder)))))(VariableDeclarationStatement(PrimitiveType:boolean)(VariableDeclarationFragment(SimpleName:newDirMonth)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ftp))(SimpleName:makeDirectory)(METHOD_INVOCATION_ARGUMENTS(SimpleName:liveImagesMonthFolder)))))(VariableDeclarationStatement(PrimitiveType:boolean)(VariableDeclarationFragment(SimpleName:newDir)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ftp))(SimpleName:makeDirectory)(METHOD_INVOCATION_ARGUMENTS(SimpleName:liveImagesFolder)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:CofaxToolsUtil))(SimpleName:log)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:newDirYear)(StringLiteral:<STR>)(SimpleName:newDirMonth)(StringLiteral:<STR>)(SimpleName:newDir)))))(ExpressionStatement(Assignment(SimpleName:changed)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ftp))(SimpleName:changeWorkingDirectory)(METHOD_INVOCATION_ARGUMENTS(SimpleName:liveImagesFolder)))))))(IfStatement(SimpleName:changed)(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:CofaxToolsUtil))(SimpleName:log)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:articleImageName)(StringLiteral:<STR>)(SimpleName:liveImagesFolder)))))(ExpressionStatement(Assignment(SimpleName:stored)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ftp))(SimpleName:storeFile)(METHOD_INVOCATION_ARGUMENTS(SimpleName:articleImageName)(SimpleName:input))))))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:CofaxToolsUtil))(SimpleName:log)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:liveImagesFolder)))))))(IfStatement(SimpleName:stored)(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:CofaxToolsUtil))(SimpleName:log)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:CofaxToolsUtil))(SimpleName:log)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:input))(SimpleName:close)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ftp))(SimpleName:logout)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ftp))(SimpleName:disconnect))))(CatchClause(SingleVariableDeclaration(SimpleType(QualifiedName:org.apache.commons.net.io.CopyStreamException))(SimpleName:e))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:CofaxToolsUtil))(SimpleName:log)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:e))(SimpleName:toString))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:CofaxToolsUtil))(SimpleName:log)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:e))(SimpleName:getIOException)))(SimpleName:toString))))))(ReturnStatement(ParenthesizedExpression(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:liveImagesFolder)(StringLiteral:<STR>)(SimpleName:articleImageName))))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:IOException))(SimpleName:e))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:CofaxToolsUtil))(SimpleName:log)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:e))(SimpleName:toString))))))(ReturnStatement(ParenthesizedExpression(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:liveImagesFolder)(StringLiteral:<STR>)(SimpleName:articleImageName))))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:Exception))(SimpleName:e))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:CofaxToolsUtil))(SimpleName:log)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:e))(SimpleName:toString))))))(ReturnStatement(ParenthesizedExpression(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:liveImagesFolder)(StringLiteral:<STR>)(SimpleName:articleImageName))))))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:IOException))(SimpleName:e))(Block(ReturnStatement(ParenthesizedExpression(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:e)))))))))(ReturnStatement(ParenthesizedExpression(StringLiteral:<STR>)))))))