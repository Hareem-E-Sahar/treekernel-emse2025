(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:private)(PrimitiveType:void)(SimpleName:downloadFiles)(Block(VariableDeclarationStatement(ParameterizedType(SimpleType(SimpleName:SwingWorker))(SimpleType(SimpleName:Double))(SimpleType(SimpleName:RaphPhotoGalleryPhoto)))(VariableDeclarationFragment(SimpleName:downloadFilesWorker)(ClassInstanceCreation(ParameterizedType(SimpleType(SimpleName:SwingWorker))(SimpleType(SimpleName:Double))(SimpleType(SimpleName:RaphPhotoGalleryPhoto)))(AnonymousClassDeclaration(FieldDeclaration(SimpleType(SimpleName:Date))(VariableDeclarationFragment(SimpleName:startDownloadDate)))(MethodDeclaration(MarkerAnnotation(SimpleName:Override))(Modifier:public)(SimpleType(SimpleName:Double))(SimpleName:doInBackground)(Block(ExpressionStatement(Assignment(SimpleName:startDownloadDate)(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(SimpleType(SimpleName:Date)))))(ExpressionStatement(Assignment(SimpleName:refreshSpeed)(ASSIGNMENT_OPERATOR:=)(NumberLiteral:0)))(ExpressionStatement(Assignment(SimpleName:lastDate)(ASSIGNMENT_OPERATOR:=)(NullLiteral)))(TryStatement(Block(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:totalSizeRead)(NumberLiteral:0)))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:totalNumberRead)(NumberLiteral:0)))(EnhancedForStatement(SingleVariableDeclaration(SimpleType(SimpleName:RaphPhotoGalleryPhoto))(SimpleName:photo))(SimpleName:photoList)(Block(VariableDeclarationStatement(SimpleType(SimpleName:URL))(VariableDeclarationFragment(SimpleName:url)(ClassInstanceCreation(SimpleType(SimpleName:URL))(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(SimpleName:getCodeBase)))(SimpleName:toString))(INFIX_EXPRESSION_OPERATOR:+)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:photo))(SimpleName:getUrl))))))(VariableDeclarationStatement(SimpleType(SimpleName:HttpURLConnection))(VariableDeclarationFragment(SimpleName:connection)(CastExpression(SimpleType(SimpleName:HttpURLConnection))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:url))(SimpleName:openConnection)))))(VariableDeclarationStatement(SimpleType(SimpleName:DataInputStream))(VariableDeclarationFragment(SimpleName:dis)(ClassInstanceCreation(SimpleType(SimpleName:DataInputStream))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:connection))(SimpleName:getInputStream)))))(VariableDeclarationStatement(SimpleType(SimpleName:FileOutputStream))(VariableDeclarationFragment(SimpleName:fos)(ClassInstanceCreation(SimpleType(SimpleName:FileOutputStream))(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:destinationDirectory))(SimpleName:toString))(INFIX_EXPRESSION_OPERATOR:+)(StringLiteral:<STR>)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:photo))(SimpleName:getFileName))))))(VariableDeclarationStatement(ArrayType(PrimitiveType:byte)(Dimension))(VariableDeclarationFragment(SimpleName:b)(ArrayCreation(ArrayType(PrimitiveType:byte)(Dimension(NumberLiteral:65536))))))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:sizeRead)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:photo))(SimpleName:setProcessedSize)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:0))))(ExpressionStatement(PostfixExpression(SimpleName:totalNumberRead)(POSTFIX_EXPRESSION_OPERATOR:++)))(WhileStatement(InfixExpression(ParenthesizedExpression(Assignment(SimpleName:sizeRead)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:dis))(SimpleName:read)(METHOD_INVOCATION_ARGUMENTS(SimpleName:b)))))(INFIX_EXPRESSION_OPERATOR:>)(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:-)(NumberLiteral:1)))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fos))(SimpleName:write)(METHOD_INVOCATION_ARGUMENTS(SimpleName:b)(NumberLiteral:0)(SimpleName:sizeRead))))(ExpressionStatement(Assignment(SimpleName:totalSizeRead)(ASSIGNMENT_OPERATOR:+=)(SimpleName:sizeRead)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:photo))(SimpleName:addToProcessedSize)(METHOD_INVOCATION_ARGUMENTS(SimpleName:sizeRead))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:photo))(SimpleName:setTotalProcessedSize)(METHOD_INVOCATION_ARGUMENTS(SimpleName:totalSizeRead))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:photo))(SimpleName:setTotalProcessedNumber)(METHOD_INVOCATION_ARGUMENTS(SimpleName:totalNumberRead))))(ExpressionStatement(MethodInvocation(SimpleName:publish)(METHOD_INVOCATION_ARGUMENTS(SimpleName:photo))))(TryStatement(Block)(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:Exception))(SimpleName:ignore))(Block)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fos))(SimpleName:close))))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:MalformedURLException))(SimpleName:e1))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(QualifiedName:System.err))(SimpleName:println)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:e1)))))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:IOException))(SimpleName:e2))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(QualifiedName:System.err))(SimpleName:println)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:e2))))))))(VariableDeclarationStatement(PrimitiveType:long)(VariableDeclarationFragment(SimpleName:totalDiffTime)(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(ParenthesizedExpression(ClassInstanceCreation(SimpleType(SimpleName:Date)))))(SimpleName:getTime))(INFIX_EXPRESSION_OPERATOR:-)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:startDownloadDate))(SimpleName:getTime)))))(VariableDeclarationStatement(PrimitiveType:double)(VariableDeclarationFragment(SimpleName:totalSpeed)(InfixExpression(SimpleName:photoListTotalSize)(INFIX_EXPRESSION_OPERATOR:/)(ParenthesizedExpression(InfixExpression(SimpleName:totalDiffTime)(INFIX_EXPRESSION_OPERATOR:/)(NumberLiteral:1000))))))(ReturnStatement(ClassInstanceCreation(SimpleType(SimpleName:Double))(SimpleName:totalSpeed)))))(MethodDeclaration(MarkerAnnotation(SimpleName:Override))(Modifier:protected)(PrimitiveType:void)(SimpleName:process)(SingleVariableDeclaration(ParameterizedType(SimpleType(SimpleName:List))(SimpleType(SimpleName:RaphPhotoGalleryPhoto)))(SimpleName:list))(Block(VariableDeclarationStatement(SimpleType(SimpleName:RaphPhotoGalleryPhoto))(VariableDeclarationFragment(SimpleName:photo)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:list))(SimpleName:get)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:list))(SimpleName:size))(INFIX_EXPRESSION_OPERATOR:-)(NumberLiteral:1))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:progressBarTotal))(SimpleName:setMaximum)(METHOD_INVOCATION_ARGUMENTS(SimpleName:photoListTotalSize))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:progressBarTotal))(SimpleName:setValue)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:photo))(SimpleName:getTotalProcessedSize)))))(ExpressionStatement(MethodInvocation(SimpleName:setProgressBarTotalLabels)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:photo))(SimpleName:getTotalProcessedNumber))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:photoList))(SimpleName:size))(InfixExpression(SimpleName:photoListTotalSize)(INFIX_EXPRESSION_OPERATOR:-)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:photo))(SimpleName:getTotalProcessedSize))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:progressBarCurrent))(SimpleName:setMaximum)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:photo))(SimpleName:getFileSize)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:progressBarCurrent))(SimpleName:setValue)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:photo))(SimpleName:getProcessedSize)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:progressBarCurrentLabel))(SimpleName:setText)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:photo))(SimpleName:getFileName)))))(VariableDeclarationStatement(PrimitiveType:long)(VariableDeclarationFragment(SimpleName:diffTime)(NumberLiteral:0)))(IfStatement(InfixExpression(SimpleName:lastDate)(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(ExpressionStatement(Assignment(SimpleName:lastDate)(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(SimpleType(SimpleName:Date))))))(ExpressionStatement(Assignment(SimpleName:diffTime)(ASSIGNMENT_OPERATOR:=)(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(ParenthesizedExpression(ClassInstanceCreation(SimpleType(SimpleName:Date)))))(SimpleName:getTime))(INFIX_EXPRESSION_OPERATOR:-)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:lastDate))(SimpleName:getTime)))))(IfStatement(InfixExpression(SimpleName:diffTime)(INFIX_EXPRESSION_OPERATOR:>)(NumberLiteral:1000))(Block(VariableDeclarationStatement(PrimitiveType:double)(VariableDeclarationFragment(SimpleName:currentSpeed)(InfixExpression(ParenthesizedExpression(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:photo))(SimpleName:getTotalProcessedSize))(INFIX_EXPRESSION_OPERATOR:-)(SimpleName:lastTotalSize)))(INFIX_EXPRESSION_OPERATOR:/)(ParenthesizedExpression(InfixExpression(SimpleName:diffTime)(INFIX_EXPRESSION_OPERATOR:/)(NumberLiteral:1000.0))))))(IfStatement(InfixExpression(SimpleName:currentSpeed)(INFIX_EXPRESSION_OPERATOR:>)(NumberLiteral:0))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:lastSpeed))(SimpleName:add)(METHOD_INVOCATION_ARGUMENTS(ClassInstanceCreation(SimpleType(SimpleName:Double))(SimpleName:currentSpeed))))))(IfStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:lastSpeed))(SimpleName:size))(INFIX_EXPRESSION_OPERATOR:==)(NumberLiteral:10))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:lastSpeed))(SimpleName:removeFirst))))(VariableDeclarationStatement(PrimitiveType:double)(VariableDeclarationFragment(SimpleName:speed)(NumberLiteral:0)))(EnhancedForStatement(SingleVariableDeclaration(SimpleType(SimpleName:Double))(SimpleName:d))(SimpleName:lastSpeed)(Block(ExpressionStatement(Assignment(SimpleName:speed)(ASSIGNMENT_OPERATOR:+=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:d))(SimpleName:doubleValue))))))(ExpressionStatement(Assignment(SimpleName:speed)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Math))(SimpleName:round)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(SimpleName:speed)(INFIX_EXPRESSION_OPERATOR:/)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:lastSpeed))(SimpleName:size)))))))(IfStatement(InfixExpression(SimpleName:refreshSpeed)(INFIX_EXPRESSION_OPERATOR:==)(NumberLiteral:0))(Block(VariableDeclarationStatement(PrimitiveType:long)(VariableDeclarationFragment(SimpleName:totalDiffTime)(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(ParenthesizedExpression(ClassInstanceCreation(SimpleType(SimpleName:Date)))))(SimpleName:getTime))(INFIX_EXPRESSION_OPERATOR:-)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:startDownloadDate))(SimpleName:getTime)))))(VariableDeclarationStatement(PrimitiveType:double)(VariableDeclarationFragment(SimpleName:totalSpeed)(InfixExpression(ParenthesizedExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:photo))(SimpleName:getTotalProcessedSize)))(INFIX_EXPRESSION_OPERATOR:/)(ParenthesizedExpression(InfixExpression(SimpleName:totalDiffTime)(INFIX_EXPRESSION_OPERATOR:/)(NumberLiteral:1000.0))))))(ExpressionStatement(Assignment(SimpleName:remainingTime)(ASSIGNMENT_OPERATOR:=)(InfixExpression(ParenthesizedExpression(InfixExpression(SimpleName:photoListTotalSize)(INFIX_EXPRESSION_OPERATOR:-)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:photo))(SimpleName:getTotalProcessedSize))))(INFIX_EXPRESSION_OPERATOR:/)(SimpleName:totalSpeed))))(IfStatement(InfixExpression(SimpleName:remainingTime)(INFIX_EXPRESSION_OPERATOR:<)(NumberLiteral:8))(ExpressionStatement(Assignment(SimpleName:refreshSpeed)(ASSIGNMENT_OPERATOR:=)(NumberLiteral:0)))(ExpressionStatement(Assignment(SimpleName:refreshSpeed)(ASSIGNMENT_OPERATOR:=)(NumberLiteral:3)))))(Block(ExpressionStatement(PostfixExpression(SimpleName:refreshSpeed)(POSTFIX_EXPRESSION_OPERATOR:--)))(ExpressionStatement(Assignment(SimpleName:remainingTime)(ASSIGNMENT_OPERATOR:-=)(InfixExpression(SimpleName:diffTime)(INFIX_EXPRESSION_OPERATOR:/)(NumberLiteral:1000.0))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:speedLabel))(SimpleName:setText)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:String))(SimpleName:format)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(InfixExpression(SimpleName:speed)(INFIX_EXPRESSION_OPERATOR:/)(NumberLiteral:1024))))(INFIX_EXPRESSION_OPERATOR:+)(StringLiteral:<STR>)(MethodInvocation(SimpleName:getParameter)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))(StringLiteral:<STR>)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:String))(SimpleName:format)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(SimpleName:remainingTime)))(StringLiteral:<STR>)))))(ExpressionStatement(Assignment(SimpleName:lastDate)(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(SimpleType(SimpleName:Date)))))(ExpressionStatement(Assignment(SimpleName:lastTotalSize)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:photo))(SimpleName:getTotalProcessedSize))))))))(MethodDeclaration(MarkerAnnotation(SimpleName:Override))(Modifier:protected)(PrimitiveType:void)(SimpleName:done)(Block(TryStatement(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:speedLabel))(SimpleName:setText)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:String))(SimpleName:format)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(SimpleName:get)))(SimpleName:doubleValue))(INFIX_EXPRESSION_OPERATOR:/)(NumberLiteral:1024))))(INFIX_EXPRESSION_OPERATOR:+)(StringLiteral:<STR>)(MethodInvocation(SimpleName:getParameter)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:downloadButton))(SimpleName:setText)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(SimpleName:getParameter)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))))(ExpressionStatement(Assignment(SimpleName:downloadState)(ASSIGNMENT_OPERATOR:=)(NumberLiteral:2))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:Exception))(SimpleName:ignore))(Block)))))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:downloadFilesWorker))(SimpleName:execute)))))))