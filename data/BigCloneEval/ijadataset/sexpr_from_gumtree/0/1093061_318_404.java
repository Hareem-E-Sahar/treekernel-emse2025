(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:public)(SimpleType(SimpleName:Object))(SimpleName:getObjectField)(SingleVariableDeclaration(SimpleType(SimpleName:VersantDetachable))(SimpleName:pc))(SingleVariableDeclaration(PrimitiveType:int)(SimpleName:fieldNo))(Block(VariableDeclarationStatement(SimpleType(SimpleName:State))(VariableDeclarationFragment(SimpleName:state)(MethodInvocation(SimpleName:getState)(METHOD_INVOCATION_ARGUMENTS(SimpleName:pc)))))(VariableDeclarationStatement(SimpleType(SimpleName:ClassMetaData))(VariableDeclarationFragment(SimpleName:cmd)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:state))(SimpleName:getClassMetaData))))(VariableDeclarationStatement(SimpleType(SimpleName:FieldMetaData))(VariableDeclarationFragment(SimpleName:fmd)(ArrayAccess(QualifiedName:cmd.stateFields)(ArrayAccess(QualifiedName:cmd.absToRel)(SimpleName:fieldNo)))))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:category)(QualifiedName:fmd.category)))(VariableDeclarationStatement(SimpleType(SimpleName:Object))(VariableDeclarationFragment(SimpleName:o)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:state))(SimpleName:getInternalObjectFieldAbs)(METHOD_INVOCATION_ARGUMENTS(SimpleName:fieldNo)))))(SwitchStatement(SimpleName:category)(SwitchCase(QualifiedName:MDStatics.CATEGORY_COLLECTION))(IfStatement(InfixExpression(SimpleName:o)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(VariableDeclarationStatement(SimpleType(SimpleName:VersantSCOCollectionFactory))(VariableDeclarationFragment(SimpleName:factory)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:scoFactoryRegistry))(SimpleName:getJDOGenieSCOCollectionFactory)(METHOD_INVOCATION_ARGUMENTS(SimpleName:fmd)))))(IfStatement(InstanceofExpression(SimpleName:o)(SimpleType(SimpleName:VersantSCOCollection)))(Block(VariableDeclarationStatement(SimpleType(SimpleName:CollectionData))(VariableDeclarationFragment(SimpleName:collectionData)(ClassInstanceCreation(SimpleType(SimpleName:CollectionData)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(ParenthesizedExpression(CastExpression(SimpleType(SimpleName:VersantSCOCollection))(SimpleName:o))))(SimpleName:fillCollectionData)(METHOD_INVOCATION_ARGUMENTS(SimpleName:collectionData))))(ExpressionStatement(Assignment(QualifiedName:collectionData.valueCount)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(SimpleName:getDetachCopy)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:collectionData.values)(QualifiedName:collectionData.valueCount)))))(ReturnStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:factory))(SimpleName:createSCOCollection)(METHOD_INVOCATION_ARGUMENTS(SimpleName:pc)(SimpleName:pm)(SimpleName:detachedStateManager)(SimpleName:fmd)(SimpleName:collectionData)))))(Block(VariableDeclarationStatement(SimpleType(SimpleName:CollectionData))(VariableDeclarationFragment(SimpleName:collectionData)(ClassInstanceCreation(SimpleType(SimpleName:CollectionData)))))(VariableDeclarationStatement(ArrayType(SimpleType(SimpleName:Object))(Dimension))(VariableDeclarationFragment(SimpleName:values)(CastExpression(ArrayType(SimpleType(SimpleName:Object))(Dimension))(SimpleName:o))))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:length)(QualifiedName:values.length)))(ExpressionStatement(Assignment(QualifiedName:collectionData.values)(ASSIGNMENT_OPERATOR:=)(ArrayCreation(ArrayType(SimpleType(SimpleName:Object))(Dimension(SimpleName:length))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:System))(SimpleName:arraycopy)(METHOD_INVOCATION_ARGUMENTS(SimpleName:values)(NumberLiteral:0)(QualifiedName:collectionData.values)(NumberLiteral:0)(SimpleName:length))))(ExpressionStatement(Assignment(QualifiedName:collectionData.valueCount)(ASSIGNMENT_OPERATOR:=)(QualifiedName:collectionData.values.length)))(ExpressionStatement(Assignment(QualifiedName:collectionData.valueCount)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(SimpleName:getDetachCopy)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:collectionData.values)(QualifiedName:collectionData.valueCount)))))(ReturnStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:factory))(SimpleName:createSCOCollection)(METHOD_INVOCATION_ARGUMENTS(SimpleName:pc)(SimpleName:pm)(SimpleName:detachedStateManager)(SimpleName:fmd)(SimpleName:collectionData))))))))(BreakStatement)(SwitchCase(QualifiedName:MDStatics.CATEGORY_ARRAY))(IfStatement(InfixExpression(SimpleName:o)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(IfStatement(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:o))(SimpleName:getClass)))(SimpleName:isArray)))(ReturnStatement(SimpleName:o)))(VariableDeclarationStatement(SimpleType(SimpleName:Class))(VariableDeclarationFragment(SimpleName:type)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:o))(SimpleName:getClass)))(SimpleName:getComponentType))))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:length)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Array))(SimpleName:getLength)(METHOD_INVOCATION_ARGUMENTS(SimpleName:o)))))(VariableDeclarationStatement(SimpleType(SimpleName:Object))(VariableDeclarationFragment(SimpleName:newArray)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Array))(SimpleName:newInstance)(METHOD_INVOCATION_ARGUMENTS(SimpleName:type)(SimpleName:length)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:System))(SimpleName:arraycopy)(METHOD_INVOCATION_ARGUMENTS(SimpleName:o)(NumberLiteral:0)(SimpleName:newArray)(NumberLiteral:0)(SimpleName:length))))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fmd))(SimpleName:isElementTypePC))(Block(ExpressionStatement(MethodInvocation(SimpleName:getDetachCopy)(METHOD_INVOCATION_ARGUMENTS(CastExpression(ArrayType(SimpleType(SimpleName:Object))(Dimension))(SimpleName:newArray))(SimpleName:length))))))(ReturnStatement(SimpleName:newArray))))(BreakStatement)(SwitchCase(QualifiedName:MDStatics.CATEGORY_MAP))(IfStatement(InfixExpression(SimpleName:o)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(VariableDeclarationStatement(SimpleType(SimpleName:VersantSCOMapFactory))(VariableDeclarationFragment(SimpleName:factory)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:scoFactoryRegistry))(SimpleName:getJDOGenieSCOMapFactory)(METHOD_INVOCATION_ARGUMENTS(SimpleName:fmd)))))(IfStatement(InstanceofExpression(SimpleName:o)(SimpleType(SimpleName:VersantSCOMap)))(Block(VariableDeclarationStatement(SimpleType(SimpleName:MapData))(VariableDeclarationFragment(SimpleName:mapData)(ClassInstanceCreation(SimpleType(SimpleName:MapData)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(ParenthesizedExpression(CastExpression(SimpleType(SimpleName:VersantSCOMap))(SimpleName:o))))(SimpleName:fillMapData)(METHOD_INVOCATION_ARGUMENTS(SimpleName:mapData))))(ExpressionStatement(Assignment(QualifiedName:mapData.entryCount)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(SimpleName:getDetachCopy)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:mapData.keys)(QualifiedName:mapData.entryCount)))))(ExpressionStatement(Assignment(QualifiedName:mapData.entryCount)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(SimpleName:getDetachCopy)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:mapData.values)(QualifiedName:mapData.entryCount)))))(ReturnStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:factory))(SimpleName:createSCOHashMap)(METHOD_INVOCATION_ARGUMENTS(SimpleName:pc)(SimpleName:pm)(SimpleName:detachedStateManager)(SimpleName:fmd)(SimpleName:mapData)))))(Block(VariableDeclarationStatement(SimpleType(SimpleName:MapEntries))(VariableDeclarationFragment(SimpleName:entries)(CastExpression(SimpleType(SimpleName:MapEntries))(SimpleName:o))))(VariableDeclarationStatement(SimpleType(SimpleName:MapData))(VariableDeclarationFragment(SimpleName:mapData)(ClassInstanceCreation(SimpleType(SimpleName:MapData)))))(ExpressionStatement(Assignment(QualifiedName:mapData.entryCount)(ASSIGNMENT_OPERATOR:=)(QualifiedName:entries.keys.length)))(VariableDeclarationStatement(ArrayType(SimpleType(SimpleName:Object))(Dimension))(VariableDeclarationFragment(SimpleName:keys)(ArrayCreation(ArrayType(SimpleType(SimpleName:Object))(Dimension(QualifiedName:mapData.entryCount))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:System))(SimpleName:arraycopy)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:entries.keys)(NumberLiteral:0)(SimpleName:keys)(NumberLiteral:0)(QualifiedName:mapData.entryCount))))(VariableDeclarationStatement(ArrayType(SimpleType(SimpleName:Object))(Dimension))(VariableDeclarationFragment(SimpleName:values)(ArrayCreation(ArrayType(SimpleType(SimpleName:Object))(Dimension(QualifiedName:mapData.entryCount))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:System))(SimpleName:arraycopy)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:entries.values)(NumberLiteral:0)(SimpleName:values)(NumberLiteral:0)(QualifiedName:mapData.entryCount))))(ExpressionStatement(Assignment(QualifiedName:mapData.keys)(ASSIGNMENT_OPERATOR:=)(SimpleName:keys)))(ExpressionStatement(Assignment(QualifiedName:mapData.values)(ASSIGNMENT_OPERATOR:=)(SimpleName:values)))(ExpressionStatement(Assignment(QualifiedName:mapData.entryCount)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(SimpleName:getDetachCopy)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:mapData.keys)(QualifiedName:mapData.entryCount)))))(ExpressionStatement(Assignment(QualifiedName:mapData.entryCount)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(SimpleName:getDetachCopy)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:mapData.values)(QualifiedName:mapData.entryCount)))))(ReturnStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:factory))(SimpleName:createSCOHashMap)(METHOD_INVOCATION_ARGUMENTS(SimpleName:pc)(SimpleName:pm)(SimpleName:detachedStateManager)(SimpleName:fmd)(SimpleName:mapData))))))))(BreakStatement)(SwitchCase(QualifiedName:MDStatics.CATEGORY_EXTERNALIZED))(IfStatement(InfixExpression(SimpleName:o)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:state))(SimpleName:isResolvedForClient)(METHOD_INVOCATION_ARGUMENTS(SimpleName:fieldNo)))(Block(ExpressionStatement(Assignment(SimpleName:o)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(QualifiedName:fmd.externalizer))(SimpleName:toExternalForm)(METHOD_INVOCATION_ARGUMENTS(SimpleName:pm)(SimpleName:o)))))))(ExpressionStatement(Assignment(SimpleName:o)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(QualifiedName:fmd.externalizer))(SimpleName:fromExternalForm)(METHOD_INVOCATION_ARGUMENTS(SimpleName:pm)(SimpleName:o)))))))(ReturnStatement(SimpleName:o))(SwitchCase(QualifiedName:MDStatics.CATEGORY_REF))(SwitchCase(QualifiedName:MDStatics.CATEGORY_POLYREF))(IfStatement(InfixExpression(SimpleName:o)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(IfStatement(QualifiedName:fmd.scoField)(Block(VariableDeclarationStatement(SimpleType(SimpleName:VersantSCOFactory))(VariableDeclarationFragment(SimpleName:factory)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:scoFactoryRegistry))(SimpleName:getJdoGenieSCOFactory)(METHOD_INVOCATION_ARGUMENTS(SimpleName:fmd)))))(ReturnStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:factory))(SimpleName:createSCO)(METHOD_INVOCATION_ARGUMENTS(SimpleName:pc)(SimpleName:pm)(SimpleName:detachedStateManager)(SimpleName:fmd)(SimpleName:o)))))(Block(ReturnStatement(MethodInvocation(SimpleName:getDetachCopy)(METHOD_INVOCATION_ARGUMENTS(SimpleName:o))))))))(BreakStatement))(ReturnStatement(SimpleName:o))))))