(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(MarkerAnnotation(SimpleName:Override))(Modifier:public)(SimpleType(SimpleName:Vector))(SimpleName:getAttSpectrumDataLast_n)(SingleVariableDeclaration(Modifier:final)(SimpleType(SimpleName:String))(SimpleName:attributeName))(SingleVariableDeclaration(Modifier:final)(PrimitiveType:int)(SimpleName:number))(SingleVariableDeclaration(Modifier:final)(PrimitiveType:int)(SimpleName:writable))(SimpleType(SimpleName:ArchivingException))(Block(VariableDeclarationStatement(Modifier:final)(SimpleType(SimpleName:IDBConnection))(VariableDeclarationFragment(SimpleName:dbConn)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ConnectionFactory))(SimpleName:getInstance)(METHOD_INVOCATION_ARGUMENTS(SimpleName:archType)))))(VariableDeclarationStatement(Modifier:final)(SimpleType(SimpleName:IAdtAptAttributes))(VariableDeclarationFragment(SimpleName:att)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:AdtAptAttributesFactory))(SimpleName:getInstance)(METHOD_INVOCATION_ARGUMENTS(SimpleName:archType)))))(VariableDeclarationStatement(Modifier:final)(SimpleType(SimpleName:IDbUtils))(VariableDeclarationFragment(SimpleName:dbUtils)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:DbUtilsFactory))(SimpleName:getInstance)(METHOD_INVOCATION_ARGUMENTS(SimpleName:archType)))))(IfStatement(InfixExpression(InfixExpression(InfixExpression(SimpleName:dbConn)(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(INFIX_EXPRESSION_OPERATOR:||)(InfixExpression(SimpleName:att)(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral)))(INFIX_EXPRESSION_OPERATOR:||)(InfixExpression(SimpleName:dbUtils)(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral)))(Block(ReturnStatement(NullLiteral))))(VariableDeclarationStatement(Modifier:final)(SimpleType(SimpleName:Vector))(VariableDeclarationFragment(SimpleName:tmpSpectrumVect)(ClassInstanceCreation(SimpleType(SimpleName:Vector)))))(VariableDeclarationStatement(Modifier:final)(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:data_type)(ArrayAccess(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:att))(SimpleName:getAtt_TFW_Data)(METHOD_INVOCATION_ARGUMENTS(SimpleName:attributeName)))(NumberLiteral:0))))(VariableDeclarationStatement(Modifier:final)(PrimitiveType:boolean)(VariableDeclarationFragment(SimpleName:roFields)(InfixExpression(InfixExpression(SimpleName:writable)(INFIX_EXPRESSION_OPERATOR:==)(QualifiedName:AttrWriteType._READ))(INFIX_EXPRESSION_OPERATOR:||)(InfixExpression(SimpleName:writable)(INFIX_EXPRESSION_OPERATOR:==)(QualifiedName:AttrWriteType._WRITE)))))(VariableDeclarationStatement(SimpleType(SimpleName:Connection))(VariableDeclarationFragment(SimpleName:conn)(NullLiteral)))(VariableDeclarationStatement(SimpleType(SimpleName:Statement))(VariableDeclarationFragment(SimpleName:stmt)(NullLiteral)))(VariableDeclarationStatement(SimpleType(SimpleName:ResultSet))(VariableDeclarationFragment(SimpleName:rset)(NullLiteral)))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:tableName)(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:dbConn))(SimpleName:getSchema))(INFIX_EXPRESSION_OPERATOR:+)(StringLiteral:<STR>)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:dbUtils))(SimpleName:getTableName)(METHOD_INVOCATION_ARGUMENTS(SimpleName:attributeName))))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:selectField0)))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:selectField1)))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:selectField2)))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:selectField3)(NullLiteral)))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:selectFields)))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:orderField)))(IfStatement(SimpleName:roFields)(Block(ExpressionStatement(Assignment(SimpleName:selectField0)(ASSIGNMENT_OPERATOR:=)(ArrayAccess(QualifiedName:ConfigConst.TAB_SPECTRUM_RO)(NumberLiteral:0))))(ExpressionStatement(Assignment(SimpleName:selectField1)(ASSIGNMENT_OPERATOR:=)(ArrayAccess(QualifiedName:ConfigConst.TAB_SPECTRUM_RO)(NumberLiteral:1))))(ExpressionStatement(Assignment(SimpleName:selectField2)(ASSIGNMENT_OPERATOR:=)(ArrayAccess(QualifiedName:ConfigConst.TAB_SPECTRUM_RO)(NumberLiteral:2)))))(Block(ExpressionStatement(Assignment(SimpleName:selectField0)(ASSIGNMENT_OPERATOR:=)(ArrayAccess(QualifiedName:ConfigConst.TAB_SPECTRUM_RW)(NumberLiteral:0))))(ExpressionStatement(Assignment(SimpleName:selectField1)(ASSIGNMENT_OPERATOR:=)(ArrayAccess(QualifiedName:ConfigConst.TAB_SPECTRUM_RW)(NumberLiteral:1))))(ExpressionStatement(Assignment(SimpleName:selectField2)(ASSIGNMENT_OPERATOR:=)(ArrayAccess(QualifiedName:ConfigConst.TAB_SPECTRUM_RW)(NumberLiteral:2))))(ExpressionStatement(Assignment(SimpleName:selectField3)(ASSIGNMENT_OPERATOR:=)(ArrayAccess(QualifiedName:ConfigConst.TAB_SPECTRUM_RW)(NumberLiteral:3))))))(ExpressionStatement(Assignment(SimpleName:selectFields)(ASSIGNMENT_OPERATOR:=)(InfixExpression(SimpleName:selectField0)(INFIX_EXPRESSION_OPERATOR:+)(StringLiteral:<STR>)(SimpleName:selectField1)(StringLiteral:<STR>)(SimpleName:selectField2))))(ExpressionStatement(Assignment(SimpleName:orderField)(ASSIGNMENT_OPERATOR:=)(ConditionalExpression(SimpleName:roFields)(ArrayAccess(QualifiedName:ConfigConst.TAB_SPECTRUM_RO)(NumberLiteral:0))(ArrayAccess(QualifiedName:ConfigConst.TAB_SPECTRUM_RW)(NumberLiteral:0)))))(VariableDeclarationStatement(Modifier:final)(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:whereClause)(InfixExpression(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(StringLiteral:<STR>))(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:number)(StringLiteral:<STR>)(SimpleName:orderField)(StringLiteral:<STR>))))(VariableDeclarationStatement(Modifier:final)(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:query1)(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:tableName)(StringLiteral:<STR>)(SimpleName:selectField0)(StringLiteral:<STR>))))(ExpressionStatement(Assignment(SimpleName:tableName)(ASSIGNMENT_OPERATOR:=)(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:dbConn))(SimpleName:getSchema))(INFIX_EXPRESSION_OPERATOR:+)(StringLiteral:<STR>)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:dbUtils))(SimpleName:getTableName)(METHOD_INVOCATION_ARGUMENTS(SimpleName:attributeName)))(StringLiteral:<STR>))))(IfStatement(SimpleName:roFields)(Block(ExpressionStatement(Assignment(SimpleName:selectField0)(ASSIGNMENT_OPERATOR:=)(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(StringLiteral:<STR>)(ArrayAccess(QualifiedName:ConfigConst.TAB_SPECTRUM_RO)(NumberLiteral:0)))))(ExpressionStatement(Assignment(SimpleName:selectField1)(ASSIGNMENT_OPERATOR:=)(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(StringLiteral:<STR>)(ArrayAccess(QualifiedName:ConfigConst.TAB_SPECTRUM_RO)(NumberLiteral:1)))))(ExpressionStatement(Assignment(SimpleName:selectField2)(ASSIGNMENT_OPERATOR:=)(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(StringLiteral:<STR>)(ArrayAccess(QualifiedName:ConfigConst.TAB_SPECTRUM_RO)(NumberLiteral:2))))))(Block(ExpressionStatement(Assignment(SimpleName:selectField0)(ASSIGNMENT_OPERATOR:=)(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(StringLiteral:<STR>)(ArrayAccess(QualifiedName:ConfigConst.TAB_SPECTRUM_RW)(NumberLiteral:0)))))(ExpressionStatement(Assignment(SimpleName:selectField1)(ASSIGNMENT_OPERATOR:=)(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(StringLiteral:<STR>)(ArrayAccess(QualifiedName:ConfigConst.TAB_SPECTRUM_RW)(NumberLiteral:1)))))(ExpressionStatement(Assignment(SimpleName:selectField2)(ASSIGNMENT_OPERATOR:=)(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(StringLiteral:<STR>)(ArrayAccess(QualifiedName:ConfigConst.TAB_SPECTRUM_RW)(NumberLiteral:2)))))(ExpressionStatement(Assignment(SimpleName:selectField3)(ASSIGNMENT_OPERATOR:=)(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(StringLiteral:<STR>)(ArrayAccess(QualifiedName:ConfigConst.TAB_SPECTRUM_RW)(NumberLiteral:3)))))))(ExpressionStatement(Assignment(SimpleName:selectFields)(ASSIGNMENT_OPERATOR:=)(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:dbUtils))(SimpleName:toDbTimeFieldString)(METHOD_INVOCATION_ARGUMENTS(SimpleName:selectField0)))(INFIX_EXPRESSION_OPERATOR:+)(StringLiteral:<STR>)(SimpleName:selectField1)(StringLiteral:<STR>)(SimpleName:selectField2))))(IfStatement(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(SimpleName:roFields))(Block(ExpressionStatement(Assignment(SimpleName:selectFields)(ASSIGNMENT_OPERATOR:+=)(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:selectField3))))))(VariableDeclarationStatement(Modifier:final)(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:query)(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:selectFields)(StringLiteral:<STR>)(SimpleName:query1)(StringLiteral:<STR>)(SimpleName:whereClause))))(TryStatement(Block(ExpressionStatement(Assignment(SimpleName:conn)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:dbConn))(SimpleName:getConnection))))(ExpressionStatement(Assignment(SimpleName:stmt)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:conn))(SimpleName:createStatement))))(ExpressionStatement(Assignment(SimpleName:rset)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:stmt))(SimpleName:executeQuery)(METHOD_INVOCATION_ARGUMENTS(SimpleName:query)))))(WhileStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:rset))(SimpleName:next))(Block(VariableDeclarationStatement(Modifier:final)(SimpleType(SimpleName:SpectrumEvent_RO))(VariableDeclarationFragment(SimpleName:spectrumEventRO)(ClassInstanceCreation(SimpleType(SimpleName:SpectrumEvent_RO)))))(VariableDeclarationStatement(Modifier:final)(SimpleType(SimpleName:SpectrumEvent_RW))(VariableDeclarationFragment(SimpleName:spectrumEventRW)(ClassInstanceCreation(SimpleType(SimpleName:SpectrumEvent_RW)))))(TryStatement(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:spectrumEventRO))(SimpleName:setTimeStamp)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:DateUtil))(SimpleName:stringToMilli)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:rset))(SimpleName:getString)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:1))))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:spectrumEventRW))(SimpleName:setTimeStamp)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:DateUtil))(SimpleName:stringToMilli)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:rset))(SimpleName:getString)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:1)))))))))(CatchClause(SingleVariableDeclaration(Modifier:final)(SimpleType(SimpleName:Exception))(SimpleName:e))(Block)))(VariableDeclarationStatement(Modifier:final)(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:dimX)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:rset))(SimpleName:getInt)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:2)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:spectrumEventRO))(SimpleName:setDim_x)(METHOD_INVOCATION_ARGUMENTS(SimpleName:dimX))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:spectrumEventRW))(SimpleName:setDim_x)(METHOD_INVOCATION_ARGUMENTS(SimpleName:dimX))))(VariableDeclarationStatement(SimpleType(SimpleName:Clob))(VariableDeclarationFragment(SimpleName:readClob)(NullLiteral)))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:readString)(NullLiteral)))(ExpressionStatement(Assignment(SimpleName:readClob)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:rset))(SimpleName:getClob)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:3)))))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:rset))(SimpleName:wasNull))(Block(ExpressionStatement(Assignment(SimpleName:readString)(ASSIGNMENT_OPERATOR:=)(StringLiteral:<STR>))))(Block(ExpressionStatement(Assignment(SimpleName:readString)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:readClob))(SimpleName:getSubString)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:1)(CastExpression(PrimitiveType:int)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:readClob))(SimpleName:length)))))))))(VariableDeclarationStatement(SimpleType(SimpleName:Clob))(VariableDeclarationFragment(SimpleName:writeClob)(NullLiteral)))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:writeString)(NullLiteral)))(IfStatement(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(SimpleName:roFields))(Block(ExpressionStatement(Assignment(SimpleName:writeClob)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:rset))(SimpleName:getClob)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:4)))))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:rset))(SimpleName:wasNull))(Block(ExpressionStatement(Assignment(SimpleName:writeString)(ASSIGNMENT_OPERATOR:=)(StringLiteral:<STR>))))(Block(ExpressionStatement(Assignment(SimpleName:writeString)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:writeClob))(SimpleName:getSubString)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:1)(CastExpression(PrimitiveType:int)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:writeClob))(SimpleName:length)))))))))))(VariableDeclarationStatement(Modifier:final)(SimpleType(SimpleName:Object))(VariableDeclarationFragment(SimpleName:value)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:dbUtils))(SimpleName:getSpectrumValue)(METHOD_INVOCATION_ARGUMENTS(SimpleName:readString)(SimpleName:writeString)(SimpleName:data_type)))))(IfStatement(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(SimpleName:roFields))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:spectrumEventRW))(SimpleName:setValue)(METHOD_INVOCATION_ARGUMENTS(SimpleName:value))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:tmpSpectrumVect))(SimpleName:add)(METHOD_INVOCATION_ARGUMENTS(SimpleName:spectrumEventRW)))))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:spectrumEventRO))(SimpleName:setValue)(METHOD_INVOCATION_ARGUMENTS(SimpleName:value))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:tmpSpectrumVect))(SimpleName:add)(METHOD_INVOCATION_ARGUMENTS(SimpleName:spectrumEventRO)))))))))(CatchClause(SingleVariableDeclaration(Modifier:final)(SimpleType(SimpleName:SQLException))(SimpleName:e))(Block(ThrowStatement(ClassInstanceCreation(SimpleType(SimpleName:ArchivingException))(SimpleName:e)))))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ConnectionCommands))(SimpleName:close)(METHOD_INVOCATION_ARGUMENTS(SimpleName:rset))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ConnectionCommands))(SimpleName:close)(METHOD_INVOCATION_ARGUMENTS(SimpleName:stmt))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:dbConn))(SimpleName:closeConnection)(METHOD_INVOCATION_ARGUMENTS(SimpleName:conn))))))(ReturnStatement(SimpleName:tmpSpectrumVect))))))