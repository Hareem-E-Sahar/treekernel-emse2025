(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(SimpleName:StreamDecoder)(SingleVariableDeclaration(SimpleType(SimpleName:InputStream))(SimpleName:in))(SingleVariableDeclaration(SimpleType(SimpleName:Object))(SimpleName:lock))(SingleVariableDeclaration(SimpleType(SimpleName:CharsetDecoder))(SimpleName:dec))(Block(SuperConstructorInvocation(SimpleName:lock))(ExpressionStatement(Assignment(FieldAccess(ThisExpression)(SimpleName:cs))(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:dec))(SimpleName:charset))))(ExpressionStatement(Assignment(FieldAccess(ThisExpression)(SimpleName:decoder))(ASSIGNMENT_OPERATOR:=)(SimpleName:dec)))(IfStatement(InfixExpression(BooleanLiteral:false)(INFIX_EXPRESSION_OPERATOR:&&)(InstanceofExpression(SimpleName:in)(SimpleType(SimpleName:FileInputStream))))(Block(ExpressionStatement(Assignment(SimpleName:ch)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(SimpleName:getChannel)(METHOD_INVOCATION_ARGUMENTS(CastExpression(SimpleType(SimpleName:FileInputStream))(SimpleName:in))))))(IfStatement(InfixExpression(SimpleName:ch)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(ExpressionStatement(Assignment(SimpleName:bb)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ByteBuffer))(SimpleName:allocateDirect)(METHOD_INVOCATION_ARGUMENTS(SimpleName:DEFAULT_BYTE_BUFFER_SIZE))))))))(IfStatement(InfixExpression(SimpleName:ch)(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(Block(ExpressionStatement(Assignment(FieldAccess(ThisExpression)(SimpleName:in))(ASSIGNMENT_OPERATOR:=)(SimpleName:in)))(ExpressionStatement(Assignment(FieldAccess(ThisExpression)(SimpleName:ch))(ASSIGNMENT_OPERATOR:=)(NullLiteral)))(ExpressionStatement(Assignment(SimpleName:bb)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ByteBuffer))(SimpleName:allocate)(METHOD_INVOCATION_ARGUMENTS(SimpleName:DEFAULT_BYTE_BUFFER_SIZE)))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:bb))(SimpleName:flip)))))))