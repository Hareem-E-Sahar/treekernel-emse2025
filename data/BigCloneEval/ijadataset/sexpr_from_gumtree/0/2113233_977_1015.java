(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:public)(PrimitiveType:void)(SimpleName:exportZipFolderStructure)(SingleVariableDeclaration(SimpleType(SimpleName:ActionMapping))(SimpleName:mapping))(SingleVariableDeclaration(SimpleType(SimpleName:ActionForm))(SimpleName:form))(SingleVariableDeclaration(SimpleType(SimpleName:HttpServletRequest))(SimpleName:request))(SingleVariableDeclaration(SimpleType(SimpleName:HttpServletResponse))(SimpleName:response))(SimpleType(SimpleName:ApplicationException))(Block(VariableDeclarationStatement(SimpleType(SimpleName:Connection))(VariableDeclarationFragment(SimpleName:conn)(NullLiteral)))(VariableDeclarationStatement(SimpleType(SimpleName:SessionContainer))(VariableDeclarationFragment(SimpleName:sessionContainer)(NullLiteral)))(VariableDeclarationStatement(SimpleType(SimpleName:ArrayList))(VariableDeclarationFragment(SimpleName:resultList)(ClassInstanceCreation(SimpleType(SimpleName:ArrayList)))))(TryStatement(Block(ExpressionStatement(Assignment(SimpleName:conn)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(ThisExpression))(SimpleName:getConnection)(METHOD_INVOCATION_ARGUMENTS(SimpleName:request)))))(ExpressionStatement(Assignment(SimpleName:sessionContainer)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(ThisExpression))(SimpleName:getSessionContainer)(METHOD_INVOCATION_ARGUMENTS(SimpleName:request)))))(VariableDeclarationStatement(SimpleType(SimpleName:MaintFolderStructureLoaderForm))(VariableDeclarationFragment(SimpleName:actionForm)(CastExpression(SimpleType(SimpleName:MaintFolderStructureLoaderForm))(SimpleName:form))))(ExpressionStatement(Assignment(FieldAccess(ThisExpression)(SimpleName:docRetrievalManager))(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(SimpleType(SimpleName:DocumentRetrievalManager))(SimpleName:sessionContainer)(SimpleName:conn))))(ExpressionStatement(Assignment(FieldAccess(ThisExpression)(SimpleName:docOperationManager))(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(SimpleType(SimpleName:DocumentOperationManager))(SimpleName:sessionContainer)(SimpleName:conn))))(VariableDeclarationStatement(SimpleType(SimpleName:RootRetrievalManager))(VariableDeclarationFragment(SimpleName:rootRetrievalManager)(ClassInstanceCreation(SimpleType(SimpleName:RootRetrievalManager))(SimpleName:sessionContainer)(SimpleName:conn))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:tempConvertedName)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:String))(SimpleName:valueOf)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:System))(SimpleName:currentTimeMillis))))))(VariableDeclarationStatement(SimpleType(SimpleName:StringBuffer))(VariableDeclarationFragment(SimpleName:tempZipFile)(ClassInstanceCreation(SimpleType(SimpleName:StringBuffer)))))(VariableDeclarationStatement(SimpleType(SimpleName:DmsLocMaster))(VariableDeclarationFragment(SimpleName:locMaster)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:rootRetrievalManager))(SimpleName:getTargetLocMasterByLocID)(METHOD_INVOCATION_ARGUMENTS(ClassInstanceCreation(SimpleType(SimpleName:Integer))(NumberLiteral:1))))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:locMasterPath)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:locMaster))(SimpleName:getLocPath))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:log))(SimpleName:debug)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:locMasterPath)))))(ExpressionStatement(Assignment(SimpleName:tempZipFile)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:tempZipFile))(SimpleName:append)(METHOD_INVOCATION_ARGUMENTS(SimpleName:locMasterPath))))(SimpleName:append)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))(SimpleName:append)(METHOD_INVOCATION_ARGUMENTS(SimpleName:tempConvertedName))))(SimpleName:append)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))))(VariableDeclarationStatement(SimpleType(QualifiedName:org.apache.tools.zip.ZipOutputStream))(VariableDeclarationFragment(SimpleName:out)(ClassInstanceCreation(SimpleType(SimpleName:ZipOutputStream))(ClassInstanceCreation(SimpleType(SimpleName:FileOutputStream))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:tempZipFile))(SimpleName:toString))))))(VariableDeclarationStatement(SimpleType(SimpleName:Integer))(VariableDeclarationFragment(SimpleName:rootID)(NullLiteral)))(VariableDeclarationStatement(SimpleType(SimpleName:Integer))(VariableDeclarationFragment(SimpleName:parentID)(NullLiteral)))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(QualifiedName:GlobalConstant.PRIORITY_LOW))(SimpleName:equals)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:actionForm))(SimpleName:getZipExportFolderType))))(Block(ExpressionStatement(Assignment(SimpleName:parentID)(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(SimpleType(SimpleName:Integer))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:actionForm))(SimpleName:getZipExpParentID)))))(ExpressionStatement(Assignment(SimpleName:rootID)(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(SimpleType(SimpleName:Integer))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:actionForm))(SimpleName:getZipExpRootID))))))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(QualifiedName:GlobalConstant.PRIORITY_MEDIUM))(SimpleName:equals)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:actionForm))(SimpleName:getZipExportFolderType))))(Block(ExpressionStatement(Assignment(SimpleName:parentID)(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(SimpleType(SimpleName:Integer))(NumberLiteral:0)))))))(IfStatement(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Utility))(SimpleName:isEmpty)(METHOD_INVOCATION_ARGUMENTS(SimpleName:rootID))))(Block(VariableDeclarationStatement(ArrayType(SimpleType(SimpleName:String))(Dimension))(VariableDeclarationFragment(SimpleName:zipSourcePath)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:TextUtility))(SimpleName:splitString)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:actionForm))(SimpleName:getZipSourcePath))(StringLiteral:<STR>)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:out))(SimpleName:putNextEntry)(METHOD_INVOCATION_ARGUMENTS(ClassInstanceCreation(SimpleType(SimpleName:ZipEntry))(StringLiteral:<STR>)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(ThisExpression))(SimpleName:Zip)(METHOD_INVOCATION_ARGUMENTS(SimpleName:parentID)(SimpleName:rootID)(SimpleName:request)(SimpleName:out)(ArrayAccess(SimpleName:zipSourcePath)(InfixExpression(QualifiedName:zipSourcePath.length)(INFIX_EXPRESSION_OPERATOR:-)(NumberLiteral:1)))))))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(ThisExpression))(SimpleName:Zip)(METHOD_INVOCATION_ARGUMENTS(SimpleName:parentID)(SimpleName:rootID)(SimpleName:request)(SimpleName:out)(StringLiteral:<STR>))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:request))(SimpleName:getSession)))(SimpleName:setAttribute)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:tempZipFile))(SimpleName:toString)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:out))(SimpleName:close))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:Exception))(SimpleName:e))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:log))(SimpleName:error)(METHOD_INVOCATION_ARGUMENTS(SimpleName:e)(SimpleName:e)))))))))))