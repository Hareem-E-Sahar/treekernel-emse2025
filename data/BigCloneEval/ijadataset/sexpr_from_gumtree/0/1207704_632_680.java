(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:public)(PrimitiveType:void)(SimpleName:valueChanged)(SingleVariableDeclaration(SimpleType(SimpleName:ListSelectionEvent))(SimpleName:e))(Block(IfStatement(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:e))(SimpleName:getValueIsAdjusting)))(Block(VariableDeclarationStatement(SimpleType(SimpleName:VFSJFileChooser))(VariableDeclarationFragment(SimpleName:chooser)(MethodInvocation(SimpleName:getFileChooser))))(VariableDeclarationStatement(SimpleType(SimpleName:VFSFileSystemView))(VariableDeclarationFragment(SimpleName:fsv)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:chooser))(SimpleName:getFileSystemView))))(VariableDeclarationStatement(SimpleType(SimpleName:JList))(VariableDeclarationFragment(SimpleName:list)(CastExpression(SimpleType(SimpleName:JList))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:e))(SimpleName:getSource)))))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:chooser))(SimpleName:isMultiSelectionEnabled))(Block(VariableDeclarationStatement(ArrayType(SimpleType(SimpleName:FileObject))(Dimension))(VariableDeclarationFragment(SimpleName:files)(NullLiteral)))(VariableDeclarationStatement(ArrayType(SimpleType(SimpleName:Object))(Dimension))(VariableDeclarationFragment(SimpleName:objects)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:list))(SimpleName:getSelectedValues))))(IfStatement(InfixExpression(SimpleName:objects)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(IfStatement(InfixExpression(ParenthesizedExpression(InfixExpression(QualifiedName:objects.length)(INFIX_EXPRESSION_OPERATOR:==)(NumberLiteral:1)))(INFIX_EXPRESSION_OPERATOR:&&)(ParenthesizedExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:VFSUtils))(SimpleName:isDirectory)(METHOD_INVOCATION_ARGUMENTS(CastExpression(SimpleType(SimpleName:FileObject))(ArrayAccess(SimpleName:objects)(NumberLiteral:0))))))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:chooser))(SimpleName:isTraversable)(METHOD_INVOCATION_ARGUMENTS(ParenthesizedExpression(CastExpression(SimpleType(SimpleName:FileObject))(ArrayAccess(SimpleName:objects)(NumberLiteral:0))))))(ParenthesizedExpression(InfixExpression(ParenthesizedExpression(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:chooser))(SimpleName:getFileSelectionMode))(INFIX_EXPRESSION_OPERATOR:==)(QualifiedName:chooser.FILES_ONLY)))(INFIX_EXPRESSION_OPERATOR:||)(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fsv))(SimpleName:isFileSystem)(METHOD_INVOCATION_ARGUMENTS(ParenthesizedExpression(CastExpression(SimpleType(SimpleName:FileObject))(ArrayAccess(SimpleName:objects)(NumberLiteral:0))))))))))(Block(ExpressionStatement(MethodInvocation(SimpleName:setDirectorySelected)(METHOD_INVOCATION_ARGUMENTS(BooleanLiteral:true))))(ExpressionStatement(MethodInvocation(SimpleName:setDirectory)(METHOD_INVOCATION_ARGUMENTS(ParenthesizedExpression(CastExpression(SimpleType(SimpleName:FileObject))(ArrayAccess(SimpleName:objects)(NumberLiteral:0))))))))(Block(ExpressionStatement(Assignment(SimpleName:files)(ASSIGNMENT_OPERATOR:=)(ArrayCreation(ArrayType(SimpleType(SimpleName:FileObject))(Dimension(QualifiedName:objects.length))))))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:j)(NumberLiteral:0)))(ForStatement(VariableDeclarationExpression(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:i)(NumberLiteral:0)))(InfixExpression(SimpleName:i)(INFIX_EXPRESSION_OPERATOR:<)(QualifiedName:objects.length))(PostfixExpression(SimpleName:i)(POSTFIX_EXPRESSION_OPERATOR:++))(Block(VariableDeclarationStatement(SimpleType(SimpleName:FileObject))(VariableDeclarationFragment(SimpleName:f)(CastExpression(SimpleType(SimpleName:FileObject))(ArrayAccess(SimpleName:objects)(SimpleName:i)))))(VariableDeclarationStatement(PrimitiveType:boolean)(VariableDeclarationFragment(SimpleName:isDir)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:VFSUtils))(SimpleName:isDirectory)(METHOD_INVOCATION_ARGUMENTS(SimpleName:f)))))(VariableDeclarationStatement(PrimitiveType:boolean)(VariableDeclarationFragment(SimpleName:isFile)(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(SimpleName:isDir))))(IfStatement(InfixExpression(ParenthesizedExpression(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:chooser))(SimpleName:isFileSelectionEnabled))(INFIX_EXPRESSION_OPERATOR:&&)(SimpleName:isFile)))(INFIX_EXPRESSION_OPERATOR:||)(ParenthesizedExpression(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:chooser))(SimpleName:isDirectorySelectionEnabled))(INFIX_EXPRESSION_OPERATOR:&&)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fsv))(SimpleName:isFileSystem)(METHOD_INVOCATION_ARGUMENTS(SimpleName:f)))(SimpleName:isDir))))(Block(ExpressionStatement(Assignment(ArrayAccess(SimpleName:files)(PostfixExpression(SimpleName:j)(POSTFIX_EXPRESSION_OPERATOR:++)))(ASSIGNMENT_OPERATOR:=)(SimpleName:f)))))))(IfStatement(InfixExpression(SimpleName:j)(INFIX_EXPRESSION_OPERATOR:==)(NumberLiteral:0))(Block(ExpressionStatement(Assignment(SimpleName:files)(ASSIGNMENT_OPERATOR:=)(NullLiteral))))(IfStatement(InfixExpression(SimpleName:j)(INFIX_EXPRESSION_OPERATOR:<)(QualifiedName:objects.length))(Block(VariableDeclarationStatement(ArrayType(SimpleType(SimpleName:FileObject))(Dimension))(VariableDeclarationFragment(SimpleName:tmpFiles)(ArrayCreation(ArrayType(SimpleType(SimpleName:FileObject))(Dimension(SimpleName:j))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:System))(SimpleName:arraycopy)(METHOD_INVOCATION_ARGUMENTS(SimpleName:files)(NumberLiteral:0)(SimpleName:tmpFiles)(NumberLiteral:0)(SimpleName:j))))(ExpressionStatement(Assignment(SimpleName:files)(ASSIGNMENT_OPERATOR:=)(SimpleName:tmpFiles))))))(ExpressionStatement(MethodInvocation(SimpleName:setDirectorySelected)(METHOD_INVOCATION_ARGUMENTS(BooleanLiteral:false))))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:chooser))(SimpleName:setSelectedFiles)(METHOD_INVOCATION_ARGUMENTS(SimpleName:files)))))(Block(VariableDeclarationStatement(SimpleType(SimpleName:FileObject))(VariableDeclarationFragment(SimpleName:file)(CastExpression(SimpleType(SimpleName:FileObject))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:list))(SimpleName:getSelectedValue)))))(IfStatement(InfixExpression(ParenthesizedExpression(InfixExpression(SimpleName:file)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral)))(INFIX_EXPRESSION_OPERATOR:&&)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:VFSUtils))(SimpleName:isDirectory)(METHOD_INVOCATION_ARGUMENTS(SimpleName:file)))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:chooser))(SimpleName:isTraversable)(METHOD_INVOCATION_ARGUMENTS(SimpleName:file)))(ParenthesizedExpression(InfixExpression(ParenthesizedExpression(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:chooser))(SimpleName:getFileSelectionMode))(INFIX_EXPRESSION_OPERATOR:==)(QualifiedName:chooser.FILES_ONLY)))(INFIX_EXPRESSION_OPERATOR:||)(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fsv))(SimpleName:isFileSystem)(METHOD_INVOCATION_ARGUMENTS(SimpleName:file)))))))(Block(ExpressionStatement(MethodInvocation(SimpleName:setDirectorySelected)(METHOD_INVOCATION_ARGUMENTS(BooleanLiteral:true))))(ExpressionStatement(MethodInvocation(SimpleName:setDirectory)(METHOD_INVOCATION_ARGUMENTS(SimpleName:file))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:chooser))(SimpleName:setSelectedFile)(METHOD_INVOCATION_ARGUMENTS(NullLiteral)))))(Block(ExpressionStatement(MethodInvocation(SimpleName:setDirectorySelected)(METHOD_INVOCATION_ARGUMENTS(BooleanLiteral:false))))(IfStatement(InfixExpression(SimpleName:file)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:chooser))(SimpleName:setSelectedFile)(METHOD_INVOCATION_ARGUMENTS(SimpleName:file))))))))))))))))