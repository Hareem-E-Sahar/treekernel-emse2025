(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:private)(SimpleType(SimpleName:ImageStack))(SimpleName:getStack)(Block(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:imp))(SimpleName:isHyperStack))(Block(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:slices)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:imp))(SimpleName:getNSlices))))(VariableDeclarationStatement(SimpleType(SimpleName:ImageStack))(VariableDeclarationFragment(SimpleName:stack)(ClassInstanceCreation(SimpleType(SimpleName:ImageStack))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:imp))(SimpleName:getWidth))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:imp))(SimpleName:getHeight)))))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:c)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:imp))(SimpleName:getChannel)))(VariableDeclarationFragment(SimpleName:z)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:imp))(SimpleName:getSlice)))(VariableDeclarationFragment(SimpleName:t)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:imp))(SimpleName:getFrame))))(ForStatement(VariableDeclarationExpression(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:i)(NumberLiteral:1)))(InfixExpression(SimpleName:i)(INFIX_EXPRESSION_OPERATOR:<=)(SimpleName:slices))(PostfixExpression(SimpleName:i)(POSTFIX_EXPRESSION_OPERATOR:++))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:imp))(SimpleName:setPositionWithoutUpdate)(METHOD_INVOCATION_ARGUMENTS(SimpleName:c)(SimpleName:i)(SimpleName:t))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:stack))(SimpleName:addSlice)(METHOD_INVOCATION_ARGUMENTS(NullLiteral)(ClassInstanceCreation(SimpleType(SimpleName:ColorProcessor))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:imp))(SimpleName:getImage))))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:imp))(SimpleName:setPosition)(METHOD_INVOCATION_ARGUMENTS(SimpleName:c)(SimpleName:z)(SimpleName:t))))(ExpressionStatement(Assignment(SimpleName:currentChannel)(ASSIGNMENT_OPERATOR:=)(SimpleName:c)))(ExpressionStatement(Assignment(SimpleName:currentFrame)(ASSIGNMENT_OPERATOR:=)(SimpleName:t)))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:imp))(SimpleName:isComposite))(ExpressionStatement(Assignment(SimpleName:currentMode)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(ParenthesizedExpression(CastExpression(SimpleType(SimpleName:CompositeImage))(SimpleName:imp))))(SimpleName:getMode)))))(ReturnStatement(SimpleName:stack)))(ReturnStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:imp))(SimpleName:getStack))))))))