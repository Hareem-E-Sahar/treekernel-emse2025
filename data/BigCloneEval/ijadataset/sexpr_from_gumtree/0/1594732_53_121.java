(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:public)(PrimitiveType:int)(SimpleName:doEndTag)(SimpleType(SimpleName:JspException))(Block(VariableDeclarationStatement(SimpleType(SimpleName:DSTempRefManageTag))(VariableDeclarationFragment(SimpleName:papa)(CastExpression(SimpleType(SimpleName:DSTempRefManageTag))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:TagSupport))(SimpleName:findAncestorWithClass)(METHOD_INVOCATION_ARGUMENTS(ThisExpression)(TypeLiteral(SimpleType(SimpleName:DSTempRefManageTag))))))))(IfStatement(InfixExpression(SimpleName:papa)(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(Block(ThrowStatement(ClassInstanceCreation(SimpleType(SimpleName:JspException))(StringLiteral:<STR>)))))(VariableDeclarationStatement(SimpleType(SimpleName:Channel))(VariableDeclarationFragment(SimpleName:channel)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:papa))(SimpleName:getChannel))))(ExpressionStatement(Assignment(SimpleName:channelPath)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:papa))(SimpleName:getChannelPath))))(VariableDeclarationStatement(SimpleType(SimpleName:Template))(VariableDeclarationFragment(SimpleName:template)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Template))(SimpleName:getInstance)(METHOD_INVOCATION_ARGUMENTS(SimpleName:templateId)))))(IfStatement(InfixExpression(SimpleName:template)(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:log))(SimpleName:error)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:templateId)(StringLiteral:<STR>)))))(ReturnStatement(SimpleName:SKIP_PAGE))))(VariableDeclarationStatement(SimpleType(SimpleName:StringTokenizer))(VariableDeclarationFragment(SimpleName:tokens)(ClassInstanceCreation(SimpleType(SimpleName:StringTokenizer))(SimpleName:params)(StringLiteral:<STR>))))(VariableDeclarationStatement(SimpleType(SimpleName:StringBuffer))(VariableDeclarationFragment(SimpleName:newParams)(ClassInstanceCreation(SimpleType(SimpleName:StringBuffer)))))(WhileStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:tokens))(SimpleName:hasMoreTokens))(Block(IfStatement(InfixExpression(FieldAccess(ThisExpression)(SimpleName:dsTagMap))(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(Block(ExpressionStatement(Assignment(FieldAccess(ThisExpression)(SimpleName:dsTagMap))(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(SimpleType(SimpleName:HashMap))(NumberLiteral:2))))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:newParam)(MethodInvocation(SimpleName:paramToTag)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:tokens))(SimpleName:nextToken))))))(IfStatement(InfixExpression(SimpleName:newParam)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:newParams))(SimpleName:append)(METHOD_INVOCATION_ARGUMENTS(SimpleName:newParam))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:newParams))(SimpleName:append)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))))))(IfStatement(InfixExpression(InfixExpression(FieldAccess(ThisExpression)(SimpleName:dsTagMap))(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(INFIX_EXPRESSION_OPERATOR:||)(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(FieldAccess(ThisExpression)(SimpleName:dsTagMap)))(SimpleName:size))(INFIX_EXPRESSION_OPERATOR:==)(NumberLiteral:0)))(Block(ReturnStatement(SimpleName:SKIP_PAGE))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:content)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:template))(SimpleName:getDefineFileContent))))(IfStatement(InfixExpression(SimpleName:content)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:templateRes)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:template))(SimpleName:getResDirPath))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:channelRes)(NullLiteral)))(TryStatement(Block(ExpressionStatement(Assignment(SimpleName:channelRes)(ASSIGNMENT_OPERATOR:=)(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:channel))(SimpleName:getDefineFilePath))(INFIX_EXPRESSION_OPERATOR:+)(StringLiteral:<STR>)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:template))(SimpleName:getAsciiName))))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:Exception))(SimpleName:ex))(Block)))(TryStatement(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:FileOperation))(SimpleName:copyDir)(METHOD_INVOCATION_ARGUMENTS(SimpleName:templateRes)(SimpleName:channelRes)))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:Exception))(SimpleName:e))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:log))(SimpleName:error)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:templateRes)(StringLiteral:<STR>)(SimpleName:channelRes)(StringLiteral:<STR>))(SimpleName:e)))))))(ExpressionStatement(Assignment(SimpleName:content)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(SimpleName:replaceAllTags)(METHOD_INVOCATION_ARGUMENTS(SimpleName:content)(FieldAccess(ThisExpression)(SimpleName:dsTagMap))))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:siteAsciiName)(NullLiteral)))(TryStatement(Block(ExpressionStatement(Assignment(SimpleName:siteAsciiName)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:channel))(SimpleName:getSiteAsciiName)))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:Exception))(SimpleName:ex1))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:log))(SimpleName:error)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(SimpleName:ex1)))))))(IfStatement(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(SimpleName:isStatic))(Block(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:contentPath)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(ClassInstanceCreation(SimpleType(SimpleName:StringBuffer))(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ConfigInfo))(SimpleName:getInstance)))(SimpleName:getInfoplatDataDir))))(SimpleName:append)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:File.separator))))(SimpleName:append)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))(SimpleName:append)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:File.separator))))(SimpleName:append)(METHOD_INVOCATION_ARGUMENTS(SimpleName:siteAsciiName))))(SimpleName:append)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:File.separator))))(SimpleName:append)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:channel))(SimpleName:getAsciiName)))))(SimpleName:append)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:File.separator))))(SimpleName:append)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))(SimpleName:append)(METHOD_INVOCATION_ARGUMENTS(FieldAccess(ThisExpression)(SimpleName:dstrId)))))(SimpleName:append)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))(SimpleName:toString))))(TryStatement(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Function))(SimpleName:writeTextFile)(METHOD_INVOCATION_ARGUMENTS(SimpleName:content)(SimpleName:contentPath)(BooleanLiteral:true)))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:Exception))(SimpleName:e))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:log))(SimpleName:error)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(SimpleName:e)))))))(ExpressionStatement(Assignment(SimpleName:content)(ASSIGNMENT_OPERATOR:=)(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:DSTR_PREFIX)(StringLiteral:<STR>)(FieldAccess(ThisExpression)(SimpleName:dstrId))(StringLiteral:<STR>))))))(VariableDeclarationStatement(SimpleType(SimpleName:JspWriter))(VariableDeclarationFragment(SimpleName:out)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:pageContext))(SimpleName:getOut))))(TryStatement(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:out))(SimpleName:print)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:content))(SimpleName:toString))))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:IOException))(SimpleName:ioexception))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:log))(SimpleName:error)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))))))))(IfStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:newParams))(SimpleName:toString)))(SimpleName:trim))(INFIX_EXPRESSION_OPERATOR:!=)(StringLiteral:<STR>))(Block(VariableDeclarationStatement(SimpleType(SimpleName:HashMap))(VariableDeclarationFragment(SimpleName:dstrMap)(CastExpression(SimpleType(SimpleName:HashMap))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:pageContext))(SimpleName:getAttribute)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:DSTempRefManageTag.IP_DSTRMAP_KEYWORD))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:dstrMap))(SimpleName:put)(METHOD_INVOCATION_ARGUMENTS(FieldAccess(ThisExpression)(SimpleName:dstrId))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:newParams))(SimpleName:toString)))))))(ReturnStatement(SimpleName:EVAL_PAGE))))))