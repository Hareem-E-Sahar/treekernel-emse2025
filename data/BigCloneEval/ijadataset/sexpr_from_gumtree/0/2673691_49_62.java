(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:public)(Modifier:static)(PrimitiveType:void)(SimpleName:copy)(SingleVariableDeclaration(Modifier:final)(SimpleType(SimpleName:InputStream))(SimpleName:input))(SingleVariableDeclaration(Modifier:final)(SimpleType(SimpleName:OutputStream))(SimpleName:output))(SingleVariableDeclaration(Modifier:final)(PrimitiveType:long)(SimpleName:dataLength))(SingleVariableDeclaration(Modifier:final)(ArrayType(PrimitiveType:byte)(Dimension))(SimpleName:copyBuffer))(SimpleType(SimpleName:IOException))(Block(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:readBytes)(NumberLiteral:0)))(VariableDeclarationStatement(PrimitiveType:long)(VariableDeclarationFragment(SimpleName:dataLeftToWrite)(SimpleName:dataLength)))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:copyCount)))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:bufferSize)(QualifiedName:copyBuffer.length)))(WhileStatement(InfixExpression(SimpleName:dataLeftToWrite)(INFIX_EXPRESSION_OPERATOR:>)(NumberLiteral:0))(Block(ExpressionStatement(Assignment(SimpleName:copyCount)(ASSIGNMENT_OPERATOR:=)(ConditionalExpression(ParenthesizedExpression(InfixExpression(SimpleName:dataLeftToWrite)(INFIX_EXPRESSION_OPERATOR:>=)(SimpleName:bufferSize)))(SimpleName:bufferSize)(CastExpression(PrimitiveType:int)(SimpleName:dataLeftToWrite)))))(ExpressionStatement(Assignment(SimpleName:readBytes)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:input))(SimpleName:read)(METHOD_INVOCATION_ARGUMENTS(SimpleName:copyBuffer)(NumberLiteral:0)(SimpleName:copyCount)))))(IfStatement(InfixExpression(SimpleName:readBytes)(INFIX_EXPRESSION_OPERATOR:<)(NumberLiteral:0))(ThrowStatement(ClassInstanceCreation(SimpleType(SimpleName:IOException))(StringLiteral:<STR>))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:output))(SimpleName:write)(METHOD_INVOCATION_ARGUMENTS(SimpleName:copyBuffer)(NumberLiteral:0)(SimpleName:readBytes))))(ExpressionStatement(Assignment(SimpleName:dataLeftToWrite)(ASSIGNMENT_OPERATOR:-=)(SimpleName:readBytes)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:output))(SimpleName:flush)))))))