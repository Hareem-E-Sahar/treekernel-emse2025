(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:public)(SimpleType(SimpleName:String))(SimpleName:promptFile)(SingleVariableDeclaration(SimpleType(SimpleName:String))(SimpleName:defaultFilename))(SingleVariableDeclaration(ArrayType(SimpleType(SimpleName:String))(Dimension)(Dimension))(SimpleName:suffices))(SingleVariableDeclaration(PrimitiveType:boolean)(SimpleName:saveMode))(SingleVariableDeclaration(PrimitiveType:boolean)(SimpleName:directoryMode))(Block(VariableDeclarationStatement(SimpleType(SimpleName:JFileChooser))(VariableDeclarationFragment(SimpleName:fc)(ClassInstanceCreation(SimpleType(SimpleName:JFileChooser)))))(IfStatement(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(SimpleName:directoryMode))(Block(VariableDeclarationStatement(Modifier:final)(PrimitiveType:boolean)(VariableDeclarationFragment(SimpleName:save)(SimpleName:saveMode)))(IfStatement(InfixExpression(SimpleName:suffices)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(ForStatement(VariableDeclarationExpression(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:i)(NumberLiteral:0)))(InfixExpression(SimpleName:i)(INFIX_EXPRESSION_OPERATOR:<)(QualifiedName:suffices.length))(PostfixExpression(SimpleName:i)(POSTFIX_EXPRESSION_OPERATOR:++))(Block(VariableDeclarationStatement(Modifier:final)(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:suffix)(ArrayAccess(ArrayAccess(SimpleName:suffices)(SimpleName:i))(NumberLiteral:0))))(VariableDeclarationStatement(Modifier:final)(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:description)(ArrayAccess(ArrayAccess(SimpleName:suffices)(SimpleName:i))(NumberLiteral:1))))(VariableDeclarationStatement(SimpleType(SimpleName:FileFilter))(VariableDeclarationFragment(SimpleName:ff)(ClassInstanceCreation(SimpleType(SimpleName:FileFilter))(AnonymousClassDeclaration(MethodDeclaration(Modifier:public)(PrimitiveType:boolean)(SimpleName:accept)(SingleVariableDeclaration(SimpleType(SimpleName:File))(SimpleName:file))(Block(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:file))(SimpleName:isDirectory))(ReturnStatement(BooleanLiteral:true)))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:name)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:file))(SimpleName:getName))))(ReturnStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:suffix))(SimpleName:equals)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))(INFIX_EXPRESSION_OPERATOR:||)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:name))(SimpleName:endsWith)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:suffix))))(ParenthesizedExpression(InfixExpression(SimpleName:save)(INFIX_EXPRESSION_OPERATOR:&&)(MethodInvocation(SimpleName:fileDoesntExistAndDoesntEndWithAnySuffix)(METHOD_INVOCATION_ARGUMENTS(SimpleName:file)))))))))(MethodDeclaration(Modifier:public)(SimpleType(SimpleName:String))(SimpleName:getDescription)(Block(ReturnStatement(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:suffix)(StringLiteral:<STR>)(SimpleName:description)))))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fc))(SimpleName:addChoosableFileFilter)(METHOD_INVOCATION_ARGUMENTS(SimpleName:ff)))))))))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fc))(SimpleName:setFileSelectionMode)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:JFileChooser.DIRECTORIES_ONLY))))))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:r)))(IfStatement(InfixExpression(SimpleName:defaultFilename)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(VariableDeclarationStatement(SimpleType(SimpleName:File))(VariableDeclarationFragment(SimpleName:file)(ClassInstanceCreation(SimpleType(SimpleName:File))(SimpleName:defaultFilename))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fc))(SimpleName:setSelectedFile)(METHOD_INVOCATION_ARGUMENTS(SimpleName:file))))))(IfStatement(SimpleName:saveMode)(Block(ExpressionStatement(Assignment(SimpleName:r)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fc))(SimpleName:showSaveDialog)(METHOD_INVOCATION_ARGUMENTS(ThisExpression))))))(Block(ExpressionStatement(Assignment(SimpleName:r)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fc))(SimpleName:showOpenDialog)(METHOD_INVOCATION_ARGUMENTS(ThisExpression)))))))(IfStatement(InfixExpression(SimpleName:r)(INFIX_EXPRESSION_OPERATOR:==)(QualifiedName:JFileChooser.APPROVE_OPTION))(Block(VariableDeclarationStatement(SimpleType(SimpleName:File))(VariableDeclarationFragment(SimpleName:file)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fc))(SimpleName:getSelectedFile))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:name)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:file))(SimpleName:getName))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:extraSuffix)(StringLiteral:<STR>)))(IfStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:name))(SimpleName:indexOf)(METHOD_INVOCATION_ARGUMENTS(CharacterLiteral:<STR>)))(INFIX_EXPRESSION_OPERATOR:==)(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:-)(NumberLiteral:1)))(Block(IfStatement(InfixExpression(InfixExpression(SimpleName:suffices)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(INFIX_EXPRESSION_OPERATOR:&&)(InfixExpression(QualifiedName:suffices.length)(INFIX_EXPRESSION_OPERATOR:>)(NumberLiteral:0)))(Block(ExpressionStatement(Assignment(SimpleName:extraSuffix)(ASSIGNMENT_OPERATOR:=)(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(ArrayAccess(ArrayAccess(SimpleName:suffices)(NumberLiteral:0))(NumberLiteral:0)))))))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:filename)(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:file))(SimpleName:getAbsolutePath))(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:extraSuffix))))(IfStatement(SimpleName:saveMode)(Block(VariableDeclarationStatement(SimpleType(SimpleName:File))(VariableDeclarationFragment(SimpleName:fl)(ClassInstanceCreation(SimpleType(SimpleName:File))(SimpleName:filename))))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fl))(SimpleName:exists))(Block(IfStatement(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(MethodInvocation(SimpleName:confirm)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:filename)(StringLiteral:<STR>)))))(Block(ReturnStatement(NullLiteral))))))))(ReturnStatement(SimpleName:filename)))(Block(ReturnStatement(NullLiteral))))))))