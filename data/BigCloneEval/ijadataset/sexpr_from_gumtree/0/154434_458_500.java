(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:public)(PrimitiveType:void)(SimpleName:publish)(SingleVariableDeclaration(Modifier:final)(SimpleType(SimpleName:MachineSnapshot))(SimpleName:machineSnapshot))(SimpleType(SimpleName:StateStoreException))(Block(IfStatement(InfixExpression(SimpleName:machineSnapshot)(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(QualifiedName:System.out))(SimpleName:println)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))(ReturnStatement)))(VariableDeclarationStatement(SimpleType(SimpleName:Timestamp))(VariableDeclarationFragment(SimpleName:time)(ClassInstanceCreation(SimpleType(SimpleName:Timestamp))(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:machineSnapshot))(SimpleName:getTimestamp)))(SimpleName:getTime)))))(TryStatement(Block(ExpressionStatement(MethodInvocation(SimpleName:getMachineSnapshotNextPrimaryKeyStatement)))(ExpressionStatement(MethodInvocation(SimpleName:getMachineSnapshotInsertStatement)))(ExpressionStatement(MethodInvocation(SimpleName:getChannelSnapshotInsertStatement)))(VariableDeclarationStatement(SimpleType(SimpleName:ResultSet))(VariableDeclarationFragment(SimpleName:idResult)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:MACHINE_SNAPSHOT_NEXT_PKEY))(SimpleName:executeQuery))))(ExpressionStatement(MethodInvocation(SimpleName:commit)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:idResult))(SimpleName:next)))(VariableDeclarationStatement(PrimitiveType:long)(VariableDeclarationFragment(SimpleName:id)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:idResult))(SimpleName:getLong)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:1)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:MACHINE_SNAPSHOT_INSERT))(SimpleName:setLong)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:1)(SimpleName:id))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:MACHINE_SNAPSHOT_INSERT))(SimpleName:setTimestamp)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:2)(SimpleName:time))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:MACHINE_SNAPSHOT_INSERT))(SimpleName:setString)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:3)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:machineSnapshot))(SimpleName:getType)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:MACHINE_SNAPSHOT_INSERT))(SimpleName:setString)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:4)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:machineSnapshot))(SimpleName:getComment)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:MACHINE_SNAPSHOT_INSERT))(SimpleName:executeUpdate)))(ExpressionStatement(MethodInvocation(SimpleName:commit)))(VariableDeclarationStatement(Modifier:final)(ArrayType(SimpleType(SimpleName:ChannelSnapshot))(Dimension))(VariableDeclarationFragment(SimpleName:channelSnapshots)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:machineSnapshot))(SimpleName:getChannelSnapshots))))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:count)(NumberLiteral:0)))(ForStatement(VariableDeclarationExpression(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:index)(NumberLiteral:0)))(InfixExpression(SimpleName:index)(INFIX_EXPRESSION_OPERATOR:<)(QualifiedName:channelSnapshots.length))(PostfixExpression(SimpleName:index)(POSTFIX_EXPRESSION_OPERATOR:++))(Block(VariableDeclarationStatement(SimpleType(SimpleName:ChannelSnapshot))(VariableDeclarationFragment(SimpleName:channelSnapshot)(ArrayAccess(SimpleName:channelSnapshots)(SimpleName:index))))(IfStatement(InfixExpression(SimpleName:channelSnapshot)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(ExpressionStatement(MethodInvocation(SimpleName:publish)(METHOD_INVOCATION_ARGUMENTS(SimpleName:channelSnapshot)(SimpleName:id))))(ExpressionStatement(PostfixExpression(SimpleName:count)(POSTFIX_EXPRESSION_OPERATOR:++)))(IfStatement(InfixExpression(ParenthesizedExpression(InfixExpression(SimpleName:count)(INFIX_EXPRESSION_OPERATOR:%)(SimpleName:commitFrequency)))(INFIX_EXPRESSION_OPERATOR:==)(NumberLiteral:0))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:CHANNEL_SNAPSHOT_INSERT))(SimpleName:executeBatch)))(ExpressionStatement(MethodInvocation(SimpleName:commit)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:CHANNEL_SNAPSHOT_INSERT))(SimpleName:clearBatch)))))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:CHANNEL_SNAPSHOT_INSERT))(SimpleName:executeBatch)))(ExpressionStatement(MethodInvocation(SimpleName:commit)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:CHANNEL_SNAPSHOT_INSERT))(SimpleName:clearBatch)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:machineSnapshot))(SimpleName:setId)(METHOD_INVOCATION_ARGUMENTS(SimpleName:id)))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:SQLException))(SimpleName:exception))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:exception))(SimpleName:getNextException)))(SimpleName:printStackTrace)))(ThrowStatement(ClassInstanceCreation(SimpleType(SimpleName:StateStoreException))(StringLiteral:<STR>)(SimpleName:exception))))))))))