(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(MarkerAnnotation(SimpleName:Override))(Modifier:public)(PrimitiveType:void)(SimpleName:run)(Block(TryStatement(Block(VariableDeclarationStatement(SimpleType(SimpleName:StringBuilder))(VariableDeclarationFragment(SimpleName:receivedText)(ClassInstanceCreation(SimpleType(SimpleName:StringBuilder))(InfixExpression(QualifiedName:Consts.XmlClientBufferSize)(INFIX_EXPRESSION_OPERATOR:*)(NumberLiteral:5)))))(VariableDeclarationStatement(SimpleType(SimpleName:ByteBuffer))(VariableDeclarationFragment(SimpleName:receiveBuffer)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ByteBuffer))(SimpleName:allocateDirect)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:Consts.XmlClientBufferSize)))))(WhileStatement(FieldAccess(ThisExpression)(SimpleName:started))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:receiveBuffer))(SimpleName:clear)))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:receivedBytesCount)(MethodInvocation(METHOD_INVOCATION_RECEIVER(FieldAccess(ThisExpression)(SimpleName:socket)))(SimpleName:read)(METHOD_INVOCATION_ARGUMENTS(SimpleName:receiveBuffer)))))(IfStatement(InfixExpression(SimpleName:receivedBytesCount)(INFIX_EXPRESSION_OPERATOR:==)(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:-)(NumberLiteral:1)))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(FieldAccess(ThisExpression)(SimpleName:log)))(SimpleName:write)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:Level.WARNING)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:String))(SimpleName:format)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(FieldAccess(ThisExpression)(SimpleName:messages)))(SimpleName:getString)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))(FieldAccess(ThisExpression)(SimpleName:remoteAddress))))(FieldAccess(ThisExpression)(SimpleName:genericClient)))))(BreakStatement)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:receiveBuffer))(SimpleName:flip)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:receivedText))(SimpleName:append)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(FieldAccess(ThisExpression)(SimpleName:decoder)))(SimpleName:decode)(METHOD_INVOCATION_ARGUMENTS(SimpleName:receiveBuffer))))(SimpleName:toString)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(FieldAccess(ThisExpression)(SimpleName:log)))(SimpleName:write)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:Level.INFO)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:String))(SimpleName:format)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(FieldAccess(ThisExpression)(SimpleName:messages)))(SimpleName:getString)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))(SimpleName:receivedBytesCount)(FieldAccess(ThisExpression)(SimpleName:remoteAddress))))(FieldAccess(ThisExpression)(SimpleName:genericClient)))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:xmlEnd)(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(QualifiedName:Consts.ElementNameUIProtocol)(StringLiteral:<STR>))))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:indexEnd)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:receivedText))(SimpleName:indexOf)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(SimpleName:xmlEnd)(INFIX_EXPRESSION_OPERATOR:+)(QualifiedName:Consts.NullByteChar))))))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:indexStart)(NumberLiteral:0)))(IfStatement(InfixExpression(SimpleName:indexEnd)(INFIX_EXPRESSION_OPERATOR:!=)(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:-)(NumberLiteral:1)))(Block(ExpressionStatement(Assignment(SimpleName:indexEnd)(ASSIGNMENT_OPERATOR:+=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:xmlEnd))(SimpleName:length))))(ExpressionStatement(Assignment(SimpleName:indexStart)(ASSIGNMENT_OPERATOR:=)(InfixExpression(SimpleName:indexEnd)(INFIX_EXPRESSION_OPERATOR:+)(NumberLiteral:1))))))(IfStatement(InfixExpression(SimpleName:indexEnd)(INFIX_EXPRESSION_OPERATOR:==)(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:-)(NumberLiteral:1)))(Block(ExpressionStatement(Assignment(SimpleName:indexEnd)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:receivedText))(SimpleName:indexOf)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:String))(SimpleName:valueOf)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:Consts.NullByteChar)))))))(IfStatement(InfixExpression(SimpleName:indexEnd)(INFIX_EXPRESSION_OPERATOR:!=)(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:-)(NumberLiteral:1)))(Block(ExpressionStatement(Assignment(SimpleName:indexStart)(ASSIGNMENT_OPERATOR:=)(InfixExpression(SimpleName:indexEnd)(INFIX_EXPRESSION_OPERATOR:+)(NumberLiteral:1))))))(IfStatement(InfixExpression(SimpleName:indexEnd)(INFIX_EXPRESSION_OPERATOR:==)(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:-)(NumberLiteral:1)))(Block(ExpressionStatement(Assignment(SimpleName:indexEnd)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:receivedText))(SimpleName:indexOf)(METHOD_INVOCATION_ARGUMENTS(SimpleName:xmlEnd)))))(IfStatement(InfixExpression(SimpleName:indexEnd)(INFIX_EXPRESSION_OPERATOR:!=)(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:-)(NumberLiteral:1)))(Block(ExpressionStatement(Assignment(SimpleName:indexEnd)(ASSIGNMENT_OPERATOR:+=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:xmlEnd))(SimpleName:length))))(ExpressionStatement(Assignment(SimpleName:indexStart)(ASSIGNMENT_OPERATOR:=)(SimpleName:indexEnd)))))))))(WhileStatement(InfixExpression(SimpleName:indexEnd)(INFIX_EXPRESSION_OPERATOR:!=)(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:-)(NumberLiteral:1)))(Block(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:textToDecode)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:receivedText))(SimpleName:substring)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:0)(SimpleName:indexEnd)))))(ExpressionStatement(Assignment(SimpleName:receivedText)(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(SimpleType(SimpleName:StringBuilder))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:receivedText))(SimpleName:substring)(METHOD_INVOCATION_ARGUMENTS(SimpleName:indexStart)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:receivedText))(SimpleName:length)))))))(IfStatement(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:textToDecode))(SimpleName:equals)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(FieldAccess(ThisExpression)(SimpleName:log)))(SimpleName:write)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:Level.FINE)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:String))(SimpleName:format)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(FieldAccess(ThisExpression)(SimpleName:messages)))(SimpleName:getString)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))(SimpleName:textToDecode)))(FieldAccess(ThisExpression)(SimpleName:genericClient)))))(TryStatement(Block(VariableDeclarationStatement(SimpleType(SimpleName:UIProtocolOut))(VariableDeclarationFragment(SimpleName:uipOut)(MethodInvocation(METHOD_INVOCATION_RECEIVER(FieldAccess(ThisExpression)(SimpleName:uipXmlTreeFactory)))(SimpleName:parseXml)(METHOD_INVOCATION_ARGUMENTS(SimpleName:textToDecode)))))(IfStatement(FieldAccess(ThisExpression)(SimpleName:started))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(FieldAccess(ThisExpression)(SimpleName:genericClient)))(SimpleName:handleMessage)(METHOD_INVOCATION_ARGUMENTS(SimpleName:uipOut)))))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:JAXBException))(SimpleName:ex))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(FieldAccess(ThisExpression)(SimpleName:log)))(SimpleName:write)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:Level.SEVERE)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:String))(SimpleName:format)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(QualifiedName:Consts.ErrorXmlSchemaValidation)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ex))(SimpleName:toString))))(FieldAccess(ThisExpression)(SimpleName:genericClient)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(FieldAccess(ThisExpression)(SimpleName:genericClient)))(SimpleName:sendErrorResponse)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:Consts.ErrorXmlSchemaValidation)(QualifiedName:Consts.PropertyValueError)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ex))(SimpleName:toString))))))))))(ExpressionStatement(Assignment(SimpleName:indexEnd)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:receivedText))(SimpleName:indexOf)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(SimpleName:xmlEnd)(INFIX_EXPRESSION_OPERATOR:+)(QualifiedName:Consts.NullByteChar))))))(ExpressionStatement(Assignment(SimpleName:indexStart)(ASSIGNMENT_OPERATOR:=)(NumberLiteral:0)))(IfStatement(InfixExpression(SimpleName:indexEnd)(INFIX_EXPRESSION_OPERATOR:!=)(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:-)(NumberLiteral:1)))(Block(ExpressionStatement(Assignment(SimpleName:indexEnd)(ASSIGNMENT_OPERATOR:+=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:xmlEnd))(SimpleName:length))))(ExpressionStatement(Assignment(SimpleName:indexStart)(ASSIGNMENT_OPERATOR:=)(InfixExpression(SimpleName:indexEnd)(INFIX_EXPRESSION_OPERATOR:+)(NumberLiteral:1))))))(IfStatement(InfixExpression(SimpleName:indexEnd)(INFIX_EXPRESSION_OPERATOR:==)(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:-)(NumberLiteral:1)))(Block(ExpressionStatement(Assignment(SimpleName:indexEnd)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:receivedText))(SimpleName:indexOf)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:String))(SimpleName:valueOf)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:Consts.NullByteChar)))))))(IfStatement(InfixExpression(SimpleName:indexEnd)(INFIX_EXPRESSION_OPERATOR:!=)(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:-)(NumberLiteral:1)))(Block(ExpressionStatement(Assignment(SimpleName:indexStart)(ASSIGNMENT_OPERATOR:=)(InfixExpression(SimpleName:indexEnd)(INFIX_EXPRESSION_OPERATOR:+)(NumberLiteral:1))))))(IfStatement(InfixExpression(SimpleName:indexEnd)(INFIX_EXPRESSION_OPERATOR:==)(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:-)(NumberLiteral:1)))(Block(ExpressionStatement(Assignment(SimpleName:indexEnd)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:receivedText))(SimpleName:indexOf)(METHOD_INVOCATION_ARGUMENTS(SimpleName:xmlEnd)))))(IfStatement(InfixExpression(SimpleName:indexEnd)(INFIX_EXPRESSION_OPERATOR:!=)(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:-)(NumberLiteral:1)))(Block(ExpressionStatement(Assignment(SimpleName:indexEnd)(ASSIGNMENT_OPERATOR:+=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:xmlEnd))(SimpleName:length))))(ExpressionStatement(Assignment(SimpleName:indexStart)(ASSIGNMENT_OPERATOR:=)(SimpleName:indexEnd))))))))))))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:SocketException))(SimpleName:ex))(Block))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:AsynchronousCloseException))(SimpleName:ex))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(FieldAccess(ThisExpression)(SimpleName:log)))(SimpleName:write)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:Level.WARNING)(MethodInvocation(METHOD_INVOCATION_RECEIVER(FieldAccess(ThisExpression)(SimpleName:messages)))(SimpleName:getString)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))(FieldAccess(ThisExpression)(SimpleName:genericClient)))))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:IOException))(SimpleName:ex))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(FieldAccess(ThisExpression)(SimpleName:log)))(SimpleName:write)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:Level.SEVERE)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:String))(SimpleName:format)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(FieldAccess(ThisExpression)(SimpleName:messages)))(SimpleName:getString)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ex))(SimpleName:toString))))(FieldAccess(ThisExpression)(SimpleName:genericClient)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(FieldAccess(ThisExpression)(SimpleName:genericClient)))(SimpleName:clientDisconnected)))))(Block(ExpressionStatement(Assignment(FieldAccess(ThisExpression)(SimpleName:started))(ASSIGNMENT_OPERATOR:=)(BooleanLiteral:false)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(FieldAccess(ThisExpression)(SimpleName:genericClient)))(SimpleName:removeClient)))(TryStatement(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(FieldAccess(ThisExpression)(SimpleName:socket)))(SimpleName:socket)))(SimpleName:close)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(FieldAccess(ThisExpression)(SimpleName:socket)))(SimpleName:close)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(FieldAccess(ThisExpression)(SimpleName:log)))(SimpleName:write)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:Level.INFO)(MethodInvocation(METHOD_INVOCATION_RECEIVER(FieldAccess(ThisExpression)(SimpleName:messages)))(SimpleName:getString)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))(FieldAccess(ThisExpression)(SimpleName:genericClient))))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:Exception))(SimpleName:ex))(Block)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(FieldAccess(ThisExpression)(SimpleName:genericClient)))(SimpleName:communicationClosed)))))))))