(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:public)(PrimitiveType:void)(SimpleName:testPOP3ClientStateTransition)(SimpleType(SimpleName:Exception))(Block(VariableDeclarationStatement(SimpleType(SimpleName:POP3Client))(VariableDeclarationFragment(SimpleName:pop)(ClassInstanceCreation(SimpleType(SimpleName:POP3Client)))))(ExpressionStatement(MethodInvocation(SimpleName:assertEquals)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:110)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:pop))(SimpleName:getDefaultPort)))))(ExpressionStatement(MethodInvocation(SimpleName:assertEquals)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:POP3.DISCONNECTED_STATE)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:pop))(SimpleName:getState)))))(ExpressionStatement(MethodInvocation(SimpleName:assertNull)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:pop._reader))))(ExpressionStatement(MethodInvocation(SimpleName:assertNotNull)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:pop._replyLines))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:pop))(SimpleName:connect)(METHOD_INVOCATION_ARGUMENTS(SimpleName:mailhost))))(ExpressionStatement(MethodInvocation(SimpleName:assertEquals)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:POP3.AUTHORIZATION_STATE)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:pop))(SimpleName:getState)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:pop))(SimpleName:login)(METHOD_INVOCATION_ARGUMENTS(SimpleName:user)(SimpleName:password))))(ExpressionStatement(MethodInvocation(SimpleName:assertEquals)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:POP3.TRANSACTION_STATE)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:pop))(SimpleName:getState)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:pop))(SimpleName:noop)))(ExpressionStatement(MethodInvocation(SimpleName:assertEquals)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:POP3.TRANSACTION_STATE)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:pop))(SimpleName:getState)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:pop))(SimpleName:status)))(ExpressionStatement(MethodInvocation(SimpleName:assertEquals)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:POP3.TRANSACTION_STATE)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:pop))(SimpleName:getState)))))(VariableDeclarationStatement(ArrayType(SimpleType(SimpleName:POP3MessageInfo))(Dimension))(VariableDeclarationFragment(SimpleName:msg)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:pop))(SimpleName:listMessages))))(IfStatement(InfixExpression(QualifiedName:msg.length)(INFIX_EXPRESSION_OPERATOR:>)(NumberLiteral:0))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:pop))(SimpleName:deleteMessage)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:1))))(ExpressionStatement(MethodInvocation(SimpleName:assertEquals)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:POP3.TRANSACTION_STATE)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:pop))(SimpleName:getState)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:pop))(SimpleName:reset)))(ExpressionStatement(MethodInvocation(SimpleName:assertEquals)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:POP3.TRANSACTION_STATE)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:pop))(SimpleName:getState)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:pop))(SimpleName:listMessage)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:1))))(ExpressionStatement(MethodInvocation(SimpleName:assertEquals)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:POP3.TRANSACTION_STATE)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:pop))(SimpleName:getState)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:pop))(SimpleName:listMessages)))(ExpressionStatement(MethodInvocation(SimpleName:assertEquals)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:POP3.TRANSACTION_STATE)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:pop))(SimpleName:getState)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:pop))(SimpleName:listUniqueIdentifier)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:1))))(ExpressionStatement(MethodInvocation(SimpleName:assertEquals)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:POP3.TRANSACTION_STATE)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:pop))(SimpleName:getState)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:pop))(SimpleName:listUniqueIdentifiers)))(ExpressionStatement(MethodInvocation(SimpleName:assertEquals)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:POP3.TRANSACTION_STATE)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:pop))(SimpleName:getState)))))(VariableDeclarationStatement(SimpleType(SimpleName:Reader))(VariableDeclarationFragment(SimpleName:r)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:pop))(SimpleName:retrieveMessage)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:1)))))(ExpressionStatement(MethodInvocation(SimpleName:assertEquals)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:POP3.TRANSACTION_STATE)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:pop))(SimpleName:getState)))))(WhileStatement(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:r))(SimpleName:ready)))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Thread))(SimpleName:sleep)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:10))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:r))(SimpleName:close)))(ExpressionStatement(Assignment(SimpleName:r)(ASSIGNMENT_OPERATOR:=)(NullLiteral)))(ExpressionStatement(Assignment(SimpleName:r)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:pop))(SimpleName:retrieveMessageTop)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:1)(NumberLiteral:10)))))(ExpressionStatement(MethodInvocation(SimpleName:assertEquals)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:POP3.TRANSACTION_STATE)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:pop))(SimpleName:getState)))))(WhileStatement(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:r))(SimpleName:ready)))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Thread))(SimpleName:sleep)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:10))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:r))(SimpleName:close)))(ExpressionStatement(Assignment(SimpleName:r)(ASSIGNMENT_OPERATOR:=)(NullLiteral)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:pop))(SimpleName:logout)))(ExpressionStatement(MethodInvocation(SimpleName:assertEquals)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:POP3.UPDATE_STATE)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:pop))(SimpleName:getState)))))))))