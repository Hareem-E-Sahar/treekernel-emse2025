(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:public)(PrimitiveType:void)(SimpleName:write)(SingleVariableDeclaration(SimpleType(SimpleName:Tag))(SimpleName:tag))(SingleVariableDeclaration(SimpleType(SimpleName:RandomAccessFile))(SimpleName:raf))(SingleVariableDeclaration(SimpleType(SimpleName:RandomAccessFile))(SimpleName:rafTemp))(SimpleType(SimpleName:CannotWriteException))(SimpleType(SimpleName:IOException))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:logger))(SimpleName:info)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))(VariableDeclarationStatement(SimpleType(SimpleName:ByteBuffer))(VariableDeclarationFragment(SimpleName:rawIlstData)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:tc))(SimpleName:convert)(METHOD_INVOCATION_ARGUMENTS(SimpleName:tag)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:rawIlstData))(SimpleName:rewind)))(VariableDeclarationStatement(SimpleType(SimpleName:FileChannel))(VariableDeclarationFragment(SimpleName:fileReadChannel)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:raf))(SimpleName:getChannel))))(VariableDeclarationStatement(SimpleType(SimpleName:FileChannel))(VariableDeclarationFragment(SimpleName:fileWriteChannel)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:rafTemp))(SimpleName:getChannel))))(VariableDeclarationStatement(SimpleType(SimpleName:Mp4BoxHeader))(VariableDeclarationFragment(SimpleName:boxHeader)))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:oldIlstSize)(NumberLiteral:0)))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:relativeIlstposition)))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:relativeIlstEndPosition)))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:startIlstWithinFile)))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:newIlstSize)))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:oldMetaLevelFreeAtomSize)))(VariableDeclarationStatement(PrimitiveType:long)(VariableDeclarationFragment(SimpleName:extraDataSize)))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:level1SearchPosition)(NumberLiteral:0)))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:topLevelFreePosition)))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:topLevelFreeSize)))(VariableDeclarationStatement(PrimitiveType:boolean)(VariableDeclarationFragment(SimpleName:topLevelFreeAtomComesBeforeMdatAtom)))(VariableDeclarationStatement(SimpleType(SimpleName:Mp4BoxHeader))(VariableDeclarationFragment(SimpleName:topLevelFreeHeader)))(VariableDeclarationStatement(SimpleType(SimpleName:Mp4AtomTree))(VariableDeclarationFragment(SimpleName:atomTree)))(TryStatement(Block(ExpressionStatement(Assignment(SimpleName:atomTree)(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(SimpleType(SimpleName:Mp4AtomTree))(SimpleName:raf)(BooleanLiteral:false)))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:CannotReadException))(SimpleName:cre))(Block(ThrowStatement(ClassInstanceCreation(SimpleType(SimpleName:CannotWriteException))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:cre))(SimpleName:getMessage)))))))(VariableDeclarationStatement(SimpleType(SimpleName:Mp4BoxHeader))(VariableDeclarationFragment(SimpleName:moovHeader)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:atomTree))(SimpleName:getBoxHeader)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:atomTree))(SimpleName:getMoovNode))))))(VariableDeclarationStatement(PrimitiveType:long)(VariableDeclarationFragment(SimpleName:positionWithinFileAfterFindingMoovHeader)(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:moovHeader))(SimpleName:getFilePos))(INFIX_EXPRESSION_OPERATOR:+)(QualifiedName:Mp4BoxHeader.HEADER_LENGTH))))(VariableDeclarationStatement(SimpleType(SimpleName:Mp4StcoBox))(VariableDeclarationFragment(SimpleName:stco)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:atomTree))(SimpleName:getStco))))(VariableDeclarationStatement(SimpleType(SimpleName:Mp4BoxHeader))(VariableDeclarationFragment(SimpleName:ilstHeader)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:atomTree))(SimpleName:getBoxHeader)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:atomTree))(SimpleName:getIlstNode))))))(VariableDeclarationStatement(SimpleType(SimpleName:Mp4BoxHeader))(VariableDeclarationFragment(SimpleName:udtaHeader)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:atomTree))(SimpleName:getBoxHeader)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:atomTree))(SimpleName:getUdtaNode))))))(VariableDeclarationStatement(SimpleType(SimpleName:Mp4BoxHeader))(VariableDeclarationFragment(SimpleName:metaHeader)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:atomTree))(SimpleName:getBoxHeader)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:atomTree))(SimpleName:getMetaNode))))))(VariableDeclarationStatement(SimpleType(SimpleName:Mp4BoxHeader))(VariableDeclarationFragment(SimpleName:hdlrMetaHeader)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:atomTree))(SimpleName:getBoxHeader)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:atomTree))(SimpleName:getHdlrWithinMetaNode))))))(VariableDeclarationStatement(SimpleType(SimpleName:Mp4BoxHeader))(VariableDeclarationFragment(SimpleName:hdlrMdiaHeader)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:atomTree))(SimpleName:getBoxHeader)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:atomTree))(SimpleName:getHdlrWithinMdiaNode))))))(VariableDeclarationStatement(SimpleType(SimpleName:Mp4BoxHeader))(VariableDeclarationFragment(SimpleName:mdatHeader)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:atomTree))(SimpleName:getBoxHeader)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:atomTree))(SimpleName:getMdatNode))))))(IfStatement(InfixExpression(SimpleName:mdatHeader)(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(Block(ThrowStatement(ClassInstanceCreation(SimpleType(SimpleName:CannotWriteException))(MethodInvocation(METHOD_INVOCATION_RECEIVER(QualifiedName:ErrorMessage.MP4_CHANGES_TO_FILE_FAILED_CANNOT_FIND_AUDIO))(SimpleName:getMsg))))))(VariableDeclarationStatement(SimpleType(SimpleName:Mp4BoxHeader))(VariableDeclarationFragment(SimpleName:trakHeader)(CastExpression(SimpleType(SimpleName:Mp4BoxHeader))(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:atomTree))(SimpleName:getTrakNodes)))(SimpleName:get)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:0))))(SimpleName:getUserObject)))))(VariableDeclarationStatement(SimpleType(SimpleName:ByteBuffer))(VariableDeclarationFragment(SimpleName:moovBuffer)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:atomTree))(SimpleName:getMoovBuffer))))(IfStatement(InfixExpression(SimpleName:udtaHeader)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(IfStatement(InfixExpression(SimpleName:metaHeader)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(IfStatement(InfixExpression(SimpleName:ilstHeader)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(ExpressionStatement(Assignment(SimpleName:oldIlstSize)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ilstHeader))(SimpleName:getLength))))(ExpressionStatement(Assignment(SimpleName:startIlstWithinFile)(ASSIGNMENT_OPERATOR:=)(CastExpression(PrimitiveType:int)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ilstHeader))(SimpleName:getFilePos)))))(ExpressionStatement(Assignment(SimpleName:relativeIlstposition)(ASSIGNMENT_OPERATOR:=)(CastExpression(PrimitiveType:int)(ParenthesizedExpression(InfixExpression(SimpleName:startIlstWithinFile)(INFIX_EXPRESSION_OPERATOR:-)(ParenthesizedExpression(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:moovHeader))(SimpleName:getFilePos))(INFIX_EXPRESSION_OPERATOR:+)(QualifiedName:Mp4BoxHeader.HEADER_LENGTH))))))))(ExpressionStatement(Assignment(SimpleName:relativeIlstEndPosition)(ASSIGNMENT_OPERATOR:=)(InfixExpression(SimpleName:relativeIlstposition)(INFIX_EXPRESSION_OPERATOR:+)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ilstHeader))(SimpleName:getLength))))))(Block(IfStatement(InfixExpression(SimpleName:hdlrMetaHeader)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(ExpressionStatement(Assignment(SimpleName:startIlstWithinFile)(ASSIGNMENT_OPERATOR:=)(InfixExpression(CastExpression(PrimitiveType:int)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:hdlrMetaHeader))(SimpleName:getFilePos)))(INFIX_EXPRESSION_OPERATOR:+)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:hdlrMetaHeader))(SimpleName:getLength)))))(ExpressionStatement(Assignment(SimpleName:relativeIlstposition)(ASSIGNMENT_OPERATOR:=)(CastExpression(PrimitiveType:int)(ParenthesizedExpression(InfixExpression(SimpleName:startIlstWithinFile)(INFIX_EXPRESSION_OPERATOR:-)(ParenthesizedExpression(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:moovHeader))(SimpleName:getFilePos))(INFIX_EXPRESSION_OPERATOR:+)(QualifiedName:Mp4BoxHeader.HEADER_LENGTH))))))))(ExpressionStatement(Assignment(SimpleName:relativeIlstEndPosition)(ASSIGNMENT_OPERATOR:=)(SimpleName:relativeIlstposition))))(Block(ExpressionStatement(Assignment(SimpleName:startIlstWithinFile)(ASSIGNMENT_OPERATOR:=)(InfixExpression(CastExpression(PrimitiveType:int)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:metaHeader))(SimpleName:getFilePos)))(INFIX_EXPRESSION_OPERATOR:+)(QualifiedName:Mp4BoxHeader.HEADER_LENGTH)(QualifiedName:Mp4MetaBox.FLAGS_LENGTH))))(ExpressionStatement(Assignment(SimpleName:relativeIlstposition)(ASSIGNMENT_OPERATOR:=)(CastExpression(PrimitiveType:int)(ParenthesizedExpression(InfixExpression(ParenthesizedExpression(SimpleName:startIlstWithinFile))(INFIX_EXPRESSION_OPERATOR:-)(ParenthesizedExpression(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:moovHeader))(SimpleName:getFilePos))(INFIX_EXPRESSION_OPERATOR:+)(QualifiedName:Mp4BoxHeader.HEADER_LENGTH))))))))(ExpressionStatement(Assignment(SimpleName:relativeIlstEndPosition)(ASSIGNMENT_OPERATOR:=)(SimpleName:relativeIlstposition))))))))(Block(ExpressionStatement(Assignment(SimpleName:relativeIlstposition)(ASSIGNMENT_OPERATOR:=)(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:moovHeader))(SimpleName:getLength))(INFIX_EXPRESSION_OPERATOR:-)(QualifiedName:Mp4BoxHeader.HEADER_LENGTH))))(ExpressionStatement(Assignment(SimpleName:relativeIlstEndPosition)(ASSIGNMENT_OPERATOR:=)(SimpleName:relativeIlstposition)))(ExpressionStatement(Assignment(SimpleName:startIlstWithinFile)(ASSIGNMENT_OPERATOR:=)(CastExpression(PrimitiveType:int)(ParenthesizedExpression(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:moovHeader))(SimpleName:getFilePos))(INFIX_EXPRESSION_OPERATOR:+)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:moovHeader))(SimpleName:getLength))))))))))(Block(IfStatement(InfixExpression(SimpleName:metaHeader)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(ExpressionStatement(Assignment(SimpleName:startIlstWithinFile)(ASSIGNMENT_OPERATOR:=)(InfixExpression(CastExpression(PrimitiveType:int)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:trakHeader))(SimpleName:getFilePos)))(INFIX_EXPRESSION_OPERATOR:+)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:trakHeader))(SimpleName:getLength)))))(ExpressionStatement(Assignment(SimpleName:relativeIlstposition)(ASSIGNMENT_OPERATOR:=)(CastExpression(PrimitiveType:int)(ParenthesizedExpression(InfixExpression(SimpleName:startIlstWithinFile)(INFIX_EXPRESSION_OPERATOR:-)(ParenthesizedExpression(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:moovHeader))(SimpleName:getFilePos))(INFIX_EXPRESSION_OPERATOR:+)(QualifiedName:Mp4BoxHeader.HEADER_LENGTH))))))))(ExpressionStatement(Assignment(SimpleName:relativeIlstEndPosition)(ASSIGNMENT_OPERATOR:=)(InfixExpression(SimpleName:relativeIlstposition)(INFIX_EXPRESSION_OPERATOR:+)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ilstHeader))(SimpleName:getLength))))))(Block(ExpressionStatement(Assignment(SimpleName:relativeIlstposition)(ASSIGNMENT_OPERATOR:=)(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:moovHeader))(SimpleName:getLength))(INFIX_EXPRESSION_OPERATOR:-)(QualifiedName:Mp4BoxHeader.HEADER_LENGTH))))(ExpressionStatement(Assignment(SimpleName:relativeIlstEndPosition)(ASSIGNMENT_OPERATOR:=)(SimpleName:relativeIlstposition)))(ExpressionStatement(Assignment(SimpleName:startIlstWithinFile)(ASSIGNMENT_OPERATOR:=)(CastExpression(PrimitiveType:int)(ParenthesizedExpression(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:moovHeader))(SimpleName:getFilePos))(INFIX_EXPRESSION_OPERATOR:+)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:moovHeader))(SimpleName:getLength)))))))))))(ExpressionStatement(Assignment(SimpleName:newIlstSize)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:rawIlstData))(SimpleName:limit))))(ExpressionStatement(Assignment(SimpleName:oldMetaLevelFreeAtomSize)(ASSIGNMENT_OPERATOR:=)(NumberLiteral:0)))(ExpressionStatement(Assignment(SimpleName:extraDataSize)(ASSIGNMENT_OPERATOR:=)(NumberLiteral:0)))(EnhancedForStatement(SingleVariableDeclaration(SimpleType(SimpleName:DefaultMutableTreeNode))(SimpleName:freeNode))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:atomTree))(SimpleName:getFreeNodes))(Block(VariableDeclarationStatement(SimpleType(SimpleName:DefaultMutableTreeNode))(VariableDeclarationFragment(SimpleName:parentNode)(CastExpression(SimpleType(SimpleName:DefaultMutableTreeNode))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:freeNode))(SimpleName:getParent)))))(VariableDeclarationStatement(SimpleType(SimpleName:DefaultMutableTreeNode))(VariableDeclarationFragment(SimpleName:brotherNode)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:freeNode))(SimpleName:getPreviousSibling))))(IfStatement(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:parentNode))(SimpleName:isRoot)))(Block(VariableDeclarationStatement(SimpleType(SimpleName:Mp4BoxHeader))(VariableDeclarationFragment(SimpleName:header)(ParenthesizedExpression(CastExpression(SimpleType(SimpleName:Mp4BoxHeader))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:parentNode))(SimpleName:getUserObject))))))(VariableDeclarationStatement(SimpleType(SimpleName:Mp4BoxHeader))(VariableDeclarationFragment(SimpleName:freeHeader)(ParenthesizedExpression(CastExpression(SimpleType(SimpleName:Mp4BoxHeader))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:freeNode))(SimpleName:getUserObject))))))(IfStatement(InfixExpression(SimpleName:brotherNode)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(VariableDeclarationStatement(SimpleType(SimpleName:Mp4BoxHeader))(VariableDeclarationFragment(SimpleName:brotherHeader)(ParenthesizedExpression(CastExpression(SimpleType(SimpleName:Mp4BoxHeader))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:brotherNode))(SimpleName:getUserObject))))))(IfStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:header))(SimpleName:getId)))(SimpleName:equals)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(QualifiedName:Mp4NotMetaFieldKey.META))(SimpleName:getFieldName))))(INFIX_EXPRESSION_OPERATOR:&&)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:brotherHeader))(SimpleName:getId)))(SimpleName:equals)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(QualifiedName:Mp4NotMetaFieldKey.ILST))(SimpleName:getFieldName)))))(Block(ExpressionStatement(Assignment(SimpleName:oldMetaLevelFreeAtomSize)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:freeHeader))(SimpleName:getLength))))(ExpressionStatement(Assignment(SimpleName:extraDataSize)(ASSIGNMENT_OPERATOR:=)(InfixExpression(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:moovHeader))(SimpleName:getFilePos))(INFIX_EXPRESSION_OPERATOR:+)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:moovHeader))(SimpleName:getLength)))(INFIX_EXPRESSION_OPERATOR:-)(ParenthesizedExpression(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:freeHeader))(SimpleName:getFilePos))(INFIX_EXPRESSION_OPERATOR:+)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:freeHeader))(SimpleName:getLength)))))))(BreakStatement)))))))))(IfStatement(InfixExpression(SimpleName:oldMetaLevelFreeAtomSize)(INFIX_EXPRESSION_OPERATOR:==)(NumberLiteral:0))(Block(ExpressionStatement(Assignment(SimpleName:extraDataSize)(ASSIGNMENT_OPERATOR:=)(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:moovHeader))(SimpleName:getDataLength))(INFIX_EXPRESSION_OPERATOR:-)(SimpleName:relativeIlstEndPosition))))))(ExpressionStatement(Assignment(SimpleName:level1SearchPosition)(ASSIGNMENT_OPERATOR:=)(NumberLiteral:0)))(ExpressionStatement(Assignment(SimpleName:topLevelFreePosition)(ASSIGNMENT_OPERATOR:=)(NumberLiteral:0)))(ExpressionStatement(Assignment(SimpleName:topLevelFreeSize)(ASSIGNMENT_OPERATOR:=)(NumberLiteral:0)))(ExpressionStatement(Assignment(SimpleName:topLevelFreeAtomComesBeforeMdatAtom)(ASSIGNMENT_OPERATOR:=)(BooleanLiteral:true)))(EnhancedForStatement(SingleVariableDeclaration(SimpleType(SimpleName:DefaultMutableTreeNode))(SimpleName:freeNode))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:atomTree))(SimpleName:getFreeNodes))(Block(VariableDeclarationStatement(SimpleType(SimpleName:DefaultMutableTreeNode))(VariableDeclarationFragment(SimpleName:parentNode)(CastExpression(SimpleType(SimpleName:DefaultMutableTreeNode))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:freeNode))(SimpleName:getParent)))))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:parentNode))(SimpleName:isRoot))(Block(ExpressionStatement(Assignment(SimpleName:topLevelFreeHeader)(ASSIGNMENT_OPERATOR:=)(ParenthesizedExpression(CastExpression(SimpleType(SimpleName:Mp4BoxHeader))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:freeNode))(SimpleName:getUserObject))))))(ExpressionStatement(Assignment(SimpleName:topLevelFreeSize)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:topLevelFreeHeader))(SimpleName:getLength))))(ExpressionStatement(Assignment(SimpleName:topLevelFreePosition)(ASSIGNMENT_OPERATOR:=)(CastExpression(PrimitiveType:int)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:topLevelFreeHeader))(SimpleName:getFilePos)))))(ExpressionStatement(Assignment(SimpleName:level1SearchPosition)(ASSIGNMENT_OPERATOR:=)(SimpleName:topLevelFreePosition)))(BreakStatement)))))(IfStatement(InfixExpression(SimpleName:topLevelFreeSize)(INFIX_EXPRESSION_OPERATOR:>)(NumberLiteral:0))(Block(IfStatement(InfixExpression(SimpleName:topLevelFreePosition)(INFIX_EXPRESSION_OPERATOR:>)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:mdatHeader))(SimpleName:getFilePos)))(Block(ExpressionStatement(Assignment(SimpleName:topLevelFreeAtomComesBeforeMdatAtom)(ASSIGNMENT_OPERATOR:=)(BooleanLiteral:false)))(ExpressionStatement(Assignment(SimpleName:level1SearchPosition)(ASSIGNMENT_OPERATOR:=)(CastExpression(PrimitiveType:int)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:mdatHeader))(SimpleName:getFilePos))))))))(Block(ExpressionStatement(Assignment(SimpleName:topLevelFreePosition)(ASSIGNMENT_OPERATOR:=)(CastExpression(PrimitiveType:int)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:mdatHeader))(SimpleName:getFilePos)))))(ExpressionStatement(Assignment(SimpleName:level1SearchPosition)(ASSIGNMENT_OPERATOR:=)(SimpleName:topLevelFreePosition)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:logger))(SimpleName:info)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))(IfStatement(InfixExpression(SimpleName:oldIlstSize)(INFIX_EXPRESSION_OPERATOR:==)(SimpleName:newIlstSize))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:logger))(SimpleName:info)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))(ExpressionStatement(MethodInvocation(SimpleName:writeMetadataSameSize)(METHOD_INVOCATION_ARGUMENTS(SimpleName:rawIlstData)(SimpleName:oldIlstSize)(SimpleName:startIlstWithinFile)(SimpleName:fileReadChannel)(SimpleName:fileWriteChannel)))))(IfStatement(InfixExpression(SimpleName:oldIlstSize)(INFIX_EXPRESSION_OPERATOR:>)(SimpleName:newIlstSize))(Block(IfStatement(InfixExpression(SimpleName:oldMetaLevelFreeAtomSize)(INFIX_EXPRESSION_OPERATOR:>)(NumberLiteral:0))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:logger))(SimpleName:info)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:oldIlstSize)(StringLiteral:<STR>)(SimpleName:newIlstSize)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fileReadChannel))(SimpleName:position)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:0))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fileWriteChannel))(SimpleName:transferFrom)(METHOD_INVOCATION_ARGUMENTS(SimpleName:fileReadChannel)(NumberLiteral:0)(SimpleName:startIlstWithinFile))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fileWriteChannel))(SimpleName:position)(METHOD_INVOCATION_ARGUMENTS(SimpleName:startIlstWithinFile))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fileWriteChannel))(SimpleName:write)(METHOD_INVOCATION_ARGUMENTS(SimpleName:rawIlstData))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fileReadChannel))(SimpleName:position)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(SimpleName:startIlstWithinFile)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:oldIlstSize)))))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:newFreeSize)(InfixExpression(SimpleName:oldMetaLevelFreeAtomSize)(INFIX_EXPRESSION_OPERATOR:+)(ParenthesizedExpression(InfixExpression(SimpleName:oldIlstSize)(INFIX_EXPRESSION_OPERATOR:-)(SimpleName:newIlstSize))))))(VariableDeclarationStatement(SimpleType(SimpleName:Mp4FreeBox))(VariableDeclarationFragment(SimpleName:newFreeBox)(ClassInstanceCreation(SimpleType(SimpleName:Mp4FreeBox))(InfixExpression(SimpleName:newFreeSize)(INFIX_EXPRESSION_OPERATOR:-)(QualifiedName:Mp4BoxHeader.HEADER_LENGTH)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fileWriteChannel))(SimpleName:write)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:newFreeBox))(SimpleName:getHeader)))(SimpleName:getHeaderData)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fileWriteChannel))(SimpleName:write)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:newFreeBox))(SimpleName:getData)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fileReadChannel))(SimpleName:position)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fileReadChannel))(SimpleName:position))(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:oldMetaLevelFreeAtomSize)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fileWriteChannel))(SimpleName:transferFrom)(METHOD_INVOCATION_ARGUMENTS(SimpleName:fileReadChannel)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fileWriteChannel))(SimpleName:position))(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fileReadChannel))(SimpleName:size))(INFIX_EXPRESSION_OPERATOR:-)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fileReadChannel))(SimpleName:position)))))))(Block(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:newFreeSize)(InfixExpression(ParenthesizedExpression(InfixExpression(SimpleName:oldIlstSize)(INFIX_EXPRESSION_OPERATOR:-)(SimpleName:newIlstSize)))(INFIX_EXPRESSION_OPERATOR:-)(QualifiedName:Mp4BoxHeader.HEADER_LENGTH))))(IfStatement(InfixExpression(SimpleName:newFreeSize)(INFIX_EXPRESSION_OPERATOR:>)(NumberLiteral:0))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:logger))(SimpleName:info)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fileReadChannel))(SimpleName:position)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:0))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fileWriteChannel))(SimpleName:transferFrom)(METHOD_INVOCATION_ARGUMENTS(SimpleName:fileReadChannel)(NumberLiteral:0)(SimpleName:startIlstWithinFile))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fileWriteChannel))(SimpleName:position)(METHOD_INVOCATION_ARGUMENTS(SimpleName:startIlstWithinFile))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fileWriteChannel))(SimpleName:write)(METHOD_INVOCATION_ARGUMENTS(SimpleName:rawIlstData))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fileReadChannel))(SimpleName:position)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(SimpleName:startIlstWithinFile)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:oldIlstSize)))))(VariableDeclarationStatement(SimpleType(SimpleName:Mp4FreeBox))(VariableDeclarationFragment(SimpleName:newFreeBox)(ClassInstanceCreation(SimpleType(SimpleName:Mp4FreeBox))(SimpleName:newFreeSize))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fileWriteChannel))(SimpleName:write)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:newFreeBox))(SimpleName:getHeader)))(SimpleName:getHeaderData)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fileWriteChannel))(SimpleName:write)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:newFreeBox))(SimpleName:getData)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fileWriteChannel))(SimpleName:transferFrom)(METHOD_INVOCATION_ARGUMENTS(SimpleName:fileReadChannel)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fileWriteChannel))(SimpleName:position))(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fileReadChannel))(SimpleName:size))(INFIX_EXPRESSION_OPERATOR:-)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fileReadChannel))(SimpleName:position)))))))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:logger))(SimpleName:info)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:sizeReducedBy)(InfixExpression(SimpleName:oldIlstSize)(INFIX_EXPRESSION_OPERATOR:-)(SimpleName:newIlstSize))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fileReadChannel))(SimpleName:position)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:0))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fileWriteChannel))(SimpleName:transferFrom)(METHOD_INVOCATION_ARGUMENTS(SimpleName:fileReadChannel)(NumberLiteral:0)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:moovHeader))(SimpleName:getFilePos)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fileWriteChannel))(SimpleName:position)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:moovHeader))(SimpleName:getFilePos)))))(IfStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:mdatHeader))(SimpleName:getFilePos))(INFIX_EXPRESSION_OPERATOR:>)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:moovHeader))(SimpleName:getFilePos)))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:stco))(SimpleName:adjustOffsets)(METHOD_INVOCATION_ARGUMENTS(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:-)(SimpleName:sizeReducedBy)))))))(ExpressionStatement(MethodInvocation(SimpleName:adjustSizeOfMoovHeader)(METHOD_INVOCATION_ARGUMENTS(SimpleName:moovHeader)(SimpleName:moovBuffer)(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:-)(SimpleName:sizeReducedBy))(SimpleName:udtaHeader)(SimpleName:metaHeader))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fileWriteChannel))(SimpleName:write)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:moovHeader))(SimpleName:getHeaderData)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:moovBuffer))(SimpleName:rewind)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:moovBuffer))(SimpleName:limit)(METHOD_INVOCATION_ARGUMENTS(SimpleName:relativeIlstposition))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fileWriteChannel))(SimpleName:write)(METHOD_INVOCATION_ARGUMENTS(SimpleName:moovBuffer))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fileWriteChannel))(SimpleName:write)(METHOD_INVOCATION_ARGUMENTS(SimpleName:rawIlstData))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fileReadChannel))(SimpleName:position)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(SimpleName:startIlstWithinFile)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:oldIlstSize)))))(IfStatement(InfixExpression(SimpleName:extraDataSize)(INFIX_EXPRESSION_OPERATOR:>)(NumberLiteral:0))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fileWriteChannel))(SimpleName:transferFrom)(METHOD_INVOCATION_ARGUMENTS(SimpleName:fileReadChannel)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fileWriteChannel))(SimpleName:position))(SimpleName:extraDataSize))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fileWriteChannel))(SimpleName:position)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fileWriteChannel))(SimpleName:position))(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:extraDataSize)))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fileWriteChannel))(SimpleName:transferFrom)(METHOD_INVOCATION_ARGUMENTS(SimpleName:fileReadChannel)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fileWriteChannel))(SimpleName:position))(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fileReadChannel))(SimpleName:size))(INFIX_EXPRESSION_OPERATOR:-)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fileReadChannel))(SimpleName:position)))))))))))(Block(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:additionalSpaceRequiredForMetadata)(InfixExpression(SimpleName:newIlstSize)(INFIX_EXPRESSION_OPERATOR:-)(SimpleName:oldIlstSize))))(IfStatement(InfixExpression(SimpleName:additionalSpaceRequiredForMetadata)(INFIX_EXPRESSION_OPERATOR:<=)(ParenthesizedExpression(InfixExpression(SimpleName:oldMetaLevelFreeAtomSize)(INFIX_EXPRESSION_OPERATOR:-)(QualifiedName:Mp4BoxHeader.HEADER_LENGTH))))(Block(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:newFreeSize)(InfixExpression(SimpleName:oldMetaLevelFreeAtomSize)(INFIX_EXPRESSION_OPERATOR:-)(ParenthesizedExpression(SimpleName:additionalSpaceRequiredForMetadata)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:logger))(SimpleName:info)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:newFreeSize)(StringLiteral:<STR>)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fileReadChannel))(SimpleName:position)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:0))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fileWriteChannel))(SimpleName:transferFrom)(METHOD_INVOCATION_ARGUMENTS(SimpleName:fileReadChannel)(NumberLiteral:0)(SimpleName:startIlstWithinFile))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fileWriteChannel))(SimpleName:position)(METHOD_INVOCATION_ARGUMENTS(SimpleName:startIlstWithinFile))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fileWriteChannel))(SimpleName:write)(METHOD_INVOCATION_ARGUMENTS(SimpleName:rawIlstData))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fileReadChannel))(SimpleName:position)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(SimpleName:startIlstWithinFile)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:oldIlstSize)))))(VariableDeclarationStatement(SimpleType(SimpleName:Mp4FreeBox))(VariableDeclarationFragment(SimpleName:newFreeBox)(ClassInstanceCreation(SimpleType(SimpleName:Mp4FreeBox))(InfixExpression(SimpleName:newFreeSize)(INFIX_EXPRESSION_OPERATOR:-)(QualifiedName:Mp4BoxHeader.HEADER_LENGTH)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fileWriteChannel))(SimpleName:write)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:newFreeBox))(SimpleName:getHeader)))(SimpleName:getHeaderData)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fileWriteChannel))(SimpleName:write)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:newFreeBox))(SimpleName:getData)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fileReadChannel))(SimpleName:position)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fileReadChannel))(SimpleName:position))(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:oldMetaLevelFreeAtomSize)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fileWriteChannel))(SimpleName:transferFrom)(METHOD_INVOCATION_ARGUMENTS(SimpleName:fileReadChannel)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fileWriteChannel))(SimpleName:position))(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fileReadChannel))(SimpleName:size))(INFIX_EXPRESSION_OPERATOR:-)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fileReadChannel))(SimpleName:position)))))))(Block(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:additionalMetaSizeThatWontFitWithinMetaAtom)(InfixExpression(SimpleName:additionalSpaceRequiredForMetadata)(INFIX_EXPRESSION_OPERATOR:-)(ParenthesizedExpression(SimpleName:oldMetaLevelFreeAtomSize)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fileReadChannel))(SimpleName:position)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:0))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fileWriteChannel))(SimpleName:transferFrom)(METHOD_INVOCATION_ARGUMENTS(SimpleName:fileReadChannel)(NumberLiteral:0)(InfixExpression(SimpleName:positionWithinFileAfterFindingMoovHeader)(INFIX_EXPRESSION_OPERATOR:-)(QualifiedName:Mp4BoxHeader.HEADER_LENGTH)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fileWriteChannel))(SimpleName:position)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(SimpleName:positionWithinFileAfterFindingMoovHeader)(INFIX_EXPRESSION_OPERATOR:-)(QualifiedName:Mp4BoxHeader.HEADER_LENGTH)))))(IfStatement(InfixExpression(SimpleName:udtaHeader)(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:logger))(SimpleName:info)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))(VariableDeclarationStatement(SimpleType(SimpleName:Mp4HdlrBox))(VariableDeclarationFragment(SimpleName:hdlrBox)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Mp4HdlrBox))(SimpleName:createiTunesStyleHdlrBox))))(VariableDeclarationStatement(SimpleType(SimpleName:Mp4MetaBox))(VariableDeclarationFragment(SimpleName:metaBox)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Mp4MetaBox))(SimpleName:createiTunesStyleMetaBox)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:hdlrBox))(SimpleName:getHeader)))(SimpleName:getLength))(INFIX_EXPRESSION_OPERATOR:+)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:rawIlstData))(SimpleName:limit)))))))(ExpressionStatement(Assignment(SimpleName:udtaHeader)(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(SimpleType(SimpleName:Mp4BoxHeader))(MethodInvocation(METHOD_INVOCATION_RECEIVER(QualifiedName:Mp4NotMetaFieldKey.UDTA))(SimpleName:getFieldName)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:udtaHeader))(SimpleName:setLength)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(QualifiedName:Mp4BoxHeader.HEADER_LENGTH)(INFIX_EXPRESSION_OPERATOR:+)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:metaBox))(SimpleName:getHeader)))(SimpleName:getLength))))))(ExpressionStatement(Assignment(SimpleName:additionalMetaSizeThatWontFitWithinMetaAtom)(ASSIGNMENT_OPERATOR:=)(InfixExpression(SimpleName:additionalMetaSizeThatWontFitWithinMetaAtom)(INFIX_EXPRESSION_OPERATOR:+)(ParenthesizedExpression(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:udtaHeader))(SimpleName:getLength))(INFIX_EXPRESSION_OPERATOR:-)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:rawIlstData))(SimpleName:limit)))))))(IfStatement(InfixExpression(ParenthesizedExpression(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(SimpleName:topLevelFreeAtomComesBeforeMdatAtom)))(INFIX_EXPRESSION_OPERATOR:||)(ParenthesizedExpression(InfixExpression(ParenthesizedExpression(InfixExpression(InfixExpression(SimpleName:topLevelFreeSize)(INFIX_EXPRESSION_OPERATOR:-)(QualifiedName:Mp4BoxHeader.HEADER_LENGTH))(INFIX_EXPRESSION_OPERATOR:<)(SimpleName:additionalMetaSizeThatWontFitWithinMetaAtom)))(INFIX_EXPRESSION_OPERATOR:&&)(ParenthesizedExpression(InfixExpression(SimpleName:topLevelFreeSize)(INFIX_EXPRESSION_OPERATOR:!=)(SimpleName:additionalMetaSizeThatWontFitWithinMetaAtom))))))(Block(IfStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:mdatHeader))(SimpleName:getFilePos))(INFIX_EXPRESSION_OPERATOR:>)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:moovHeader))(SimpleName:getFilePos)))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:stco))(SimpleName:adjustOffsets)(METHOD_INVOCATION_ARGUMENTS(SimpleName:additionalMetaSizeThatWontFitWithinMetaAtom))))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:moovHeader))(SimpleName:setLength)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:moovHeader))(SimpleName:getLength))(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:additionalMetaSizeThatWontFitWithinMetaAtom)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fileWriteChannel))(SimpleName:write)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:moovHeader))(SimpleName:getHeaderData)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:moovBuffer))(SimpleName:rewind)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:moovBuffer))(SimpleName:limit)(METHOD_INVOCATION_ARGUMENTS(SimpleName:relativeIlstposition))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fileWriteChannel))(SimpleName:write)(METHOD_INVOCATION_ARGUMENTS(SimpleName:moovBuffer))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fileWriteChannel))(SimpleName:write)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:udtaHeader))(SimpleName:getHeaderData)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fileWriteChannel))(SimpleName:write)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:metaBox))(SimpleName:getHeader)))(SimpleName:getHeaderData)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fileWriteChannel))(SimpleName:write)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:metaBox))(SimpleName:getData)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fileWriteChannel))(SimpleName:write)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:hdlrBox))(SimpleName:getHeader)))(SimpleName:getHeaderData)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fileWriteChannel))(SimpleName:write)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:hdlrBox))(SimpleName:getData))))))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:logger))(SimpleName:info)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))(IfStatement(InfixExpression(ParenthesizedExpression(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(SimpleName:topLevelFreeAtomComesBeforeMdatAtom)))(INFIX_EXPRESSION_OPERATOR:||)(ParenthesizedExpression(InfixExpression(ParenthesizedExpression(InfixExpression(InfixExpression(SimpleName:topLevelFreeSize)(INFIX_EXPRESSION_OPERATOR:-)(QualifiedName:Mp4BoxHeader.HEADER_LENGTH))(INFIX_EXPRESSION_OPERATOR:<)(SimpleName:additionalMetaSizeThatWontFitWithinMetaAtom)))(INFIX_EXPRESSION_OPERATOR:&&)(ParenthesizedExpression(InfixExpression(SimpleName:topLevelFreeSize)(INFIX_EXPRESSION_OPERATOR:!=)(SimpleName:additionalMetaSizeThatWontFitWithinMetaAtom))))))(Block(IfStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:mdatHeader))(SimpleName:getFilePos))(INFIX_EXPRESSION_OPERATOR:>)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:moovHeader))(SimpleName:getFilePos)))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:stco))(SimpleName:adjustOffsets)(METHOD_INVOCATION_ARGUMENTS(SimpleName:additionalMetaSizeThatWontFitWithinMetaAtom))))))))(ExpressionStatement(MethodInvocation(SimpleName:adjustSizeOfMoovHeader)(METHOD_INVOCATION_ARGUMENTS(SimpleName:moovHeader)(SimpleName:moovBuffer)(SimpleName:additionalMetaSizeThatWontFitWithinMetaAtom)(SimpleName:udtaHeader)(SimpleName:metaHeader))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fileWriteChannel))(SimpleName:write)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:moovHeader))(SimpleName:getHeaderData)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:moovBuffer))(SimpleName:rewind)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:moovBuffer))(SimpleName:limit)(METHOD_INVOCATION_ARGUMENTS(SimpleName:relativeIlstposition))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fileWriteChannel))(SimpleName:write)(METHOD_INVOCATION_ARGUMENTS(SimpleName:moovBuffer))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fileWriteChannel))(SimpleName:write)(METHOD_INVOCATION_ARGUMENTS(SimpleName:rawIlstData))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fileReadChannel))(SimpleName:position)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(SimpleName:startIlstWithinFile)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:oldIlstSize)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fileReadChannel))(SimpleName:position)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fileReadChannel))(SimpleName:position))(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:oldMetaLevelFreeAtomSize)))))(IfStatement(InfixExpression(SimpleName:extraDataSize)(INFIX_EXPRESSION_OPERATOR:>)(NumberLiteral:0))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fileWriteChannel))(SimpleName:transferFrom)(METHOD_INVOCATION_ARGUMENTS(SimpleName:fileReadChannel)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fileWriteChannel))(SimpleName:position))(SimpleName:extraDataSize))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fileWriteChannel))(SimpleName:position)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fileWriteChannel))(SimpleName:position))(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:extraDataSize)))))))(IfStatement(InfixExpression(SimpleName:topLevelFreeAtomComesBeforeMdatAtom)(INFIX_EXPRESSION_OPERATOR:&&)(ParenthesizedExpression(InfixExpression(SimpleName:topLevelFreePosition)(INFIX_EXPRESSION_OPERATOR:>)(SimpleName:startIlstWithinFile))))(Block(IfStatement(InfixExpression(InfixExpression(SimpleName:topLevelFreeSize)(INFIX_EXPRESSION_OPERATOR:-)(QualifiedName:Mp4BoxHeader.HEADER_LENGTH))(INFIX_EXPRESSION_OPERATOR:>=)(SimpleName:additionalMetaSizeThatWontFitWithinMetaAtom))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:logger))(SimpleName:info)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))(VariableDeclarationStatement(SimpleType(SimpleName:Mp4FreeBox))(VariableDeclarationFragment(SimpleName:freeBox)(ClassInstanceCreation(SimpleType(SimpleName:Mp4FreeBox))(InfixExpression(ParenthesizedExpression(InfixExpression(SimpleName:topLevelFreeSize)(INFIX_EXPRESSION_OPERATOR:-)(QualifiedName:Mp4BoxHeader.HEADER_LENGTH)))(INFIX_EXPRESSION_OPERATOR:-)(SimpleName:additionalMetaSizeThatWontFitWithinMetaAtom)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fileWriteChannel))(SimpleName:write)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:freeBox))(SimpleName:getHeader)))(SimpleName:getHeaderData)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fileWriteChannel))(SimpleName:write)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:freeBox))(SimpleName:getData)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fileReadChannel))(SimpleName:position)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fileReadChannel))(SimpleName:position))(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:topLevelFreeSize)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fileWriteChannel))(SimpleName:transferFrom)(METHOD_INVOCATION_ARGUMENTS(SimpleName:fileReadChannel)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fileWriteChannel))(SimpleName:position))(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fileReadChannel))(SimpleName:size))(INFIX_EXPRESSION_OPERATOR:-)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fileReadChannel))(SimpleName:position)))))))(IfStatement(InfixExpression(SimpleName:topLevelFreeSize)(INFIX_EXPRESSION_OPERATOR:==)(SimpleName:additionalMetaSizeThatWontFitWithinMetaAtom))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:logger))(SimpleName:info)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fileReadChannel))(SimpleName:position)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fileReadChannel))(SimpleName:position))(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:topLevelFreeSize)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fileWriteChannel))(SimpleName:transferFrom)(METHOD_INVOCATION_ARGUMENTS(SimpleName:fileReadChannel)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fileWriteChannel))(SimpleName:position))(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fileReadChannel))(SimpleName:size))(INFIX_EXPRESSION_OPERATOR:-)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fileReadChannel))(SimpleName:position)))))))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:logger))(SimpleName:info)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fileWriteChannel))(SimpleName:transferFrom)(METHOD_INVOCATION_ARGUMENTS(SimpleName:fileReadChannel)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fileWriteChannel))(SimpleName:position))(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fileReadChannel))(SimpleName:size))(INFIX_EXPRESSION_OPERATOR:-)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fileReadChannel))(SimpleName:position))))))))))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:logger))(SimpleName:info)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fileWriteChannel))(SimpleName:transferFrom)(METHOD_INVOCATION_ARGUMENTS(SimpleName:fileReadChannel)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fileWriteChannel))(SimpleName:position))(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fileReadChannel))(SimpleName:size))(INFIX_EXPRESSION_OPERATOR:-)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fileReadChannel))(SimpleName:position)))))))))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fileReadChannel))(SimpleName:close)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:raf))(SimpleName:close)))(ExpressionStatement(MethodInvocation(SimpleName:checkFileWrittenCorrectly)(METHOD_INVOCATION_ARGUMENTS(SimpleName:rafTemp)(SimpleName:mdatHeader)(SimpleName:fileWriteChannel)(SimpleName:stco))))))))