(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:public)(SimpleType(SimpleName:Resource))(SimpleName:fetch)(SingleVariableDeclaration(Modifier:final)(PrimitiveType:boolean)(SimpleName:lastFetch))(SimpleType(SimpleName:Exception))(Block(IfStatement(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(MethodInvocation(METHOD_INVOCATION_RECEIVER(ThisExpression))(SimpleName:canCrawl)))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(FieldAccess(ThisExpression)(SimpleName:fetchedResource)))(SimpleName:addInnerURLs)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(ThisExpression))(SimpleName:getInnerURLs)(METHOD_INVOCATION_ARGUMENTS(NullLiteral))))))(ReturnStatement(FieldAccess(ThisExpression)(SimpleName:fetchedResource)))))(VariableDeclarationStatement(SimpleType(SimpleName:URLConnection))(VariableDeclarationFragment(SimpleName:urlConnection)(NullLiteral)))(TryStatement(Block(ExpressionStatement(Assignment(SimpleName:urlConnection)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(FieldAccess(ThisExpression)(SimpleName:fetchedResource)))(SimpleName:getURL)))(SimpleName:openConnection))))(IfStatement(SimpleName:lastFetch)(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(ThisExpression))(SimpleName:lastFetch)(METHOD_INVOCATION_ARGUMENTS(SimpleName:urlConnection)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:urlConnection))(SimpleName:setConnectTimeout)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:Fetcher.connectTimeout))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:urlConnection))(SimpleName:setReadTimeout)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:Fetcher.fetchTimeout))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:urlConnection))(SimpleName:connect)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(ThisExpression))(SimpleName:correctURL)(METHOD_INVOCATION_ARGUMENTS(SimpleName:urlConnection))))(VariableDeclarationStatement(Modifier:final)(SimpleType(SimpleName:InputStream))(VariableDeclarationFragment(SimpleName:copiedInputStream)(MethodInvocation(SimpleName:copyInputStream)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:urlConnection))(SimpleName:getInputStream))))))(VariableDeclarationStatement(Modifier:final)(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:charset)(MethodInvocation(METHOD_INVOCATION_RECEIVER(ThisExpression))(SimpleName:getCharset)(METHOD_INVOCATION_ARGUMENTS(SimpleName:copiedInputStream)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(FieldAccess(ThisExpression)(SimpleName:fetchedResource)))(SimpleName:setInputStream)(METHOD_INVOCATION_ARGUMENTS(SimpleName:copiedInputStream))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(FieldAccess(ThisExpression)(SimpleName:fetchedResource)))(SimpleName:setCharset)(METHOD_INVOCATION_ARGUMENTS(SimpleName:charset))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(FieldAccess(ThisExpression)(SimpleName:fetchedResource)))(SimpleName:addInnerURLs)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(ThisExpression))(SimpleName:getInnerURLs)(METHOD_INVOCATION_ARGUMENTS(SimpleName:charset))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(FieldAccess(ThisExpression)(SimpleName:fetchedResource)))(SimpleName:setContentType)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:urlConnection))(SimpleName:getContentType)))))(ReturnStatement(FieldAccess(ThisExpression)(SimpleName:fetchedResource))))(CatchClause(SingleVariableDeclaration(Modifier:final)(SimpleType(SimpleName:Exception))(SimpleName:e))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(ThisExpression))(SimpleName:treatFetchException)(METHOD_INVOCATION_ARGUMENTS(SimpleName:urlConnection)(SimpleName:e))))(ThrowStatement(SimpleName:e))))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(ThisExpression))(SimpleName:closeConnectionToResource)(METHOD_INVOCATION_ARGUMENTS(SimpleName:urlConnection))))))))))