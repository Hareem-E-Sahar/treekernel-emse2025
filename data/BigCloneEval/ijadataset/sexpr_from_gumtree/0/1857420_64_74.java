(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:public)(Modifier:synchronized)(PrimitiveType:void)(SimpleName:write)(SingleVariableDeclaration(SimpleType(SimpleName:Frame))(SimpleName:frame))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(ThisExpression))(SimpleName:updateWrite)))(IfStatement(InfixExpression(InfixExpression(FieldAccess(ThisExpression)(SimpleName:wo))(INFIX_EXPRESSION_OPERATOR:==)(FieldAccess(ThisExpression)(SimpleName:ro)))(INFIX_EXPRESSION_OPERATOR:&&)(FieldAccess(ThisExpression)(SimpleName:isReady)))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(ThisExpression))(SimpleName:updateRead)))))(ExpressionStatement(Assignment(ArrayAccess(SimpleName:buffer)(SimpleName:wo))(ASSIGNMENT_OPERATOR:=)(SimpleName:frame)))(IfStatement(InfixExpression(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(FieldAccess(ThisExpression)(SimpleName:isReady)))(INFIX_EXPRESSION_OPERATOR:&&)(InfixExpression(ParenthesizedExpression(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(ThisExpression))(SimpleName:writeIndex))(INFIX_EXPRESSION_OPERATOR:-)(MethodInvocation(METHOD_INVOCATION_RECEIVER(ThisExpression))(SimpleName:readIndex))))(INFIX_EXPRESSION_OPERATOR:>=)(SimpleName:delay)))(Block(ExpressionStatement(Assignment(FieldAccess(ThisExpression)(SimpleName:isReady))(ASSIGNMENT_OPERATOR:=)(BooleanLiteral:true)))(IfStatement(InfixExpression(SimpleName:listener)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:listener))(SimpleName:onReady))))))))))