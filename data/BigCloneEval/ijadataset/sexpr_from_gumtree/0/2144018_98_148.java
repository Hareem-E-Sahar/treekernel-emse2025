(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:private)(SimpleType(SimpleName:PathMatcherAndGroupParamNames))(SimpleName:parsePath)(SimpleType(SimpleName:RESTAnnotationException))(Block(VariableDeclarationStatement(Modifier:final)(ArrayType(SimpleType(SimpleName:LiteralValue))(Dimension))(VariableDeclarationFragment(SimpleName:annotationValue)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(SimpleName:getAnnotation)))(SimpleName:getValue))))(IfStatement(InfixExpression(QualifiedName:annotationValue.length)(INFIX_EXPRESSION_OPERATOR:!=)(NumberLiteral:1))(Block(ThrowStatement(ClassInstanceCreation(SimpleType(SimpleName:RESTAnnotationException))(QualifiedName:RESTAnnotationErrorCodes.RQST0001)))))(VariableDeclarationStatement(Modifier:final)(SimpleType(SimpleName:AtomicValue))(VariableDeclarationFragment(SimpleName:pathValue)(MethodInvocation(METHOD_INVOCATION_RECEIVER(ArrayAccess(SimpleName:annotationValue)(NumberLiteral:0)))(SimpleName:getValue))))(IfStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:pathValue))(SimpleName:getType))(INFIX_EXPRESSION_OPERATOR:!=)(QualifiedName:Type.STRING))(Block(ThrowStatement(ClassInstanceCreation(SimpleType(SimpleName:RESTAnnotationException))(QualifiedName:RESTAnnotationErrorCodes.RQST0002)))))(TryStatement(Block(VariableDeclarationStatement(Modifier:final)(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:pathStr)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:pathValue))(SimpleName:getStringValue))))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:pathStr))(SimpleName:isEmpty))(Block(ThrowStatement(ClassInstanceCreation(SimpleType(SimpleName:RESTAnnotationException))(QualifiedName:RESTAnnotationErrorCodes.RQST0003)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:mchPath))(SimpleName:reset)(METHOD_INVOCATION_ARGUMENTS(SimpleName:pathStr))))(IfStatement(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:mchPath))(SimpleName:matches)))(Block(ThrowStatement(ClassInstanceCreation(SimpleType(SimpleName:RESTAnnotationException))(QualifiedName:RESTAnnotationErrorCodes.RQST0004)))))(VariableDeclarationStatement(Modifier:final)(SimpleType(SimpleName:StringBuilder))(VariableDeclarationFragment(SimpleName:thisPathExprRegExp)(ClassInstanceCreation(SimpleType(SimpleName:StringBuilder)))))(VariableDeclarationStatement(Modifier:final)(ParameterizedType(SimpleType(SimpleName:List))(SimpleType(SimpleName:String)))(VariableDeclarationFragment(SimpleName:pathFnParams)(ClassInstanceCreation(ParameterizedType(SimpleType(SimpleName:ArrayList))(SimpleType(SimpleName:String))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:mchPathSegment))(SimpleName:reset)(METHOD_INVOCATION_ARGUMENTS(SimpleName:pathStr))))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:segmentCount)(NumberLiteral:0)))(VariableDeclarationStatement(Modifier:final)(ParameterizedType(SimpleType(SimpleName:Map))(SimpleType(SimpleName:Integer))(SimpleType(SimpleName:String)))(VariableDeclarationFragment(SimpleName:groupParamNames)(ClassInstanceCreation(ParameterizedType(SimpleType(SimpleName:HashMap))(SimpleType(SimpleName:Integer))(SimpleType(SimpleName:String))))))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:groupCount)(NumberLiteral:0)))(WhileStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:mchPathSegment))(SimpleName:find))(Block(VariableDeclarationStatement(Modifier:final)(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:pathSegment)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:pathStr))(SimpleName:substring)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:mchPathSegment))(SimpleName:start))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:mchPathSegment))(SimpleName:end))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:mtcFnParameter))(SimpleName:reset)(METHOD_INVOCATION_ARGUMENTS(SimpleName:pathSegment))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:thisPathExprRegExp))(SimpleName:append)(METHOD_INVOCATION_ARGUMENTS(SimpleName:URI_PATH_SEGMENT_DELIMITER))))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:mtcFnParameter))(SimpleName:matches))(Block(VariableDeclarationStatement(Modifier:final)(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:fnParamName)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:mtcFnParameter))(SimpleName:replaceFirst)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:pathFnParams))(SimpleName:add)(METHOD_INVOCATION_ARGUMENTS(SimpleName:fnParamName))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:thisPathExprRegExp))(SimpleName:append)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:thisPathExprRegExp))(SimpleName:append)(METHOD_INVOCATION_ARGUMENTS(SimpleName:ncPcharRegExp))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:thisPathExprRegExp))(SimpleName:append)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:groupParamNames))(SimpleName:put)(METHOD_INVOCATION_ARGUMENTS(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:++)(SimpleName:groupCount))(SimpleName:fnParamName)))))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:thisPathExprRegExp))(SimpleName:append)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:thisPathExprRegExp))(SimpleName:append)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Pattern))(SimpleName:quote)(METHOD_INVOCATION_ARGUMENTS(SimpleName:pathSegment))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:thisPathExprRegExp))(SimpleName:append)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))))(ExpressionStatement(PostfixExpression(SimpleName:segmentCount)(POSTFIX_EXPRESSION_OPERATOR:++)))))(ExpressionStatement(MethodInvocation(SimpleName:setPathSegmentCount)(METHOD_INVOCATION_ARGUMENTS(SimpleName:segmentCount))))(ExpressionStatement(MethodInvocation(SimpleName:checkFnDeclaresParameters)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(SimpleName:getAnnotation)))(SimpleName:getFunctionSignature))(SimpleName:pathFnParams))))(VariableDeclarationStatement(Modifier:final)(SimpleType(SimpleName:Pattern))(VariableDeclarationFragment(SimpleName:ptnThisPath)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Pattern))(SimpleName:compile)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:thisPathExprRegExp))(SimpleName:toString))))))(VariableDeclarationStatement(Modifier:final)(SimpleType(SimpleName:Matcher))(VariableDeclarationFragment(SimpleName:mtcThisPath)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ptnThisPath))(SimpleName:matcher)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))))(ReturnStatement(ClassInstanceCreation(SimpleType(SimpleName:PathMatcherAndGroupParamNames))(SimpleName:mtcThisPath)(SimpleName:groupParamNames))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:XPathException))(SimpleName:xpe))(Block(ThrowStatement(ClassInstanceCreation(SimpleType(SimpleName:RESTAnnotationException))(QualifiedName:RESTAnnotationErrorCodes.RQST0004)(SimpleName:xpe))))))))))