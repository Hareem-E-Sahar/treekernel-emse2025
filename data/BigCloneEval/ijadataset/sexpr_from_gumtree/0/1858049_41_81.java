(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(MarkerAnnotation(SimpleName:Override))(Modifier:protected)(SimpleType(SimpleName:Object))(SimpleName:decode)(SingleVariableDeclaration(Modifier:final)(SimpleType(SimpleName:ChannelHandlerContext))(SimpleName:ctx))(SingleVariableDeclaration(Modifier:final)(SimpleType(SimpleName:Channel))(SimpleName:channel))(SingleVariableDeclaration(Modifier:final)(SimpleType(SimpleName:ChannelBuffer))(SimpleName:in))(SingleVariableDeclaration(Modifier:final)(SimpleType(SimpleName:DecoderState))(SimpleName:state))(Block(SwitchStatement(SimpleName:state)(SwitchCase(SimpleName:GET_HEADER))(ExpressionStatement(Assignment(SimpleName:header)(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(SimpleType(SimpleName:RtmpHeader))(SimpleName:in)(SimpleName:incompleteHeaders))))(ExpressionStatement(Assignment(SimpleName:channelId)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:header))(SimpleName:getChannelId))))(IfStatement(InfixExpression(ArrayAccess(SimpleName:incompletePayloads)(SimpleName:channelId))(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(Block(ExpressionStatement(Assignment(ArrayAccess(SimpleName:incompleteHeaders)(SimpleName:channelId))(ASSIGNMENT_OPERATOR:=)(SimpleName:header)))(ExpressionStatement(Assignment(ArrayAccess(SimpleName:incompletePayloads)(SimpleName:channelId))(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ChannelBuffers))(SimpleName:buffer)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:header))(SimpleName:getSize))))))))(ExpressionStatement(Assignment(SimpleName:payload)(ASSIGNMENT_OPERATOR:=)(ArrayAccess(SimpleName:incompletePayloads)(SimpleName:channelId))))(ExpressionStatement(MethodInvocation(SimpleName:checkpoint)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:DecoderState.GET_PAYLOAD))))(SwitchCase(SimpleName:GET_PAYLOAD))(VariableDeclarationStatement(Modifier:final)(ArrayType(PrimitiveType:byte)(Dimension))(VariableDeclarationFragment(SimpleName:bytes)(ArrayCreation(ArrayType(PrimitiveType:byte)(Dimension(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Math))(SimpleName:min)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:payload))(SimpleName:writableBytes))(SimpleName:chunkSize))))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:in))(SimpleName:readBytes)(METHOD_INVOCATION_ARGUMENTS(SimpleName:bytes))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:payload))(SimpleName:writeBytes)(METHOD_INVOCATION_ARGUMENTS(SimpleName:bytes))))(ExpressionStatement(MethodInvocation(SimpleName:checkpoint)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:DecoderState.GET_HEADER))))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:payload))(SimpleName:writable))(Block(ReturnStatement(NullLiteral))))(ExpressionStatement(Assignment(ArrayAccess(SimpleName:incompletePayloads)(SimpleName:channelId))(ASSIGNMENT_OPERATOR:=)(NullLiteral)))(VariableDeclarationStatement(Modifier:final)(SimpleType(SimpleName:RtmpHeader))(VariableDeclarationFragment(SimpleName:prevHeader)(ArrayAccess(SimpleName:completedHeaders)(SimpleName:channelId))))(IfStatement(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:header))(SimpleName:isLarge)))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:header))(SimpleName:setTime)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:prevHeader))(SimpleName:getTime))(INFIX_EXPRESSION_OPERATOR:+)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:header))(SimpleName:getDeltaTime))))))))(VariableDeclarationStatement(Modifier:final)(SimpleType(SimpleName:RtmpMessage))(VariableDeclarationFragment(SimpleName:message)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:MessageType))(SimpleName:decode)(METHOD_INVOCATION_ARGUMENTS(SimpleName:header)(SimpleName:payload)))))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:logger))(SimpleName:isDebugEnabled))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:logger))(SimpleName:debug)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(SimpleName:message))))))(ExpressionStatement(Assignment(SimpleName:payload)(ASSIGNMENT_OPERATOR:=)(NullLiteral)))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:header))(SimpleName:isChunkSize))(Block(VariableDeclarationStatement(Modifier:final)(SimpleType(SimpleName:ChunkSize))(VariableDeclarationFragment(SimpleName:csMessage)(CastExpression(SimpleType(SimpleName:ChunkSize))(SimpleName:message))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:logger))(SimpleName:debug)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(SimpleName:csMessage))))(ExpressionStatement(Assignment(SimpleName:chunkSize)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:csMessage))(SimpleName:getChunkSize))))))(ExpressionStatement(Assignment(ArrayAccess(SimpleName:completedHeaders)(SimpleName:channelId))(ASSIGNMENT_OPERATOR:=)(SimpleName:header)))(ReturnStatement(SimpleName:message))(SwitchCase)(ThrowStatement(ClassInstanceCreation(SimpleType(SimpleName:RuntimeException))(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:state)))))))))