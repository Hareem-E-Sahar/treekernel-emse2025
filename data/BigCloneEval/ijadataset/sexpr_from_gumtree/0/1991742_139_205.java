(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:public)(PrimitiveType:void)(SimpleName:runTest)(Block(VariableDeclarationStatement(SimpleType(SimpleName:ClientConnectionManager))(VariableDeclarationFragment(SimpleName:ccm)(ClassInstanceCreation(SimpleType(SimpleName:ThreadSafeClientConnManager))(SimpleName:defaultParameters)(SimpleName:supportedSchemes))))(VariableDeclarationStatement(SimpleType(SimpleName:DefaultHttpClient))(VariableDeclarationFragment(SimpleName:client)(ClassInstanceCreation(SimpleType(SimpleName:DefaultHttpClient))(SimpleName:ccm)(SimpleName:defaultParameters))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:client))(SimpleName:setKeepAliveStrategy)(METHOD_INVOCATION_ARGUMENTS(ClassInstanceCreation(SimpleType(SimpleName:DefaultConnectionKeepAliveStrategy))))))(VariableDeclarationStatement(SimpleType(SimpleName:HttpEntity))(VariableDeclarationFragment(SimpleName:entity)(NullLiteral)))(VariableDeclarationStatement(ParameterizedType(SimpleType(SimpleName:ResponseHandler))(SimpleType(SimpleName:String)))(VariableDeclarationFragment(SimpleName:responseHandler)(NullLiteral)))(TryStatement(Block(VariableDeclarationStatement(SimpleType(SimpleName:BasicHttpContext))(VariableDeclarationFragment(SimpleName:localContext)(ClassInstanceCreation(SimpleType(SimpleName:BasicHttpContext)))))(VariableDeclarationStatement(SimpleType(SimpleName:CookieStore))(VariableDeclarationFragment(SimpleName:cookieStore)(ClassInstanceCreation(SimpleType(SimpleName:BasicCookieStore)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:localContext))(SimpleName:setAttribute)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:ClientContext.COOKIE_STORE)(SimpleName:cookieStore))))(VariableDeclarationStatement(SimpleType(SimpleName:Header))(VariableDeclarationFragment(SimpleName:sessionHeader)(NullLiteral)))(IfStatement(InfixExpression(FieldAccess(ThisExpression)(SimpleName:loginAsUrl))(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:loginAsUri)(InfixExpression(FieldAccess(ThisExpression)(SimpleName:host))(INFIX_EXPRESSION_OPERATOR:+)(FieldAccess(ThisExpression)(SimpleName:loginAsUrl)))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:loginAsParamString)(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(FieldAccess(ThisExpression)(SimpleName:loginAsUserParam))(StringLiteral:<STR>)(FieldAccess(ThisExpression)(SimpleName:loginAsPasswordParam)))))(VariableDeclarationStatement(SimpleType(SimpleName:HttpGet))(VariableDeclarationFragment(SimpleName:req2)(ClassInstanceCreation(SimpleType(SimpleName:HttpGet))(InfixExpression(SimpleName:loginAsUri)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:loginAsParamString)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(QualifiedName:System.out))(SimpleName:println)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:loginAsUri)(SimpleName:loginAsParamString)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:req2))(SimpleName:setHeader)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(StringLiteral:<STR>))))(VariableDeclarationStatement(SimpleType(SimpleName:HttpResponse))(VariableDeclarationFragment(SimpleName:rsp)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:client))(SimpleName:execute)(METHOD_INVOCATION_ARGUMENTS(SimpleName:req2)(SimpleName:localContext)))))(VariableDeclarationStatement(ArrayType(SimpleType(SimpleName:Header))(Dimension))(VariableDeclarationFragment(SimpleName:headers)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:rsp))(SimpleName:getAllHeaders))))(ForStatement(VariableDeclarationExpression(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:i)(NumberLiteral:0)))(InfixExpression(SimpleName:i)(INFIX_EXPRESSION_OPERATOR:<)(QualifiedName:headers.length))(PostfixExpression(SimpleName:i)(POSTFIX_EXPRESSION_OPERATOR:++))(Block(VariableDeclarationStatement(SimpleType(SimpleName:Header))(VariableDeclarationFragment(SimpleName:hdr)(ArrayAccess(SimpleName:headers)(SimpleName:i))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:headerValue)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:hdr))(SimpleName:getValue))))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:headerValue))(SimpleName:startsWith)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))(Block(ExpressionStatement(Assignment(SimpleName:sessionHeader)(ASSIGNMENT_OPERATOR:=)(SimpleName:hdr)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(QualifiedName:System.out))(SimpleName:println)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:hdr))(SimpleName:getName))(StringLiteral:<STR>)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:hdr))(SimpleName:getValue))))))))(VariableDeclarationStatement(ParameterizedType(SimpleType(SimpleName:List))(SimpleType(SimpleName:Cookie)))(VariableDeclarationFragment(SimpleName:cookies)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:cookieStore))(SimpleName:getCookies))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(QualifiedName:System.out))(SimpleName:println)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:cookies))(SimpleName:size))))))(ForStatement(VariableDeclarationExpression(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:i)(NumberLiteral:0)))(InfixExpression(SimpleName:i)(INFIX_EXPRESSION_OPERATOR:<)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:cookies))(SimpleName:size)))(PostfixExpression(SimpleName:i)(POSTFIX_EXPRESSION_OPERATOR:++))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(QualifiedName:System.out))(SimpleName:println)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:cookies))(SimpleName:get)(METHOD_INVOCATION_ARGUMENTS(SimpleName:i)))))))))))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:HttpHandleMode))(SimpleName:equals)(METHOD_INVOCATION_ARGUMENTS(FieldAccess(ThisExpression)(SimpleName:responseHandlerMode))))(Block)(Block(ExpressionStatement(Assignment(SimpleName:responseHandler)(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(SimpleType(SimpleName:JsonResponseHandler))(ThisExpression))))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:paramString)(MethodInvocation(SimpleName:urlEncodeArgs)(METHOD_INVOCATION_ARGUMENTS(FieldAccess(ThisExpression)(SimpleName:inMap))(BooleanLiteral:false)))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:thisUri)(NullLiteral)))(IfStatement(InfixExpression(SimpleName:sessionHeader)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:sessionHeaderValue)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:sessionHeader))(SimpleName:getValue))))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:pos1)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:sessionHeaderValue))(SimpleName:indexOf)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:pos2)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:sessionHeaderValue))(SimpleName:indexOf)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:sessionId)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:sessionHeaderValue))(SimpleName:substring)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(SimpleName:pos1)(INFIX_EXPRESSION_OPERATOR:+)(NumberLiteral:1))(SimpleName:pos2)))))(ExpressionStatement(Assignment(SimpleName:thisUri)(ASSIGNMENT_OPERATOR:=)(InfixExpression(FieldAccess(ThisExpression)(SimpleName:host))(INFIX_EXPRESSION_OPERATOR:+)(FieldAccess(ThisExpression)(SimpleName:requestUrl))(StringLiteral:<STR>)(SimpleName:sessionId)(StringLiteral:<STR>)(SimpleName:paramString)))))(Block(ExpressionStatement(Assignment(SimpleName:thisUri)(ASSIGNMENT_OPERATOR:=)(InfixExpression(FieldAccess(ThisExpression)(SimpleName:host))(INFIX_EXPRESSION_OPERATOR:+)(FieldAccess(ThisExpression)(SimpleName:requestUrl))(StringLiteral:<STR>)(SimpleName:paramString))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(QualifiedName:System.out))(SimpleName:println)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:thisUri)))))(VariableDeclarationStatement(SimpleType(SimpleName:HttpGet))(VariableDeclarationFragment(SimpleName:req)(ClassInstanceCreation(SimpleType(SimpleName:HttpGet))(SimpleName:thisUri))))(IfStatement(InfixExpression(SimpleName:sessionHeader)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:req))(SimpleName:setHeader)(METHOD_INVOCATION_ARGUMENTS(SimpleName:sessionHeader))))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:responseBody)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:client))(SimpleName:execute)(METHOD_INVOCATION_ARGUMENTS(SimpleName:req)(SimpleName:responseHandler)(SimpleName:localContext))))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:HttpResponseException))(SimpleName:e))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(QualifiedName:System.out))(SimpleName:println)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:e))(SimpleName:getMessage)))))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:IOException))(SimpleName:e))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(QualifiedName:System.out))(SimpleName:println)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:e))(SimpleName:getMessage)))))))(Block(TryStatement(Block(IfStatement(InfixExpression(SimpleName:entity)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:entity))(SimpleName:consumeContent)))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:IOException))(SimpleName:e))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(QualifiedName:System.out))(SimpleName:println)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:e))(SimpleName:getMessage)))))))))))(ReturnStatement)))))