(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:private)(PrimitiveType:void)(SimpleName:start)(Block(ExpressionStatement(Assignment(SimpleName:objectpath)(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(SimpleType(SimpleName:ObjectPath))(SimpleName:file))))(IfStatement(InfixExpression(SimpleName:localfile)(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(Block(ExpressionStatement(Assignment(SimpleName:localfile)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:objectpath))(SimpleName:getName))))))(VariableDeclarationStatement(PrimitiveType:long)(VariableDeclarationFragment(SimpleName:start))(VariableDeclarationFragment(SimpleName:end)))(TryStatement(Block(ExpressionStatement(Assignment(SimpleName:esu)(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(SimpleType(SimpleName:EsuRestApi))(SimpleName:host)(SimpleName:port)(SimpleName:uid)(SimpleName:secret))))(VariableDeclarationStatement(SimpleType(SimpleName:MetadataList))(VariableDeclarationFragment(SimpleName:smeta)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:esu))(SimpleName:getSystemMetadata)(METHOD_INVOCATION_ARGUMENTS(SimpleName:objectpath)(NullLiteral)))))(ExpressionStatement(Assignment(SimpleName:filesize)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Long))(SimpleName:parseLong)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:smeta))(SimpleName:getMetadata)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))(SimpleName:getValue))))))(ExpressionStatement(Assignment(SimpleName:progress)(ASSIGNMENT_OPERATOR:=)(NumberLiteral:0)))(ExpressionStatement(Assignment(SimpleName:start)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:System))(SimpleName:currentTimeMillis))))(VariableDeclarationStatement(SimpleType(SimpleName:File))(VariableDeclarationFragment(SimpleName:outFile)(ClassInstanceCreation(SimpleType(SimpleName:File))(SimpleName:localfile))))(VariableDeclarationStatement(SimpleType(SimpleName:RandomAccessFile))(VariableDeclarationFragment(SimpleName:raf)(ClassInstanceCreation(SimpleType(SimpleName:RandomAccessFile))(SimpleName:outFile)(StringLiteral:<STR>))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:raf))(SimpleName:setLength)(METHOD_INVOCATION_ARGUMENTS(SimpleName:filesize))))(VariableDeclarationStatement(SimpleType(SimpleName:FileChannel))(VariableDeclarationFragment(SimpleName:channel)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:raf))(SimpleName:getChannel))))(VariableDeclarationStatement(PrimitiveType:long)(VariableDeclarationFragment(SimpleName:blockcount)(InfixExpression(SimpleName:filesize)(INFIX_EXPRESSION_OPERATOR:/)(SimpleName:blocksize))))(IfStatement(InfixExpression(InfixExpression(SimpleName:filesize)(INFIX_EXPRESSION_OPERATOR:%)(SimpleName:blocksize))(INFIX_EXPRESSION_OPERATOR:!=)(NumberLiteral:0))(Block(ExpressionStatement(PostfixExpression(SimpleName:blockcount)(POSTFIX_EXPRESSION_OPERATOR:++)))))(VariableDeclarationStatement(ParameterizedType(SimpleType(SimpleName:BlockingQueue))(SimpleType(SimpleName:Runnable)))(VariableDeclarationFragment(SimpleName:queue)(ClassInstanceCreation(ParameterizedType(SimpleType(SimpleName:LinkedBlockingQueue))(SimpleType(SimpleName:Runnable))))))(VariableDeclarationStatement(SimpleType(SimpleName:ThreadPoolExecutor))(VariableDeclarationFragment(SimpleName:pool)(ClassInstanceCreation(SimpleType(SimpleName:ThreadPoolExecutor))(SimpleName:threads)(SimpleName:threads)(NumberLiteral:15)(QualifiedName:TimeUnit.SECONDS)(SimpleName:queue))))(ExpressionStatement(Assignment(SimpleName:blocksRemaining)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Collections))(SimpleName:synchronizedSet)(METHOD_INVOCATION_ARGUMENTS(ClassInstanceCreation(ParameterizedType(SimpleType(SimpleName:HashSet))(SimpleType(SimpleName:DownloadBlock))))))))(ForStatement(VariableDeclarationExpression(PrimitiveType:long)(VariableDeclarationFragment(SimpleName:i)(NumberLiteral:0)))(InfixExpression(SimpleName:i)(INFIX_EXPRESSION_OPERATOR:<)(SimpleName:blockcount))(PostfixExpression(SimpleName:i)(POSTFIX_EXPRESSION_OPERATOR:++))(Block(VariableDeclarationStatement(PrimitiveType:long)(VariableDeclarationFragment(SimpleName:offset)(InfixExpression(SimpleName:i)(INFIX_EXPRESSION_OPERATOR:*)(SimpleName:blocksize))))(VariableDeclarationStatement(PrimitiveType:long)(VariableDeclarationFragment(SimpleName:size)(SimpleName:blocksize)))(IfStatement(InfixExpression(InfixExpression(SimpleName:offset)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:size))(INFIX_EXPRESSION_OPERATOR:>)(SimpleName:filesize))(Block(ExpressionStatement(Assignment(SimpleName:size)(ASSIGNMENT_OPERATOR:=)(InfixExpression(SimpleName:filesize)(INFIX_EXPRESSION_OPERATOR:-)(SimpleName:offset))))))(VariableDeclarationStatement(SimpleType(SimpleName:Extent))(VariableDeclarationFragment(SimpleName:extent)(ClassInstanceCreation(SimpleType(SimpleName:Extent))(SimpleName:offset)(SimpleName:size))))(VariableDeclarationStatement(SimpleType(SimpleName:DownloadBlock))(VariableDeclarationFragment(SimpleName:b)(ClassInstanceCreation(SimpleType(SimpleName:DownloadBlock)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:b))(SimpleName:setChannel)(METHOD_INVOCATION_ARGUMENTS(SimpleName:channel))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:b))(SimpleName:setEsu)(METHOD_INVOCATION_ARGUMENTS(SimpleName:esu))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:b))(SimpleName:setExtent)(METHOD_INVOCATION_ARGUMENTS(SimpleName:extent))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:b))(SimpleName:setListener)(METHOD_INVOCATION_ARGUMENTS(ThisExpression))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:b))(SimpleName:setPath)(METHOD_INVOCATION_ARGUMENTS(SimpleName:objectpath))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:blocksRemaining))(SimpleName:add)(METHOD_INVOCATION_ARGUMENTS(SimpleName:b))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:pool))(SimpleName:submit)(METHOD_INVOCATION_ARGUMENTS(SimpleName:b))))))(WhileStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:blocksRemaining))(SimpleName:size))(INFIX_EXPRESSION_OPERATOR:>)(NumberLiteral:0))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Thread))(SimpleName:sleep)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:500))))))(ExpressionStatement(Assignment(SimpleName:end)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:System))(SimpleName:currentTimeMillis))))(VariableDeclarationStatement(PrimitiveType:long)(VariableDeclarationFragment(SimpleName:secs)(ParenthesizedExpression(InfixExpression(ParenthesizedExpression(InfixExpression(SimpleName:end)(INFIX_EXPRESSION_OPERATOR:-)(SimpleName:start)))(INFIX_EXPRESSION_OPERATOR:/)(NumberLiteral:1000)))))(VariableDeclarationStatement(PrimitiveType:long)(VariableDeclarationFragment(SimpleName:rate)(InfixExpression(SimpleName:filesize)(INFIX_EXPRESSION_OPERATOR:/)(SimpleName:secs))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(QualifiedName:System.out))(SimpleName:println)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(QualifiedName:System.out))(SimpleName:println)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:filesize)(StringLiteral:<STR>)(SimpleName:secs)(StringLiteral:<STR>)(SimpleName:rate)(StringLiteral:<STR>)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:System))(SimpleName:exit)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:0)))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:Exception))(SimpleName:e))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:e))(SimpleName:printStackTrace)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:System))(SimpleName:exit)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:1)))))))))))