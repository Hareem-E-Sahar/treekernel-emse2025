(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:public)(Modifier:synchronized)(SimpleType(SimpleName:LockInfo))(SimpleName:getLockInfo)(Block(VariableDeclarationStatement(SimpleType(SimpleName:LockInfo))(VariableDeclarationFragment(SimpleName:info)))(VariableDeclarationStatement(ArrayType(SimpleType(SimpleName:String))(Dimension))(VariableDeclarationFragment(SimpleName:readers)(ArrayCreation(ArrayType(SimpleType(SimpleName:String))(Dimension(NumberLiteral:0))))))(IfStatement(InfixExpression(SimpleName:outstandingReadLocks)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(ExpressionStatement(Assignment(SimpleName:readers)(ASSIGNMENT_OPERATOR:=)(ArrayCreation(ArrayType(SimpleType(SimpleName:String))(Dimension(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:outstandingReadLocks))(SimpleName:size)))))))(ForStatement(VariableDeclarationExpression(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:i)(NumberLiteral:0)))(InfixExpression(SimpleName:i)(INFIX_EXPRESSION_OPERATOR:<)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:outstandingReadLocks))(SimpleName:size)))(PostfixExpression(SimpleName:i)(POSTFIX_EXPRESSION_OPERATOR:++))(Block(VariableDeclarationStatement(SimpleType(SimpleName:LockOwner))(VariableDeclarationFragment(SimpleName:owner)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:outstandingReadLocks))(SimpleName:get)(METHOD_INVOCATION_ARGUMENTS(SimpleName:i)))))(ExpressionStatement(Assignment(ArrayAccess(SimpleName:readers)(SimpleName:i))(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:owner))(SimpleName:getOwner)))(SimpleName:getName))))))))(IfStatement(InfixExpression(SimpleName:writeLockedThread)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(ExpressionStatement(Assignment(SimpleName:info)(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(SimpleType(SimpleName:LockInfo))(QualifiedName:LockInfo.RESOURCE_LOCK)(QualifiedName:LockInfo.WRITE_LOCK)(MethodInvocation(SimpleName:getId))(ArrayCreation(ArrayType(SimpleType(SimpleName:String))(Dimension))(ArrayInitializer(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:writeLockedThread))(SimpleName:getName)))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:info))(SimpleName:setReadLocks)(METHOD_INVOCATION_ARGUMENTS(SimpleName:readers)))))(Block(ExpressionStatement(Assignment(SimpleName:info)(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(SimpleType(SimpleName:LockInfo))(QualifiedName:LockInfo.RESOURCE_LOCK)(QualifiedName:LockInfo.READ_LOCK)(MethodInvocation(SimpleName:getId))(SimpleName:readers))))))(IfStatement(InfixExpression(SimpleName:waitingForWriteLock)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:waitingForWrite)(Dimension)(ArrayCreation(ArrayType(SimpleType(SimpleName:String))(Dimension(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:waitingForWriteLock))(SimpleName:size)))))))(ForStatement(VariableDeclarationExpression(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:i)(NumberLiteral:0)))(InfixExpression(SimpleName:i)(INFIX_EXPRESSION_OPERATOR:<)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:waitingForWriteLock))(SimpleName:size)))(PostfixExpression(SimpleName:i)(POSTFIX_EXPRESSION_OPERATOR:++))(Block(ExpressionStatement(Assignment(ArrayAccess(SimpleName:waitingForWrite)(SimpleName:i))(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:waitingForWriteLock))(SimpleName:get)(METHOD_INVOCATION_ARGUMENTS(SimpleName:i))))(SimpleName:getThread)))(SimpleName:getName))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:info))(SimpleName:setWaitingForWrite)(METHOD_INVOCATION_ARGUMENTS(SimpleName:waitingForWrite))))))(ReturnStatement(SimpleName:info))))))