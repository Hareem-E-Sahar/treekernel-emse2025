(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:public)(SimpleType(SimpleName:HTMLDocument))(SimpleName:handleURL)(SingleVariableDeclaration(SimpleType(SimpleName:String))(SimpleName:suburl))(SingleVariableDeclaration(SimpleType(SimpleName:HTTPSession))(SimpleName:sess1))(SingleVariableDeclaration(SimpleType(SimpleName:HTTPRequestHeader))(SimpleName:head))(SimpleType(SimpleName:WebMailException))(SimpleType(SimpleName:ServletException))(Block(IfStatement(InfixExpression(SimpleName:sess1)(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(Block(ThrowStatement(ClassInstanceCreation(SimpleType(SimpleName:WebMailException))(StringLiteral:<STR>)))))(VariableDeclarationStatement(SimpleType(SimpleName:UserSession))(VariableDeclarationFragment(SimpleName:session)(CastExpression(SimpleType(SimpleName:UserSession))(SimpleName:sess1))))(VariableDeclarationStatement(SimpleType(SimpleName:UserData))(VariableDeclarationFragment(SimpleName:user)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:session))(SimpleName:getUser))))(VariableDeclarationStatement(SimpleType(SimpleName:HTMLDocument))(VariableDeclarationFragment(SimpleName:content)))(VariableDeclarationStatement(SimpleType(SimpleName:Locale))(VariableDeclarationFragment(SimpleName:locale)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:user))(SimpleName:getPreferredLocale))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:session))(SimpleName:storeMessage)(METHOD_INVOCATION_ARGUMENTS(SimpleName:head))))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:head))(SimpleName:isContentSet)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))(Block(TryStatement(Block(VariableDeclarationStatement(SimpleType(SimpleName:MimeMessage))(VariableDeclarationFragment(SimpleName:msg)(ClassInstanceCreation(SimpleType(SimpleName:MimeMessage))(SimpleName:mailsession))))(VariableDeclarationStatement(SimpleType(SimpleName:Address))(VariableDeclarationFragment(SimpleName:from)(Dimension)(ArrayCreation(ArrayType(SimpleType(SimpleName:Address))(Dimension(NumberLiteral:1))))))(TryStatement(Block(ExpressionStatement(Assignment(ArrayAccess(SimpleName:from)(NumberLiteral:0))(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(SimpleType(SimpleName:InternetAddress))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:TranscodeUtil))(SimpleName:transcodeThenEncodeByLocale)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:session))(SimpleName:getUser)))(SimpleName:getEmail))(NullLiteral)(SimpleName:locale)))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:TranscodeUtil))(SimpleName:transcodeThenEncodeByLocale)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:session))(SimpleName:getUser)))(SimpleName:getFullName))(NullLiteral)(SimpleName:locale)))))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:UnsupportedEncodingException))(SimpleName:e))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:store))(SimpleName:getLogger)))(SimpleName:log)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:Logger.LOG_WARN)(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:e))(SimpleName:getMessage))))))(ExpressionStatement(Assignment(ArrayAccess(SimpleName:from)(NumberLiteral:0))(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(SimpleType(SimpleName:InternetAddress))(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:session))(SimpleName:getUser)))(SimpleName:getEmail))(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:session))(SimpleName:getUser)))(SimpleName:getFullName))))))))(VariableDeclarationStatement(SimpleType(SimpleName:StringTokenizer))(VariableDeclarationFragment(SimpleName:t)))(TryStatement(Block(ExpressionStatement(Assignment(SimpleName:t)(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(SimpleType(SimpleName:StringTokenizer))(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:TranscodeUtil))(SimpleName:transcodeThenEncodeByLocale)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:head))(SimpleName:getContent)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))(NullLiteral)(SimpleName:locale))))(SimpleName:trim))(StringLiteral:<STR>)))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:UnsupportedEncodingException))(SimpleName:e))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:store))(SimpleName:getLogger)))(SimpleName:log)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:Logger.LOG_WARN)(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:e))(SimpleName:getMessage))))))(ExpressionStatement(Assignment(SimpleName:t)(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(SimpleType(SimpleName:StringTokenizer))(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:head))(SimpleName:getContent)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))(SimpleName:trim))(StringLiteral:<STR>)))))))(IfStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:t))(SimpleName:countTokens))(INFIX_EXPRESSION_OPERATOR:<)(NumberLiteral:1))(Block(ThrowStatement(ClassInstanceCreation(SimpleType(SimpleName:MessagingException))(StringLiteral:<STR>)))))(VariableDeclarationStatement(SimpleType(SimpleName:Address))(VariableDeclarationFragment(SimpleName:to)(Dimension)(ArrayCreation(ArrayType(SimpleType(SimpleName:Address))(Dimension(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:t))(SimpleName:countTokens)))))))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:i)(NumberLiteral:0)))(WhileStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:t))(SimpleName:hasMoreTokens))(Block(ExpressionStatement(Assignment(ArrayAccess(SimpleName:to)(SimpleName:i))(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(SimpleType(SimpleName:InternetAddress))(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:t))(SimpleName:nextToken)))(SimpleName:trim)))))(ExpressionStatement(PostfixExpression(SimpleName:i)(POSTFIX_EXPRESSION_OPERATOR:++)))))(TryStatement(Block(ExpressionStatement(Assignment(SimpleName:t)(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(SimpleType(SimpleName:StringTokenizer))(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:TranscodeUtil))(SimpleName:transcodeThenEncodeByLocale)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:head))(SimpleName:getContent)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))(NullLiteral)(SimpleName:locale))))(SimpleName:trim))(StringLiteral:<STR>)))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:UnsupportedEncodingException))(SimpleName:e))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:store))(SimpleName:getLogger)))(SimpleName:log)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:Logger.LOG_WARN)(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:e))(SimpleName:getMessage))))))(ExpressionStatement(Assignment(SimpleName:t)(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(SimpleType(SimpleName:StringTokenizer))(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:head))(SimpleName:getContent)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))(SimpleName:trim))(StringLiteral:<STR>)))))))(VariableDeclarationStatement(SimpleType(SimpleName:Address))(VariableDeclarationFragment(SimpleName:cc)(Dimension)(ArrayCreation(ArrayType(SimpleType(SimpleName:Address))(Dimension(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:t))(SimpleName:countTokens)))))))(ExpressionStatement(Assignment(SimpleName:i)(ASSIGNMENT_OPERATOR:=)(NumberLiteral:0)))(WhileStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:t))(SimpleName:hasMoreTokens))(Block(ExpressionStatement(Assignment(ArrayAccess(SimpleName:cc)(SimpleName:i))(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(SimpleType(SimpleName:InternetAddress))(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:t))(SimpleName:nextToken)))(SimpleName:trim)))))(ExpressionStatement(PostfixExpression(SimpleName:i)(POSTFIX_EXPRESSION_OPERATOR:++)))))(TryStatement(Block(ExpressionStatement(Assignment(SimpleName:t)(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(SimpleType(SimpleName:StringTokenizer))(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:TranscodeUtil))(SimpleName:transcodeThenEncodeByLocale)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:head))(SimpleName:getContent)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))(NullLiteral)(SimpleName:locale))))(SimpleName:trim))(StringLiteral:<STR>)))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:UnsupportedEncodingException))(SimpleName:e))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:store))(SimpleName:getLogger)))(SimpleName:log)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:Logger.LOG_WARN)(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:e))(SimpleName:getMessage))))))(ExpressionStatement(Assignment(SimpleName:t)(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(SimpleType(SimpleName:StringTokenizer))(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:head))(SimpleName:getContent)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))(SimpleName:trim))(StringLiteral:<STR>)))))))(VariableDeclarationStatement(SimpleType(SimpleName:Address))(VariableDeclarationFragment(SimpleName:bcc)(Dimension)(ArrayCreation(ArrayType(SimpleType(SimpleName:Address))(Dimension(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:t))(SimpleName:countTokens)))))))(ExpressionStatement(Assignment(SimpleName:i)(ASSIGNMENT_OPERATOR:=)(NumberLiteral:0)))(WhileStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:t))(SimpleName:hasMoreTokens))(Block(ExpressionStatement(Assignment(ArrayAccess(SimpleName:bcc)(SimpleName:i))(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(SimpleType(SimpleName:InternetAddress))(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:t))(SimpleName:nextToken)))(SimpleName:trim)))))(ExpressionStatement(PostfixExpression(SimpleName:i)(POSTFIX_EXPRESSION_OPERATOR:++)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:session))(SimpleName:setSent)(METHOD_INVOCATION_ARGUMENTS(BooleanLiteral:false))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:msg))(SimpleName:addFrom)(METHOD_INVOCATION_ARGUMENTS(SimpleName:from))))(IfStatement(InfixExpression(QualifiedName:to.length)(INFIX_EXPRESSION_OPERATOR:>)(NumberLiteral:0))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:msg))(SimpleName:addRecipients)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:Message.RecipientType.TO)(SimpleName:to))))))(IfStatement(InfixExpression(QualifiedName:cc.length)(INFIX_EXPRESSION_OPERATOR:>)(NumberLiteral:0))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:msg))(SimpleName:addRecipients)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:Message.RecipientType.CC)(SimpleName:cc))))))(IfStatement(InfixExpression(QualifiedName:bcc.length)(INFIX_EXPRESSION_OPERATOR:>)(NumberLiteral:0))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:msg))(SimpleName:addRecipients)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:Message.RecipientType.BCC)(SimpleName:bcc))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:msg))(SimpleName:addHeader)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:WebMailServer))(SimpleName:getVersion))(INFIX_EXPRESSION_OPERATOR:+)(StringLiteral:<STR>)(MethodInvocation(SimpleName:getName))(StringLiteral:<STR>)(MethodInvocation(SimpleName:getVersion))))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:subject)(NullLiteral)))(IfStatement(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:head))(SimpleName:isContentSet)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))(Block(ExpressionStatement(Assignment(SimpleName:subject)(ASSIGNMENT_OPERATOR:=)(StringLiteral:<STR>))))(Block(TryStatement(Block(ExpressionStatement(Assignment(SimpleName:subject)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:TranscodeUtil))(SimpleName:transcodeThenEncodeByLocale)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:head))(SimpleName:getContent)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))(StringLiteral:<STR>)(SimpleName:locale))))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:UnsupportedEncodingException))(SimpleName:e))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:store))(SimpleName:getLogger)))(SimpleName:log)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:Logger.LOG_WARN)(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:e))(SimpleName:getMessage))))))(ExpressionStatement(Assignment(SimpleName:subject)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:head))(SimpleName:getContent)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:msg))(SimpleName:addHeader)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(SimpleName:subject))))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:head))(SimpleName:isContentSet)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:msg))(SimpleName:addHeader)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:TranscodeUtil))(SimpleName:transcodeThenEncodeByLocale)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:head))(SimpleName:getContent)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))(StringLiteral:<STR>)(SimpleName:locale))))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:msg))(SimpleName:setSentDate)(METHOD_INVOCATION_ARGUMENTS(ClassInstanceCreation(SimpleType(SimpleName:Date))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:System))(SimpleName:currentTimeMillis))))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:contnt)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:head))(SimpleName:getContent)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:charset)(StringLiteral:<STR>)))(VariableDeclarationStatement(SimpleType(SimpleName:MimeMultipart))(VariableDeclarationFragment(SimpleName:cont)(ClassInstanceCreation(SimpleType(SimpleName:MimeMultipart)))))(VariableDeclarationStatement(SimpleType(SimpleName:MimeBodyPart))(VariableDeclarationFragment(SimpleName:txt)(ClassInstanceCreation(SimpleType(SimpleName:MimeBodyPart)))))(ExpressionStatement(Assignment(SimpleName:contnt)(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(SimpleType(SimpleName:String))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:contnt))(SimpleName:getBytes)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))(StringLiteral:<STR>))))(IfStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:locale))(SimpleName:getLanguage)))(SimpleName:equals)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))(INFIX_EXPRESSION_OPERATOR:&&)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:locale))(SimpleName:getCountry)))(SimpleName:equals)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:txt))(SimpleName:setText)(METHOD_INVOCATION_ARGUMENTS(SimpleName:contnt)(StringLiteral:<STR>))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:txt))(SimpleName:setHeader)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(StringLiteral:<STR>))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:txt))(SimpleName:setHeader)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(StringLiteral:<STR>)))))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:txt))(SimpleName:setText)(METHOD_INVOCATION_ARGUMENTS(SimpleName:contnt)(StringLiteral:<STR>))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:txt))(SimpleName:setHeader)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(StringLiteral:<STR>))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:txt))(SimpleName:setHeader)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(StringLiteral:<STR>))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:cont))(SimpleName:addBodyPart)(METHOD_INVOCATION_ARGUMENTS(SimpleName:txt))))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:store))(SimpleName:getConfig)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))(SimpleName:equals)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))(Block(VariableDeclarationStatement(SimpleType(SimpleName:MimeBodyPart))(VariableDeclarationFragment(SimpleName:adv)(ClassInstanceCreation(SimpleType(SimpleName:MimeBodyPart)))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:file)(StringLiteral:<STR>)))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:store))(SimpleName:getConfig)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))(SimpleName:startsWith)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))(Block(ExpressionStatement(Assignment(SimpleName:file)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:store))(SimpleName:getConfig)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))))(Block(ExpressionStatement(Assignment(SimpleName:file)(ASSIGNMENT_OPERATOR:=)(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:parent))(SimpleName:getProperty)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))(INFIX_EXPRESSION_OPERATOR:+)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:System))(SimpleName:getProperty)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:store))(SimpleName:getConfig)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:advcont)(StringLiteral:<STR>)))(TryStatement(Block(VariableDeclarationStatement(SimpleType(SimpleName:BufferedReader))(VariableDeclarationFragment(SimpleName:fin)(ClassInstanceCreation(SimpleType(SimpleName:BufferedReader))(ClassInstanceCreation(SimpleType(SimpleName:FileReader))(SimpleName:file)))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:line)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fin))(SimpleName:readLine))))(WhileStatement(InfixExpression(InfixExpression(SimpleName:line)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(INFIX_EXPRESSION_OPERATOR:&&)(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:line))(SimpleName:equals)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))))(Block(ExpressionStatement(Assignment(SimpleName:advcont)(ASSIGNMENT_OPERATOR:+=)(InfixExpression(SimpleName:line)(INFIX_EXPRESSION_OPERATOR:+)(StringLiteral:<STR>))))(ExpressionStatement(Assignment(SimpleName:line)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fin))(SimpleName:readLine))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fin))(SimpleName:close))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:IOException))(SimpleName:ex))(Block)))(IfStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:locale))(SimpleName:getLanguage)))(SimpleName:equals)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))(INFIX_EXPRESSION_OPERATOR:&&)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:locale))(SimpleName:getCountry)))(SimpleName:equals)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))(Block(ExpressionStatement(Assignment(SimpleName:advcont)(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(SimpleType(SimpleName:String))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:advcont))(SimpleName:getBytes))(StringLiteral:<STR>))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:adv))(SimpleName:setText)(METHOD_INVOCATION_ARGUMENTS(SimpleName:advcont)(StringLiteral:<STR>))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:adv))(SimpleName:setHeader)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(StringLiteral:<STR>))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:adv))(SimpleName:setHeader)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(StringLiteral:<STR>)))))(Block(ExpressionStatement(Assignment(SimpleName:advcont)(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(SimpleType(SimpleName:String))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:advcont))(SimpleName:getBytes))(StringLiteral:<STR>))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:adv))(SimpleName:setText)(METHOD_INVOCATION_ARGUMENTS(SimpleName:advcont)(StringLiteral:<STR>))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:adv))(SimpleName:setHeader)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(StringLiteral:<STR>))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:adv))(SimpleName:setHeader)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(StringLiteral:<STR>))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:cont))(SimpleName:addBodyPart)(METHOD_INVOCATION_ARGUMENTS(SimpleName:adv))))))(VariableDeclarationStatement(SimpleType(SimpleName:Enumeration))(VariableDeclarationFragment(SimpleName:atts)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:session))(SimpleName:getAttachments)))(SimpleName:keys))))(WhileStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:atts))(SimpleName:hasMoreElements))(Block(VariableDeclarationStatement(SimpleType(SimpleName:ByteStore))(VariableDeclarationFragment(SimpleName:bs)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:session))(SimpleName:getAttachment)(METHOD_INVOCATION_ARGUMENTS(CastExpression(SimpleType(SimpleName:String))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:atts))(SimpleName:nextElement)))))))(VariableDeclarationStatement(SimpleType(SimpleName:InternetHeaders))(VariableDeclarationFragment(SimpleName:ih)(ClassInstanceCreation(SimpleType(SimpleName:InternetHeaders)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ih))(SimpleName:addHeader)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:bs))(SimpleName:getContentType)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ih))(SimpleName:addHeader)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(StringLiteral:<STR>))))(VariableDeclarationStatement(SimpleType(SimpleName:PipedInputStream))(VariableDeclarationFragment(SimpleName:pin)(ClassInstanceCreation(SimpleType(SimpleName:PipedInputStream)))))(VariableDeclarationStatement(SimpleType(SimpleName:PipedOutputStream))(VariableDeclarationFragment(SimpleName:pout)(ClassInstanceCreation(SimpleType(SimpleName:PipedOutputStream))(SimpleName:pin))))(VariableDeclarationStatement(SimpleType(SimpleName:StreamConnector))(VariableDeclarationFragment(SimpleName:sconn)(ClassInstanceCreation(SimpleType(SimpleName:StreamConnector))(SimpleName:pin)(InfixExpression(CastExpression(PrimitiveType:int)(ParenthesizedExpression(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:bs))(SimpleName:getSize))(INFIX_EXPRESSION_OPERATOR:*)(NumberLiteral:1.6))))(INFIX_EXPRESSION_OPERATOR:+)(NumberLiteral:1000)))))(VariableDeclarationStatement(SimpleType(SimpleName:BufferedOutputStream))(VariableDeclarationFragment(SimpleName:encoder)(ClassInstanceCreation(SimpleType(SimpleName:BufferedOutputStream))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:MimeUtility))(SimpleName:encode)(METHOD_INVOCATION_ARGUMENTS(SimpleName:pout)(StringLiteral:<STR>))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:encoder))(SimpleName:write)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:bs))(SimpleName:getBytes)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:encoder))(SimpleName:flush)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:encoder))(SimpleName:close)))(VariableDeclarationStatement(SimpleType(SimpleName:MimeBodyPart))(VariableDeclarationFragment(SimpleName:att1)(ClassInstanceCreation(SimpleType(SimpleName:MimeBodyPart))(SimpleName:ih)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:sconn))(SimpleName:getResult)))(SimpleName:getBytes)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:att1))(SimpleName:addHeader)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:bs))(SimpleName:getContentType)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:att1))(SimpleName:setDescription)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:bs))(SimpleName:getDescription))(StringLiteral:<STR>))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:fileName)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:bs))(SimpleName:getName))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(QualifiedName:System.err))(SimpleName:println)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:fileName)))))(IfStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:locale))(SimpleName:getLanguage)))(SimpleName:equals)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))(INFIX_EXPRESSION_OPERATOR:&&)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:locale))(SimpleName:getCountry)))(SimpleName:equals)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))(Block(ExpressionStatement(Assignment(SimpleName:fileName)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:MimeUtility))(SimpleName:encodeText)(METHOD_INVOCATION_ARGUMENTS(SimpleName:fileName)(StringLiteral:<STR>)(NullLiteral)))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:att1))(SimpleName:setFileName)(METHOD_INVOCATION_ARGUMENTS(SimpleName:fileName))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:cont))(SimpleName:addBodyPart)(METHOD_INVOCATION_ARGUMENTS(SimpleName:att1))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:msg))(SimpleName:setContent)(METHOD_INVOCATION_ARGUMENTS(SimpleName:cont))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:msg))(SimpleName:saveChanges)))(VariableDeclarationStatement(PrimitiveType:boolean)(VariableDeclarationFragment(SimpleName:savesuccess)(BooleanLiteral:true)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:msg))(SimpleName:setHeader)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:session))(SimpleName:getUserModel)))(SimpleName:getWorkMessage)))(SimpleName:getAttribute)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:session))(SimpleName:getUser)))(SimpleName:wantsSaveSent))(Block(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:folderhash)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:session))(SimpleName:getUser)))(SimpleName:getSentFolder))))(TryStatement(Block(VariableDeclarationStatement(SimpleType(SimpleName:Folder))(VariableDeclarationFragment(SimpleName:folder)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:session))(SimpleName:getFolder)(METHOD_INVOCATION_ARGUMENTS(SimpleName:folderhash)))))(VariableDeclarationStatement(ArrayType(SimpleType(SimpleName:Message))(Dimension))(VariableDeclarationFragment(SimpleName:m)(ArrayCreation(ArrayType(SimpleType(SimpleName:Message))(Dimension(NumberLiteral:1))))))(ExpressionStatement(Assignment(ArrayAccess(SimpleName:m)(NumberLiteral:0))(ASSIGNMENT_OPERATOR:=)(SimpleName:msg)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:folder))(SimpleName:appendMessages)(METHOD_INVOCATION_ARGUMENTS(SimpleName:m)))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:MessagingException))(SimpleName:e))(Block(ExpressionStatement(Assignment(SimpleName:savesuccess)(ASSIGNMENT_OPERATOR:=)(BooleanLiteral:false)))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:NullPointerException))(SimpleName:e))(Block(ExpressionStatement(Assignment(SimpleName:savesuccess)(ASSIGNMENT_OPERATOR:=)(BooleanLiteral:false))))))))(VariableDeclarationStatement(PrimitiveType:boolean)(VariableDeclarationFragment(SimpleName:sendsuccess)(BooleanLiteral:false)))(TryStatement(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Transport))(SimpleName:send)(METHOD_INVOCATION_ARGUMENTS(SimpleName:msg))))(VariableDeclarationStatement(SimpleType(SimpleName:Address))(VariableDeclarationFragment(SimpleName:sent)(Dimension)(ArrayCreation(ArrayType(SimpleType(SimpleName:Address))(Dimension(InfixExpression(QualifiedName:to.length)(INFIX_EXPRESSION_OPERATOR:+)(QualifiedName:cc.length)(QualifiedName:bcc.length)))))))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:c1)(NumberLiteral:0)))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:c2)(NumberLiteral:0)))(ForStatement(Assignment(SimpleName:c1)(ASSIGNMENT_OPERATOR:=)(NumberLiteral:0))(InfixExpression(SimpleName:c1)(INFIX_EXPRESSION_OPERATOR:<)(QualifiedName:to.length))(PostfixExpression(SimpleName:c1)(POSTFIX_EXPRESSION_OPERATOR:++))(Block(ExpressionStatement(Assignment(ArrayAccess(SimpleName:sent)(SimpleName:c1))(ASSIGNMENT_OPERATOR:=)(ArrayAccess(SimpleName:to)(SimpleName:c1))))))(ForStatement(Assignment(SimpleName:c2)(ASSIGNMENT_OPERATOR:=)(NumberLiteral:0))(InfixExpression(SimpleName:c2)(INFIX_EXPRESSION_OPERATOR:<)(QualifiedName:cc.length))(PostfixExpression(SimpleName:c2)(POSTFIX_EXPRESSION_OPERATOR:++))(Block(ExpressionStatement(Assignment(ArrayAccess(SimpleName:sent)(InfixExpression(SimpleName:c1)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:c2)))(ASSIGNMENT_OPERATOR:=)(ArrayAccess(SimpleName:cc)(SimpleName:c2))))))(ForStatement(VariableDeclarationExpression(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:c3)(NumberLiteral:0)))(InfixExpression(SimpleName:c3)(INFIX_EXPRESSION_OPERATOR:<)(QualifiedName:bcc.length))(PostfixExpression(SimpleName:c3)(POSTFIX_EXPRESSION_OPERATOR:++))(Block(ExpressionStatement(Assignment(ArrayAccess(SimpleName:sent)(InfixExpression(SimpleName:c1)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:c2)(SimpleName:c3)))(ASSIGNMENT_OPERATOR:=)(ArrayAccess(SimpleName:bcc)(SimpleName:c3))))))(ExpressionStatement(Assignment(SimpleName:sendsuccess)(ASSIGNMENT_OPERATOR:=)(BooleanLiteral:true)))(ThrowStatement(ClassInstanceCreation(SimpleType(SimpleName:SendFailedException))(StringLiteral:<STR>)(ClassInstanceCreation(SimpleType(SimpleName:Exception))(StringLiteral:<STR>))(SimpleName:sent)(NullLiteral)(NullLiteral))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:SendFailedException))(SimpleName:e))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:session))(SimpleName:handleTransportException)(METHOD_INVOCATION_ARGUMENTS(SimpleName:e)))))))(ExpressionStatement(Assignment(SimpleName:content)(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(SimpleType(SimpleName:XHTMLDocument))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:session))(SimpleName:getModel))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:store))(SimpleName:getStylesheet)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:user))(SimpleName:getPreferredLocale))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:user))(SimpleName:getTheme)))))))(IfStatement(SimpleName:sendsuccess)(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:session))(SimpleName:clearWork)))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:Exception))(SimpleName:e))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:e))(SimpleName:printStackTrace)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:store))(SimpleName:getLogger)))(SimpleName:log)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:Logger.LOG_ERR)(SimpleName:e))))(ThrowStatement(ClassInstanceCreation(SimpleType(SimpleName:DocumentNotFoundException))(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:e))(SimpleName:getMessage))(StringLiteral:<STR>))))))))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:head))(SimpleName:isContentSet)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))(Block(ExpressionStatement(Assignment(SimpleName:content)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:parent))(SimpleName:getURLHandler)))(SimpleName:handleURL)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(SimpleName:session)(SimpleName:head))))))(Block(ThrowStatement(ClassInstanceCreation(SimpleType(SimpleName:DocumentNotFoundException))(StringLiteral:<STR>))))))(ReturnStatement(SimpleName:content))))))