(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:protected)(Modifier:static)(PrimitiveType:void)(SimpleName:handleJoin)(SingleVariableDeclaration(SimpleType(SimpleName:IRCListener))(SimpleName:irclistener))(SingleVariableDeclaration(SimpleType(SimpleName:IRCMessage))(SimpleName:ircmessage))(SimpleType(SimpleName:IOException))(SimpleType(SimpleName:ExpectException))(Block(VariableDeclarationStatement(SimpleType(SimpleName:IRCUser))(VariableDeclarationFragment(SimpleName:userJoined)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ircmessage))(SimpleName:getSender))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:nickJoined)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:userJoined))(SimpleName:getActiveNick))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Lang))(SimpleName:ASSERT_NOT_NULL_NOR_TRIMMED_EMPTY)(METHOD_INVOCATION_ARGUMENTS(SimpleName:nickJoined)(StringLiteral:<STR>))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:channelName)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ircmessage))(SimpleName:getTrailing))))(IfStatement(InfixExpression(SimpleName:channelName)(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(ExpressionStatement(Assignment(SimpleName:channelName)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ircmessage))(SimpleName:getMiddlePart)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:0))))))(IfStatement(InfixExpression(SimpleName:channelName)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(ExpressionStatement(Assignment(SimpleName:channelName)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:channelName))(SimpleName:trim)))))(VariableDeclarationStatement(SimpleType(SimpleName:IRCController))(VariableDeclarationFragment(SimpleName:queryClient)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:irclistener))(SimpleName:getProtocolHandler)))(SimpleName:getLocalClient))))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:nickJoined))(SimpleName:equalsIgnoreCase)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:irclistener))(SimpleName:getProtocolHandler)))(SimpleName:getNick))))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:queryClient))(SimpleName:onMeJoinedChannel)(METHOD_INVOCATION_ARGUMENTS(SimpleName:channelName)(SimpleName:userJoined))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:irclistener))(SimpleName:join)(METHOD_INVOCATION_ARGUMENTS(SimpleName:channelName)))))(Block(VariableDeclarationStatement(SimpleType(SimpleName:IRCChannel))(VariableDeclarationFragment(SimpleName:ch)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:queryClient))(SimpleName:getChannelJoinedByChannelName)(METHOD_INVOCATION_ARGUMENTS(SimpleName:channelName)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Lang))(SimpleName:EXPECT_NOT_NULL)(METHOD_INVOCATION_ARGUMENTS(SimpleName:ch)(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:StringUtil))(SimpleName:toPrintableString)(METHOD_INVOCATION_ARGUMENTS(SimpleName:channelName)))))))(VariableDeclarationStatement(Modifier:final)(SimpleType(SimpleName:RoomParticipant))(VariableDeclarationFragment(SimpleName:rp)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:queryClient))(SimpleName:createDefaultRole)(METHOD_INVOCATION_ARGUMENTS(SimpleName:ch)(SimpleName:userJoined)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:rp))(SimpleName:getRoom)))(SimpleName:addRoomRole)(METHOD_INVOCATION_ARGUMENTS(SimpleName:rp))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ch))(SimpleName:joins)(METHOD_INVOCATION_ARGUMENTS(CastExpression(SimpleType(SimpleName:IRCChannelParticipant))(SimpleName:rp)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:irclistener))(SimpleName:join)(METHOD_INVOCATION_ARGUMENTS(SimpleName:channelName)(SimpleName:userJoined))))))))))