(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:public)(PrimitiveType:void)(SimpleName:run)(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Looper))(SimpleName:prepare)))(VariableDeclarationStatement(SimpleType(SimpleName:RSSDB))(VariableDeclarationFragment(SimpleName:db)(ClassInstanceCreation(SimpleType(SimpleName:RSSDB))(SimpleName:c))))(VariableDeclarationStatement(SimpleType(SimpleName:ContentValues))(VariableDeclarationFragment(SimpleName:values)(ClassInstanceCreation(SimpleType(SimpleName:ContentValues)))))(WhileStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:mDownloads))(SimpleName:size))(INFIX_EXPRESSION_OPERATOR:>)(NumberLiteral:0))(Block(TryStatement(Block(TryStatement(Block(ExpressionStatement(Assignment(SimpleName:mCurrent)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:mDownloads))(SimpleName:get)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:0))))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:IndexOutOfBoundsException))(SimpleName:e))(Block(ThrowStatement(ClassInstanceCreation(SimpleType(SimpleName:DownloadException))(StringLiteral:<STR>))))))(VariableDeclarationStatement(SimpleType(SimpleName:RSSFeed))(VariableDeclarationFragment(SimpleName:feed)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:db))(SimpleName:getFeed)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:mCurrent.feedId)))))(IfStatement(QualifiedName:feed.secure)(Block(VariableDeclarationStatement(SimpleType(SimpleName:SharedPreferences))(VariableDeclarationFragment(SimpleName:prefs)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:PreferenceManager))(SimpleName:getDefaultSharedPreferences)(METHOD_INVOCATION_ARGUMENTS(ThisExpression(SimpleName:DownloadService))))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:feedId)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:String))(SimpleName:format)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(QualifiedName:feed.id)))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:username)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:prefs))(SimpleName:getString)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:String))(SimpleName:format)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:feedId))(SimpleName:toString))))(StringLiteral:<STR>)))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:password)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:prefs))(SimpleName:getString)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:String))(SimpleName:format)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:feedId))(SimpleName:toString))))(StringLiteral:<STR>)))))(ExpressionStatement(Assignment(SimpleName:mClient)(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(SimpleType(SimpleName:DownloadHttpClient))(SimpleName:username)(SimpleName:password)))))(Block(ExpressionStatement(Assignment(SimpleName:mClient)(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(SimpleType(SimpleName:DefaultHttpClient)))))))(VariableDeclarationStatement(SimpleType(SimpleName:HttpGet))(VariableDeclarationFragment(SimpleName:GET)(ClassInstanceCreation(SimpleType(SimpleName:HttpGet))(MethodInvocation(METHOD_INVOCATION_RECEIVER(QualifiedName:mCurrent.remotefile))(SimpleName:toString)))))(VariableDeclarationStatement(SimpleType(SimpleName:BasicHttpResponse))(VariableDeclarationFragment(SimpleName:response)(CastExpression(SimpleType(SimpleName:BasicHttpResponse))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:mClient))(SimpleName:execute)(METHOD_INVOCATION_ARGUMENTS(SimpleName:GET))))))(IfStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:response))(SimpleName:getStatusLine)))(SimpleName:getStatusCode))(INFIX_EXPRESSION_OPERATOR:==)(NumberLiteral:401))(Block(ThrowStatement(ClassInstanceCreation(SimpleType(SimpleName:DownloadException))(StringLiteral:<STR>))))(IfStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:response))(SimpleName:getStatusLine)))(SimpleName:getStatusCode))(INFIX_EXPRESSION_OPERATOR:!=)(NumberLiteral:200))(Block(ThrowStatement(ClassInstanceCreation(SimpleType(SimpleName:DownloadException))(StringLiteral:<STR>))))))(VariableDeclarationStatement(SimpleType(SimpleName:HttpEntity))(VariableDeclarationFragment(SimpleName:entity)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:response))(SimpleName:getEntity))))(VariableDeclarationStatement(PrimitiveType:long)(VariableDeclarationFragment(SimpleName:fileSize)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:entity))(SimpleName:getContentLength))))(VariableDeclarationStatement(ArrayType(SimpleType(SimpleName:String))(Dimension))(VariableDeclarationFragment(SimpleName:fragments)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(QualifiedName:mCurrent.remotefile))(SimpleName:getFile)))(SimpleName:split)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:filename)(ArrayAccess(SimpleName:fragments)(InfixExpression(QualifiedName:fragments.length)(INFIX_EXPRESSION_OPERATOR:-)(NumberLiteral:1)))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:storageState)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Environment))(SimpleName:getExternalStorageState))))(IfStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:storageState))(SimpleName:compareTo)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))(INFIX_EXPRESSION_OPERATOR:!=)(NumberLiteral:0))(Block(ThrowStatement(ClassInstanceCreation(SimpleType(SimpleName:DownloadException))(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:storageState))))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:storageFS)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Environment))(SimpleName:getExternalStorageDirectory)))(SimpleName:toString))))(VariableDeclarationStatement(SimpleType(SimpleName:StatFs))(VariableDeclarationFragment(SimpleName:storageStats)(ClassInstanceCreation(SimpleType(SimpleName:StatFs))(SimpleName:storageFS))))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:blockSize)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:storageStats))(SimpleName:getBlockSize))))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:availableBlocks)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:storageStats))(SimpleName:getAvailableBlocks))))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:availableSize)(InfixExpression(SimpleName:blockSize)(INFIX_EXPRESSION_OPERATOR:*)(SimpleName:availableBlocks))))(IfStatement(InfixExpression(SimpleName:availableSize)(INFIX_EXPRESSION_OPERATOR:<)(SimpleName:fileSize))(Block(ThrowStatement(ClassInstanceCreation(SimpleType(SimpleName:DownloadException))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:String))(SimpleName:format)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(MethodInvocation(SimpleName:readableSize)(METHOD_INVOCATION_ARGUMENTS(SimpleName:fileSize)))(MethodInvocation(SimpleName:readableSize)(METHOD_INVOCATION_ARGUMENTS(SimpleName:availableSize)))))))))(VariableDeclarationStatement(SimpleType(SimpleName:File))(VariableDeclarationFragment(SimpleName:path)(ClassInstanceCreation(SimpleType(SimpleName:File))(InfixExpression(SimpleName:storageFS)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:storagePath)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:path))(SimpleName:mkdirs)))(VariableDeclarationStatement(SimpleType(SimpleName:File))(VariableDeclarationFragment(SimpleName:f)(ClassInstanceCreation(SimpleType(SimpleName:File))(InfixExpression(SimpleName:storageFS)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:storagePath)(SimpleName:filename)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:values))(SimpleName:put)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(MethodInvocation(METHOD_INVOCATION_RECEIVER(QualifiedName:RSSItem.downloadstates.DOWNLOADING))(SimpleName:ordinal)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:db))(SimpleName:updateArticle)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:mCurrent.id)(SimpleName:values))))(ExpressionStatement(MethodInvocation(SimpleName:postMessage)(METHOD_INVOCATION_ARGUMENTS(SimpleName:START_DOWNLOAD)(SimpleName:mCurrent)(NumberLiteral:0))))(TryStatement(Block(AssertStatement(ParenthesizedExpression(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:f))(SimpleName:createNewFile))(INFIX_EXPRESSION_OPERATOR:==)(BooleanLiteral:true))))(VariableDeclarationStatement(SimpleType(SimpleName:FileOutputStream))(VariableDeclarationFragment(SimpleName:out)(ClassInstanceCreation(SimpleType(SimpleName:FileOutputStream))(SimpleName:f))))(VariableDeclarationStatement(SimpleType(SimpleName:InputStream))(VariableDeclarationFragment(SimpleName:is)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:entity))(SimpleName:getContent))))(VariableDeclarationStatement(SimpleType(SimpleName:BufferedInputStream))(VariableDeclarationFragment(SimpleName:bi)(ClassInstanceCreation(SimpleType(SimpleName:BufferedInputStream))(SimpleName:is))))(VariableDeclarationStatement(ArrayType(PrimitiveType:byte)(Dimension))(VariableDeclarationFragment(SimpleName:b)(ArrayCreation(ArrayType(PrimitiveType:byte)(Dimension(NumberLiteral:10000))))))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:result))(VariableDeclarationFragment(SimpleName:percent)))(VariableDeclarationStatement(PrimitiveType:long)(VariableDeclarationFragment(SimpleName:index)(NumberLiteral:0)))(VariableDeclarationStatement(PrimitiveType:long)(VariableDeclarationFragment(SimpleName:time)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:System))(SimpleName:currentTimeMillis))))(WhileStatement(BooleanLiteral:true)(Block(IfStatement(SimpleName:stopFlag)(Block(ExpressionStatement(Assignment(SimpleName:stopFlag)(ASSIGNMENT_OPERATOR:=)(BooleanLiteral:false)))(ThrowStatement(ClassInstanceCreation(SimpleType(SimpleName:DownloadStoppedException))))))(ExpressionStatement(Assignment(SimpleName:result)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:bi))(SimpleName:read)(METHOD_INVOCATION_ARGUMENTS(SimpleName:b)))))(IfStatement(InfixExpression(SimpleName:result)(INFIX_EXPRESSION_OPERATOR:==)(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:-)(NumberLiteral:1)))(BreakStatement))(ExpressionStatement(Assignment(SimpleName:index)(ASSIGNMENT_OPERATOR:+=)(SimpleName:result)))(IfStatement(InfixExpression(SimpleName:time)(INFIX_EXPRESSION_OPERATOR:<)(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:System))(SimpleName:currentTimeMillis))(INFIX_EXPRESSION_OPERATOR:+)(NumberLiteral:3000)))(Block(ExpressionStatement(Assignment(SimpleName:time)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:System))(SimpleName:currentTimeMillis))))(ExpressionStatement(Assignment(SimpleName:percent)(ASSIGNMENT_OPERATOR:=)(CastExpression(PrimitiveType:int)(ParenthesizedExpression(InfixExpression(InfixExpression(SimpleName:index)(INFIX_EXPRESSION_OPERATOR:*)(NumberLiteral:100))(INFIX_EXPRESSION_OPERATOR:/)(SimpleName:fileSize))))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:out))(SimpleName:write)(METHOD_INVOCATION_ARGUMENTS(SimpleName:b)(NumberLiteral:0)(SimpleName:result))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:entity))(SimpleName:consumeContent)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:bi))(SimpleName:close)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:is))(SimpleName:close))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:IOException))(SimpleName:e))(Block(ThrowStatement(ClassInstanceCreation(SimpleType(SimpleName:DownloadException))(StringLiteral:<STR>))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:values))(SimpleName:put)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(MethodInvocation(METHOD_INVOCATION_RECEIVER(QualifiedName:RSSItem.downloadstates.DOWNLOADED))(SimpleName:ordinal)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:values))(SimpleName:put)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(SimpleName:filename))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:db))(SimpleName:updateArticle)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:mCurrent.id)(SimpleName:values))))(ExpressionStatement(MethodInvocation(SimpleName:postMessage)(METHOD_INVOCATION_ARGUMENTS(SimpleName:DOWNLOADED)(SimpleName:mCurrent)(NumberLiteral:0)))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:DownloadException))(SimpleName:e1))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:e1))(SimpleName:printStackTrace)))(ExpressionStatement(Assignment(SimpleName:mErrorString)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:e1))(SimpleName:getMessage))))(ExpressionStatement(MethodInvocation(SimpleName:postMessage)(METHOD_INVOCATION_ARGUMENTS(SimpleName:DOWNLOAD_ERROR)(SimpleName:mCurrent)(NumberLiteral:0))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:values))(SimpleName:put)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(MethodInvocation(METHOD_INVOCATION_RECEIVER(QualifiedName:RSSItem.downloadstates.FAILED))(SimpleName:ordinal)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:db))(SimpleName:updateArticle)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:mCurrent.id)(SimpleName:values))))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:DownloadStoppedException))(SimpleName:e1))(Block(ExpressionStatement(MethodInvocation(SimpleName:postMessage)(METHOD_INVOCATION_ARGUMENTS(SimpleName:DOWNLOAD_STOPPED)(SimpleName:mCurrent)(NumberLiteral:0))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:values))(SimpleName:put)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(MethodInvocation(METHOD_INVOCATION_RECEIVER(QualifiedName:RSSItem.downloadstates.UNDOWNLOADED))(SimpleName:ordinal)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:db))(SimpleName:updateArticle)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:mCurrent.id)(SimpleName:values))))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:ClientProtocolException))(SimpleName:e1))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:e1))(SimpleName:printStackTrace)))(ExpressionStatement(Assignment(SimpleName:mErrorString)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:e1))(SimpleName:getMessage))))(ExpressionStatement(MethodInvocation(SimpleName:postMessage)(METHOD_INVOCATION_ARGUMENTS(SimpleName:DOWNLOAD_ERROR)(SimpleName:mCurrent)(NumberLiteral:0))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:db))(SimpleName:updateArticle)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:mCurrent.id)(SimpleName:values))))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:IOException))(SimpleName:e1))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:e1))(SimpleName:printStackTrace)))(ExpressionStatement(Assignment(SimpleName:mErrorString)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:e1))(SimpleName:getMessage))))(ExpressionStatement(MethodInvocation(SimpleName:postMessage)(METHOD_INVOCATION_ARGUMENTS(SimpleName:DOWNLOAD_ERROR)(SimpleName:mCurrent)(NumberLiteral:0))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:db))(SimpleName:updateArticle)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:mCurrent.id)(SimpleName:values)))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:mDownloads))(SimpleName:remove)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:0))))))(ExpressionStatement(Assignment(SimpleName:mCurrent)(ASSIGNMENT_OPERATOR:=)(NullLiteral)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:nm))(SimpleName:cancel)(METHOD_INVOCATION_ARGUMENTS(SimpleName:DOWNLOADING_NOTIFY_ID))))))))