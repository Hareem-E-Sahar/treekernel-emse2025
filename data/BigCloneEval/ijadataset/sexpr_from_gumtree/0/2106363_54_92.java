(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(MarkerAnnotation(SimpleName:Override))(Modifier:public)(PrimitiveType:void)(SimpleName:doWork)(SimpleType(SimpleName:OperatorException))(Block(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:source)))(SwitchStatement(MethodInvocation(SimpleName:getParameterAsInt)(METHOD_INVOCATION_ARGUMENTS(SimpleName:PARAMETER_SOURCE_TYPE)))(SwitchCase(SimpleName:SOURCE_TYPE_FILE))(VariableDeclarationStatement(SimpleType(SimpleName:File))(VariableDeclarationFragment(SimpleName:file)(MethodInvocation(SimpleName:getParameterAsFile)(METHOD_INVOCATION_ARGUMENTS(SimpleName:PARAMETER_FILENAME)))))(ExpressionStatement(Assignment(SimpleName:source)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:file))(SimpleName:getAbsolutePath))))(VariableDeclarationStatement(SimpleType(SimpleName:SimpleFileObject))(VariableDeclarationFragment(SimpleName:result)(ClassInstanceCreation(SimpleType(SimpleName:SimpleFileObject))(SimpleName:file))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:result))(SimpleName:getAnnotations)))(SimpleName:setAnnotation)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:Annotations.KEY_SOURCE)(SimpleName:source))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fileOutputPort))(SimpleName:deliver)(METHOD_INVOCATION_ARGUMENTS(SimpleName:result))))(BreakStatement)(SwitchCase(SimpleName:SOURCE_TYPE_URL))(VariableDeclarationStatement(SimpleType(SimpleName:URL))(VariableDeclarationFragment(SimpleName:url)))(TryStatement(Block(ExpressionStatement(Assignment(SimpleName:url)(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(SimpleType(SimpleName:URL))(MethodInvocation(SimpleName:getParameterAsString)(METHOD_INVOCATION_ARGUMENTS(SimpleName:PARAMETER_URL))))))(ExpressionStatement(Assignment(SimpleName:source)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:url))(SimpleName:toString))))(VariableDeclarationStatement(SimpleType(SimpleName:URLConnection))(VariableDeclarationFragment(SimpleName:connection)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:url))(SimpleName:openConnection))))(VariableDeclarationStatement(SimpleType(SimpleName:ByteArrayOutputStream))(VariableDeclarationFragment(SimpleName:buffer)(ClassInstanceCreation(SimpleType(SimpleName:ByteArrayOutputStream)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Tools))(SimpleName:copyStreamSynchronously)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:connection))(SimpleName:getInputStream))(SimpleName:buffer)(BooleanLiteral:true))))(VariableDeclarationStatement(SimpleType(SimpleName:BufferedFileObject))(VariableDeclarationFragment(SimpleName:result1)(ClassInstanceCreation(SimpleType(SimpleName:BufferedFileObject))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:buffer))(SimpleName:toByteArray)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:result1))(SimpleName:getAnnotations)))(SimpleName:setAnnotation)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:Annotations.KEY_SOURCE)(SimpleName:source))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fileOutputPort))(SimpleName:deliver)(METHOD_INVOCATION_ARGUMENTS(SimpleName:result1)))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:MalformedURLException))(SimpleName:e))(Block(ThrowStatement(ClassInstanceCreation(SimpleType(SimpleName:UserError))(ThisExpression)(SimpleName:e)(StringLiteral:<STR>)(MethodInvocation(SimpleName:getParameterAsString)(METHOD_INVOCATION_ARGUMENTS(SimpleName:PARAMETER_URL)))))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:IOException))(SimpleName:e))(Block(ThrowStatement(ClassInstanceCreation(SimpleType(SimpleName:UserError))(ThisExpression)(SimpleName:e)(StringLiteral:<STR>)(MethodInvocation(SimpleName:getParameterAsString)(METHOD_INVOCATION_ARGUMENTS(SimpleName:PARAMETER_URL)))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:e))(SimpleName:getMessage)))))))(BreakStatement)(SwitchCase(SimpleName:SOURCE_TYPE_REPOSITORY))(VariableDeclarationStatement(SimpleType(SimpleName:RepositoryLocation))(VariableDeclarationFragment(SimpleName:location)(MethodInvocation(SimpleName:getParameterAsRepositoryLocation)(METHOD_INVOCATION_ARGUMENTS(SimpleName:PARAMETER_REPOSITORY_LOCATION)))))(ExpressionStatement(Assignment(SimpleName:source)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:location))(SimpleName:getAbsoluteLocation))))(VariableDeclarationStatement(SimpleType(SimpleName:RepositoryBlobObject))(VariableDeclarationFragment(SimpleName:result2)(ClassInstanceCreation(SimpleType(SimpleName:RepositoryBlobObject))(SimpleName:location))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:result2))(SimpleName:getAnnotations)))(SimpleName:setAnnotation)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:Annotations.KEY_SOURCE)(SimpleName:source))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fileOutputPort))(SimpleName:deliver)(METHOD_INVOCATION_ARGUMENTS(SimpleName:result2))))(BreakStatement)(SwitchCase)(ThrowStatement(ClassInstanceCreation(SimpleType(SimpleName:OperatorException))(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(MethodInvocation(SimpleName:getParameterAsString)(METHOD_INVOCATION_ARGUMENTS(SimpleName:PARAMETER_SOURCE_TYPE)))))))))))