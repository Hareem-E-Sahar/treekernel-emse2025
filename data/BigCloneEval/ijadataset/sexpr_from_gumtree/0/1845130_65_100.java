(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:public)(PrimitiveType:void)(SimpleName:run)(Block(IfStatement(InfixExpression(SimpleName:logger)(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(Block(ExpressionStatement(Assignment(SimpleName:logger)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:GgInternalLoggerFactory))(SimpleName:getLogger)(METHOD_INVOCATION_ARGUMENTS(TypeLiteral(SimpleType(SimpleName:ChangeBandwidthLimits)))))))))(VariableDeclarationStatement(SimpleType(SimpleName:ValidPacket))(VariableDeclarationFragment(SimpleName:valid)(ClassInstanceCreation(SimpleType(SimpleName:ValidPacket))(InfixExpression(SimpleName:writeGlobalLimit)(INFIX_EXPRESSION_OPERATOR:+)(StringLiteral:<STR>)(SimpleName:readGlobalLimit))(InfixExpression(SimpleName:writeSessionLimit)(INFIX_EXPRESSION_OPERATOR:+)(StringLiteral:<STR>)(SimpleName:readSessionLimit))(QualifiedName:LocalPacketFactory.BANDWIDTHPACKET))))(VariableDeclarationStatement(SimpleType(SimpleName:DbHostAuth))(VariableDeclarationFragment(SimpleName:host)(QualifiedName:Configuration.configuration.HOST_SSLAUTH)))(VariableDeclarationStatement(SimpleType(SimpleName:SocketAddress))(VariableDeclarationFragment(SimpleName:socketAddress)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:host))(SimpleName:getSocketAddress))))(VariableDeclarationStatement(PrimitiveType:boolean)(VariableDeclarationFragment(SimpleName:isSSL)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:host))(SimpleName:isSsl))))(VariableDeclarationStatement(SimpleType(SimpleName:LocalChannelReference))(VariableDeclarationFragment(SimpleName:localChannelReference)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:networkTransaction))(SimpleName:createConnectionWithRetry)(METHOD_INVOCATION_ARGUMENTS(SimpleName:socketAddress)(SimpleName:isSSL)(SimpleName:future)))))(ExpressionStatement(Assignment(SimpleName:socketAddress)(ASSIGNMENT_OPERATOR:=)(NullLiteral)))(IfStatement(InfixExpression(SimpleName:localChannelReference)(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(Block(ExpressionStatement(Assignment(SimpleName:host)(ASSIGNMENT_OPERATOR:=)(NullLiteral)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:logger))(SimpleName:error)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:future))(SimpleName:setResult)(METHOD_INVOCATION_ARGUMENTS(ClassInstanceCreation(SimpleType(SimpleName:R66Result))(ClassInstanceCreation(SimpleType(SimpleName:OpenR66ProtocolNoConnectionException))(StringLiteral:<STR>))(NullLiteral)(BooleanLiteral:true)(QualifiedName:ErrorCode.Internal)(NullLiteral)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:future))(SimpleName:setFailure)(METHOD_INVOCATION_ARGUMENTS(FieldAccess(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:future))(SimpleName:getResult))(SimpleName:exception)))))(ReturnStatement)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:localChannelReference))(SimpleName:sessionNewState)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:R66FiniteDualStates.VALIDOTHER))))(TryStatement(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ChannelUtils))(SimpleName:writeAbstractLocalPacket)(METHOD_INVOCATION_ARGUMENTS(SimpleName:localChannelReference)(SimpleName:valid)))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:OpenR66ProtocolPacketException))(SimpleName:e))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:logger))(SimpleName:error)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(SimpleName:e))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Channels))(SimpleName:close)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:localChannelReference))(SimpleName:getLocalChannel)))))(ExpressionStatement(Assignment(SimpleName:localChannelReference)(ASSIGNMENT_OPERATOR:=)(NullLiteral)))(ExpressionStatement(Assignment(SimpleName:host)(ASSIGNMENT_OPERATOR:=)(NullLiteral)))(ExpressionStatement(Assignment(SimpleName:valid)(ASSIGNMENT_OPERATOR:=)(NullLiteral)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:future))(SimpleName:setResult)(METHOD_INVOCATION_ARGUMENTS(ClassInstanceCreation(SimpleType(SimpleName:R66Result))(SimpleName:e)(NullLiteral)(BooleanLiteral:true)(QualifiedName:ErrorCode.TransferError)(NullLiteral)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:future))(SimpleName:setFailure)(METHOD_INVOCATION_ARGUMENTS(SimpleName:e))))(ReturnStatement))))(ExpressionStatement(Assignment(SimpleName:host)(ASSIGNMENT_OPERATOR:=)(NullLiteral)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:future))(SimpleName:awaitUninterruptibly)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:logger))(SimpleName:info)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(ParenthesizedExpression(ConditionalExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:future))(SimpleName:isSuccess))(StringLiteral:<STR>)(StringLiteral:<STR>)))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Channels))(SimpleName:close)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:localChannelReference))(SimpleName:getLocalChannel)))))(ExpressionStatement(Assignment(SimpleName:localChannelReference)(ASSIGNMENT_OPERATOR:=)(NullLiteral)))))))