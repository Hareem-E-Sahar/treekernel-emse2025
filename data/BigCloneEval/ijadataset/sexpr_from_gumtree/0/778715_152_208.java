(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(MarkerAnnotation(SimpleName:Override))(Modifier:public)(PrimitiveType:void)(SimpleName:consume)(Block(IfStatement(InfixExpression(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(SimpleName:hookedUp))(INFIX_EXPRESSION_OPERATOR:&&)(InfixExpression(SimpleName:faucetTemplate)(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral)))(ThrowStatement(ClassInstanceCreation(SimpleType(SimpleName:XformationException))(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(StringLiteral:<STR>)))))(SwitchStatement(SimpleName:type)(SwitchCase(SimpleName:File))(TryStatement(Block(ExpressionStatement(Assignment(SimpleName:outputStream)(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(SimpleType(SimpleName:ZipOutputStream))(ClassInstanceCreation(SimpleType(SimpleName:BufferedOutputStream))(ClassInstanceCreation(SimpleType(SimpleName:FileOutputStream))(SimpleName:path)))))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:FileNotFoundException))(SimpleName:e))(Block(ThrowStatement(ClassInstanceCreation(SimpleType(SimpleName:XformationException))(StringLiteral:<STR>)(SimpleName:e))))))(BreakStatement)(SwitchCase(SimpleName:Stream))(BreakStatement))(IfStatement(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(SimpleName:hookedUp))(Block(IfStatement(InstanceofExpression(SimpleName:faucetTemplate)(SimpleType(SimpleName:IPipelineItem)))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(ParenthesizedExpression(CastExpression(SimpleType(SimpleName:IPipelineItem))(SimpleName:faucetTemplate))))(SimpleName:consume)(METHOD_INVOCATION_ARGUMENTS(ThisExpression))))))))(TryStatement(Block(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:counter)(NumberLiteral:0)))(WhileStatement(BooleanLiteral:true)(Block(VariableDeclarationStatement(SimpleType(SimpleName:DequePayload))(VariableDeclarationFragment(SimpleName:payload)(NullLiteral)))(TryStatement(Block(ExpressionStatement(Assignment(SimpleName:payload)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:deque))(SimpleName:takeFirst)))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:InterruptedException))(SimpleName:ie))(Block)))(IfStatement(InfixExpression(SimpleName:payload)(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(BreakStatement))(VariableDeclarationStatement(SimpleType(SimpleName:IFaucet))(VariableDeclarationFragment(SimpleName:faucet)(QualifiedName:payload.faucet)))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:logger))(SimpleName:isTraceEnabled))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:logger))(SimpleName:trace)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:faucet)(StringLiteral:<STR>))))))(IfStatement(InfixExpression(SimpleName:faucet)(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(BreakStatement))(VariableDeclarationStatement(SimpleType(SimpleName:ZipEntry))(VariableDeclarationFragment(SimpleName:entry)(ClassInstanceCreation(SimpleType(SimpleName:ZipEntry))(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(PostfixExpression(SimpleName:counter)(POSTFIX_EXPRESSION_OPERATOR:++))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:outputStream))(SimpleName:putNextEntry)(METHOD_INVOCATION_ARGUMENTS(SimpleName:entry))))(VariableDeclarationStatement(SimpleType(SimpleName:StreamResult))(VariableDeclarationFragment(SimpleName:result)(ClassInstanceCreation(SimpleType(SimpleName:StreamResult))(SimpleName:outputStream))))(VariableDeclarationStatement(SimpleType(SimpleName:InputSource))(VariableDeclarationFragment(SimpleName:inputSource)(NullLiteral)))(IfStatement(InstanceofExpression(SimpleName:faucet)(SimpleType(SimpleName:IPipelineItem)))(Block(ExpressionStatement(Assignment(SimpleName:inputSource)(ASSIGNMENT_OPERATOR:=)(CastExpression(SimpleType(SimpleName:InputSource))(MethodInvocation(METHOD_INVOCATION_RECEIVER(ParenthesizedExpression(CastExpression(SimpleType(SimpleName:IPipelineItem))(SimpleName:faucet))))(SimpleName:consume)(METHOD_INVOCATION_ARGUMENTS(ThisExpression))))))))(TryStatement(Block(VariableDeclarationStatement(SimpleType(SimpleName:Object))(VariableDeclarationFragment(SimpleName:faucetObject)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:faucet))(SimpleName:getSource)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:ContentType.XML)))))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:logger))(SimpleName:isTraceEnabled))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:logger))(SimpleName:trace)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:faucetObject))))))(VariableDeclarationStatement(SimpleType(SimpleName:SAXTransformerFactory))(VariableDeclarationFragment(SimpleName:stf)(CastExpression(SimpleType(SimpleName:SAXTransformerFactory))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:TransformerFactory))(SimpleName:newInstance)))))(VariableDeclarationStatement(SimpleType(SimpleName:Transformer))(VariableDeclarationFragment(SimpleName:transformer)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:stf))(SimpleName:newTransformer))))(VariableDeclarationStatement(SimpleType(SimpleName:SAXSource))(VariableDeclarationFragment(SimpleName:transformSource)(ClassInstanceCreation(SimpleType(SimpleName:SAXSource))(CastExpression(SimpleType(SimpleName:XMLReader))(SimpleName:faucetObject))(SimpleName:inputSource))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:transformer))(SimpleName:transform)(METHOD_INVOCATION_ARGUMENTS(SimpleName:transformSource)(SimpleName:result)))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:Exception))(SimpleName:e))(Block(ThrowStatement(ClassInstanceCreation(SimpleType(SimpleName:XformationException))(StringLiteral:<STR>)(SimpleName:e))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:faucet))(SimpleName:dispose)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:outputStream))(SimpleName:close)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:faucetTemplate))(SimpleName:dispose))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:IOException))(SimpleName:ioe))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:logger))(SimpleName:error)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(SimpleName:ioe))))(ThrowStatement(ClassInstanceCreation(SimpleType(SimpleName:XformationException))(StringLiteral:<STR>)(SimpleName:ioe))))))))))