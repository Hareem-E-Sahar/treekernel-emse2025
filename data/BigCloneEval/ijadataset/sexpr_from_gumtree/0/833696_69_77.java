(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:public)(PrimitiveType:void)(SimpleName:connect)(SingleVariableDeclaration(SimpleType(SimpleName:IConnection))(SimpleName:conn))(Block(IfStatement(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(ParenthesizedExpression(InstanceofExpression(SimpleName:conn)(SimpleType(SimpleName:RTMPConnection)))))(ThrowStatement(ClassInstanceCreation(SimpleType(SimpleName:RuntimeException))(StringLiteral:<STR>))))(IfStatement(MethodInvocation(SimpleName:isConnected))(ThrowStatement(ClassInstanceCreation(SimpleType(SimpleName:RuntimeException))(StringLiteral:<STR>))))(ExpressionStatement(Assignment(SimpleName:source)(ASSIGNMENT_OPERATOR:=)(SimpleName:conn)))(VariableDeclarationStatement(SimpleType(SimpleName:SharedObjectMessage))(VariableDeclarationFragment(SimpleName:msg)(ClassInstanceCreation(SimpleType(SimpleName:SharedObjectMessage))(SimpleName:name)(NumberLiteral:0)(MethodInvocation(SimpleName:isPersistentObject)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:msg))(SimpleName:addEvent)(METHOD_INVOCATION_ARGUMENTS(ClassInstanceCreation(SimpleType(SimpleName:SharedObjectEvent))(QualifiedName:Type.SERVER_CONNECT)(NullLiteral)(NullLiteral)))))(VariableDeclarationStatement(SimpleType(SimpleName:Channel))(VariableDeclarationFragment(SimpleName:c)(MethodInvocation(METHOD_INVOCATION_RECEIVER(ParenthesizedExpression(CastExpression(SimpleType(SimpleName:RTMPConnection))(SimpleName:conn))))(SimpleName:getChannel)(METHOD_INVOCATION_ARGUMENTS(CastExpression(PrimitiveType:byte)(NumberLiteral:3))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:c))(SimpleName:write)(METHOD_INVOCATION_ARGUMENTS(SimpleName:msg))))))))