(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:public)(Modifier:final)(Modifier:synchronized)(PrimitiveType:void)(SimpleName:doLayout)(Block(VariableDeclarationStatement(Modifier:final)(SimpleType(SimpleName:Dimension))(VariableDeclarationFragment(SimpleName:new_vport_dims)(MethodInvocation(SimpleName:getSize))))(IfStatement(InfixExpression(InfixExpression(QualifiedName:new_vport_dims.height)(INFIX_EXPRESSION_OPERATOR:<=)(NumberLiteral:0))(INFIX_EXPRESSION_OPERATOR:||)(InfixExpression(QualifiedName:new_vport_dims.width)(INFIX_EXPRESSION_OPERATOR:<=)(NumberLiteral:0)))(ReturnStatement))(IfStatement(SimpleName:DEBUG)(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(QualifiedName:System.out))(SimpleName:println)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(ThisExpression)(INFIX_EXPRESSION_OPERATOR:+)(StringLiteral:<STR>)(SimpleName:vport_dims)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(QualifiedName:System.out))(SimpleName:println)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:image_origin)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(QualifiedName:System.out))(SimpleName:println)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:scaled_image_width)))))))(IfStatement(InfixExpression(SimpleName:offscreen_buffer)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:offscreen_gc))(SimpleName:dispose)))(ExpressionStatement(Assignment(SimpleName:offscreen_gc)(ASSIGNMENT_OPERATOR:=)(NullLiteral)))(ExpressionStatement(Assignment(SimpleName:offscreen_buffer)(ASSIGNMENT_OPERATOR:=)(NullLiteral)))))(VariableDeclarationStatement(Modifier:final)(PrimitiveType:double)(VariableDeclarationFragment(SimpleName:old_scale_factor)(SimpleName:scale_factor)))(VariableDeclarationStatement(Modifier:final)(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:old_fov_left)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Math))(SimpleName:max)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:0)(QualifiedName:image_origin.x)))))(VariableDeclarationStatement(Modifier:final)(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:old_fov_right)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Math))(SimpleName:min)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:vport_dims.width)(InfixExpression(QualifiedName:image_origin.x)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:scaled_image_width))))))(VariableDeclarationStatement(Modifier:final)(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:old_fov_top)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Math))(SimpleName:max)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:0)(QualifiedName:image_origin.y)))))(VariableDeclarationStatement(Modifier:final)(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:old_fov_bottom)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Math))(SimpleName:min)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:vport_dims.height)(InfixExpression(QualifiedName:image_origin.y)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:scaled_image_height))))))(VariableDeclarationStatement(Modifier:final)(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:vport_center_old_fov_x)(InfixExpression(SimpleName:old_fov_left)(INFIX_EXPRESSION_OPERATOR:+)(InfixExpression(ParenthesizedExpression(InfixExpression(SimpleName:old_fov_right)(INFIX_EXPRESSION_OPERATOR:-)(SimpleName:old_fov_left)))(INFIX_EXPRESSION_OPERATOR:/)(NumberLiteral:2)))))(VariableDeclarationStatement(Modifier:final)(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:vport_center_old_fov_y)(InfixExpression(SimpleName:old_fov_top)(INFIX_EXPRESSION_OPERATOR:+)(InfixExpression(ParenthesizedExpression(InfixExpression(SimpleName:old_fov_bottom)(INFIX_EXPRESSION_OPERATOR:-)(SimpleName:old_fov_top)))(INFIX_EXPRESSION_OPERATOR:/)(NumberLiteral:2)))))(VariableDeclarationStatement(Modifier:final)(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:old_fov_width)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Math))(SimpleName:max)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:1)(InfixExpression(SimpleName:old_fov_right)(INFIX_EXPRESSION_OPERATOR:-)(SimpleName:old_fov_left))))))(VariableDeclarationStatement(Modifier:final)(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:old_fov_height)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Math))(SimpleName:max)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:1)(InfixExpression(SimpleName:old_fov_bottom)(INFIX_EXPRESSION_OPERATOR:-)(SimpleName:old_fov_top))))))(VariableDeclarationStatement(Modifier:final)(PrimitiveType:float)(VariableDeclarationFragment(SimpleName:old_fov_aspect)(InfixExpression(ParenthesizedExpression(CastExpression(PrimitiveType:float)(SimpleName:old_fov_width)))(INFIX_EXPRESSION_OPERATOR:/)(SimpleName:old_fov_height))))(VariableDeclarationStatement(Modifier:final)(PrimitiveType:float)(VariableDeclarationFragment(SimpleName:new_vport_aspect)(InfixExpression(ParenthesizedExpression(CastExpression(PrimitiveType:float)(QualifiedName:new_vport_dims.width)))(INFIX_EXPRESSION_OPERATOR:/)(QualifiedName:new_vport_dims.height))))(VariableDeclarationStatement(Modifier:final)(PrimitiveType:double)(VariableDeclarationFragment(SimpleName:new_scale_factor)(InfixExpression(SimpleName:old_scale_factor)(INFIX_EXPRESSION_OPERATOR:*)(ParenthesizedExpression(ConditionalExpression(ParenthesizedExpression(InfixExpression(SimpleName:new_vport_aspect)(INFIX_EXPRESSION_OPERATOR:>)(SimpleName:old_fov_aspect)))(ParenthesizedExpression(InfixExpression(ParenthesizedExpression(CastExpression(PrimitiveType:float)(QualifiedName:new_vport_dims.height)))(INFIX_EXPRESSION_OPERATOR:/)(SimpleName:old_fov_height)))(ParenthesizedExpression(InfixExpression(ParenthesizedExpression(CastExpression(PrimitiveType:float)(QualifiedName:new_vport_dims.width)))(INFIX_EXPRESSION_OPERATOR:/)(SimpleName:old_fov_width))))))))(VariableDeclarationStatement(Modifier:final)(SimpleType(SimpleName:Point))(VariableDeclarationFragment(SimpleName:old_image_origin)(SimpleName:image_origin)))(ExpressionStatement(Assignment(SimpleName:vport_dims)(ASSIGNMENT_OPERATOR:=)(SimpleName:new_vport_dims)))(ExpressionStatement(Assignment(SimpleName:scaled_image_width)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(SimpleName:_cappedScaledImageWidth)(METHOD_INVOCATION_ARGUMENTS(CastExpression(PrimitiveType:int)(ParenthesizedExpression(InfixExpression(SimpleName:new_scale_factor)(INFIX_EXPRESSION_OPERATOR:*)(SimpleName:original_image_width))))))))(ExpressionStatement(Assignment(SimpleName:scaled_image_height)(ASSIGNMENT_OPERATOR:=)(InfixExpression(InfixExpression(SimpleName:scaled_image_width)(INFIX_EXPRESSION_OPERATOR:*)(SimpleName:original_image_height))(INFIX_EXPRESSION_OPERATOR:/)(SimpleName:original_image_width))))(ExpressionStatement(Assignment(SimpleName:scale_factor)(ASSIGNMENT_OPERATOR:=)(InfixExpression(ParenthesizedExpression(CastExpression(PrimitiveType:double)(SimpleName:scaled_image_width)))(INFIX_EXPRESSION_OPERATOR:/)(ParenthesizedExpression(CastExpression(PrimitiveType:double)(SimpleName:original_image_width))))))(VariableDeclarationStatement(Modifier:final)(PrimitiveType:double)(VariableDeclarationFragment(SimpleName:center_old_fov_x)(InfixExpression(ParenthesizedExpression(InfixExpression(SimpleName:vport_center_old_fov_x)(INFIX_EXPRESSION_OPERATOR:-)(QualifiedName:old_image_origin.x)))(INFIX_EXPRESSION_OPERATOR:/)(SimpleName:old_scale_factor))))(VariableDeclarationStatement(Modifier:final)(PrimitiveType:double)(VariableDeclarationFragment(SimpleName:center_old_fov_y)(InfixExpression(ParenthesizedExpression(InfixExpression(SimpleName:vport_center_old_fov_y)(INFIX_EXPRESSION_OPERATOR:-)(QualifiedName:old_image_origin.y)))(INFIX_EXPRESSION_OPERATOR:/)(SimpleName:old_scale_factor))))(ExpressionStatement(Assignment(QualifiedName:image_origin.x)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Math))(SimpleName:round)(METHOD_INVOCATION_ARGUMENTS(CastExpression(PrimitiveType:float)(ParenthesizedExpression(InfixExpression(InfixExpression(QualifiedName:vport_dims.width)(INFIX_EXPRESSION_OPERATOR:/)(NumberLiteral:2.0))(INFIX_EXPRESSION_OPERATOR:-)(InfixExpression(SimpleName:center_old_fov_x)(INFIX_EXPRESSION_OPERATOR:*)(SimpleName:scale_factor)))))))))(ExpressionStatement(Assignment(QualifiedName:image_origin.y)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Math))(SimpleName:round)(METHOD_INVOCATION_ARGUMENTS(CastExpression(PrimitiveType:float)(ParenthesizedExpression(InfixExpression(InfixExpression(QualifiedName:vport_dims.height)(INFIX_EXPRESSION_OPERATOR:/)(NumberLiteral:2.0))(INFIX_EXPRESSION_OPERATOR:-)(InfixExpression(SimpleName:center_old_fov_y)(INFIX_EXPRESSION_OPERATOR:*)(SimpleName:scale_factor)))))))))(ExpressionStatement(MethodInvocation(SimpleName:_updateVportCursorPosition)))(IfStatement(SimpleName:DEBUG)(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(QualifiedName:System.out))(SimpleName:println)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(StringLiteral:<STR>)(SimpleName:vport_dims)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(QualifiedName:System.out))(SimpleName:println)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:image_origin)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(QualifiedName:System.out))(SimpleName:println)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:scaled_image_width)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(QualifiedName:System.out))(SimpleName:println)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:scaled_image_height)))))))(ExpressionStatement(MethodInvocation(SimpleName:repaint)))))))