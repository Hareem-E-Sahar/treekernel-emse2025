(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:private)(PrimitiveType:int)(SimpleName:writeToFile)(SingleVariableDeclaration(SimpleType(SimpleName:RandomAccessFile))(SimpleName:file))(SingleVariableDeclaration(SimpleType(SimpleName:ByteBuffer))(SimpleName:data))(SingleVariableDeclaration(PrimitiveType:long)(SimpleName:destOffset))(SimpleType(SimpleName:IOException))(SimpleType(SimpleName:DatabaseException))(Block(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:totalBytesWritten)(NumberLiteral:0)))(IfStatement(SimpleName:useNIO)(Block(VariableDeclarationStatement(SimpleType(SimpleName:FileChannel))(VariableDeclarationFragment(SimpleName:channel)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:file))(SimpleName:getChannel))))(IfStatement(InfixExpression(SimpleName:chunkedNIOSize)(INFIX_EXPRESSION_OPERATOR:>)(NumberLiteral:0))(Block(VariableDeclarationStatement(SimpleType(SimpleName:ByteBuffer))(VariableDeclarationFragment(SimpleName:useData)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:data))(SimpleName:duplicate))))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:originalLimit)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:useData))(SimpleName:limit))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:useData))(SimpleName:limit)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:useData))(SimpleName:position)))))(WhileStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:useData))(SimpleName:limit))(INFIX_EXPRESSION_OPERATOR:<)(SimpleName:originalLimit))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:useData))(SimpleName:limit)(METHOD_INVOCATION_ARGUMENTS(CastExpression(PrimitiveType:int)(ParenthesizedExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Math))(SimpleName:min)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:useData))(SimpleName:limit))(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:chunkedNIOSize))(SimpleName:originalLimit))))))))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:bytesWritten)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:channel))(SimpleName:write)(METHOD_INVOCATION_ARGUMENTS(SimpleName:useData)(SimpleName:destOffset)))))(ExpressionStatement(Assignment(SimpleName:destOffset)(ASSIGNMENT_OPERATOR:+=)(SimpleName:bytesWritten)))(ExpressionStatement(Assignment(SimpleName:totalBytesWritten)(ASSIGNMENT_OPERATOR:+=)(SimpleName:bytesWritten))))))(Block(ExpressionStatement(Assignment(SimpleName:totalBytesWritten)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:channel))(SimpleName:write)(METHOD_INVOCATION_ARGUMENTS(SimpleName:data)(SimpleName:destOffset))))))))(Block(SynchronizedStatement(SimpleName:file)(Block(AssertStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:data))(SimpleName:hasArray)))(AssertStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:data))(SimpleName:arrayOffset))(INFIX_EXPRESSION_OPERATOR:==)(NumberLiteral:0)))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:pos)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:data))(SimpleName:position))))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:size)(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:data))(SimpleName:limit))(INFIX_EXPRESSION_OPERATOR:-)(SimpleName:pos))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:file))(SimpleName:seek)(METHOD_INVOCATION_ARGUMENTS(SimpleName:destOffset))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:file))(SimpleName:write)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:data))(SimpleName:array))(SimpleName:pos)(SimpleName:size))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:data))(SimpleName:position)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(SimpleName:pos)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:size)))))(ExpressionStatement(Assignment(SimpleName:totalBytesWritten)(ASSIGNMENT_OPERATOR:=)(SimpleName:size)))))))(ReturnStatement(SimpleName:totalBytesWritten))))))