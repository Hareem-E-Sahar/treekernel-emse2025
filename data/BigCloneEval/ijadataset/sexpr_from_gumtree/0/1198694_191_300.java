(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(MarkerAnnotation(SimpleName:Override))(Modifier:public)(PrimitiveType:void)(SimpleName:messageReceived)(SingleVariableDeclaration(SimpleType(SimpleName:ChannelHandlerContext))(SimpleName:ctx))(SingleVariableDeclaration(SimpleType(SimpleName:MessageEvent))(SimpleName:e))(SimpleType(SimpleName:OpenR66Exception))(Block(VariableDeclarationStatement(Modifier:final)(SimpleType(SimpleName:AbstractLocalPacket))(VariableDeclarationFragment(SimpleName:packet)(CastExpression(SimpleType(SimpleName:AbstractLocalPacket))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:e))(SimpleName:getMessage)))))(IfStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:packet))(SimpleName:getType))(INFIX_EXPRESSION_OPERATOR:==)(QualifiedName:LocalPacketFactory.STARTUPPACKET))(Block(ExpressionStatement(MethodInvocation(SimpleName:startup)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:e))(SimpleName:getChannel))(CastExpression(SimpleType(SimpleName:StartupPacket))(SimpleName:packet))))))(Block(IfStatement(InfixExpression(SimpleName:localChannelReference)(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:logger))(SimpleName:error)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:packet))(SimpleName:getClass)))(SimpleName:getName))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:session))(SimpleName:newState)(METHOD_INVOCATION_ARGUMENTS(SimpleName:ERROR))))(VariableDeclarationStatement(Modifier:final)(SimpleType(SimpleName:ErrorPacket))(VariableDeclarationFragment(SimpleName:errorPacket)(ClassInstanceCreation(SimpleType(SimpleName:ErrorPacket))(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:packet))(SimpleName:getClass)))(SimpleName:getName)))(MethodInvocation(METHOD_INVOCATION_RECEIVER(QualifiedName:ErrorCode.ConnectionImpossible))(SimpleName:getCode))(QualifiedName:ErrorPacket.FORWARDCLOSECODE))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Channels))(SimpleName:write)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:e))(SimpleName:getChannel))(SimpleName:errorPacket))))(SimpleName:awaitUninterruptibly)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:localChannelReference))(SimpleName:invalidateRequest)(METHOD_INVOCATION_ARGUMENTS(ClassInstanceCreation(SimpleType(SimpleName:R66Result))(ClassInstanceCreation(SimpleType(SimpleName:OpenR66ProtocolSystemException))(StringLiteral:<STR>))(SimpleName:session)(BooleanLiteral:true)(QualifiedName:ErrorCode.ConnectionImpossible)(NullLiteral)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ChannelUtils))(SimpleName:close)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:e))(SimpleName:getChannel)))))(IfStatement(InfixExpression(QualifiedName:Configuration.configuration.r66Mib)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(QualifiedName:Configuration.configuration.r66Mib))(SimpleName:notifyWarning)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:packet))(SimpleName:getClass)))(SimpleName:getSimpleName)))))))(ReturnStatement)))(SwitchStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:packet))(SimpleName:getType))(SwitchCase(QualifiedName:LocalPacketFactory.AUTHENTPACKET))(Block(ExpressionStatement(MethodInvocation(SimpleName:authent)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:e))(SimpleName:getChannel))(CastExpression(SimpleType(SimpleName:AuthentPacket))(SimpleName:packet)))))(BreakStatement))(SwitchCase(QualifiedName:LocalPacketFactory.DATAPACKET))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:session))(SimpleName:newState)(METHOD_INVOCATION_ARGUMENTS(SimpleName:DATAR))))(ExpressionStatement(MethodInvocation(SimpleName:data)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:e))(SimpleName:getChannel))(CastExpression(SimpleType(SimpleName:DataPacket))(SimpleName:packet)))))(BreakStatement))(SwitchCase(QualifiedName:LocalPacketFactory.VALIDPACKET))(Block(ExpressionStatement(MethodInvocation(SimpleName:valid)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:e))(SimpleName:getChannel))(CastExpression(SimpleType(SimpleName:ValidPacket))(SimpleName:packet)))))(BreakStatement))(SwitchCase(QualifiedName:LocalPacketFactory.ERRORPACKET))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:session))(SimpleName:newState)(METHOD_INVOCATION_ARGUMENTS(SimpleName:ERROR))))(ExpressionStatement(MethodInvocation(SimpleName:errorMesg)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:e))(SimpleName:getChannel))(CastExpression(SimpleType(SimpleName:ErrorPacket))(SimpleName:packet)))))(BreakStatement))(SwitchCase(QualifiedName:LocalPacketFactory.CONNECTERRORPACKET))(Block(ExpressionStatement(MethodInvocation(SimpleName:connectionError)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:e))(SimpleName:getChannel))(CastExpression(SimpleType(SimpleName:ConnectionErrorPacket))(SimpleName:packet)))))(BreakStatement))(SwitchCase(QualifiedName:LocalPacketFactory.REQUESTPACKET))(Block(ExpressionStatement(MethodInvocation(SimpleName:request)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:e))(SimpleName:getChannel))(CastExpression(SimpleType(SimpleName:RequestPacket))(SimpleName:packet)))))(BreakStatement))(SwitchCase(QualifiedName:LocalPacketFactory.SHUTDOWNPACKET))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:session))(SimpleName:newState)(METHOD_INVOCATION_ARGUMENTS(SimpleName:SHUTDOWN))))(ExpressionStatement(MethodInvocation(SimpleName:shutdown)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:e))(SimpleName:getChannel))(CastExpression(SimpleType(SimpleName:ShutdownPacket))(SimpleName:packet)))))(BreakStatement))(SwitchCase(QualifiedName:LocalPacketFactory.STOPPACKET))(SwitchCase(QualifiedName:LocalPacketFactory.CANCELPACKET))(SwitchCase(QualifiedName:LocalPacketFactory.CONFIMPORTPACKET))(SwitchCase(QualifiedName:LocalPacketFactory.CONFEXPORTPACKET))(SwitchCase(QualifiedName:LocalPacketFactory.BANDWIDTHPACKET))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:logger))(SimpleName:error)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:packet))(SimpleName:getClass)))(SimpleName:getName))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:session))(SimpleName:newState)(METHOD_INVOCATION_ARGUMENTS(SimpleName:ERROR))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:localChannelReference))(SimpleName:invalidateRequest)(METHOD_INVOCATION_ARGUMENTS(ClassInstanceCreation(SimpleType(SimpleName:R66Result))(ClassInstanceCreation(SimpleType(SimpleName:OpenR66ProtocolSystemException))(StringLiteral:<STR>))(SimpleName:session)(BooleanLiteral:true)(QualifiedName:ErrorCode.Unimplemented)(NullLiteral)))))(VariableDeclarationStatement(Modifier:final)(SimpleType(SimpleName:ErrorPacket))(VariableDeclarationFragment(SimpleName:errorPacket)(ClassInstanceCreation(SimpleType(SimpleName:ErrorPacket))(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:packet))(SimpleName:getClass)))(SimpleName:getName)))(MethodInvocation(METHOD_INVOCATION_RECEIVER(QualifiedName:ErrorCode.Unimplemented))(SimpleName:getCode))(QualifiedName:ErrorPacket.FORWARDCLOSECODE))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ChannelUtils))(SimpleName:writeAbstractLocalPacket)(METHOD_INVOCATION_ARGUMENTS(SimpleName:localChannelReference)(SimpleName:errorPacket))))(SimpleName:awaitUninterruptibly)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ChannelUtils))(SimpleName:close)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:e))(SimpleName:getChannel)))))(BreakStatement))(SwitchCase(QualifiedName:LocalPacketFactory.TESTPACKET))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:session))(SimpleName:newState)(METHOD_INVOCATION_ARGUMENTS(SimpleName:TEST))))(ExpressionStatement(MethodInvocation(SimpleName:test)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:e))(SimpleName:getChannel))(CastExpression(SimpleType(SimpleName:TestPacket))(SimpleName:packet)))))(BreakStatement))(SwitchCase(QualifiedName:LocalPacketFactory.ENDTRANSFERPACKET))(Block(ExpressionStatement(MethodInvocation(SimpleName:endTransfer)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:e))(SimpleName:getChannel))(CastExpression(SimpleType(SimpleName:EndTransferPacket))(SimpleName:packet)))))(BreakStatement))(SwitchCase(QualifiedName:LocalPacketFactory.INFORMATIONPACKET))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:session))(SimpleName:newState)(METHOD_INVOCATION_ARGUMENTS(SimpleName:INFORMATION))))(ExpressionStatement(MethodInvocation(SimpleName:information)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:e))(SimpleName:getChannel))(CastExpression(SimpleType(SimpleName:InformationPacket))(SimpleName:packet)))))(BreakStatement))(SwitchCase(QualifiedName:LocalPacketFactory.ENDREQUESTPACKET))(Block(ExpressionStatement(MethodInvocation(SimpleName:endRequest)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:e))(SimpleName:getChannel))(CastExpression(SimpleType(SimpleName:EndRequestPacket))(SimpleName:packet)))))(BreakStatement))(SwitchCase(QualifiedName:LocalPacketFactory.BUSINESSREQUESTPACKET))(Block(ExpressionStatement(MethodInvocation(SimpleName:businessRequest)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:e))(SimpleName:getChannel))(CastExpression(SimpleType(SimpleName:BusinessRequestPacket))(SimpleName:packet)))))(BreakStatement))(SwitchCase)(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:logger))(SimpleName:error)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:packet))(SimpleName:getClass)))(SimpleName:getName))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:session))(SimpleName:newState)(METHOD_INVOCATION_ARGUMENTS(SimpleName:ERROR))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:localChannelReference))(SimpleName:invalidateRequest)(METHOD_INVOCATION_ARGUMENTS(ClassInstanceCreation(SimpleType(SimpleName:R66Result))(ClassInstanceCreation(SimpleType(SimpleName:OpenR66ProtocolSystemException))(StringLiteral:<STR>))(SimpleName:session)(BooleanLiteral:true)(QualifiedName:ErrorCode.Unimplemented)(NullLiteral)))))(VariableDeclarationStatement(Modifier:final)(SimpleType(SimpleName:ErrorPacket))(VariableDeclarationFragment(SimpleName:errorPacket)(ClassInstanceCreation(SimpleType(SimpleName:ErrorPacket))(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:packet))(SimpleName:getClass)))(SimpleName:getName)))(MethodInvocation(METHOD_INVOCATION_RECEIVER(QualifiedName:ErrorCode.Unimplemented))(SimpleName:getCode))(QualifiedName:ErrorPacket.FORWARDCLOSECODE))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ChannelUtils))(SimpleName:writeAbstractLocalPacket)(METHOD_INVOCATION_ARGUMENTS(SimpleName:localChannelReference)(SimpleName:errorPacket))))(SimpleName:awaitUninterruptibly)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ChannelUtils))(SimpleName:close)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:e))(SimpleName:getChannel)))))))))))))