(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:protected)(PrimitiveType:void)(SimpleName:sendMessagesFromNodesToClient)(SingleVariableDeclaration(Modifier:final)(SimpleType(SimpleName:DummyClient))(SimpleName:client))(SingleVariableDeclaration(PrimitiveType:int)(SimpleName:numAdditionalNodes))(SingleVariableDeclaration(PrimitiveType:int)(SimpleName:iterations))(SingleVariableDeclaration(Modifier:final)(SimpleType(SimpleName:Delivery))(SimpleName:delivery))(SingleVariableDeclaration(Modifier:final)(PrimitiveType:boolean)(SimpleName:oneUnreliableServer))(SimpleType(SimpleName:Exception))(Block(VariableDeclarationStatement(Modifier:final)(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:counterName)(StringLiteral:<STR>)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:client))(SimpleName:connect)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:serverNode))(SimpleName:getAppPort)))))(ExpressionStatement(MethodInvocation(SimpleName:assertTrue)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:client))(SimpleName:login)))))(ForStatement(VariableDeclarationExpression(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:i)(NumberLiteral:0)))(InfixExpression(SimpleName:i)(INFIX_EXPRESSION_OPERATOR:<)(SimpleName:numAdditionalNodes))(PostfixExpression(SimpleName:i)(POSTFIX_EXPRESSION_OPERATOR:++))(Block(ExpressionStatement(MethodInvocation(SimpleName:addNodes)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Integer))(SimpleName:toString)(METHOD_INVOCATION_ARGUMENTS(SimpleName:i))))))))(VariableDeclarationStatement(Modifier:final)(ParameterizedType(SimpleType(SimpleName:List))(SimpleType(SimpleName:SgsTestNode)))(VariableDeclarationFragment(SimpleName:nodes)(ClassInstanceCreation(ParameterizedType(SimpleType(SimpleName:ArrayList))(SimpleType(SimpleName:SgsTestNode))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:nodes))(SimpleName:add)(METHOD_INVOCATION_ARGUMENTS(SimpleName:serverNode))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:nodes))(SimpleName:addAll)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:additionalNodes))(SimpleName:values)))))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:numExpectedMessages)(ConditionalExpression(SimpleName:oneUnreliableServer)(SimpleName:iterations)(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:nodes))(SimpleName:size))(INFIX_EXPRESSION_OPERATOR:*)(SimpleName:iterations)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:txnScheduler))(SimpleName:runTask)(METHOD_INVOCATION_ARGUMENTS(ClassInstanceCreation(SimpleType(SimpleName:TestAbstractKernelRunnable))(AnonymousClassDeclaration(MethodDeclaration(SingleMemberAnnotation(SimpleName:SuppressWarnings)(StringLiteral:<STR>))(Modifier:public)(PrimitiveType:void)(SimpleName:run)(Block(VariableDeclarationStatement(PrimitiveType:boolean)(VariableDeclarationFragment(SimpleName:setUnreliableServer)(SimpleName:oneUnreliableServer)))(EnhancedForStatement(SingleVariableDeclaration(SimpleType(SimpleName:SgsTestNode))(SimpleName:node))(SimpleName:nodes)(Block(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:key)(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:node))(SimpleName:getNodeId)))))(VariableDeclarationStatement(SimpleType(SimpleName:ClientSessionServer))(VariableDeclarationFragment(SimpleName:sessionServer)(MethodInvocation(METHOD_INVOCATION_RECEIVER(ParenthesizedExpression(CastExpression(ParameterizedType(SimpleType(SimpleName:ManagedSerializable))(SimpleType(SimpleName:ClientSessionServer)))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:dataService))(SimpleName:getServiceBinding)(METHOD_INVOCATION_ARGUMENTS(SimpleName:key))))))(SimpleName:get))))(VariableDeclarationStatement(SimpleType(SimpleName:InvocationHandler))(VariableDeclarationFragment(SimpleName:handler)))(IfStatement(SimpleName:setUnreliableServer)(Block(ExpressionStatement(Assignment(SimpleName:handler)(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(SimpleType(SimpleName:HungryInvocationHandler))(SimpleName:sessionServer))))(ExpressionStatement(Assignment(SimpleName:setUnreliableServer)(ASSIGNMENT_OPERATOR:=)(BooleanLiteral:false))))(Block(ExpressionStatement(Assignment(SimpleName:handler)(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(SimpleType(SimpleName:DelayingInvocationHandler))(SimpleName:sessionServer))))))(VariableDeclarationStatement(SimpleType(SimpleName:ClientSessionServer))(VariableDeclarationFragment(SimpleName:delayingServer)(CastExpression(SimpleType(SimpleName:ClientSessionServer))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Proxy))(SimpleName:newProxyInstance)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(TypeLiteral(SimpleType(SimpleName:ClientSessionServer))))(SimpleName:getClassLoader))(ArrayCreation(ArrayType(SimpleType(SimpleName:Class))(Dimension))(ArrayInitializer(TypeLiteral(SimpleType(SimpleName:ClientSessionServer)))))(SimpleName:handler))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:dataService))(SimpleName:setServiceBinding)(METHOD_INVOCATION_ARGUMENTS(SimpleName:key)(ClassInstanceCreation(SimpleType(SimpleName:ManagedSerializable))(SimpleName:delayingServer)))))))))))(SimpleName:taskOwner))))(ForStatement(VariableDeclarationExpression(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:i)(NumberLiteral:0)))(InfixExpression(SimpleName:i)(INFIX_EXPRESSION_OPERATOR:<)(SimpleName:iterations))(PostfixExpression(SimpleName:i)(POSTFIX_EXPRESSION_OPERATOR:++))(Block(EnhancedForStatement(SingleVariableDeclaration(SimpleType(SimpleName:SgsTestNode))(SimpleName:node))(SimpleName:nodes)(Block(VariableDeclarationStatement(SimpleType(SimpleName:TransactionScheduler))(VariableDeclarationFragment(SimpleName:localTxnScheduler)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:node))(SimpleName:getSystemRegistry)))(SimpleName:getComponent)(METHOD_INVOCATION_ARGUMENTS(TypeLiteral(SimpleType(SimpleName:TransactionScheduler)))))))(VariableDeclarationStatement(SimpleType(SimpleName:Identity))(VariableDeclarationFragment(SimpleName:identity)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:node))(SimpleName:getProxy)))(SimpleName:getCurrentOwner))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:localTxnScheduler))(SimpleName:scheduleTask)(METHOD_INVOCATION_ARGUMENTS(ClassInstanceCreation(SimpleType(SimpleName:TestAbstractKernelRunnable))(AnonymousClassDeclaration(MethodDeclaration(Modifier:public)(PrimitiveType:void)(SimpleName:run)(Block(VariableDeclarationStatement(SimpleType(SimpleName:DataManager))(VariableDeclarationFragment(SimpleName:dataManager)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:AppContext))(SimpleName:getDataManager))))(VariableDeclarationStatement(SimpleType(SimpleName:Counter))(VariableDeclarationFragment(SimpleName:counter)))(TryStatement(Block(ExpressionStatement(Assignment(SimpleName:counter)(ASSIGNMENT_OPERATOR:=)(CastExpression(SimpleType(SimpleName:Counter))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:dataManager))(SimpleName:getBinding)(METHOD_INVOCATION_ARGUMENTS(SimpleName:counterName)))))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:NameNotBoundException))(SimpleName:e))(Block(ThrowStatement(ClassInstanceCreation(SimpleType(SimpleName:MaybeRetryException))(StringLiteral:<STR>)(BooleanLiteral:true))))))(VariableDeclarationStatement(SimpleType(SimpleName:ClientSession))(VariableDeclarationFragment(SimpleName:session)(CastExpression(SimpleType(SimpleName:ClientSession))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:dataManager))(SimpleName:getBinding)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:client.name))))))(VariableDeclarationStatement(SimpleType(SimpleName:MessageBuffer))(VariableDeclarationFragment(SimpleName:buf)(ClassInstanceCreation(SimpleType(SimpleName:MessageBuffer))(NumberLiteral:4))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:buf))(SimpleName:putInt)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:counter))(SimpleName:getAndIncrement)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:session))(SimpleName:send)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ByteBuffer))(SimpleName:wrap)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:buf))(SimpleName:getBuffer))))(SimpleName:delivery))))))))(SimpleName:identity))))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:txnScheduler))(SimpleName:runTask)(METHOD_INVOCATION_ARGUMENTS(ClassInstanceCreation(SimpleType(SimpleName:TestAbstractKernelRunnable))(AnonymousClassDeclaration(MethodDeclaration(Modifier:public)(PrimitiveType:void)(SimpleName:run)(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:AppContext))(SimpleName:getDataManager)))(SimpleName:setBinding)(METHOD_INVOCATION_ARGUMENTS(SimpleName:counterName)(ClassInstanceCreation(SimpleType(SimpleName:Counter))))))))))(SimpleName:taskOwner))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:client))(SimpleName:waitForClientToReceiveExpectedMessages)(METHOD_INVOCATION_ARGUMENTS(SimpleName:numExpectedMessages))))))))