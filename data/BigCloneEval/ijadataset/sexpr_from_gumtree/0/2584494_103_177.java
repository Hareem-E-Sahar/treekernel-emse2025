(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:private)(PrimitiveType:void)(SimpleName:doFrame)(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:logger))(SimpleName:debug)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:handler))(SimpleName:getChannelId))))))(VariableDeclarationStatement(PrimitiveType:byte)(VariableDeclarationFragment(SimpleName:pcode)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:frame))(SimpleName:getPcode))))(VariableDeclarationStatement(ArrayType(SimpleType(SimpleName:ByteBuffer))(Dimension))(VariableDeclarationFragment(SimpleName:payloadBuffers)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:frame))(SimpleName:getPayloadBuffers))))(ExpressionStatement(MethodInvocation(SimpleName:doBinaryTrace)(METHOD_INVOCATION_ARGUMENTS(SimpleName:pcode)(InfixExpression(SimpleName:payloadBuffer)(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:frame))(SimpleName:isFin))(SimpleName:payloadBuffers))))(IfStatement(InfixExpression(SimpleName:payloadBuffer)(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(Block(ExpressionStatement(Assignment(SimpleName:payloadBuffer)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:CacheBuffer))(SimpleName:open))))))(IfStatement(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:frame))(SimpleName:isFin)))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:logger))(SimpleName:debug)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))(IfStatement(InfixExpression(SimpleName:pcode)(INFIX_EXPRESSION_OPERATOR:!=)(QualifiedName:WsHybiFrame.PCODE_CONTINUE))(Block(ExpressionStatement(Assignment(SimpleName:continuePcode)(ASSIGNMENT_OPERATOR:=)(SimpleName:pcode)))))(ExpressionStatement(Assignment(SimpleName:continuePayloadLength)(ASSIGNMENT_OPERATOR:+=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:BuffersUtil))(SimpleName:remaining)(METHOD_INVOCATION_ARGUMENTS(SimpleName:payloadBuffers)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:payloadBuffer))(SimpleName:putBuffer)(METHOD_INVOCATION_ARGUMENTS(SimpleName:payloadBuffers))))(IfStatement(InfixExpression(SimpleName:continuePayloadLength)(INFIX_EXPRESSION_OPERATOR:>=)(MethodInvocation(SimpleName:getWebSocketMessageLimit)))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:logger))(SimpleName:debug)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:continuePayloadLength)))))(ExpressionStatement(MethodInvocation(SimpleName:sendClose)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:WsHybiFrame.CLOSE_MESSAGE_TOO_BIG)(StringLiteral:<STR>))))))(ReturnStatement)))(IfStatement(InfixExpression(SimpleName:pcode)(INFIX_EXPRESSION_OPERATOR:==)(QualifiedName:WsHybiFrame.PCODE_CONTINUE))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:logger))(SimpleName:debug)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))(ExpressionStatement(Assignment(SimpleName:pcode)(ASSIGNMENT_OPERATOR:=)(SimpleName:continuePcode)))(ExpressionStatement(Assignment(SimpleName:continuePayloadLength)(ASSIGNMENT_OPERATOR:=)(NumberLiteral:0)))(ExpressionStatement(Assignment(SimpleName:continuePcode)(ASSIGNMENT_OPERATOR:=)(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:-)(NumberLiteral:1))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:payloadBuffer))(SimpleName:putBuffer)(METHOD_INVOCATION_ARGUMENTS(SimpleName:payloadBuffers))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:payloadBuffer))(SimpleName:flip)))(SwitchStatement(SimpleName:pcode)(SwitchCase(QualifiedName:WsHybiFrame.PCODE_TEXT))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:logger))(SimpleName:debug)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))(IfStatement(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:payloadBuffer))(SimpleName:isInTopBuffer)))(Block(ThrowStatement(ClassInstanceCreation(SimpleType(SimpleName:UnsupportedOperationException))(StringLiteral:<STR>)))))(ExpressionStatement(Assignment(SimpleName:payloadBuffers)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:payloadBuffer))(SimpleName:popTopBuffer))))(EnhancedForStatement(SingleVariableDeclaration(SimpleType(SimpleName:ByteBuffer))(SimpleName:buffer))(SimpleName:payloadBuffers)(Block(ExpressionStatement(MethodInvocation(SimpleName:convertPutBuffer)(METHOD_INVOCATION_ARGUMENTS(SimpleName:buffer))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:PoolManager))(SimpleName:poolArrayInstance)(METHOD_INVOCATION_ARGUMENTS(SimpleName:payloadBuffers))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:textMessage)(MethodInvocation(SimpleName:convertToString))))(ExpressionStatement(MethodInvocation(SimpleName:traceOnMessage)(METHOD_INVOCATION_ARGUMENTS(SimpleName:textMessage))))(ExpressionStatement(MethodInvocation(SimpleName:callOnMessage)(METHOD_INVOCATION_ARGUMENTS(SimpleName:textMessage))))(BreakStatement)(SwitchCase(QualifiedName:WsHybiFrame.PCODE_BINARY))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:logger))(SimpleName:debug)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))(ExpressionStatement(MethodInvocation(SimpleName:callBinaryOnMessage)(METHOD_INVOCATION_ARGUMENTS(SimpleName:payloadBuffer))))(ExpressionStatement(Assignment(SimpleName:payloadBuffer)(ASSIGNMENT_OPERATOR:=)(NullLiteral)))(BreakStatement)(SwitchCase(QualifiedName:WsHybiFrame.PCODE_CLOSE))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:logger))(SimpleName:debug)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:PoolManager))(SimpleName:poolBufferInstance)(METHOD_INVOCATION_ARGUMENTS(SimpleName:payloadBuffers))))(ExpressionStatement(MethodInvocation(SimpleName:traceOnClose)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:frame))(SimpleName:getCloseCode))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:frame))(SimpleName:getCloseReason)))))(ExpressionStatement(MethodInvocation(SimpleName:sendClose)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:WsHybiFrame.CLOSE_NORMAL)(NullLiteral))))(BreakStatement)(SwitchCase(QualifiedName:WsHybiFrame.PCODE_PING))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:logger))(SimpleName:debug)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))(ExpressionStatement(MethodInvocation(SimpleName:tracePingPong)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))(VariableDeclarationStatement(ArrayType(SimpleType(SimpleName:ByteBuffer))(Dimension))(VariableDeclarationFragment(SimpleName:pongBuffer)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:WsHybiFrame))(SimpleName:createPongFrame)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(SimpleName:isWebSocketResponseMask))(SimpleName:payloadBuffers)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:handler))(SimpleName:asyncWrite)(METHOD_INVOCATION_ARGUMENTS(NullLiteral)(SimpleName:pongBuffer))))(BreakStatement)(SwitchCase(QualifiedName:WsHybiFrame.PCODE_PONG))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:logger))(SimpleName:debug)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:PoolManager))(SimpleName:poolBufferInstance)(METHOD_INVOCATION_ARGUMENTS(SimpleName:payloadBuffers))))(ExpressionStatement(MethodInvocation(SimpleName:tracePingPong)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))(BreakStatement))(IfStatement(InfixExpression(SimpleName:payloadBuffer)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:payloadBuffer))(SimpleName:unref)))(ExpressionStatement(Assignment(SimpleName:payloadBuffer)(ASSIGNMENT_OPERATOR:=)(NullLiteral)))))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:frame))(SimpleName:parseNextFrame))(Block(ExpressionStatement(MethodInvocation(SimpleName:doFrame)))))))))