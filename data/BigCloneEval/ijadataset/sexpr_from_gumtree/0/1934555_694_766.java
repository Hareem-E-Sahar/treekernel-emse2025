(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:public)(PrimitiveType:boolean)(SimpleName:writeToURI)(SingleVariableDeclaration(SimpleType(SimpleName:Node))(SimpleName:nodeArg))(SingleVariableDeclaration(SimpleType(SimpleName:String))(SimpleName:uri))(SimpleType(SimpleName:LSException))(Block(IfStatement(InfixExpression(SimpleName:nodeArg)(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(Block(ReturnStatement(BooleanLiteral:false))))(VariableDeclarationStatement(SimpleType(SimpleName:Serializer))(VariableDeclarationFragment(SimpleName:serializer)(SimpleName:fXMLSerializer)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:serializer))(SimpleName:reset)))(IfStatement(InfixExpression(SimpleName:nodeArg)(INFIX_EXPRESSION_OPERATOR:!=)(SimpleName:fVisitedNode))(Block(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:xmlVersion)(MethodInvocation(SimpleName:getXMLVersion)(METHOD_INVOCATION_ARGUMENTS(SimpleName:nodeArg)))))(ExpressionStatement(Assignment(SimpleName:fEncoding)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(SimpleName:getInputEncoding)(METHOD_INVOCATION_ARGUMENTS(SimpleName:nodeArg)))))(IfStatement(InfixExpression(SimpleName:fEncoding)(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(Block(ExpressionStatement(Assignment(SimpleName:fEncoding)(ASSIGNMENT_OPERATOR:=)(ConditionalExpression(InfixExpression(SimpleName:fEncoding)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(SimpleName:fEncoding)(ConditionalExpression(InfixExpression(MethodInvocation(SimpleName:getXMLEncoding)(METHOD_INVOCATION_ARGUMENTS(SimpleName:nodeArg)))(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(StringLiteral:<STR>)(MethodInvocation(SimpleName:getXMLEncoding)(METHOD_INVOCATION_ARGUMENTS(SimpleName:nodeArg)))))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:serializer))(SimpleName:getOutputFormat)))(SimpleName:setProperty)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(SimpleName:xmlVersion))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fDOMConfigProperties))(SimpleName:setProperty)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(QualifiedName:DOMConstants.S_XERCES_PROPERTIES_NS)(INFIX_EXPRESSION_OPERATOR:+)(QualifiedName:DOMConstants.S_XML_VERSION))(SimpleName:xmlVersion))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fDOMConfigProperties))(SimpleName:setProperty)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:DOMConstants.S_XSL_OUTPUT_ENCODING)(SimpleName:fEncoding))))(IfStatement(InfixExpression(ParenthesizedExpression(InfixExpression(InfixExpression(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:nodeArg))(SimpleName:getNodeType))(INFIX_EXPRESSION_OPERATOR:!=)(QualifiedName:Node.DOCUMENT_NODE))(INFIX_EXPRESSION_OPERATOR:||)(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:nodeArg))(SimpleName:getNodeType))(INFIX_EXPRESSION_OPERATOR:!=)(QualifiedName:Node.ELEMENT_NODE)))(INFIX_EXPRESSION_OPERATOR:||)(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:nodeArg))(SimpleName:getNodeType))(INFIX_EXPRESSION_OPERATOR:!=)(QualifiedName:Node.ENTITY_NODE))))(INFIX_EXPRESSION_OPERATOR:&&)(ParenthesizedExpression(InfixExpression(ParenthesizedExpression(InfixExpression(SimpleName:fFeatures)(INFIX_EXPRESSION_OPERATOR:&)(SimpleName:XMLDECL)))(INFIX_EXPRESSION_OPERATOR:!=)(NumberLiteral:0))))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fDOMConfigProperties))(SimpleName:setProperty)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:DOMConstants.S_XSL_OUTPUT_OMIT_XML_DECL)(QualifiedName:DOMConstants.DOM3_DEFAULT_FALSE))))))(ExpressionStatement(Assignment(SimpleName:fVisitedNode)(ASSIGNMENT_OPERATOR:=)(SimpleName:nodeArg)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fXMLSerializer))(SimpleName:setOutputFormat)(METHOD_INVOCATION_ARGUMENTS(SimpleName:fDOMConfigProperties))))(TryStatement(Block(IfStatement(InfixExpression(SimpleName:uri)(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(Block(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:msg)(MethodInvocation(METHOD_INVOCATION_RECEIVER(QualifiedName:Utils.messages))(SimpleName:createMessage)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:MsgKey.ER_NO_OUTPUT_SPECIFIED)(NullLiteral)))))(IfStatement(InfixExpression(SimpleName:fDOMErrorHandler)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fDOMErrorHandler))(SimpleName:handleError)(METHOD_INVOCATION_ARGUMENTS(ClassInstanceCreation(SimpleType(SimpleName:DOMErrorImpl))(QualifiedName:DOMError.SEVERITY_FATAL_ERROR)(SimpleName:msg)(QualifiedName:MsgKey.ER_NO_OUTPUT_SPECIFIED)))))))(ThrowStatement(ClassInstanceCreation(SimpleType(SimpleName:LSException))(QualifiedName:LSException.SERIALIZE_ERR)(SimpleName:msg))))(Block(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:absoluteURI)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:SystemIDResolver))(SimpleName:getAbsoluteURI)(METHOD_INVOCATION_ARGUMENTS(SimpleName:uri)))))(VariableDeclarationStatement(SimpleType(SimpleName:URL))(VariableDeclarationFragment(SimpleName:url)(ClassInstanceCreation(SimpleType(SimpleName:URL))(SimpleName:absoluteURI))))(VariableDeclarationStatement(SimpleType(SimpleName:OutputStream))(VariableDeclarationFragment(SimpleName:urlOutStream)(NullLiteral)))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:protocol)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:url))(SimpleName:getProtocol))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:host)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:url))(SimpleName:getHost))))(IfStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:protocol))(SimpleName:equalsIgnoreCase)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))(INFIX_EXPRESSION_OPERATOR:&&)(ParenthesizedExpression(InfixExpression(InfixExpression(InfixExpression(SimpleName:host)(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(INFIX_EXPRESSION_OPERATOR:||)(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:host))(SimpleName:length))(INFIX_EXPRESSION_OPERATOR:==)(NumberLiteral:0)))(INFIX_EXPRESSION_OPERATOR:||)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:host))(SimpleName:equals)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))))(Block(ExpressionStatement(Assignment(SimpleName:urlOutStream)(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(SimpleType(SimpleName:FileOutputStream))(MethodInvocation(SimpleName:getPathWithoutEscapes)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:url))(SimpleName:getPath))))))))(Block(VariableDeclarationStatement(SimpleType(SimpleName:URLConnection))(VariableDeclarationFragment(SimpleName:urlCon)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:url))(SimpleName:openConnection))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:urlCon))(SimpleName:setDoInput)(METHOD_INVOCATION_ARGUMENTS(BooleanLiteral:false))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:urlCon))(SimpleName:setDoOutput)(METHOD_INVOCATION_ARGUMENTS(BooleanLiteral:true))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:urlCon))(SimpleName:setUseCaches)(METHOD_INVOCATION_ARGUMENTS(BooleanLiteral:false))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:urlCon))(SimpleName:setAllowUserInteraction)(METHOD_INVOCATION_ARGUMENTS(BooleanLiteral:false))))(IfStatement(InstanceofExpression(SimpleName:urlCon)(SimpleType(SimpleName:HttpURLConnection)))(Block(VariableDeclarationStatement(SimpleType(SimpleName:HttpURLConnection))(VariableDeclarationFragment(SimpleName:httpCon)(CastExpression(SimpleType(SimpleName:HttpURLConnection))(SimpleName:urlCon))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:httpCon))(SimpleName:setRequestMethod)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))))(ExpressionStatement(Assignment(SimpleName:urlOutStream)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:urlCon))(SimpleName:getOutputStream))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:serializer))(SimpleName:setOutputStream)(METHOD_INVOCATION_ARGUMENTS(SimpleName:urlOutStream))))))(IfStatement(InfixExpression(SimpleName:fDOMSerializer)(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(Block(ExpressionStatement(Assignment(SimpleName:fDOMSerializer)(ASSIGNMENT_OPERATOR:=)(CastExpression(SimpleType(SimpleName:DOM3Serializer))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:serializer))(SimpleName:asDOM3Serializer)))))))(IfStatement(InfixExpression(SimpleName:fDOMErrorHandler)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fDOMSerializer))(SimpleName:setErrorHandler)(METHOD_INVOCATION_ARGUMENTS(SimpleName:fDOMErrorHandler))))))(IfStatement(InfixExpression(SimpleName:fSerializerFilter)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fDOMSerializer))(SimpleName:setNodeFilter)(METHOD_INVOCATION_ARGUMENTS(SimpleName:fSerializerFilter))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fDOMSerializer))(SimpleName:setNewLine)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fEndOfLine))(SimpleName:toCharArray)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fDOMSerializer))(SimpleName:serializeDOM3)(METHOD_INVOCATION_ARGUMENTS(SimpleName:nodeArg)))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:LSException))(SimpleName:lse))(Block(ThrowStatement(SimpleName:lse))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:RuntimeException))(SimpleName:e))(Block(ThrowStatement(CastExpression(SimpleType(SimpleName:LSException))(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(SimpleName:createLSException)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:LSException.SERIALIZE_ERR)(SimpleName:e))))(SimpleName:fillInStackTrace))))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:Exception))(SimpleName:e))(Block(IfStatement(InfixExpression(SimpleName:fDOMErrorHandler)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fDOMErrorHandler))(SimpleName:handleError)(METHOD_INVOCATION_ARGUMENTS(ClassInstanceCreation(SimpleType(SimpleName:DOMErrorImpl))(QualifiedName:DOMError.SEVERITY_FATAL_ERROR)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:e))(SimpleName:getMessage))(NullLiteral)(SimpleName:e)))))))(ThrowStatement(CastExpression(SimpleType(SimpleName:LSException))(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(SimpleName:createLSException)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:LSException.SERIALIZE_ERR)(SimpleName:e))))(SimpleName:fillInStackTrace)))))))(ReturnStatement(BooleanLiteral:true))))))