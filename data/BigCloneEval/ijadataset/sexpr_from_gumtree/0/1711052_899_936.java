(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(MarkerAnnotation(SimpleName:Override))(Modifier:public)(PrimitiveType:void)(SimpleName:handle)(SingleVariableDeclaration(SimpleType(SimpleName:ConnectionAvailableEvent))(SimpleName:event))(Block(VariableDeclarationStatement(PrimitiveType:boolean)(VariableDeclarationFragment(SimpleName:destroyConnection)(BooleanLiteral:false)))(VariableDeclarationStatement(Modifier:final)(SimpleType(SimpleName:IConnection))(VariableDeclarationFragment(SimpleName:connection)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:event))(SimpleName:getConnection))))(SynchronizedStatement(MethodInvocation(SimpleName:getState))(Block(VariableDeclarationStatement(Modifier:final)(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:remoteContextIdentity)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:connection))(SimpleName:getRemoteContextIdentity))))(IfStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(SimpleName:getState)))(SimpleName:getConnectedContexts)))(SimpleName:getCount)(METHOD_INVOCATION_ARGUMENTS(SimpleName:remoteContextIdentity)))(INFIX_EXPRESSION_OPERATOR:>)(NumberLiteral:0))(Block(VariableDeclarationStatement(Modifier:final)(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:compareTo)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(SimpleName:getState)))(SimpleName:getContext)))(SimpleName:getIdentity)))(SimpleName:compareTo)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:connection))(SimpleName:getRemoteContextIdentity))))))(IfStatement(InfixExpression(SimpleName:compareTo)(INFIX_EXPRESSION_OPERATOR:>)(NumberLiteral:0))(Block(ExpressionStatement(Assignment(SimpleName:destroyConnection)(ASSIGNMENT_OPERATOR:=)(BooleanLiteral:true))))(Block(IfStatement(InfixExpression(SimpleName:compareTo)(INFIX_EXPRESSION_OPERATOR:==)(NumberLiteral:0))(Block(IfStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(SimpleName:getState)))(SimpleName:getContext)))(SimpleName:getContextHashCode))(INFIX_EXPRESSION_OPERATOR:>)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:connection))(SimpleName:getRemoteContextHashCode)))(Block(ExpressionStatement(Assignment(SimpleName:destroyConnection)(ASSIGNMENT_OPERATOR:=)(BooleanLiteral:true)))))))))))(VariableDeclarationStatement(Modifier:final)(SimpleType(SimpleName:IConnectionParameters))(VariableDeclarationFragment(SimpleName:connectionParameters)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(SimpleName:getState)))(SimpleName:getDiscoveredContexts)))(SimpleName:get)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:connection))(SimpleName:getRemoteContextIdentity))))))(IfStatement(InfixExpression(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:connection))(SimpleName:isOutbound))(INFIX_EXPRESSION_OPERATOR:&&)(InfixExpression(SimpleName:connectionParameters)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral)))(INFIX_EXPRESSION_OPERATOR:&&)(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:connectionParameters))(SimpleName:isEqual)(METHOD_INVOCATION_ARGUMENTS(SimpleName:connection)))))(Block(ExpressionStatement(Assignment(SimpleName:destroyConnection)(ASSIGNMENT_OPERATOR:=)(BooleanLiteral:true)))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(SimpleName:getLog)))(SimpleName:isDebugEnabled))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(SimpleName:getLog)))(SimpleName:debug)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(MethodInvocation(SimpleName:safeToString)(METHOD_INVOCATION_ARGUMENTS(SimpleName:connection)))(StringLiteral:<STR>)(MethodInvocation(SimpleName:safeToString)(METHOD_INVOCATION_ARGUMENTS(SimpleName:connectionParameters)))))))))))(IfStatement(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(SimpleName:destroyConnection))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(SimpleName:getState)))(SimpleName:getConnectedContexts)))(SimpleName:adjustCount)(METHOD_INVOCATION_ARGUMENTS(SimpleName:remoteContextIdentity)(NumberLiteral:1))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(SimpleName:getState)))(SimpleName:getChannelFactory)))(SimpleName:createChannel)(METHOD_INVOCATION_ARGUMENTS(SimpleName:connection)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(SimpleName:getState)))(SimpleName:getContext)))))(SimpleName:start)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(SimpleName:getState)))(SimpleName:getCONNECTINGContexts)))(SimpleName:adjustCount)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:connection))(SimpleName:getRemoteContextIdentity))(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:-)(NumberLiteral:1)))))))(IfStatement(SimpleName:destroyConnection)(Block(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(SimpleName:getLog)))(SimpleName:isTraceEnabled))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(SimpleName:getLog)))(SimpleName:trace)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(MethodInvocation(SimpleName:safeToString)(METHOD_INVOCATION_ARGUMENTS(SimpleName:connection)))(StringLiteral:<STR>)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:CollectionUtils))(SimpleName:toFormattedString)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(SimpleName:getState)))(SimpleName:getChannels))))))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:connection))(SimpleName:destroy)))))))))