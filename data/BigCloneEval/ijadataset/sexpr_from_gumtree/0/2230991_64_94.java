(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:public)(PrimitiveType:void)(SimpleName:saveImage)(Block(IfStatement(InfixExpression(FieldAccess(ThisExpression)(SimpleName:pfad))(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(Block(ThrowStatement(ClassInstanceCreation(SimpleType(SimpleName:IllegalAccessError))(StringLiteral:<STR>)))))(IfStatement(InfixExpression(FieldAccess(ThisExpression)(SimpleName:filetype))(INFIX_EXPRESSION_OPERATOR:<=)(NumberLiteral:0))(Block(ThrowStatement(ClassInstanceCreation(SimpleType(SimpleName:IllegalAccessError))(StringLiteral:<STR>)))))(VariableDeclarationStatement(SimpleType(SimpleName:GraphicalViewer))(VariableDeclarationFragment(SimpleName:viewer)(MethodInvocation(METHOD_INVOCATION_RECEIVER(ThisExpression))(SimpleName:getGraphicalViewer))))(VariableDeclarationStatement(SimpleType(SimpleName:ScalableFreeformRootEditPart))(VariableDeclarationFragment(SimpleName:rootEditPart)(CastExpression(SimpleType(SimpleName:ScalableFreeformRootEditPart))(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:viewer))(SimpleName:getEditPartRegistry)))(SimpleName:get)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:LayerManager.ID))))))(VariableDeclarationStatement(SimpleType(SimpleName:IFigure))(VariableDeclarationFragment(SimpleName:rootFigure)(MethodInvocation(METHOD_INVOCATION_RECEIVER(ParenthesizedExpression(CastExpression(SimpleType(SimpleName:LayerManager))(SimpleName:rootEditPart))))(SimpleName:getLayer)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:LayerConstants.PRINTABLE_LAYERS)))))(VariableDeclarationStatement(SimpleType(SimpleName:Rectangle))(VariableDeclarationFragment(SimpleName:rootFigureBounds)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:rootFigure))(SimpleName:getBounds))))(VariableDeclarationStatement(SimpleType(SimpleName:Control))(VariableDeclarationFragment(SimpleName:figureCanvas)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:viewer))(SimpleName:getControl))))(VariableDeclarationStatement(SimpleType(SimpleName:GC))(VariableDeclarationFragment(SimpleName:figureCanvasGC)(ClassInstanceCreation(SimpleType(SimpleName:GC))(SimpleName:figureCanvas))))(VariableDeclarationStatement(SimpleType(SimpleName:Image))(VariableDeclarationFragment(SimpleName:img)(ClassInstanceCreation(SimpleType(SimpleName:Image))(NullLiteral)(QualifiedName:rootFigureBounds.width)(QualifiedName:rootFigureBounds.height))))(VariableDeclarationStatement(SimpleType(SimpleName:GC))(VariableDeclarationFragment(SimpleName:imageGC)(ClassInstanceCreation(SimpleType(SimpleName:GC))(SimpleName:img))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:imageGC))(SimpleName:setBackground)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:figureCanvasGC))(SimpleName:getBackground)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:imageGC))(SimpleName:setForeground)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:figureCanvasGC))(SimpleName:getForeground)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:imageGC))(SimpleName:setFont)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:figureCanvasGC))(SimpleName:getFont)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:imageGC))(SimpleName:setLineStyle)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:figureCanvasGC))(SimpleName:getLineStyle)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:imageGC))(SimpleName:setLineWidth)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:figureCanvasGC))(SimpleName:getLineWidth)))))(VariableDeclarationStatement(SimpleType(SimpleName:Graphics))(VariableDeclarationFragment(SimpleName:imgGraphics)(ClassInstanceCreation(SimpleType(SimpleName:SWTGraphics))(SimpleName:imageGC))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:rootFigure))(SimpleName:paint)(METHOD_INVOCATION_ARGUMENTS(SimpleName:imgGraphics))))(VariableDeclarationStatement(ArrayType(SimpleType(SimpleName:ImageData))(Dimension))(VariableDeclarationFragment(SimpleName:imgData)(ArrayCreation(ArrayType(SimpleType(SimpleName:ImageData))(Dimension(NumberLiteral:1))))))(ExpressionStatement(Assignment(ArrayAccess(SimpleName:imgData)(NumberLiteral:0))(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:img))(SimpleName:getImageData))))(VariableDeclarationStatement(SimpleType(SimpleName:ImageLoader))(VariableDeclarationFragment(SimpleName:imgLoader)(ClassInstanceCreation(SimpleType(SimpleName:ImageLoader)))))(ExpressionStatement(Assignment(QualifiedName:imgLoader.data)(ASSIGNMENT_OPERATOR:=)(SimpleName:imgData)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:imgLoader))(SimpleName:save)(METHOD_INVOCATION_ARGUMENTS(FieldAccess(ThisExpression)(SimpleName:pfad))(FieldAccess(ThisExpression)(SimpleName:filetype)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:figureCanvasGC))(SimpleName:dispose)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:imageGC))(SimpleName:dispose)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:img))(SimpleName:dispose)))))))