(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:private)(ArrayType(PrimitiveType:int)(Dimension))(SimpleName:initExistingFile)(SimpleType(SimpleName:IOException))(Block(VariableDeclarationStatement(Modifier:final)(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:blockCapacity)(MethodInvocation(METHOD_INVOCATION_RECEIVER(FieldAccess(ThisExpression)(SimpleName:blockFile)))(SimpleName:getBlockCapacity))))(IfStatement(InfixExpression(SimpleName:blockCapacity)(INFIX_EXPRESSION_OPERATOR:==)(NumberLiteral:0))(ReturnStatement(ArrayCreation(ArrayType(PrimitiveType:int)(Dimension(NumberLiteral:0))))))(VariableDeclarationStatement(PrimitiveType:long)(VariableDeclarationFragment(SimpleName:checksum)))(VariableDeclarationStatement(SimpleType(SimpleName:RandomAccessFile))(VariableDeclarationFragment(SimpleName:invalidDataFile)(NullLiteral)))(VariableDeclarationStatement(PrimitiveType:boolean)(VariableDeclarationFragment(SimpleName:invalidDataFileError)(BooleanLiteral:false)))(VariableDeclarationStatement(ArrayType(PrimitiveType:byte)(Dimension))(VariableDeclarationFragment(SimpleName:invalidData)))(VariableDeclarationStatement(PrimitiveType:boolean)(VariableDeclarationFragment(SimpleName:hasInvalidBlocks)(BooleanLiteral:false)))(VariableDeclarationStatement(Modifier:final)(SimpleType(SimpleName:StringBuffer))(VariableDeclarationFragment(SimpleName:invalidBlocksBuffer)(ClassInstanceCreation(SimpleType(SimpleName:StringBuffer)))))(VariableDeclarationStatement(Modifier:final)(SimpleType(SimpleName:IntList))(VariableDeclarationFragment(SimpleName:occupiedBlocks)(ClassInstanceCreation(SimpleType(SimpleName:IntList))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Math))(SimpleName:max)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(SimpleName:blockCapacity)(INFIX_EXPRESSION_OPERATOR:/)(NumberLiteral:5))(NumberLiteral:100)))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Math))(SimpleName:max)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(SimpleName:blockCapacity)(INFIX_EXPRESSION_OPERATOR:/)(NumberLiteral:5))(NumberLiteral:100))))))(VariableDeclarationStatement(Modifier:final)(SimpleType(SimpleName:IntList))(VariableDeclarationFragment(SimpleName:unreferencedBlocks)(ClassInstanceCreation(SimpleType(SimpleName:IntList))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Math))(SimpleName:max)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(SimpleName:blockCapacity)(INFIX_EXPRESSION_OPERATOR:/)(NumberLiteral:5))(NumberLiteral:100)))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Math))(SimpleName:max)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(SimpleName:blockCapacity)(INFIX_EXPRESSION_OPERATOR:/)(NumberLiteral:5))(NumberLiteral:100))))))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:dataStartBlocksAddIndex)))(VariableDeclarationStatement(ArrayType(PrimitiveType:int)(Dimension))(VariableDeclarationFragment(SimpleName:initialDataChainsArray)(ArrayCreation(ArrayType(PrimitiveType:int)(Dimension(SimpleName:blockCapacity))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Arrays))(SimpleName:fill)(METHOD_INVOCATION_ARGUMENTS(SimpleName:initialDataChainsArray)(SimpleName:NULL_LINK))))(VariableDeclarationStatement(Modifier:final)(SimpleType(SimpleName:IntList))(VariableDeclarationFragment(SimpleName:initialDataChains)(ClassInstanceCreation(SimpleType(SimpleName:IntList))(SimpleName:initialDataChainsArray))))(VariableDeclarationStatement(Modifier:final)(ArrayType(PrimitiveType:byte)(Dimension))(VariableDeclarationFragment(SimpleName:blockHeaderBytes)(ArrayCreation(ArrayType(PrimitiveType:byte)(Dimension(InfixExpression(SimpleName:BLOCK_HEADER_SIZE)(INFIX_EXPRESSION_OPERATOR:*)(SimpleName:blockCapacity)))))))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:bufferBlocks)(InfixExpression(SimpleName:blockCapacity)(INFIX_EXPRESSION_OPERATOR:/)(NumberLiteral:10))))(ForStatement(VariableDeclarationExpression(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:i)(NumberLiteral:1)))(ParenthesizedExpression(InfixExpression(ParenthesizedExpression(InfixExpression(SimpleName:bufferBlocks)(INFIX_EXPRESSION_OPERATOR:*)(FieldAccess(ThisExpression)(SimpleName:blockSize))))(INFIX_EXPRESSION_OPERATOR:>)(ParenthesizedExpression(InfixExpression(NumberLiteral:10)(INFIX_EXPRESSION_OPERATOR:*)(NumberLiteral:1024)(NumberLiteral:1024)))))(PostfixExpression(SimpleName:i)(POSTFIX_EXPRESSION_OPERATOR:++))(ExpressionStatement(Assignment(SimpleName:bufferBlocks)(ASSIGNMENT_OPERATOR:=)(InfixExpression(SimpleName:blockCapacity)(INFIX_EXPRESSION_OPERATOR:/)(ParenthesizedExpression(InfixExpression(NumberLiteral:10)(INFIX_EXPRESSION_OPERATOR:*)(SimpleName:i)))))))(IfStatement(InfixExpression(SimpleName:bufferBlocks)(INFIX_EXPRESSION_OPERATOR:<)(NumberLiteral:1))(ExpressionStatement(Assignment(SimpleName:bufferBlocks)(ASSIGNMENT_OPERATOR:=)(NumberLiteral:1))))(VariableDeclarationStatement(Modifier:final)(ArrayType(PrimitiveType:byte)(Dimension))(VariableDeclarationFragment(SimpleName:buffer)(ArrayCreation(ArrayType(PrimitiveType:byte)(Dimension(InfixExpression(SimpleName:bufferBlocks)(INFIX_EXPRESSION_OPERATOR:*)(FieldAccess(ThisExpression)(SimpleName:blockSize))))))))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:blockOffset)(NumberLiteral:0)))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:readSize)))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:readBlocks)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(FieldAccess(ThisExpression)(SimpleName:blockFile)))(SimpleName:setFilePointer)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(FieldAccess(ThisExpression)(SimpleName:blockFile)))(SimpleName:getBlockStartFP)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:0))))))(WhileStatement(InfixExpression(SimpleName:blockOffset)(INFIX_EXPRESSION_OPERATOR:<)(SimpleName:blockCapacity))(Block(ExpressionStatement(Assignment(SimpleName:readSize)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Math))(SimpleName:min)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:buffer.length)(InfixExpression(ParenthesizedExpression(InfixExpression(SimpleName:blockCapacity)(INFIX_EXPRESSION_OPERATOR:-)(SimpleName:blockOffset)))(INFIX_EXPRESSION_OPERATOR:*)(FieldAccess(ThisExpression)(SimpleName:blockSize)))))))(ExpressionStatement(Assignment(SimpleName:readBlocks)(ASSIGNMENT_OPERATOR:=)(ParenthesizedExpression(InfixExpression(SimpleName:readSize)(INFIX_EXPRESSION_OPERATOR:/)(FieldAccess(ThisExpression)(SimpleName:blockSize))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(FieldAccess(ThisExpression)(SimpleName:blockFile)))(SimpleName:read)(METHOD_INVOCATION_ARGUMENTS(SimpleName:buffer)(NumberLiteral:0)(SimpleName:readSize))))(ForStatement(VariableDeclarationExpression(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:i)(NumberLiteral:0)))(InfixExpression(SimpleName:i)(INFIX_EXPRESSION_OPERATOR:<)(SimpleName:readBlocks))(PostfixExpression(SimpleName:i)(POSTFIX_EXPRESSION_OPERATOR:++))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:System))(SimpleName:arraycopy)(METHOD_INVOCATION_ARGUMENTS(SimpleName:buffer)(InfixExpression(SimpleName:i)(INFIX_EXPRESSION_OPERATOR:*)(FieldAccess(ThisExpression)(SimpleName:blockSize)))(SimpleName:blockHeaderBytes)(InfixExpression(ParenthesizedExpression(InfixExpression(SimpleName:blockOffset)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:i)))(INFIX_EXPRESSION_OPERATOR:*)(SimpleName:BLOCK_HEADER_SIZE))(SimpleName:BLOCK_HEADER_SIZE))))))(ExpressionStatement(Assignment(SimpleName:blockOffset)(ASSIGNMENT_OPERATOR:+=)(SimpleName:readBlocks)))))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:offset)(NumberLiteral:0)))(ForStatement(VariableDeclarationExpression(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:i)(NumberLiteral:0)))(InfixExpression(SimpleName:i)(INFIX_EXPRESSION_OPERATOR:<)(SimpleName:blockCapacity))(PostfixExpression(SimpleName:i)(POSTFIX_EXPRESSION_OPERATOR:++))(Block(ExpressionStatement(Assignment(SimpleName:offset)(ASSIGNMENT_OPERATOR:=)(InfixExpression(SimpleName:i)(INFIX_EXPRESSION_OPERATOR:*)(SimpleName:BLOCK_HEADER_SIZE))))(ExpressionStatement(Assignment(SimpleName:checksum)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(ThisExpression))(SimpleName:parseLongFromByteArray)(METHOD_INVOCATION_ARGUMENTS(SimpleName:blockHeaderBytes)(InfixExpression(SimpleName:BLOCK_HEADER_CHECKSUM_OFFSET)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:offset))))))(VariableDeclarationStatement(SimpleType(SimpleName:CRC32))(VariableDeclarationFragment(SimpleName:crc32)(ClassInstanceCreation(SimpleType(SimpleName:CRC32)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:crc32))(SimpleName:update)(METHOD_INVOCATION_ARGUMENTS(SimpleName:blockHeaderBytes)(SimpleName:offset)(SimpleName:BLOCK_HEADER_CHECKSUM_OFFSET))))(IfStatement(InfixExpression(SimpleName:checksum)(INFIX_EXPRESSION_OPERATOR:==)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:crc32))(SimpleName:getValue)))(Block(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(ThisExpression))(SimpleName:parseBooleanFromByteArray)(METHOD_INVOCATION_ARGUMENTS(SimpleName:blockHeaderBytes)(InfixExpression(SimpleName:BLOCK_HEADER_OCCUPIED_FLAG_OFFSET)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:offset))))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:occupiedBlocks))(SimpleName:addSorted)(METHOD_INVOCATION_ARGUMENTS(SimpleName:i))))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(ThisExpression))(SimpleName:parseBooleanFromByteArray)(METHOD_INVOCATION_ARGUMENTS(SimpleName:blockHeaderBytes)(InfixExpression(SimpleName:BLOCK_HEADER_START_BLOCK_FLAG_OFFSET)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:offset))))(Block(ExpressionStatement(Assignment(SimpleName:dataStartBlocksAddIndex)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(FieldAccess(ThisExpression)(SimpleName:dataStartBlocks)))(SimpleName:addSorted)(METHOD_INVOCATION_ARGUMENTS(SimpleName:i)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(FieldAccess(ThisExpression)(SimpleName:itemDataSizes)))(SimpleName:add)(METHOD_INVOCATION_ARGUMENTS(SimpleName:dataStartBlocksAddIndex)(MethodInvocation(METHOD_INVOCATION_RECEIVER(ThisExpression))(SimpleName:getBlockDataLength)(METHOD_INVOCATION_ARGUMENTS(SimpleName:blockHeaderBytes)(SimpleName:offset))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(FieldAccess(ThisExpression)(SimpleName:dataChainsArray)))(SimpleName:add)(METHOD_INVOCATION_ARGUMENTS(SimpleName:dataStartBlocksAddIndex)(NullLiteral)))))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:unreferencedBlocks))(SimpleName:addSorted)(METHOD_INVOCATION_ARGUMENTS(SimpleName:i))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:initialDataChains))(SimpleName:set)(METHOD_INVOCATION_ARGUMENTS(SimpleName:i)(MethodInvocation(METHOD_INVOCATION_RECEIVER(ThisExpression))(SimpleName:parseIntFromByteArray)(METHOD_INVOCATION_ARGUMENTS(SimpleName:blockHeaderBytes)(InfixExpression(SimpleName:BLOCK_HEADER_NEXT_BLOCK_POINTER_OFFSET)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:offset))))))))))(IfStatement(InfixExpression(ParenthesizedExpression(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(SimpleName:invalidDataFileError)))(INFIX_EXPRESSION_OPERATOR:&&)(ParenthesizedExpression(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(FieldAccess(ThisExpression)(SimpleName:readOnlyMode)))))(Block(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:logString)(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:i)(StringLiteral:<STR>)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:crc32))(SimpleName:getValue))(StringLiteral:<STR>)(SimpleName:checksum)(StringLiteral:<STR>)(MethodInvocation(METHOD_INVOCATION_RECEIVER(ThisExpression))(SimpleName:parseIntFromByteArray)(METHOD_INVOCATION_ARGUMENTS(SimpleName:blockHeaderBytes)(InfixExpression(SimpleName:BLOCK_HEADER_DATA_LENGTH_OFFSET)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:offset))))(StringLiteral:<STR>))))(IfStatement(SimpleName:hasInvalidBlocks)(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:invalidBlocksBuffer))(SimpleName:append)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:invalidBlocksBuffer))(SimpleName:append)(METHOD_INVOCATION_ARGUMENTS(SimpleName:logString))))(ExpressionStatement(Assignment(SimpleName:hasInvalidBlocks)(ASSIGNMENT_OPERATOR:=)(BooleanLiteral:true)))(IfStatement(InfixExpression(SimpleName:invalidDataFile)(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(Block(TryStatement(Block(ExpressionStatement(Assignment(SimpleName:invalidDataFile)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(SimpleName:createInvalidDataFile)))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:IOException))(SimpleName:ioe))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:JServerUtilities))(SimpleName:logWarning)(METHOD_INVOCATION_ARGUMENTS(SimpleName:fullName)(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:fileName)(StringLiteral:<STR>)(StringLiteral:<STR>))(SimpleName:ioe))))(ExpressionStatement(Assignment(SimpleName:invalidDataFileError)(ASSIGNMENT_OPERATOR:=)(BooleanLiteral:true)))(ContinueStatement))))))(ExpressionStatement(Assignment(SimpleName:invalidData)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(FieldAccess(ThisExpression)(SimpleName:blockFile)))(SimpleName:readBlock)(METHOD_INVOCATION_ARGUMENTS(SimpleName:i)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:invalidDataFile))(SimpleName:write)(METHOD_INVOCATION_ARGUMENTS(SimpleName:invalidData))))(ExpressionStatement(Assignment(SimpleName:invalidData)(ASSIGNMENT_OPERATOR:=)(NullLiteral)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(FieldAccess(ThisExpression)(SimpleName:blockFile)))(SimpleName:writePartialBlock)(METHOD_INVOCATION_ARGUMENTS(SimpleName:i)(NumberLiteral:0)(FieldAccess(ThisExpression)(SimpleName:deallocatedBlockHeaderBuffer))(NumberLiteral:0)(FieldAccess(FieldAccess(ThisExpression)(SimpleName:deallocatedBlockHeaderBuffer))(SimpleName:length))))))))))(IfStatement(SimpleName:hasInvalidBlocks)(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:JServerUtilities))(SimpleName:logWarning)(METHOD_INVOCATION_ARGUMENTS(SimpleName:fullName)(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:invalidBlocksBuffer))(SimpleName:toString))(StringLiteral:<STR>)))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(ThisExpression))(SimpleName:checkDataChains)(METHOD_INVOCATION_ARGUMENTS(SimpleName:initialDataChains)(SimpleName:occupiedBlocks)(SimpleName:unreferencedBlocks))))(IfStatement(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(FieldAccess(ThisExpression)(SimpleName:readOnlyMode)))(Block(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:index)))(ForStatement(VariableDeclarationExpression(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:i)(NumberLiteral:0)))(InfixExpression(SimpleName:i)(INFIX_EXPRESSION_OPERATOR:<)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:unreferencedBlocks))(SimpleName:size)))(PostfixExpression(SimpleName:i)(POSTFIX_EXPRESSION_OPERATOR:++))(Block(ExpressionStatement(Assignment(SimpleName:index)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:unreferencedBlocks))(SimpleName:get)(METHOD_INVOCATION_ARGUMENTS(SimpleName:i)))))(IfStatement(InfixExpression(SimpleName:index)(INFIX_EXPRESSION_OPERATOR:>=)(NumberLiteral:0))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:occupiedBlocks))(SimpleName:removeValueSorted)(METHOD_INVOCATION_ARGUMENTS(SimpleName:index))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(FieldAccess(ThisExpression)(SimpleName:blockFile)))(SimpleName:writePartialBlock)(METHOD_INVOCATION_ARGUMENTS(SimpleName:index)(NumberLiteral:0)(FieldAccess(ThisExpression)(SimpleName:deallocatedBlockHeaderBuffer))(NumberLiteral:0)(FieldAccess(FieldAccess(ThisExpression)(SimpleName:deallocatedBlockHeaderBuffer))(SimpleName:length)))))))))))(ReturnStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:occupiedBlocks))(SimpleName:toArray)))))))