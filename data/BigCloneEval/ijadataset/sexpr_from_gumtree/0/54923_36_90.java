(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(SimpleName:TiledImageExample)(SingleVariableDeclaration(SimpleType(SimpleName:String))(SimpleName:inputFile))(SingleVariableDeclaration(SimpleType(SimpleName:String))(SimpleName:outputFile))(SimpleType(SimpleName:IOException))(Block(VariableDeclarationStatement(SimpleType(SimpleName:ImageInputStream))(VariableDeclarationFragment(SimpleName:input)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ImageIO))(SimpleName:createImageInputStream)(METHOD_INVOCATION_ARGUMENTS(ClassInstanceCreation(SimpleType(SimpleName:File))(SimpleName:inputFile))))))(VariableDeclarationStatement(SimpleType(SimpleName:ImageReader))(VariableDeclarationFragment(SimpleName:reader)(CastExpression(SimpleType(SimpleName:ImageReader))(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ImageIO))(SimpleName:getImageReaders)(METHOD_INVOCATION_ARGUMENTS(SimpleName:input))))(SimpleName:next)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:reader))(SimpleName:setInput)(METHOD_INVOCATION_ARGUMENTS(SimpleName:input))))(VariableDeclarationStatement(SimpleType(SimpleName:RenderedImage))(VariableDeclarationFragment(SimpleName:image)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:reader))(SimpleName:readAsRenderedImage)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:0)(NullLiteral)))))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:tileWidth)(SimpleName:TILE_SIZE)))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:tileHeight)(SimpleName:TILE_SIZE)))(VariableDeclarationStatement(PrimitiveType:boolean)(VariableDeclarationFragment(SimpleName:isImageTiled)(InfixExpression(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:image))(SimpleName:getNumXTiles))(INFIX_EXPRESSION_OPERATOR:>)(NumberLiteral:1))(INFIX_EXPRESSION_OPERATOR:||)(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:image))(SimpleName:getNumYTiles))(INFIX_EXPRESSION_OPERATOR:>)(NumberLiteral:1)))))(IfStatement(SimpleName:isImageTiled)(Block(ExpressionStatement(Assignment(SimpleName:tileWidth)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:image))(SimpleName:getTileWidth))))(ExpressionStatement(Assignment(SimpleName:tileHeight)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:image))(SimpleName:getTileHeight))))))(ExpressionStatement(Assignment(SimpleName:writer)(ASSIGNMENT_OPERATOR:=)(CastExpression(SimpleType(SimpleName:ImageWriter))(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ImageIO))(SimpleName:getImageWritersByFormatName)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))(SimpleName:next)))))(VariableDeclarationStatement(SimpleType(SimpleName:ImageOutputStream))(VariableDeclarationFragment(SimpleName:output)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ImageIO))(SimpleName:createImageOutputStream)(METHOD_INVOCATION_ARGUMENTS(ClassInstanceCreation(SimpleType(SimpleName:File))(SimpleName:outputFile))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:writer))(SimpleName:setOutput)(METHOD_INVOCATION_ARGUMENTS(SimpleName:output))))(VariableDeclarationStatement(SimpleType(SimpleName:ImageWriteParam))(VariableDeclarationFragment(SimpleName:param)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:writer))(SimpleName:getDefaultWriteParam))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:param))(SimpleName:setTilingMode)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:ImageWriteParam.MODE_EXPLICIT))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:param))(SimpleName:setTiling)(METHOD_INVOCATION_ARGUMENTS(SimpleName:tileWidth)(SimpleName:tileHeight)(NumberLiteral:0)(NumberLiteral:0))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:writer))(SimpleName:write)(METHOD_INVOCATION_ARGUMENTS(NullLiteral)(ClassInstanceCreation(SimpleType(SimpleName:IIOImage))(SimpleName:image)(NullLiteral)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:reader))(SimpleName:getImageMetadata)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:0))))(SimpleName:param))))(ExpressionStatement(Assignment(SimpleName:input)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ImageIO))(SimpleName:createImageInputStream)(METHOD_INVOCATION_ARGUMENTS(ClassInstanceCreation(SimpleType(SimpleName:File))(SimpleName:outputFile))))))(ExpressionStatement(Assignment(SimpleName:reader)(ASSIGNMENT_OPERATOR:=)(CastExpression(SimpleType(SimpleName:ImageReader))(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ImageIO))(SimpleName:getImageReaders)(METHOD_INVOCATION_ARGUMENTS(SimpleName:input))))(SimpleName:next)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:reader))(SimpleName:setInput)(METHOD_INVOCATION_ARGUMENTS(SimpleName:input))))(ExpressionStatement(Assignment(SimpleName:image)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:reader))(SimpleName:readAsRenderedImage)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:0)(NullLiteral)))))(VariableDeclarationStatement(SimpleType(SimpleName:SelfCleaningTiledImage))(VariableDeclarationFragment(SimpleName:ti)(ClassInstanceCreation(SimpleType(SimpleName:SelfCleaningTiledImage))(SimpleName:image)(BooleanLiteral:true)(SimpleName:MAX_TILES))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ti))(SimpleName:addTileObserver)(METHOD_INVOCATION_ARGUMENTS(ThisExpression))))(VariableDeclarationStatement(SimpleType(SimpleName:Graphics2D))(VariableDeclarationFragment(SimpleName:g2d)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ti))(SimpleName:createGraphics))))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:numTiles)(NumberLiteral:0)))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:numBands)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:image))(SimpleName:getSampleModel)))(SimpleName:getNumBands))))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:y)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ti))(SimpleName:getMinY))))(ForStatement(VariableDeclarationExpression(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:ty)(NumberLiteral:0)))(InfixExpression(SimpleName:ty)(INFIX_EXPRESSION_OPERATOR:<)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ti))(SimpleName:getNumYTiles)))(PostfixExpression(SimpleName:ty)(POSTFIX_EXPRESSION_OPERATOR:++))(Assignment(SimpleName:y)(ASSIGNMENT_OPERATOR:+=)(SimpleName:tileHeight))(Block(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:x)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ti))(SimpleName:getMinX))))(ForStatement(VariableDeclarationExpression(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:tx)(NumberLiteral:0)))(InfixExpression(SimpleName:tx)(INFIX_EXPRESSION_OPERATOR:<)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ti))(SimpleName:getNumXTiles)))(PostfixExpression(SimpleName:tx)(POSTFIX_EXPRESSION_OPERATOR:++))(Assignment(SimpleName:x)(ASSIGNMENT_OPERATOR:+=)(SimpleName:tileWidth))(Block(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:r)))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:g)))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:b)))(IfStatement(InfixExpression(SimpleName:numBands)(INFIX_EXPRESSION_OPERATOR:==)(NumberLiteral:1))(Block(ExpressionStatement(Assignment(SimpleName:r)(ASSIGNMENT_OPERATOR:=)(Assignment(SimpleName:g)(ASSIGNMENT_OPERATOR:=)(Assignment(SimpleName:b)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ti))(SimpleName:getTile)(METHOD_INVOCATION_ARGUMENTS(SimpleName:tx)(SimpleName:ty))))(SimpleName:getSample)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(SimpleName:x)(INFIX_EXPRESSION_OPERATOR:+)(InfixExpression(SimpleName:tileWidth)(INFIX_EXPRESSION_OPERATOR:/)(NumberLiteral:2)))(InfixExpression(SimpleName:y)(INFIX_EXPRESSION_OPERATOR:+)(InfixExpression(SimpleName:tileHeight)(INFIX_EXPRESSION_OPERATOR:/)(NumberLiteral:2)))(NumberLiteral:0))))))))(Block(VariableDeclarationStatement(SimpleType(SimpleName:Raster))(VariableDeclarationFragment(SimpleName:tile)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ti))(SimpleName:getTile)(METHOD_INVOCATION_ARGUMENTS(SimpleName:tx)(SimpleName:ty)))))(ExpressionStatement(Assignment(SimpleName:r)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:tile))(SimpleName:getSample)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(SimpleName:x)(INFIX_EXPRESSION_OPERATOR:+)(InfixExpression(SimpleName:tileWidth)(INFIX_EXPRESSION_OPERATOR:/)(NumberLiteral:2)))(InfixExpression(SimpleName:y)(INFIX_EXPRESSION_OPERATOR:+)(InfixExpression(SimpleName:tileHeight)(INFIX_EXPRESSION_OPERATOR:/)(NumberLiteral:2)))(NumberLiteral:0)))))(ExpressionStatement(Assignment(SimpleName:g)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:tile))(SimpleName:getSample)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(SimpleName:x)(INFIX_EXPRESSION_OPERATOR:+)(InfixExpression(SimpleName:tileWidth)(INFIX_EXPRESSION_OPERATOR:/)(NumberLiteral:2)))(InfixExpression(SimpleName:y)(INFIX_EXPRESSION_OPERATOR:+)(InfixExpression(SimpleName:tileHeight)(INFIX_EXPRESSION_OPERATOR:/)(NumberLiteral:2)))(NumberLiteral:1)))))(ExpressionStatement(Assignment(SimpleName:b)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:tile))(SimpleName:getSample)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(SimpleName:x)(INFIX_EXPRESSION_OPERATOR:+)(InfixExpression(SimpleName:tileWidth)(INFIX_EXPRESSION_OPERATOR:/)(NumberLiteral:2)))(InfixExpression(SimpleName:y)(INFIX_EXPRESSION_OPERATOR:+)(InfixExpression(SimpleName:tileHeight)(INFIX_EXPRESSION_OPERATOR:/)(NumberLiteral:2)))(NumberLiteral:2)))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:g2d))(SimpleName:setColor)(METHOD_INVOCATION_ARGUMENTS(ClassInstanceCreation(SimpleType(SimpleName:Color))(SimpleName:r)(SimpleName:g)(SimpleName:b)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:g2d))(SimpleName:fill)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ti))(SimpleName:getTileRect)(METHOD_INVOCATION_ARGUMENTS(SimpleName:tx)(SimpleName:ty))))))))))(VariableDeclarationStatement(SimpleType(SimpleName:Rectangle))(VariableDeclarationFragment(SimpleName:rect)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ti))(SimpleName:getTileRect)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ti))(SimpleName:getNumXTiles))(INFIX_EXPRESSION_OPERATOR:/)(NumberLiteral:2))(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ti))(SimpleName:getNumYTiles))(INFIX_EXPRESSION_OPERATOR:/)(NumberLiteral:2))))))(ExpressionStatement(Assignment(QualifiedName:rect.x)(ASSIGNMENT_OPERATOR:+=)(InfixExpression(QualifiedName:rect.width)(INFIX_EXPRESSION_OPERATOR:/)(NumberLiteral:4))))(ExpressionStatement(Assignment(QualifiedName:rect.y)(ASSIGNMENT_OPERATOR:+=)(InfixExpression(QualifiedName:rect.height)(INFIX_EXPRESSION_OPERATOR:/)(NumberLiteral:4))))(ExpressionStatement(Assignment(QualifiedName:rect.width)(ASSIGNMENT_OPERATOR:-=)(InfixExpression(QualifiedName:rect.width)(INFIX_EXPRESSION_OPERATOR:/)(NumberLiteral:2))))(ExpressionStatement(Assignment(QualifiedName:rect.height)(ASSIGNMENT_OPERATOR:-=)(InfixExpression(QualifiedName:rect.height)(INFIX_EXPRESSION_OPERATOR:/)(NumberLiteral:2))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:g2d))(SimpleName:setColor)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:Color.red))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:g2d))(SimpleName:fill)(METHOD_INVOCATION_ARGUMENTS(SimpleName:rect))))))))