(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:public)(PrimitiveType:int)(SimpleName:substitute)(SingleVariableDeclaration(SimpleType(SimpleName:Reader))(SimpleName:reader))(SingleVariableDeclaration(SimpleType(SimpleName:Writer))(SimpleName:writer))(SingleVariableDeclaration(SimpleType(SimpleName:String))(SimpleName:type))(SimpleType(SimpleName:IllegalArgumentException))(SimpleType(SimpleName:IOException))(Block(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:t)(MethodInvocation(SimpleName:getTypeConstant)(METHOD_INVOCATION_ARGUMENTS(SimpleName:type)))))(VariableDeclarationStatement(PrimitiveType:char)(VariableDeclarationFragment(SimpleName:variable_start)(CharacterLiteral:<STR>)))(VariableDeclarationStatement(PrimitiveType:char)(VariableDeclarationFragment(SimpleName:variable_end)(CharacterLiteral:<STR>)))(IfStatement(InfixExpression(SimpleName:t)(INFIX_EXPRESSION_OPERATOR:==)(SimpleName:TYPE_SHELL))(Block(ExpressionStatement(Assignment(SimpleName:variable_start)(ASSIGNMENT_OPERATOR:=)(CharacterLiteral:<STR>))))(IfStatement(InfixExpression(SimpleName:t)(INFIX_EXPRESSION_OPERATOR:==)(SimpleName:TYPE_AT))(Block(ExpressionStatement(Assignment(SimpleName:variable_start)(ASSIGNMENT_OPERATOR:=)(CharacterLiteral:<STR>))))(IfStatement(InfixExpression(SimpleName:t)(INFIX_EXPRESSION_OPERATOR:==)(SimpleName:TYPE_ANT))(Block(ExpressionStatement(Assignment(SimpleName:variable_start)(ASSIGNMENT_OPERATOR:=)(CharacterLiteral:<STR>)))(ExpressionStatement(Assignment(SimpleName:variable_end)(ASSIGNMENT_OPERATOR:=)(CharacterLiteral:<STR>)))))))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:subs)(NumberLiteral:0)))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:c)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:reader))(SimpleName:read))))(WhileStatement(BooleanLiteral:true)(Block(WhileStatement(InfixExpression(InfixExpression(SimpleName:c)(INFIX_EXPRESSION_OPERATOR:!=)(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:-)(NumberLiteral:1)))(INFIX_EXPRESSION_OPERATOR:&&)(InfixExpression(SimpleName:c)(INFIX_EXPRESSION_OPERATOR:!=)(SimpleName:variable_start)))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:writer))(SimpleName:write)(METHOD_INVOCATION_ARGUMENTS(SimpleName:c))))(ExpressionStatement(Assignment(SimpleName:c)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:reader))(SimpleName:read))))))(IfStatement(InfixExpression(SimpleName:c)(INFIX_EXPRESSION_OPERATOR:==)(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:-)(NumberLiteral:1)))(Block(ReturnStatement(SimpleName:subs))))(VariableDeclarationStatement(PrimitiveType:boolean)(VariableDeclarationFragment(SimpleName:braces)(BooleanLiteral:false)))(ExpressionStatement(Assignment(SimpleName:c)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:reader))(SimpleName:read))))(IfStatement(InfixExpression(SimpleName:c)(INFIX_EXPRESSION_OPERATOR:==)(CharacterLiteral:<STR>))(Block(ExpressionStatement(Assignment(SimpleName:braces)(ASSIGNMENT_OPERATOR:=)(BooleanLiteral:true)))(ExpressionStatement(Assignment(SimpleName:c)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:reader))(SimpleName:read)))))(IfStatement(SimpleName:bracesRequired)(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:writer))(SimpleName:write)(METHOD_INVOCATION_ARGUMENTS(SimpleName:variable_start))))(ContinueStatement))(IfStatement(InfixExpression(SimpleName:c)(INFIX_EXPRESSION_OPERATOR:==)(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:-)(NumberLiteral:1)))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:writer))(SimpleName:write)(METHOD_INVOCATION_ARGUMENTS(SimpleName:variable_start))))(ReturnStatement(SimpleName:subs))))))(VariableDeclarationStatement(SimpleType(SimpleName:StringBuffer))(VariableDeclarationFragment(SimpleName:nameBuffer)(ClassInstanceCreation(SimpleType(SimpleName:StringBuffer)))))(WhileStatement(InfixExpression(InfixExpression(InfixExpression(InfixExpression(InfixExpression(InfixExpression(SimpleName:c)(INFIX_EXPRESSION_OPERATOR:!=)(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:-)(NumberLiteral:1)))(INFIX_EXPRESSION_OPERATOR:&&)(ParenthesizedExpression(InfixExpression(SimpleName:braces)(INFIX_EXPRESSION_OPERATOR:&&)(InfixExpression(SimpleName:c)(INFIX_EXPRESSION_OPERATOR:!=)(CharacterLiteral:<STR>)))))(INFIX_EXPRESSION_OPERATOR:||)(ParenthesizedExpression(InfixExpression(InfixExpression(SimpleName:c)(INFIX_EXPRESSION_OPERATOR:>=)(CharacterLiteral:<STR>))(INFIX_EXPRESSION_OPERATOR:&&)(InfixExpression(SimpleName:c)(INFIX_EXPRESSION_OPERATOR:<=)(CharacterLiteral:<STR>)))))(INFIX_EXPRESSION_OPERATOR:||)(ParenthesizedExpression(InfixExpression(InfixExpression(SimpleName:c)(INFIX_EXPRESSION_OPERATOR:>=)(CharacterLiteral:<STR>))(INFIX_EXPRESSION_OPERATOR:&&)(InfixExpression(SimpleName:c)(INFIX_EXPRESSION_OPERATOR:<=)(CharacterLiteral:<STR>)))))(INFIX_EXPRESSION_OPERATOR:||)(ParenthesizedExpression(InfixExpression(InfixExpression(SimpleName:braces)(INFIX_EXPRESSION_OPERATOR:&&)(ParenthesizedExpression(InfixExpression(SimpleName:c)(INFIX_EXPRESSION_OPERATOR:==)(CharacterLiteral:<STR>))))(INFIX_EXPRESSION_OPERATOR:||)(ParenthesizedExpression(InfixExpression(SimpleName:c)(INFIX_EXPRESSION_OPERATOR:==)(CharacterLiteral:<STR>))))))(INFIX_EXPRESSION_OPERATOR:||)(ParenthesizedExpression(InfixExpression(ParenthesizedExpression(InfixExpression(InfixExpression(InfixExpression(ParenthesizedExpression(InfixExpression(InfixExpression(SimpleName:c)(INFIX_EXPRESSION_OPERATOR:>=)(CharacterLiteral:<STR>))(INFIX_EXPRESSION_OPERATOR:&&)(InfixExpression(SimpleName:c)(INFIX_EXPRESSION_OPERATOR:<=)(CharacterLiteral:<STR>))))(INFIX_EXPRESSION_OPERATOR:||)(InfixExpression(SimpleName:c)(INFIX_EXPRESSION_OPERATOR:==)(CharacterLiteral:<STR>)))(INFIX_EXPRESSION_OPERATOR:||)(InfixExpression(SimpleName:c)(INFIX_EXPRESSION_OPERATOR:==)(CharacterLiteral:<STR>)))(INFIX_EXPRESSION_OPERATOR:||)(InfixExpression(SimpleName:c)(INFIX_EXPRESSION_OPERATOR:==)(CharacterLiteral:<STR>))))(INFIX_EXPRESSION_OPERATOR:&&)(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:nameBuffer))(SimpleName:length))(INFIX_EXPRESSION_OPERATOR:>)(NumberLiteral:0)))))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:nameBuffer))(SimpleName:append)(METHOD_INVOCATION_ARGUMENTS(CastExpression(PrimitiveType:char)(SimpleName:c)))))(ExpressionStatement(Assignment(SimpleName:c)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:reader))(SimpleName:read))))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:name)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:nameBuffer))(SimpleName:toString))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:varvalue)(NullLiteral)))(IfStatement(InfixExpression(ParenthesizedExpression(InfixExpression(ParenthesizedExpression(InfixExpression(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(SimpleName:braces))(INFIX_EXPRESSION_OPERATOR:||)(InfixExpression(SimpleName:c)(INFIX_EXPRESSION_OPERATOR:==)(CharacterLiteral:<STR>))))(INFIX_EXPRESSION_OPERATOR:&&)(ParenthesizedExpression(InfixExpression(InfixExpression(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(SimpleName:braces))(INFIX_EXPRESSION_OPERATOR:||)(InfixExpression(SimpleName:variable_end)(INFIX_EXPRESSION_OPERATOR:==)(CharacterLiteral:<STR>)))(INFIX_EXPRESSION_OPERATOR:||)(InfixExpression(SimpleName:variable_end)(INFIX_EXPRESSION_OPERATOR:==)(SimpleName:c))))))(INFIX_EXPRESSION_OPERATOR:&&)(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:name))(SimpleName:length))(INFIX_EXPRESSION_OPERATOR:>)(NumberLiteral:0)))(Block(IfStatement(InfixExpression(SimpleName:braces)(INFIX_EXPRESSION_OPERATOR:&&)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:name))(SimpleName:startsWith)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))(ParenthesizedExpression(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:name))(SimpleName:lastIndexOf)(METHOD_INVOCATION_ARGUMENTS(CharacterLiteral:<STR>)))(INFIX_EXPRESSION_OPERATOR:==)(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:name))(SimpleName:length))(INFIX_EXPRESSION_OPERATOR:-)(NumberLiteral:1)))))(Block(ExpressionStatement(Assignment(SimpleName:varvalue)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:IoHelper))(SimpleName:getenv)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:name))(SimpleName:substring)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:4)(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:name))(SimpleName:length))(INFIX_EXPRESSION_OPERATOR:-)(NumberLiteral:1)))))))))(Block(ExpressionStatement(Assignment(SimpleName:varvalue)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:variables))(SimpleName:getProperty)(METHOD_INVOCATION_ARGUMENTS(SimpleName:name)))))))(ExpressionStatement(PostfixExpression(SimpleName:subs)(POSTFIX_EXPRESSION_OPERATOR:++)))))(IfStatement(InfixExpression(SimpleName:varvalue)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:writer))(SimpleName:write)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(SimpleName:escapeSpecialChars)(METHOD_INVOCATION_ARGUMENTS(SimpleName:varvalue)(SimpleName:t))))))(IfStatement(InfixExpression(SimpleName:braces)(INFIX_EXPRESSION_OPERATOR:||)(InfixExpression(SimpleName:variable_end)(INFIX_EXPRESSION_OPERATOR:!=)(CharacterLiteral:<STR>)))(Block(ExpressionStatement(Assignment(SimpleName:c)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:reader))(SimpleName:read)))))))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:writer))(SimpleName:write)(METHOD_INVOCATION_ARGUMENTS(SimpleName:variable_start))))(IfStatement(SimpleName:braces)(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:writer))(SimpleName:write)(METHOD_INVOCATION_ARGUMENTS(CharacterLiteral:<STR>))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:writer))(SimpleName:write)(METHOD_INVOCATION_ARGUMENTS(SimpleName:name))))))))))))