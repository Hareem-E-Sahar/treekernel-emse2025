(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:protected)(PrimitiveType:boolean)(SimpleName:process)(SingleVariableDeclaration(Modifier:final)(SimpleType(SimpleName:TranscodeJobImpl))(SimpleName:job))(Block(VariableDeclarationStatement(SimpleType(SimpleName:TranscodePipe))(VariableDeclarationFragment(SimpleName:pipe)(NullLiteral)))(ExpressionStatement(Assignment(SimpleName:current_job)(ASSIGNMENT_OPERATOR:=)(SimpleName:job)))(VariableDeclarationStatement(SimpleType(SimpleName:DeviceImpl))(VariableDeclarationFragment(SimpleName:device)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:job))(SimpleName:getDevice))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:device))(SimpleName:setTranscoding)(METHOD_INVOCATION_ARGUMENTS(BooleanLiteral:true))))(TryStatement(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:job))(SimpleName:starts)))(VariableDeclarationStatement(SimpleType(SimpleName:TranscodeProvider))(VariableDeclarationFragment(SimpleName:provider)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:job))(SimpleName:getProfile)))(SimpleName:getProvider))))(VariableDeclarationStatement(Modifier:final)(ArrayType(SimpleType(SimpleName:TranscodeException))(Dimension))(VariableDeclarationFragment(SimpleName:error)(ArrayInitializer(NullLiteral))))(VariableDeclarationStatement(SimpleType(SimpleName:TranscodeProfile))(VariableDeclarationFragment(SimpleName:profile)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:job))(SimpleName:getProfile))))(VariableDeclarationStatement(Modifier:final)(SimpleType(SimpleName:TranscodeFileImpl))(VariableDeclarationFragment(SimpleName:transcode_file)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:job))(SimpleName:getTranscodeFile))))(VariableDeclarationStatement(SimpleType(SimpleName:TranscodeProviderAnalysis))(VariableDeclarationFragment(SimpleName:provider_analysis)))(VariableDeclarationStatement(PrimitiveType:boolean)(VariableDeclarationFragment(SimpleName:xcode_required)))(IfStatement(InfixExpression(SimpleName:provider)(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(Block(ExpressionStatement(Assignment(SimpleName:xcode_required)(ASSIGNMENT_OPERATOR:=)(BooleanLiteral:false)))(ExpressionStatement(Assignment(SimpleName:provider_analysis)(ASSIGNMENT_OPERATOR:=)(NullLiteral))))(Block(ExpressionStatement(Assignment(SimpleName:provider_analysis)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(SimpleName:analyse)(METHOD_INVOCATION_ARGUMENTS(SimpleName:job)))))(ExpressionStatement(Assignment(SimpleName:xcode_required)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:provider_analysis))(SimpleName:getBooleanProperty)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:TranscodeProviderAnalysis.PT_TRANSCODE_REQUIRED)))))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:tt_req)))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:job))(SimpleName:isStream))(Block(ExpressionStatement(Assignment(SimpleName:tt_req)(ASSIGNMENT_OPERATOR:=)(QualifiedName:TranscodeTarget.TRANSCODE_ALWAYS))))(Block(ExpressionStatement(Assignment(SimpleName:tt_req)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:job))(SimpleName:getTranscodeRequirement))))(IfStatement(InstanceofExpression(SimpleName:device)(SimpleType(SimpleName:TranscodeTarget)))(Block(IfStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:provider_analysis))(SimpleName:getLongProperty)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:TranscodeProviderAnalysis.PT_VIDEO_HEIGHT)))(INFIX_EXPRESSION_OPERATOR:==)(NumberLiteral:0))(Block(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(ParenthesizedExpression(CastExpression(SimpleType(SimpleName:TranscodeTarget))(SimpleName:device))))(SimpleName:isAudioCompatible)(METHOD_INVOCATION_ARGUMENTS(SimpleName:transcode_file)))(Block(ExpressionStatement(Assignment(SimpleName:tt_req)(ASSIGNMENT_OPERATOR:=)(QualifiedName:TranscodeTarget.TRANSCODE_NEVER)))))))))))(IfStatement(InfixExpression(SimpleName:tt_req)(INFIX_EXPRESSION_OPERATOR:==)(QualifiedName:TranscodeTarget.TRANSCODE_NEVER))(Block(ExpressionStatement(Assignment(SimpleName:xcode_required)(ASSIGNMENT_OPERATOR:=)(BooleanLiteral:false))))(IfStatement(InfixExpression(SimpleName:tt_req)(INFIX_EXPRESSION_OPERATOR:==)(QualifiedName:TranscodeTarget.TRANSCODE_ALWAYS))(Block(ExpressionStatement(Assignment(SimpleName:xcode_required)(ASSIGNMENT_OPERATOR:=)(BooleanLiteral:true)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:provider_analysis))(SimpleName:setBooleanProperty)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:TranscodeProviderAnalysis.PT_FORCE_TRANSCODE)(BooleanLiteral:true)))))))))(IfStatement(SimpleName:xcode_required)(Block(VariableDeclarationStatement(Modifier:final)(SimpleType(SimpleName:AESemaphore))(VariableDeclarationFragment(SimpleName:xcode_sem)(ClassInstanceCreation(SimpleType(SimpleName:AESemaphore))(StringLiteral:<STR>))))(VariableDeclarationStatement(Modifier:final)(ArrayType(SimpleType(SimpleName:TranscodeProviderJob))(Dimension))(VariableDeclarationFragment(SimpleName:provider_job)(ArrayInitializer(NullLiteral))))(VariableDeclarationStatement(SimpleType(SimpleName:TranscodeProviderAdapter))(VariableDeclarationFragment(SimpleName:xcode_adapter)(ClassInstanceCreation(SimpleType(SimpleName:TranscodeProviderAdapter))(AnonymousClassDeclaration(FieldDeclaration(Modifier:private)(PrimitiveType:boolean)(VariableDeclarationFragment(SimpleName:resolution_updated)))(FieldDeclaration(Modifier:private)(Modifier:final)(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:ETA_AVERAGE_SIZE)(NumberLiteral:10)))(FieldDeclaration(Modifier:private)(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:last_eta)))(FieldDeclaration(Modifier:private)(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:eta_samples)))(FieldDeclaration(Modifier:private)(SimpleType(SimpleName:Average))(VariableDeclarationFragment(SimpleName:eta_average)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:AverageFactory))(SimpleName:MovingAverage)(METHOD_INVOCATION_ARGUMENTS(SimpleName:ETA_AVERAGE_SIZE)))))(FieldDeclaration(Modifier:private)(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:last_percent)))(MethodDeclaration(Modifier:public)(PrimitiveType:void)(SimpleName:updateProgress)(SingleVariableDeclaration(PrimitiveType:int)(SimpleName:percent))(SingleVariableDeclaration(PrimitiveType:int)(SimpleName:eta_secs))(SingleVariableDeclaration(PrimitiveType:int)(SimpleName:new_width))(SingleVariableDeclaration(PrimitiveType:int)(SimpleName:new_height))(Block(ExpressionStatement(Assignment(SimpleName:last_eta)(ASSIGNMENT_OPERATOR:=)(SimpleName:eta_secs)))(ExpressionStatement(Assignment(SimpleName:last_percent)(ASSIGNMENT_OPERATOR:=)(SimpleName:percent)))(VariableDeclarationStatement(SimpleType(SimpleName:TranscodeProviderJob))(VariableDeclarationFragment(SimpleName:prov_job)(ArrayAccess(SimpleName:provider_job)(NumberLiteral:0))))(IfStatement(InfixExpression(SimpleName:prov_job)(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(Block(ReturnStatement)))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:job_state)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:job))(SimpleName:getState))))(IfStatement(InfixExpression(InfixExpression(SimpleName:job_state)(INFIX_EXPRESSION_OPERATOR:==)(QualifiedName:TranscodeJob.ST_CANCELLED))(INFIX_EXPRESSION_OPERATOR:||)(InfixExpression(SimpleName:job_state)(INFIX_EXPRESSION_OPERATOR:==)(QualifiedName:TranscodeJob.ST_REMOVED)))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:prov_job))(SimpleName:cancel))))(IfStatement(InfixExpression(SimpleName:paused)(INFIX_EXPRESSION_OPERATOR:||)(InfixExpression(SimpleName:job_state)(INFIX_EXPRESSION_OPERATOR:==)(QualifiedName:TranscodeJob.ST_PAUSED)))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:prov_job))(SimpleName:pause))))(Block(IfStatement(InfixExpression(SimpleName:job_state)(INFIX_EXPRESSION_OPERATOR:==)(QualifiedName:TranscodeJob.ST_RUNNING))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:prov_job))(SimpleName:resume)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:job))(SimpleName:updateProgress)(METHOD_INVOCATION_ARGUMENTS(SimpleName:percent)(SimpleName:eta_secs))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:prov_job))(SimpleName:setMaxBytesPerSecond)(METHOD_INVOCATION_ARGUMENTS(SimpleName:max_bytes_per_sec))))(IfStatement(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(SimpleName:resolution_updated))(Block(IfStatement(InfixExpression(InfixExpression(SimpleName:new_width)(INFIX_EXPRESSION_OPERATOR:>)(NumberLiteral:0))(INFIX_EXPRESSION_OPERATOR:&&)(InfixExpression(SimpleName:new_height)(INFIX_EXPRESSION_OPERATOR:>)(NumberLiteral:0)))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:transcode_file))(SimpleName:setResolution)(METHOD_INVOCATION_ARGUMENTS(SimpleName:new_width)(SimpleName:new_height))))(ExpressionStatement(Assignment(SimpleName:resolution_updated)(ASSIGNMENT_OPERATOR:=)(BooleanLiteral:true))))))))))))(MethodDeclaration(Modifier:public)(PrimitiveType:void)(SimpleName:streamStats)(SingleVariableDeclaration(PrimitiveType:long)(SimpleName:connect_rate))(SingleVariableDeclaration(PrimitiveType:long)(SimpleName:write_speed))(Block(IfStatement(InfixExpression(QualifiedName:Constants.isOSX)(INFIX_EXPRESSION_OPERATOR:&&)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:job))(SimpleName:getEnableAutoRetry))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:job))(SimpleName:canUseDirectInput))(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:job))(SimpleName:getAutoRetryCount))(INFIX_EXPRESSION_OPERATOR:==)(NumberLiteral:0)))(Block(IfStatement(InfixExpression(InfixExpression(SimpleName:connect_rate)(INFIX_EXPRESSION_OPERATOR:>)(NumberLiteral:5))(INFIX_EXPRESSION_OPERATOR:&&)(InfixExpression(SimpleName:last_percent)(INFIX_EXPRESSION_OPERATOR:<)(NumberLiteral:100)))(Block(VariableDeclarationStatement(PrimitiveType:long)(VariableDeclarationFragment(SimpleName:eta)(CastExpression(PrimitiveType:long)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:eta_average))(SimpleName:update)(METHOD_INVOCATION_ARGUMENTS(SimpleName:last_eta))))))(ExpressionStatement(PostfixExpression(SimpleName:eta_samples)(POSTFIX_EXPRESSION_OPERATOR:++)))(IfStatement(InfixExpression(SimpleName:eta_samples)(INFIX_EXPRESSION_OPERATOR:>=)(SimpleName:ETA_AVERAGE_SIZE))(Block(VariableDeclarationStatement(PrimitiveType:long)(VariableDeclarationFragment(SimpleName:total_time)(InfixExpression(ParenthesizedExpression(InfixExpression(SimpleName:eta)(INFIX_EXPRESSION_OPERATOR:*)(NumberLiteral:100)))(INFIX_EXPRESSION_OPERATOR:/)(ParenthesizedExpression(InfixExpression(NumberLiteral:100)(INFIX_EXPRESSION_OPERATOR:-)(SimpleName:last_percent))))))(VariableDeclarationStatement(PrimitiveType:long)(VariableDeclarationFragment(SimpleName:total_write)(InfixExpression(SimpleName:total_time)(INFIX_EXPRESSION_OPERATOR:*)(SimpleName:write_speed))))(VariableDeclarationStatement(SimpleType(SimpleName:DiskManagerFileInfo))(VariableDeclarationFragment(SimpleName:file)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:job))(SimpleName:getFile))))(VariableDeclarationStatement(PrimitiveType:long)(VariableDeclarationFragment(SimpleName:length)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:file))(SimpleName:getLength))))(IfStatement(InfixExpression(SimpleName:length)(INFIX_EXPRESSION_OPERATOR:>)(NumberLiteral:0))(Block(VariableDeclarationStatement(PrimitiveType:double)(VariableDeclarationFragment(SimpleName:over_write)(InfixExpression(ParenthesizedExpression(CastExpression(PrimitiveType:double)(SimpleName:total_write)))(INFIX_EXPRESSION_OPERATOR:/)(SimpleName:length))))(IfStatement(InfixExpression(SimpleName:over_write)(INFIX_EXPRESSION_OPERATOR:>)(NumberLiteral:5.0))(Block(ExpressionStatement(MethodInvocation(SimpleName:failed)(METHOD_INVOCATION_ARGUMENTS(ClassInstanceCreation(SimpleType(SimpleName:TranscodeException))(StringLiteral:<STR>)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(ArrayAccess(SimpleName:provider_job)(NumberLiteral:0)))(SimpleName:cancel))))))))))(Block(ExpressionStatement(Assignment(SimpleName:eta_samples)(ASSIGNMENT_OPERATOR:=)(NumberLiteral:0)))))))))(MethodDeclaration(Modifier:public)(PrimitiveType:void)(SimpleName:failed)(SingleVariableDeclaration(SimpleType(SimpleName:TranscodeException))(SimpleName:e))(Block(IfStatement(InfixExpression(ArrayAccess(SimpleName:error)(NumberLiteral:0))(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(Block(ExpressionStatement(Assignment(ArrayAccess(SimpleName:error)(NumberLiteral:0))(ASSIGNMENT_OPERATOR:=)(SimpleName:e)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:xcode_sem))(SimpleName:release)))))(MethodDeclaration(Modifier:public)(PrimitiveType:void)(SimpleName:complete)(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:xcode_sem))(SimpleName:release)))))))))(VariableDeclarationStatement(PrimitiveType:boolean)(VariableDeclarationFragment(SimpleName:direct_input)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:job))(SimpleName:useDirectInput))))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:job))(SimpleName:isStream))(Block(ExpressionStatement(Assignment(SimpleName:pipe)(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(SimpleType(SimpleName:TranscodePipeStreamSource2))(ClassInstanceCreation(SimpleType(QualifiedName:TranscodePipeStreamSource2.streamListener))(AnonymousClassDeclaration(MethodDeclaration(Modifier:public)(PrimitiveType:void)(SimpleName:gotStream)(SingleVariableDeclaration(SimpleType(SimpleName:InputStream))(SimpleName:is))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:job))(SimpleName:setStream)(METHOD_INVOCATION_ARGUMENTS(SimpleName:is)))))))))))(ExpressionStatement(Assignment(ArrayAccess(SimpleName:provider_job)(NumberLiteral:0))(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:provider))(SimpleName:transcode)(METHOD_INVOCATION_ARGUMENTS(SimpleName:xcode_adapter)(SimpleName:provider_analysis)(SimpleName:direct_input)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:job))(SimpleName:getFile))(SimpleName:profile)(ClassInstanceCreation(SimpleType(SimpleName:URL))(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:pipe))(SimpleName:getPort)))))))))(Block(VariableDeclarationStatement(SimpleType(SimpleName:File))(VariableDeclarationFragment(SimpleName:output_file)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:transcode_file))(SimpleName:getCacheFile))))(ExpressionStatement(Assignment(ArrayAccess(SimpleName:provider_job)(NumberLiteral:0))(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:provider))(SimpleName:transcode)(METHOD_INVOCATION_ARGUMENTS(SimpleName:xcode_adapter)(SimpleName:provider_analysis)(SimpleName:direct_input)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:job))(SimpleName:getFile))(SimpleName:profile)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:output_file))(SimpleName:toURI)))(SimpleName:toURL))))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(ArrayAccess(SimpleName:provider_job)(NumberLiteral:0)))(SimpleName:setMaxBytesPerSecond)(METHOD_INVOCATION_ARGUMENTS(SimpleName:max_bytes_per_sec))))(VariableDeclarationStatement(SimpleType(SimpleName:TranscodeQueueListener))(VariableDeclarationFragment(SimpleName:listener)(ClassInstanceCreation(SimpleType(SimpleName:TranscodeQueueListener))(AnonymousClassDeclaration(MethodDeclaration(Modifier:public)(PrimitiveType:void)(SimpleName:jobAdded)(SingleVariableDeclaration(SimpleType(SimpleName:TranscodeJob))(SimpleName:job))(Block))(MethodDeclaration(Modifier:public)(PrimitiveType:void)(SimpleName:jobChanged)(SingleVariableDeclaration(SimpleType(SimpleName:TranscodeJob))(SimpleName:changed_job))(Block(IfStatement(InfixExpression(SimpleName:changed_job)(INFIX_EXPRESSION_OPERATOR:==)(SimpleName:job))(Block(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:state)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:job))(SimpleName:getState))))(IfStatement(InfixExpression(SimpleName:state)(INFIX_EXPRESSION_OPERATOR:==)(QualifiedName:TranscodeJob.ST_PAUSED))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(ArrayAccess(SimpleName:provider_job)(NumberLiteral:0)))(SimpleName:pause))))(IfStatement(InfixExpression(SimpleName:state)(INFIX_EXPRESSION_OPERATOR:==)(QualifiedName:TranscodeJob.ST_RUNNING))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(ArrayAccess(SimpleName:provider_job)(NumberLiteral:0)))(SimpleName:resume))))(IfStatement(InfixExpression(InfixExpression(SimpleName:state)(INFIX_EXPRESSION_OPERATOR:==)(QualifiedName:TranscodeJob.ST_CANCELLED))(INFIX_EXPRESSION_OPERATOR:||)(InfixExpression(SimpleName:state)(INFIX_EXPRESSION_OPERATOR:==)(QualifiedName:TranscodeJob.ST_STOPPED)))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(ArrayAccess(SimpleName:provider_job)(NumberLiteral:0)))(SimpleName:cancel)))))))))))(MethodDeclaration(Modifier:public)(PrimitiveType:void)(SimpleName:jobRemoved)(SingleVariableDeclaration(SimpleType(SimpleName:TranscodeJob))(SimpleName:removed_job))(Block(IfStatement(InfixExpression(SimpleName:removed_job)(INFIX_EXPRESSION_OPERATOR:==)(SimpleName:job))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(ArrayAccess(SimpleName:provider_job)(NumberLiteral:0)))(SimpleName:cancel)))))))))))(TryStatement(Block(ExpressionStatement(MethodInvocation(SimpleName:addListener)(METHOD_INVOCATION_ARGUMENTS(SimpleName:listener))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:xcode_sem))(SimpleName:reserve))))(Block(ExpressionStatement(MethodInvocation(SimpleName:removeListener)(METHOD_INVOCATION_ARGUMENTS(SimpleName:listener))))))(IfStatement(InfixExpression(ArrayAccess(SimpleName:error)(NumberLiteral:0))(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(ThrowStatement(ParenthesizedExpression(ArrayAccess(SimpleName:error)(NumberLiteral:0)))))))(Block(VariableDeclarationStatement(SimpleType(SimpleName:DiskManagerFileInfo))(VariableDeclarationFragment(SimpleName:source)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:job))(SimpleName:getFile))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:transcode_file))(SimpleName:setTranscodeRequired)(METHOD_INVOCATION_ARGUMENTS(BooleanLiteral:false))))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:job))(SimpleName:isStream))(Block(VariableDeclarationStatement(SimpleType(SimpleName:PluginInterface))(VariableDeclarationFragment(SimpleName:av_pi)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:PluginInitializer))(SimpleName:getDefaultInterface)))(SimpleName:getPluginManager)))(SimpleName:getPluginInterfaceByID)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))))(IfStatement(InfixExpression(SimpleName:av_pi)(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(Block(ThrowStatement(ParenthesizedExpression(ClassInstanceCreation(SimpleType(SimpleName:TranscodeException))(StringLiteral:<STR>))))))(VariableDeclarationStatement(SimpleType(SimpleName:IPCInterface))(VariableDeclarationFragment(SimpleName:av_ipc)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:av_pi))(SimpleName:getIPC))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:url_str)(CastExpression(SimpleType(SimpleName:String))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:av_ipc))(SimpleName:invoke)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(ArrayCreation(ArrayType(SimpleType(SimpleName:Object))(Dimension))(ArrayInitializer(SimpleName:source))))))))(IfStatement(InfixExpression(InfixExpression(SimpleName:url_str)(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(INFIX_EXPRESSION_OPERATOR:||)(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:url_str))(SimpleName:length))(INFIX_EXPRESSION_OPERATOR:==)(NumberLiteral:0)))(Block(VariableDeclarationStatement(SimpleType(SimpleName:File))(VariableDeclarationFragment(SimpleName:source_file)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:source))(SimpleName:getFile))))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:source_file))(SimpleName:exists))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:job))(SimpleName:setStream)(METHOD_INVOCATION_ARGUMENTS(ClassInstanceCreation(SimpleType(SimpleName:BufferedInputStream))(ClassInstanceCreation(SimpleType(SimpleName:FileInputStream))(SimpleName:source_file)))))))(Block(ThrowStatement(ParenthesizedExpression(ClassInstanceCreation(SimpleType(SimpleName:TranscodeException))(StringLiteral:<STR>)))))))(Block(VariableDeclarationStatement(SimpleType(SimpleName:URL))(VariableDeclarationFragment(SimpleName:source_url)(ClassInstanceCreation(SimpleType(SimpleName:URL))(SimpleName:url_str))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:job))(SimpleName:setStream)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:source_url))(SimpleName:openConnection)))(SimpleName:getInputStream))))))))(Block(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:device))(SimpleName:getAlwaysCacheFiles))(Block(VariableDeclarationStatement(SimpleType(SimpleName:PluginInterface))(VariableDeclarationFragment(SimpleName:av_pi)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:PluginInitializer))(SimpleName:getDefaultInterface)))(SimpleName:getPluginManager)))(SimpleName:getPluginInterfaceByID)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))))(IfStatement(InfixExpression(SimpleName:av_pi)(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(Block(ThrowStatement(ParenthesizedExpression(ClassInstanceCreation(SimpleType(SimpleName:TranscodeException))(StringLiteral:<STR>))))))(VariableDeclarationStatement(SimpleType(SimpleName:IPCInterface))(VariableDeclarationFragment(SimpleName:av_ipc)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:av_pi))(SimpleName:getIPC))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:url_str)(CastExpression(SimpleType(SimpleName:String))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:av_ipc))(SimpleName:invoke)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(ArrayCreation(ArrayType(SimpleType(SimpleName:Object))(Dimension))(ArrayInitializer(SimpleName:source))))))))(VariableDeclarationStatement(SimpleType(SimpleName:InputStream))(VariableDeclarationFragment(SimpleName:is)))(VariableDeclarationStatement(PrimitiveType:long)(VariableDeclarationFragment(SimpleName:length)))(IfStatement(InfixExpression(InfixExpression(SimpleName:url_str)(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(INFIX_EXPRESSION_OPERATOR:||)(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:url_str))(SimpleName:length))(INFIX_EXPRESSION_OPERATOR:==)(NumberLiteral:0)))(Block(VariableDeclarationStatement(SimpleType(SimpleName:File))(VariableDeclarationFragment(SimpleName:source_file)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:source))(SimpleName:getFile))))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:source_file))(SimpleName:exists))(Block(ExpressionStatement(Assignment(SimpleName:is)(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(SimpleType(SimpleName:BufferedInputStream))(ClassInstanceCreation(SimpleType(SimpleName:FileInputStream))(SimpleName:source_file)))))(ExpressionStatement(Assignment(SimpleName:length)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:source_file))(SimpleName:length)))))(Block(ThrowStatement(ParenthesizedExpression(ClassInstanceCreation(SimpleType(SimpleName:TranscodeException))(StringLiteral:<STR>)))))))(Block(VariableDeclarationStatement(SimpleType(SimpleName:URL))(VariableDeclarationFragment(SimpleName:source_url)(ClassInstanceCreation(SimpleType(SimpleName:URL))(SimpleName:url_str))))(VariableDeclarationStatement(SimpleType(SimpleName:URLConnection))(VariableDeclarationFragment(SimpleName:connection)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:source_url))(SimpleName:openConnection))))(ExpressionStatement(Assignment(SimpleName:is)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:source_url))(SimpleName:openConnection)))(SimpleName:getInputStream))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:s)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:connection))(SimpleName:getHeaderField)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))))(IfStatement(InfixExpression(SimpleName:s)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(ExpressionStatement(Assignment(SimpleName:length)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Long))(SimpleName:parseLong)(METHOD_INVOCATION_ARGUMENTS(SimpleName:s))))))(Block(ExpressionStatement(Assignment(SimpleName:length)(ASSIGNMENT_OPERATOR:=)(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:-)(NumberLiteral:1))))))))(VariableDeclarationStatement(SimpleType(SimpleName:OutputStream))(VariableDeclarationFragment(SimpleName:os)(NullLiteral)))(VariableDeclarationStatement(Modifier:final)(ArrayType(PrimitiveType:boolean)(Dimension))(VariableDeclarationFragment(SimpleName:cancel_copy)(ArrayInitializer(BooleanLiteral:false))))(VariableDeclarationStatement(SimpleType(SimpleName:TranscodeQueueListener))(VariableDeclarationFragment(SimpleName:copy_listener)(ClassInstanceCreation(SimpleType(SimpleName:TranscodeQueueListener))(AnonymousClassDeclaration(MethodDeclaration(Modifier:public)(PrimitiveType:void)(SimpleName:jobAdded)(SingleVariableDeclaration(SimpleType(SimpleName:TranscodeJob))(SimpleName:job))(Block))(MethodDeclaration(Modifier:public)(PrimitiveType:void)(SimpleName:jobChanged)(SingleVariableDeclaration(SimpleType(SimpleName:TranscodeJob))(SimpleName:changed_job))(Block(IfStatement(InfixExpression(SimpleName:changed_job)(INFIX_EXPRESSION_OPERATOR:==)(SimpleName:job))(Block(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:state)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:job))(SimpleName:getState))))(IfStatement(InfixExpression(SimpleName:state)(INFIX_EXPRESSION_OPERATOR:==)(QualifiedName:TranscodeJob.ST_PAUSED))(Block)(IfStatement(InfixExpression(SimpleName:state)(INFIX_EXPRESSION_OPERATOR:==)(QualifiedName:TranscodeJob.ST_RUNNING))(Block)(IfStatement(InfixExpression(InfixExpression(SimpleName:state)(INFIX_EXPRESSION_OPERATOR:==)(QualifiedName:TranscodeJob.ST_CANCELLED))(INFIX_EXPRESSION_OPERATOR:||)(InfixExpression(SimpleName:state)(INFIX_EXPRESSION_OPERATOR:==)(QualifiedName:TranscodeJob.ST_STOPPED)))(Block(ExpressionStatement(Assignment(ArrayAccess(SimpleName:cancel_copy)(NumberLiteral:0))(ASSIGNMENT_OPERATOR:=)(BooleanLiteral:true)))))))))))(MethodDeclaration(Modifier:public)(PrimitiveType:void)(SimpleName:jobRemoved)(SingleVariableDeclaration(SimpleType(SimpleName:TranscodeJob))(SimpleName:removed_job))(Block(IfStatement(InfixExpression(SimpleName:removed_job)(INFIX_EXPRESSION_OPERATOR:==)(SimpleName:job))(Block(ExpressionStatement(Assignment(ArrayAccess(SimpleName:cancel_copy)(NumberLiteral:0))(ASSIGNMENT_OPERATOR:=)(BooleanLiteral:true)))))))))))(TryStatement(Block(ExpressionStatement(MethodInvocation(SimpleName:addListener)(METHOD_INVOCATION_ARGUMENTS(SimpleName:copy_listener))))(ExpressionStatement(Assignment(SimpleName:os)(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(SimpleType(SimpleName:FileOutputStream))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:transcode_file))(SimpleName:getCacheFile)))))(VariableDeclarationStatement(PrimitiveType:long)(VariableDeclarationFragment(SimpleName:total_copied)(NumberLiteral:0)))(VariableDeclarationStatement(ArrayType(PrimitiveType:byte)(Dimension))(VariableDeclarationFragment(SimpleName:buffer)(ArrayCreation(ArrayType(PrimitiveType:byte)(Dimension(InfixExpression(NumberLiteral:128)(INFIX_EXPRESSION_OPERATOR:*)(NumberLiteral:1024)))))))(WhileStatement(BooleanLiteral:true)(Block(IfStatement(ArrayAccess(SimpleName:cancel_copy)(NumberLiteral:0))(Block(ThrowStatement(ParenthesizedExpression(ClassInstanceCreation(SimpleType(SimpleName:TranscodeException))(StringLiteral:<STR>))))))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:len)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:is))(SimpleName:read)(METHOD_INVOCATION_ARGUMENTS(SimpleName:buffer)))))(IfStatement(InfixExpression(SimpleName:len)(INFIX_EXPRESSION_OPERATOR:<=)(NumberLiteral:0))(Block(BreakStatement)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:os))(SimpleName:write)(METHOD_INVOCATION_ARGUMENTS(SimpleName:buffer)(NumberLiteral:0)(SimpleName:len))))(ExpressionStatement(Assignment(SimpleName:total_copied)(ASSIGNMENT_OPERATOR:+=)(SimpleName:len)))(IfStatement(InfixExpression(SimpleName:length)(INFIX_EXPRESSION_OPERATOR:>)(NumberLiteral:0))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:job))(SimpleName:updateProgress)(METHOD_INVOCATION_ARGUMENTS(CastExpression(PrimitiveType:int)(ParenthesizedExpression(InfixExpression(InfixExpression(SimpleName:total_copied)(INFIX_EXPRESSION_OPERATOR:*)(NumberLiteral:100))(INFIX_EXPRESSION_OPERATOR:/)(SimpleName:length))))(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:-)(NumberLiteral:1)))))))(ExpressionStatement(Assignment(SimpleName:total_copied)(ASSIGNMENT_OPERATOR:+=)(SimpleName:len))))))(Block(TryStatement(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:is))(SimpleName:close))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:Throwable))(SimpleName:e))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Debug))(SimpleName:out)(METHOD_INVOCATION_ARGUMENTS(SimpleName:e)))))))(TryStatement(Block(IfStatement(InfixExpression(SimpleName:os)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:os))(SimpleName:close))))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:Throwable))(SimpleName:e))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Debug))(SimpleName:out)(METHOD_INVOCATION_ARGUMENTS(SimpleName:e)))))))(ExpressionStatement(MethodInvocation(SimpleName:removeListener)(METHOD_INVOCATION_ARGUMENTS(SimpleName:copy_listener))))))))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:job))(SimpleName:complete)))(ReturnStatement(ParenthesizedExpression(BooleanLiteral:true))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:Throwable))(SimpleName:e))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:job))(SimpleName:failed)(METHOD_INVOCATION_ARGUMENTS(SimpleName:e))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:e))(SimpleName:printStackTrace)))(IfStatement(InfixExpression(InfixExpression(InfixExpression(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:job))(SimpleName:isStream)))(INFIX_EXPRESSION_OPERATOR:&&)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:job))(SimpleName:getEnableAutoRetry))(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:job))(SimpleName:getAutoRetryCount))(INFIX_EXPRESSION_OPERATOR:==)(NumberLiteral:0)))(INFIX_EXPRESSION_OPERATOR:&&)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:job))(SimpleName:canUseDirectInput)))(INFIX_EXPRESSION_OPERATOR:&&)(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:job))(SimpleName:useDirectInput))))(Block(ExpressionStatement(MethodInvocation(SimpleName:log)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:job))(SimpleName:setUseDirectInput)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:job))(SimpleName:setAutoRetry)(METHOD_INVOCATION_ARGUMENTS(BooleanLiteral:true))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:queue_sem))(SimpleName:release)))))(ReturnStatement(ParenthesizedExpression(BooleanLiteral:false)))))(Block(IfStatement(InfixExpression(SimpleName:pipe)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:pipe))(SimpleName:destroy)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:device))(SimpleName:setTranscoding)(METHOD_INVOCATION_ARGUMENTS(BooleanLiteral:false))))(ExpressionStatement(Assignment(SimpleName:current_job)(ASSIGNMENT_OPERATOR:=)(NullLiteral)))))))))