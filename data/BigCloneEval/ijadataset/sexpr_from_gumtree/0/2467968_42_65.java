(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:public)(Modifier:static)(SimpleType(SimpleName:GraphicalViewerImpl))(SimpleName:createViewer)(SingleVariableDeclaration(SimpleType(SimpleName:IDiagramModel))(SimpleName:model))(SingleVariableDeclaration(SimpleType(SimpleName:Composite))(SimpleName:parent))(Block(VariableDeclarationStatement(SimpleType(SimpleName:EditPartFactory))(VariableDeclarationFragment(SimpleName:editPartFactory)(NullLiteral)))(IfStatement(InstanceofExpression(SimpleName:model)(SimpleType(SimpleName:IArchimateDiagramModel)))(Block(ExpressionStatement(Assignment(SimpleName:editPartFactory)(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(SimpleType(SimpleName:ArchimateDiagramEditPartFactory))))))(IfStatement(InstanceofExpression(SimpleName:model)(SimpleType(SimpleName:ISketchModel)))(Block(ExpressionStatement(Assignment(SimpleName:editPartFactory)(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(SimpleType(SimpleName:SketchEditPartFactory))))))(Block(VariableDeclarationStatement(SimpleType(SimpleName:IDiagramEditorFactory))(VariableDeclarationFragment(SimpleName:factory)(MethodInvocation(METHOD_INVOCATION_RECEIVER(QualifiedName:DiagramEditorFactoryExtensionHandler.INSTANCE))(SimpleName:getFactory)(METHOD_INVOCATION_ARGUMENTS(SimpleName:model)))))(IfStatement(InfixExpression(SimpleName:factory)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(ExpressionStatement(Assignment(SimpleName:editPartFactory)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:factory))(SimpleName:createEditPartFactory)))))))))(IfStatement(InfixExpression(SimpleName:editPartFactory)(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(Block(ThrowStatement(ClassInstanceCreation(SimpleType(SimpleName:RuntimeException))(StringLiteral:<STR>)))))(VariableDeclarationStatement(SimpleType(SimpleName:GraphicalViewerImpl))(VariableDeclarationFragment(SimpleName:viewer)(ClassInstanceCreation(SimpleType(SimpleName:GraphicalViewerImpl)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:viewer))(SimpleName:createControl)(METHOD_INVOCATION_ARGUMENTS(SimpleName:parent))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:viewer))(SimpleName:setEditPartFactory)(METHOD_INVOCATION_ARGUMENTS(SimpleName:editPartFactory))))(VariableDeclarationStatement(SimpleType(SimpleName:RootEditPart))(VariableDeclarationFragment(SimpleName:rootPart)(ClassInstanceCreation(SimpleType(SimpleName:FreeformGraphicalRootEditPart)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:viewer))(SimpleName:setRootEditPart)(METHOD_INVOCATION_ARGUMENTS(SimpleName:rootPart))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:viewer))(SimpleName:setContents)(METHOD_INVOCATION_ARGUMENTS(SimpleName:model))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:viewer))(SimpleName:flush)))(ReturnStatement(SimpleName:viewer))))))