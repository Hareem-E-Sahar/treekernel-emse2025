(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:public)(Modifier:static)(PrimitiveType:void)(SimpleName:compressImage)(SingleVariableDeclaration(ArrayType(PrimitiveType:int)(Dimension))(SimpleName:pixels))(SingleVariableDeclaration(PrimitiveType:int)(SimpleName:width))(SingleVariableDeclaration(PrimitiveType:int)(SimpleName:height))(SingleVariableDeclaration(SimpleType(SimpleName:OutputStream))(SimpleName:pout))(SimpleType(SimpleName:IOException))(Block(VariableDeclarationStatement(SimpleType(SimpleName:ByteArrayOutputStream))(VariableDeclarationFragment(SimpleName:moutP)(ClassInstanceCreation(SimpleType(SimpleName:ByteArrayOutputStream))(NumberLiteral:1024))))(VariableDeclarationStatement(SimpleType(SimpleName:ByteArrayOutputStream))(VariableDeclarationFragment(SimpleName:moutNP)(ClassInstanceCreation(SimpleType(SimpleName:ByteArrayOutputStream))(NumberLiteral:1024))))(VariableDeclarationStatement(SimpleType(SimpleName:ByteArrayOutputStream))(VariableDeclarationFragment(SimpleName:moutP8)(ClassInstanceCreation(SimpleType(SimpleName:ByteArrayOutputStream))(NumberLiteral:1024))))(VariableDeclarationStatement(SimpleType(SimpleName:ByteArrayOutputStream))(VariableDeclarationFragment(SimpleName:moutNP8)(ClassInstanceCreation(SimpleType(SimpleName:ByteArrayOutputStream))(NumberLiteral:1024))))(VariableDeclarationStatement(ParameterizedType(SimpleType(SimpleName:Map))(SimpleType(SimpleName:Integer))(SimpleType(SimpleName:Integer)))(VariableDeclarationFragment(SimpleName:colorToIndex)(ClassInstanceCreation(ParameterizedType(SimpleType(SimpleName:HashMap))(SimpleType(SimpleName:Integer))(SimpleType(SimpleName:Integer))))))(VariableDeclarationStatement(ParameterizedType(SimpleType(SimpleName:Map))(SimpleType(SimpleName:Integer))(SimpleType(SimpleName:Integer)))(VariableDeclarationFragment(SimpleName:indexToColor)(ClassInstanceCreation(ParameterizedType(SimpleType(SimpleName:HashMap))(SimpleType(SimpleName:Integer))(SimpleType(SimpleName:Integer))))))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:colorIndex)(NumberLiteral:0)))(VariableDeclarationStatement(PrimitiveType:boolean)(VariableDeclarationFragment(SimpleName:transparency)(BooleanLiteral:false)))(VariableDeclarationStatement(PrimitiveType:boolean)(VariableDeclarationFragment(SimpleName:morealpha)(BooleanLiteral:false)))(ForStatement(VariableDeclarationExpression(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:i)(NumberLiteral:0)))(InfixExpression(SimpleName:i)(INFIX_EXPRESSION_OPERATOR:<)(QualifiedName:pixels.length))(PostfixExpression(SimpleName:i)(POSTFIX_EXPRESSION_OPERATOR:++))(Block(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:c)(ArrayAccess(SimpleName:pixels)(SimpleName:i))))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:a)(InfixExpression(ParenthesizedExpression(InfixExpression(SimpleName:c)(INFIX_EXPRESSION_OPERATOR:>>)(NumberLiteral:24)))(INFIX_EXPRESSION_OPERATOR:&)(NumberLiteral:0xFF))))(IfStatement(InfixExpression(SimpleName:a)(INFIX_EXPRESSION_OPERATOR:<)(NumberLiteral:255))(Block(ExpressionStatement(Assignment(SimpleName:transparency)(ASSIGNMENT_OPERATOR:=)(BooleanLiteral:true)))(IfStatement(InfixExpression(SimpleName:a)(INFIX_EXPRESSION_OPERATOR:>)(NumberLiteral:0))(Block(ExpressionStatement(Assignment(SimpleName:morealpha)(ASSIGNMENT_OPERATOR:=)(BooleanLiteral:true)))(IfStatement(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:colorToIndex))(SimpleName:containsKey)(METHOD_INVOCATION_ARGUMENTS(SimpleName:c))))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:colorToIndex))(SimpleName:put)(METHOD_INVOCATION_ARGUMENTS(SimpleName:c)(SimpleName:colorIndex))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:indexToColor))(SimpleName:put)(METHOD_INVOCATION_ARGUMENTS(SimpleName:colorIndex)(SimpleName:c))))(ExpressionStatement(PostfixExpression(SimpleName:colorIndex)(POSTFIX_EXPRESSION_OPERATOR:++))))))))(Block(IfStatement(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:colorToIndex))(SimpleName:containsKey)(METHOD_INVOCATION_ARGUMENTS(SimpleName:c))))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:colorToIndex))(SimpleName:put)(METHOD_INVOCATION_ARGUMENTS(SimpleName:c)(SimpleName:colorIndex))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:indexToColor))(SimpleName:put)(METHOD_INVOCATION_ARGUMENTS(SimpleName:colorIndex)(SimpleName:c))))(ExpressionStatement(PostfixExpression(SimpleName:colorIndex)(POSTFIX_EXPRESSION_OPERATOR:++)))))))))(IfStatement(InfixExpression(SimpleName:transparency)(INFIX_EXPRESSION_OPERATOR:&&)(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(SimpleName:morealpha)))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:colorToIndex))(SimpleName:put)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:0)(SimpleName:colorIndex))))(ExpressionStatement(PostfixExpression(SimpleName:colorIndex)(POSTFIX_EXPRESSION_OPERATOR:++)))))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:bpp)(InfixExpression(NumberLiteral:32)(INFIX_EXPRESSION_OPERATOR:-)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Integer))(SimpleName:numberOfLeadingZeros)(METHOD_INVOCATION_ARGUMENTS(SimpleName:colorIndex))))))(ExpressionStatement(MethodInvocation(SimpleName:writeImageData)(METHOD_INVOCATION_ARGUMENTS(SimpleName:width)(SimpleName:height)(SimpleName:moutP)(SimpleName:colorToIndex)(SimpleName:indexToColor)(SimpleName:pixels)(SimpleName:colorIndex)(SimpleName:transparency)(SimpleName:morealpha)(SimpleName:bpp)(BooleanLiteral:true))))(ExpressionStatement(MethodInvocation(SimpleName:writeImageData)(METHOD_INVOCATION_ARGUMENTS(SimpleName:width)(SimpleName:height)(SimpleName:moutNP)(SimpleName:colorToIndex)(SimpleName:indexToColor)(SimpleName:pixels)(SimpleName:colorIndex)(SimpleName:transparency)(SimpleName:morealpha)(SimpleName:bpp)(BooleanLiteral:false))))(IfStatement(InfixExpression(SimpleName:bpp)(INFIX_EXPRESSION_OPERATOR:<=)(NumberLiteral:8))(Block(ExpressionStatement(MethodInvocation(SimpleName:writeImageData)(METHOD_INVOCATION_ARGUMENTS(SimpleName:width)(SimpleName:height)(SimpleName:moutP8)(SimpleName:colorToIndex)(SimpleName:indexToColor)(SimpleName:pixels)(SimpleName:colorIndex)(SimpleName:transparency)(SimpleName:morealpha)(NumberLiteral:8)(BooleanLiteral:true))))(ExpressionStatement(MethodInvocation(SimpleName:writeImageData)(METHOD_INVOCATION_ARGUMENTS(SimpleName:width)(SimpleName:height)(SimpleName:moutNP8)(SimpleName:colorToIndex)(SimpleName:indexToColor)(SimpleName:pixels)(SimpleName:colorIndex)(SimpleName:transparency)(SimpleName:morealpha)(NumberLiteral:8)(BooleanLiteral:false))))))(VariableDeclarationStatement(PrimitiveType:char)(VariableDeclarationFragment(SimpleName:type)(CharacterLiteral:<STR>)))(VariableDeclarationStatement(SimpleType(SimpleName:ByteArrayOutputStream))(VariableDeclarationFragment(SimpleName:mout)(NullLiteral)))(EnhancedForStatement(SingleVariableDeclaration(SimpleType(SimpleName:ByteArrayOutputStream))(SimpleName:raw))(ArrayCreation(ArrayType(SimpleType(SimpleName:ByteArrayOutputStream))(Dimension))(ArrayInitializer(SimpleName:moutP)(SimpleName:moutP8)(SimpleName:moutNP)(SimpleName:moutNP8)))(Block(IfStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:raw))(SimpleName:size))(INFIX_EXPRESSION_OPERATOR:>)(NumberLiteral:0))(Block(IfStatement(InfixExpression(InfixExpression(SimpleName:mout)(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(INFIX_EXPRESSION_OPERATOR:||)(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:mout))(SimpleName:size))(INFIX_EXPRESSION_OPERATOR:>)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:raw))(SimpleName:size))))(Block(ExpressionStatement(Assignment(SimpleName:type)(ASSIGNMENT_OPERATOR:=)(CharacterLiteral:<STR>)))(ExpressionStatement(Assignment(SimpleName:mout)(ASSIGNMENT_OPERATOR:=)(SimpleName:raw)))))(VariableDeclarationStatement(SimpleType(SimpleName:ByteArrayOutputStream))(VariableDeclarationFragment(SimpleName:gz)(ClassInstanceCreation(SimpleType(SimpleName:ByteArrayOutputStream))(NumberLiteral:1024))))(VariableDeclarationStatement(SimpleType(SimpleName:GZIPOutputStream))(VariableDeclarationFragment(SimpleName:gzout)(ClassInstanceCreation(SimpleType(SimpleName:GZIPOutputStream))(SimpleName:gz))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:raw))(SimpleName:writeTo)(METHOD_INVOCATION_ARGUMENTS(SimpleName:gzout))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:gzout))(SimpleName:close)))(IfStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:mout))(SimpleName:size))(INFIX_EXPRESSION_OPERATOR:>)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:gz))(SimpleName:size)))(Block(ExpressionStatement(Assignment(SimpleName:mout)(ASSIGNMENT_OPERATOR:=)(SimpleName:gz)))(ExpressionStatement(Assignment(SimpleName:type)(ASSIGNMENT_OPERATOR:=)(CharacterLiteral:<STR>)))))(VariableDeclarationStatement(SimpleType(SimpleName:ByteArrayOutputStream))(VariableDeclarationFragment(SimpleName:zip)(ClassInstanceCreation(SimpleType(SimpleName:ByteArrayOutputStream))(NumberLiteral:1024))))(VariableDeclarationStatement(SimpleType(SimpleName:ZipOutputStream))(VariableDeclarationFragment(SimpleName:zout)(ClassInstanceCreation(SimpleType(SimpleName:ZipOutputStream))(SimpleName:zip))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:zout))(SimpleName:setLevel)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:9))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:zout))(SimpleName:putNextEntry)(METHOD_INVOCATION_ARGUMENTS(ClassInstanceCreation(SimpleType(SimpleName:ZipEntry))(StringLiteral:<STR>)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:raw))(SimpleName:writeTo)(METHOD_INVOCATION_ARGUMENTS(SimpleName:zout))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:zout))(SimpleName:close)))(IfStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:mout))(SimpleName:size))(INFIX_EXPRESSION_OPERATOR:>)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:zip))(SimpleName:size)))(Block(ExpressionStatement(Assignment(SimpleName:mout)(ASSIGNMENT_OPERATOR:=)(SimpleName:zip)))(ExpressionStatement(Assignment(SimpleName:type)(ASSIGNMENT_OPERATOR:=)(CharacterLiteral:<STR>)))))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:pout))(SimpleName:write)(METHOD_INVOCATION_ARGUMENTS(SimpleName:type))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:mout))(SimpleName:writeTo)(METHOD_INVOCATION_ARGUMENTS(SimpleName:pout))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:pout))(SimpleName:flush)))))))