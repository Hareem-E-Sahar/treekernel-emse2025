(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(SingleMemberAnnotation(SimpleName:FromState)(StringLiteral:<STR>))(NormalAnnotation(SimpleName:OnMessage)(MemberValuePair(SimpleName:performative)(StringLiteral:<STR>)))(SingleMemberAnnotation(SimpleName:PossibleOutcome)(StringLiteral:<STR>))(Modifier:public)(SimpleType(SimpleName:WorkflowState))(SimpleName:onQueryRef)(SingleVariableDeclaration(SimpleType(SimpleName:Message))(SimpleName:msg))(SimpleType(SimpleName:Exception))(Block(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:kind)(MethodInvocation(SimpleName:getPart)(METHOD_INVOCATION_ARGUMENTS(SimpleName:msg)(SimpleName:CONTENT)(NumberLiteral:0)))))(AssertStatement(InfixExpression(SimpleName:kind)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(ClassInstanceCreation(SimpleType(SimpleName:NullPointerException))(StringLiteral:<STR>)))(VariableDeclarationStatement(SimpleType(SimpleName:HGHandle))(VariableDeclarationFragment(SimpleName:proc)(MethodInvocation(SimpleName:getPart)(METHOD_INVOCATION_ARGUMENTS(SimpleName:msg)(SimpleName:CONTENT)(NumberLiteral:1)))))(AssertStatement(InfixExpression(SimpleName:proc)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(ClassInstanceCreation(SimpleType(SimpleName:NullPointerException))(StringLiteral:<STR>)))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(StringLiteral:<STR>))(SimpleName:equals)(METHOD_INVOCATION_ARGUMENTS(SimpleName:kind)))(Block(VariableDeclarationStatement(ParameterizedType(SimpleType(SimpleName:List))(SimpleType(SimpleName:HGHandle)))(VariableDeclarationFragment(SimpleName:channelLinks)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:hg))(SimpleName:findAll)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(SimpleName:getThisPeer)))(SimpleName:getGraph))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:hg))(SimpleName:and)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:hg))(SimpleName:type)(METHOD_INVOCATION_ARGUMENTS(TypeLiteral(SimpleType(SimpleName:ChannelLink)))))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:hg))(SimpleName:incident)(METHOD_INVOCATION_ARGUMENTS(SimpleName:proc)))))))))(VariableDeclarationStatement(ParameterizedType(SimpleType(SimpleName:List))(SimpleType(SimpleName:Object)))(VariableDeclarationFragment(SimpleName:channels)(ClassInstanceCreation(ParameterizedType(SimpleType(SimpleName:ArrayList))(SimpleType(SimpleName:Object))))))(EnhancedForStatement(SingleVariableDeclaration(SimpleType(SimpleName:HGHandle))(SimpleName:ch))(SimpleName:channelLinks)(Block(VariableDeclarationStatement(ParameterizedType(SimpleType(SimpleName:ChannelLink))(WildcardType))(VariableDeclarationFragment(SimpleName:theLink)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(SimpleName:getThisPeer)))(SimpleName:getGraph)))(SimpleName:get)(METHOD_INVOCATION_ARGUMENTS(SimpleName:ch)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(QualifiedName:System.out))(SimpleName:println)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:theLink))(SimpleName:getChannel))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:channels))(SimpleName:add)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:SubgraphManager))(SimpleName:getTransferAtomRepresentation)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(SimpleName:getThisPeer)))(SimpleName:getGraph))(SimpleName:ch))))))))(ExpressionStatement(MethodInvocation(SimpleName:reply)(METHOD_INVOCATION_ARGUMENTS(SimpleName:msg)(QualifiedName:Performative.InformRef)(SimpleName:channels))))(ReturnStatement(SimpleName:ChannelTransfer)))(Block(ExpressionStatement(MethodInvocation(SimpleName:reply)(METHOD_INVOCATION_ARGUMENTS(SimpleName:msg)(QualifiedName:Performative.NotUnderstood)(StringLiteral:<STR>))))(ReturnStatement(QualifiedName:WorkflowState.Failed))))))))