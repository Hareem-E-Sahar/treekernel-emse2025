(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:private)(PrimitiveType:void)(SimpleName:loop)(Block(WhileStatement(SimpleName:m_running)(Block(TryStatement(Block(VariableDeclarationStatement(SimpleType(SimpleName:SocketReadData))(VariableDeclarationFragment(SimpleName:data)))(TryStatement(Block(ExpressionStatement(Assignment(SimpleName:data)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:m_reader))(SimpleName:take)))))(CatchClause(SingleVariableDeclaration(Modifier:final)(SimpleType(SimpleName:InterruptedException))(SimpleName:e))(Block(ContinueStatement))))(IfStatement(InfixExpression(InfixExpression(SimpleName:data)(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(INFIX_EXPRESSION_OPERATOR:||)(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(SimpleName:m_running)))(ContinueStatement))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:s_logger))(SimpleName:isLoggable)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:Level.FINEST)))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:s_logger))(SimpleName:finest)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:data)))))))(VariableDeclarationStatement(Modifier:final)(SimpleType(SimpleName:ByteArrayInputStream))(VariableDeclarationFragment(SimpleName:stream)(ClassInstanceCreation(SimpleType(SimpleName:ByteArrayInputStream))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:data))(SimpleName:getData)))))(TryStatement(Block(VariableDeclarationStatement(Modifier:final)(SimpleType(SimpleName:MessageHeader))(VariableDeclarationFragment(SimpleName:header)(MethodInvocation(SimpleName:readMessageHeader)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:data))(SimpleName:getChannel))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:m_objectStreamFactory))(SimpleName:create)(METHOD_INVOCATION_ARGUMENTS(SimpleName:stream)))))))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:s_logger))(SimpleName:isLoggable)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:Level.FINEST)))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:s_logger))(SimpleName:log)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:Level.FINEST)(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:header)))))))(VariableDeclarationStatement(Modifier:final)(SimpleType(SimpleName:Socket))(VariableDeclarationFragment(SimpleName:s)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:data))(SimpleName:getChannel)))(SimpleName:socket))))(IfStatement(InfixExpression(InfixExpression(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(SimpleName:m_running))(INFIX_EXPRESSION_OPERATOR:||)(InfixExpression(SimpleName:s)(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral)))(INFIX_EXPRESSION_OPERATOR:||)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:s))(SimpleName:isInputShutdown)))(ContinueStatement))(VariableDeclarationStatement(Modifier:final)(SimpleType(SimpleName:QuarantineConversation))(VariableDeclarationFragment(SimpleName:converstation)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:m_quarantine))(SimpleName:get)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:data))(SimpleName:getChannel))))))(IfStatement(InfixExpression(SimpleName:converstation)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(ExpressionStatement(MethodInvocation(SimpleName:sendQuarantine)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:data))(SimpleName:getChannel))(SimpleName:converstation)(SimpleName:header)))))(Block(IfStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:m_nioSocket))(SimpleName:getLocalNode))(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(ThrowStatement(ClassInstanceCreation(SimpleType(SimpleName:IllegalStateException))(StringLiteral:<STR>))))(IfStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:header))(SimpleName:getFrom))(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(ThrowStatement(ClassInstanceCreation(SimpleType(SimpleName:IllegalArgumentException))(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:header)))))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:s_logger))(SimpleName:isLoggable)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:Level.FINER)))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:s_logger))(SimpleName:log)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:Level.FINER)(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:header))(SimpleName:getMessage))(StringLiteral:<STR>)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:data))(SimpleName:size))))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:m_nioSocket))(SimpleName:messageReceived)(METHOD_INVOCATION_ARGUMENTS(SimpleName:header)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:data))(SimpleName:getChannel))))))))(CatchClause(SingleVariableDeclaration(Modifier:final)(SimpleType(SimpleName:Exception))(SimpleName:ioe))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:s_logger))(SimpleName:log)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:Level.SEVERE)(StringLiteral:<STR>)(SimpleName:ioe))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:m_errorReporter))(SimpleName:error)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:data))(SimpleName:getChannel))(SimpleName:ioe))))))))(CatchClause(SingleVariableDeclaration(Modifier:final)(SimpleType(SimpleName:Exception))(SimpleName:e))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:s_logger))(SimpleName:log)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:Level.WARNING)(StringLiteral:<STR>)(SimpleName:e)))))))))))))