(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:public)(SimpleName:DefaultDataFile)(SingleVariableDeclaration(SimpleType(SimpleName:String))(SimpleName:fullName))(SingleVariableDeclaration(PrimitiveType:int)(SimpleName:blockSize))(SingleVariableDeclaration(PrimitiveType:int)(SimpleName:initialCapacity))(SingleVariableDeclaration(PrimitiveType:boolean)(SimpleName:useDataChecksum))(SingleVariableDeclaration(SimpleType(SimpleName:DataIO))(SimpleName:dataIO))(SingleVariableDeclaration(SimpleType(SimpleName:BlockFileFactory))(SimpleName:blockFileFactory))(SingleVariableDeclaration(SimpleType(SimpleName:BlockAllocatorFactory))(SimpleName:blockAllocatorFactory))(SimpleType(SimpleName:IOException))(Block(ExpressionStatement(Assignment(FieldAccess(ThisExpression)(SimpleName:fullName))(ASSIGNMENT_OPERATOR:=)(SimpleName:fullName)))(ExpressionStatement(Assignment(FieldAccess(ThisExpression)(SimpleName:fileName))(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:dataIO))(SimpleName:getName))))(ExpressionStatement(Assignment(FieldAccess(ThisExpression)(SimpleName:readOnlyMode))(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:dataIO))(SimpleName:isReadOnly))))(IfStatement(InfixExpression(SimpleName:blockSize)(INFIX_EXPRESSION_OPERATOR:<=)(ParenthesizedExpression(InfixExpression(SimpleName:BLOCK_HEADER_SIZE)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:BLOCK_FOOTER_SIZE))))(ExpressionStatement(Assignment(SimpleName:blockSize)(ASSIGNMENT_OPERATOR:=)(NumberLiteral:1024))))(IfStatement(InfixExpression(SimpleName:initialCapacity)(INFIX_EXPRESSION_OPERATOR:<)(NumberLiteral:0))(ExpressionStatement(Assignment(SimpleName:initialCapacity)(ASSIGNMENT_OPERATOR:=)(NumberLiteral:100))))(ExpressionStatement(Assignment(FieldAccess(ThisExpression)(SimpleName:initialCapacity))(ASSIGNMENT_OPERATOR:=)(SimpleName:initialCapacity)))(VariableDeclarationStatement(PrimitiveType:boolean)(VariableDeclarationFragment(SimpleName:newFile)(BooleanLiteral:false)))(IfStatement(InfixExpression(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:dataIO))(SimpleName:isNew)))(INFIX_EXPRESSION_OPERATOR:&&)(ParenthesizedExpression(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:dataIO))(SimpleName:length))(INFIX_EXPRESSION_OPERATOR:>=)(SimpleName:DATA_FILE_HEADER_SIZE))))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:dataIO))(SimpleName:setFilePointer)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:0L))))(ExpressionStatement(Assignment(FieldAccess(ThisExpression)(SimpleName:version))(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:dataIO))(SimpleName:readShort))))(ExpressionStatement(Assignment(FieldAccess(ThisExpression)(SimpleName:allocationUnitSize))(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:dataIO))(SimpleName:readInt))))(ExpressionStatement(Assignment(FieldAccess(ThisExpression)(SimpleName:useDataChecksum))(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:dataIO))(SimpleName:readBoolean))))(VariableDeclarationStatement(PrimitiveType:long)(VariableDeclarationFragment(SimpleName:checkSum)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:dataIO))(SimpleName:readLong))))(VariableDeclarationStatement(ArrayType(PrimitiveType:byte)(Dimension))(VariableDeclarationFragment(SimpleName:headerBuf)(MethodInvocation(SimpleName:dataFileHeaderFieldsToBytes))))(VariableDeclarationStatement(SimpleType(SimpleName:CRC32))(VariableDeclarationFragment(SimpleName:crc32)(ClassInstanceCreation(SimpleType(SimpleName:CRC32)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:crc32))(SimpleName:update)(METHOD_INVOCATION_ARGUMENTS(SimpleName:headerBuf))))(IfStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:crc32))(SimpleName:getValue))(INFIX_EXPRESSION_OPERATOR:!=)(SimpleName:checkSum))(Block(ThrowStatement(ClassInstanceCreation(SimpleType(SimpleName:IOException))(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:fullName)(StringLiteral:<STR>)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:crc32))(SimpleName:getValue))(StringLiteral:<STR>)(SimpleName:checkSum)(StringLiteral:<STR>))))))(ExpressionStatement(Assignment(FieldAccess(ThisExpression)(SimpleName:blockSize))(ASSIGNMENT_OPERATOR:=)(ParenthesizedExpression(InfixExpression(SimpleName:allocationUnitSize)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:BLOCK_HEADER_SIZE)(SimpleName:BLOCK_FOOTER_SIZE)))))(ExpressionStatement(Assignment(SimpleName:newFile)(ASSIGNMENT_OPERATOR:=)(BooleanLiteral:false))))(Block(IfStatement(FieldAccess(ThisExpression)(SimpleName:readOnlyMode))(Block(IfStatement(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:dataIO))(SimpleName:isNew)))(ThrowStatement(ClassInstanceCreation(SimpleType(SimpleName:IOException))(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(FieldAccess(ThisExpression)(SimpleName:fileName))(StringLiteral:<STR>))))(ThrowStatement(ClassInstanceCreation(SimpleType(SimpleName:FileNotFoundException))(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(FieldAccess(ThisExpression)(SimpleName:fileName))(StringLiteral:<STR>)))))))(ExpressionStatement(Assignment(FieldAccess(ThisExpression)(SimpleName:version))(ASSIGNMENT_OPERATOR:=)(NumberLiteral:1)))(ExpressionStatement(Assignment(FieldAccess(ThisExpression)(SimpleName:allocationUnitSize))(ASSIGNMENT_OPERATOR:=)(InfixExpression(SimpleName:blockSize)(INFIX_EXPRESSION_OPERATOR:-)(ParenthesizedExpression(InfixExpression(SimpleName:BLOCK_HEADER_SIZE)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:BLOCK_FOOTER_SIZE))))))(ExpressionStatement(Assignment(FieldAccess(ThisExpression)(SimpleName:useDataChecksum))(ASSIGNMENT_OPERATOR:=)(SimpleName:useDataChecksum)))(VariableDeclarationStatement(ArrayType(PrimitiveType:byte)(Dimension))(VariableDeclarationFragment(SimpleName:headerBuf)(MethodInvocation(SimpleName:dataFileHeaderFieldsToBytes))))(VariableDeclarationStatement(SimpleType(SimpleName:CRC32))(VariableDeclarationFragment(SimpleName:crc32)(ClassInstanceCreation(SimpleType(SimpleName:CRC32)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:crc32))(SimpleName:update)(METHOD_INVOCATION_ARGUMENTS(SimpleName:headerBuf))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:dataIO))(SimpleName:setFilePointer)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:0L))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:dataIO))(SimpleName:writeShort)(METHOD_INVOCATION_ARGUMENTS(SimpleName:version))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:dataIO))(SimpleName:writeInt)(METHOD_INVOCATION_ARGUMENTS(SimpleName:allocationUnitSize))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:dataIO))(SimpleName:writeBoolean)(METHOD_INVOCATION_ARGUMENTS(SimpleName:useDataChecksum))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:dataIO))(SimpleName:writeLong)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:crc32))(SimpleName:getValue)))))(ExpressionStatement(Assignment(FieldAccess(ThisExpression)(SimpleName:blockSize))(ASSIGNMENT_OPERATOR:=)(SimpleName:blockSize)))(ExpressionStatement(Assignment(SimpleName:newFile)(ASSIGNMENT_OPERATOR:=)(BooleanLiteral:true)))))(ExpressionStatement(Assignment(FieldAccess(ThisExpression)(SimpleName:blockFile))(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:blockFileFactory))(SimpleName:createBlockFile)(METHOD_INVOCATION_ARGUMENTS(SimpleName:dataIO)(FieldAccess(ThisExpression)(SimpleName:blockSize))(SimpleName:DATA_FILE_HEADER_SIZE)))))(ExpressionStatement(Assignment(FieldAccess(ThisExpression)(SimpleName:deallocatedBlockHeaderBuffer))(ASSIGNMENT_OPERATOR:=)(ArrayCreation(ArrayType(PrimitiveType:byte)(Dimension(SimpleName:BLOCK_HEADER_SIZE))))))(ExpressionStatement(MethodInvocation(SimpleName:formatBlockHeader)(METHOD_INVOCATION_ARGUMENTS(BooleanLiteral:false)(BooleanLiteral:false)(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:-)(NumberLiteral:1))(SimpleName:NULL_LINK)(FieldAccess(ThisExpression)(SimpleName:deallocatedBlockHeaderBuffer))(NumberLiteral:0))))(IfStatement(SimpleName:newFile)(Block(ExpressionStatement(Assignment(FieldAccess(ThisExpression)(SimpleName:dataChainsArray))(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(SimpleType(SimpleName:ArrayList))(FieldAccess(ThisExpression)(SimpleName:initialCapacity)))))(VariableDeclarationStatement(Modifier:final)(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:listSize)(InfixExpression(InfixExpression(FieldAccess(ThisExpression)(SimpleName:initialCapacity))(INFIX_EXPRESSION_OPERATOR:/)(NumberLiteral:5))(INFIX_EXPRESSION_OPERATOR:+)(NumberLiteral:10))))(ExpressionStatement(Assignment(FieldAccess(ThisExpression)(SimpleName:dataStartBlocks))(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(SimpleType(SimpleName:IntList))(SimpleName:listSize)(SimpleName:listSize))))(ExpressionStatement(Assignment(FieldAccess(ThisExpression)(SimpleName:itemDataSizes))(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(SimpleType(SimpleName:IntList))(SimpleName:listSize)(SimpleName:listSize))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(ThisExpression))(SimpleName:initNewFile)))(ExpressionStatement(Assignment(FieldAccess(ThisExpression)(SimpleName:blockAllocator))(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:blockAllocatorFactory))(SimpleName:createBlockAllocator)(METHOD_INVOCATION_ARGUMENTS(FieldAccess(ThisExpression)(SimpleName:initialCapacity))(ArrayCreation(ArrayType(PrimitiveType:int)(Dimension(NumberLiteral:0)))))))))(Block(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:blockCapacity)(MethodInvocation(METHOD_INVOCATION_RECEIVER(FieldAccess(ThisExpression)(SimpleName:blockFile)))(SimpleName:getBlockCapacity))))(IfStatement(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(FieldAccess(ThisExpression)(SimpleName:readOnlyMode)))(Block(IfStatement(InfixExpression(SimpleName:blockCapacity)(INFIX_EXPRESSION_OPERATOR:<)(FieldAccess(ThisExpression)(SimpleName:initialCapacity)))(Block(ExpressionStatement(Assignment(SimpleName:blockCapacity)(ASSIGNMENT_OPERATOR:=)(FieldAccess(ThisExpression)(SimpleName:initialCapacity))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(FieldAccess(ThisExpression)(SimpleName:blockFile)))(SimpleName:setBlockCapacity)(METHOD_INVOCATION_ARGUMENTS(SimpleName:blockCapacity))))))))(ExpressionStatement(Assignment(FieldAccess(ThisExpression)(SimpleName:dataChainsArray))(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(SimpleType(SimpleName:ArrayList))(SimpleName:blockCapacity))))(VariableDeclarationStatement(Modifier:final)(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:listSize)(InfixExpression(InfixExpression(SimpleName:blockCapacity)(INFIX_EXPRESSION_OPERATOR:/)(NumberLiteral:5))(INFIX_EXPRESSION_OPERATOR:+)(NumberLiteral:10))))(ExpressionStatement(Assignment(FieldAccess(ThisExpression)(SimpleName:dataStartBlocks))(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(SimpleType(SimpleName:IntList))(SimpleName:listSize)(SimpleName:listSize))))(ExpressionStatement(Assignment(FieldAccess(ThisExpression)(SimpleName:itemDataSizes))(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(SimpleType(SimpleName:IntList))(SimpleName:listSize)(SimpleName:listSize))))(VariableDeclarationStatement(ArrayType(PrimitiveType:int)(Dimension))(VariableDeclarationFragment(SimpleName:occupiedIndices)(MethodInvocation(METHOD_INVOCATION_RECEIVER(ThisExpression))(SimpleName:initExistingFile))))(IfStatement(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(FieldAccess(ThisExpression)(SimpleName:readOnlyMode)))(ExpressionStatement(Assignment(FieldAccess(ThisExpression)(SimpleName:blockAllocator))(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:blockAllocatorFactory))(SimpleName:createBlockAllocator)(METHOD_INVOCATION_ARGUMENTS(SimpleName:blockCapacity)(SimpleName:occupiedIndices)))))(ExpressionStatement(Assignment(FieldAccess(ThisExpression)(SimpleName:blockAllocator))(ASSIGNMENT_OPERATOR:=)(NullLiteral))))))(IfStatement(InfixExpression(FieldAccess(ThisExpression)(SimpleName:initialCapacity))(INFIX_EXPRESSION_OPERATOR:<)(NumberLiteral:10))(ExpressionStatement(Assignment(FieldAccess(ThisExpression)(SimpleName:initialCapacityIncrementFactor))(ASSIGNMENT_OPERATOR:=)(NumberLiteral:1)))(ExpressionStatement(Assignment(FieldAccess(ThisExpression)(SimpleName:initialCapacityIncrementFactor))(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Math))(SimpleName:min)(METHOD_INVOCATION_ARGUMENTS(CastExpression(PrimitiveType:int)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Math))(SimpleName:ceil)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(FieldAccess(ThisExpression)(SimpleName:initialCapacity))(INFIX_EXPRESSION_OPERATOR:/)(NumberLiteral:10)))))(NumberLiteral:1000))))))))))