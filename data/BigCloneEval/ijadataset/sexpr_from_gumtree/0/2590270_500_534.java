(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:private)(PrimitiveType:void)(SimpleName:uploadFileToServer)(SingleVariableDeclaration(Modifier:final)(SimpleType(SimpleName:OutputStream))(SimpleName:streamToServer))(SingleVariableDeclaration(Modifier:final)(SimpleType(SimpleName:File))(SimpleName:testFile))(SingleVariableDeclaration(Modifier:final)(PrimitiveType:boolean)(SimpleName:isGoodCase))(SimpleType(SimpleName:Exception))(Block(VariableDeclarationStatement(Modifier:final)(PrimitiveType:long)(VariableDeclarationFragment(SimpleName:fileLength)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:testFile))(SimpleName:length))))(VariableDeclarationStatement(Modifier:final)(SimpleType(SimpleName:Database))(VariableDeclarationFragment(SimpleName:db)(ClassInstanceCreation(SimpleType(SimpleName:Database))(SimpleName:testFile))))(VariableDeclarationStatement(Modifier:final)(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:fullName)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:db))(SimpleName:getFullName))))(VariableDeclarationStatement(PrimitiveType:long)(VariableDeclarationFragment(SimpleName:numOfBytesTransmitted)(NumberLiteral:0)))(VariableDeclarationStatement(Modifier:final)(ArrayType(PrimitiveType:byte)(Dimension))(VariableDeclarationFragment(SimpleName:fileBuffer)(ArrayCreation(ArrayType(PrimitiveType:byte)(Dimension(SimpleName:BUF_SIZE))))))(VariableDeclarationStatement(Modifier:final)(SimpleType(SimpleName:InputStream))(VariableDeclarationFragment(SimpleName:testFileIn)(ClassInstanceCreation(SimpleType(SimpleName:FileInputStream))(SimpleName:testFile))))(TryStatement(Block(VariableDeclarationStatement(Modifier:final)(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:testQuery)(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:URLEncoder))(SimpleName:encode)(METHOD_INVOCATION_ARGUMENTS(SimpleName:fullName)(StringLiteral:<STR>)))(StringLiteral:<STR>)(StringLiteral:<STR>)(StringLiteral:<STR>)(StringLiteral:<STR>)(StringLiteral:<STR>)(SimpleName:fileLength)(StringLiteral:<STR>)(StringLiteral:<STR>))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:streamToServer))(SimpleName:write)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:testQuery))(SimpleName:getBytes)))))(TryStatement(Block(VariableDeclarationStatement(PrimitiveType:long)(VariableDeclarationFragment(SimpleName:readCount)))(WhileStatement(InfixExpression(InfixExpression(SimpleName:fileLength)(INFIX_EXPRESSION_OPERATOR:-)(SimpleName:numOfBytesTransmitted))(INFIX_EXPRESSION_OPERATOR:>)(NumberLiteral:0))(Block(ExpressionStatement(Assignment(SimpleName:readCount)(ASSIGNMENT_OPERATOR:=)(InfixExpression(SimpleName:fileLength)(INFIX_EXPRESSION_OPERATOR:-)(SimpleName:numOfBytesTransmitted))))(IfStatement(InfixExpression(SimpleName:readCount)(INFIX_EXPRESSION_OPERATOR:>)(QualifiedName:fileBuffer.length))(Block(ExpressionStatement(Assignment(SimpleName:readCount)(ASSIGNMENT_OPERATOR:=)(QualifiedName:fileBuffer.length)))))(ExpressionStatement(Assignment(SimpleName:readCount)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:testFileIn))(SimpleName:read)(METHOD_INVOCATION_ARGUMENTS(SimpleName:fileBuffer)(NumberLiteral:0)(CastExpression(PrimitiveType:int)(SimpleName:readCount))))))(IfStatement(InfixExpression(SimpleName:readCount)(INFIX_EXPRESSION_OPERATOR:>=)(NumberLiteral:0))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:streamToServer))(SimpleName:write)(METHOD_INVOCATION_ARGUMENTS(SimpleName:fileBuffer)(NumberLiteral:0)(CastExpression(PrimitiveType:int)(SimpleName:readCount)))))(ExpressionStatement(Assignment(SimpleName:numOfBytesTransmitted)(ASSIGNMENT_OPERATOR:+=)(SimpleName:readCount)))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:streamToServer))(SimpleName:flush))))(CatchClause(SingleVariableDeclaration(Modifier:final)(SimpleType(SimpleName:IOException))(SimpleName:e))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(QualifiedName:System.err))(SimpleName:println)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:e))(SimpleName:getMessage))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Assert))(SimpleName:fail)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))))))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:testFileIn))(SimpleName:close)))))(IfStatement(SimpleName:isGoodCase)(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Assert))(SimpleName:assertEquals)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(SimpleName:numOfBytesTransmitted)(SimpleName:fileLength))))))))))