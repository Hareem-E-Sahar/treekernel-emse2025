(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(MarkerAnnotation(SimpleName:Override))(Modifier:public)(PrimitiveType:void)(SimpleName:messageReceived)(SingleVariableDeclaration(SimpleType(SimpleName:ChannelHandlerContext))(SimpleName:ctx))(SingleVariableDeclaration(SimpleType(SimpleName:MessageEvent))(SimpleName:e))(Block(VariableDeclarationStatement(Modifier:final)(SimpleType(SimpleName:Object))(VariableDeclarationFragment(SimpleName:o)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:e))(SimpleName:getMessage))))(VariableDeclarationStatement(Modifier:final)(SimpleType(SimpleName:Channel))(VariableDeclarationFragment(SimpleName:channel)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:e))(SimpleName:getChannel))))(VariableDeclarationStatement(Modifier:final)(SimpleType(SimpleName:RtmpMessage))(VariableDeclarationFragment(SimpleName:message)(CastExpression(SimpleType(SimpleName:RtmpMessage))(SimpleName:o))))(SwitchStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:message))(SimpleName:getHeader)))(SimpleName:getMessageType))(SwitchCase(SimpleName:CONTROL))(VariableDeclarationStatement(SimpleType(SimpleName:Control))(VariableDeclarationFragment(SimpleName:control)(CastExpression(SimpleType(SimpleName:Control))(SimpleName:message))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:logger))(SimpleName:debug)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(SimpleName:control))))(SwitchStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:control))(SimpleName:getType))(SwitchCase(SimpleName:PING_REQUEST))(VariableDeclarationStatement(Modifier:final)(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:time)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:control))(SimpleName:getTime))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:logger))(SimpleName:debug)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(SimpleName:time))))(VariableDeclarationStatement(SimpleType(SimpleName:Control))(VariableDeclarationFragment(SimpleName:pong)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Control))(SimpleName:pingResponse)(METHOD_INVOCATION_ARGUMENTS(SimpleName:time)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:logger))(SimpleName:debug)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(SimpleName:pong))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:channel))(SimpleName:write)(METHOD_INVOCATION_ARGUMENTS(SimpleName:pong))))(BreakStatement)(SwitchCase(SimpleName:SWFV_REQUEST))(IfStatement(InfixExpression(SimpleName:swfvBytes)(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:logger))(SimpleName:warn)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(StringLiteral:<STR>))))))(Block(VariableDeclarationStatement(SimpleType(SimpleName:Control))(VariableDeclarationFragment(SimpleName:swfv)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Control))(SimpleName:swfvResponse)(METHOD_INVOCATION_ARGUMENTS(SimpleName:swfvBytes)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:logger))(SimpleName:info)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(SimpleName:swfv))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:channel))(SimpleName:write)(METHOD_INVOCATION_ARGUMENTS(SimpleName:swfv))))))(BreakStatement)(SwitchCase)(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:logger))(SimpleName:debug)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(SimpleName:control)))))(BreakStatement)(SwitchCase(SimpleName:METADATA_AMF0))(SwitchCase(SimpleName:METADATA_AMF3))(VariableDeclarationStatement(SimpleType(SimpleName:Metadata))(VariableDeclarationFragment(SimpleName:metadata)(CastExpression(SimpleType(SimpleName:Metadata))(SimpleName:message))))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:metadata))(SimpleName:getName)))(SimpleName:equals)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:logger))(SimpleName:info)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(SimpleName:metadata))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:writer))(SimpleName:write)(METHOD_INVOCATION_ARGUMENTS(SimpleName:message)))))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:logger))(SimpleName:info)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(SimpleName:metadata))))))(BreakStatement)(SwitchCase(SimpleName:AUDIO))(SwitchCase(SimpleName:VIDEO))(SwitchCase(SimpleName:AGGREGATE))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:writer))(SimpleName:write)(METHOD_INVOCATION_ARGUMENTS(SimpleName:message))))(ExpressionStatement(Assignment(SimpleName:bytesRead)(ASSIGNMENT_OPERATOR:+=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:message))(SimpleName:getHeader)))(SimpleName:getSize))))(IfStatement(InfixExpression(ParenthesizedExpression(InfixExpression(SimpleName:bytesRead)(INFIX_EXPRESSION_OPERATOR:-)(SimpleName:bytesReadLastSent)))(INFIX_EXPRESSION_OPERATOR:>)(SimpleName:bytesReadWindow))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:logger))(SimpleName:info)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(SimpleName:bytesRead))))(ExpressionStatement(Assignment(SimpleName:bytesReadLastSent)(ASSIGNMENT_OPERATOR:=)(SimpleName:bytesRead)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:channel))(SimpleName:write)(METHOD_INVOCATION_ARGUMENTS(ClassInstanceCreation(SimpleType(SimpleName:BytesRead))(SimpleName:bytesRead)))))))(BreakStatement)(SwitchCase(SimpleName:COMMAND_AMF0))(SwitchCase(SimpleName:COMMAND_AMF3))(VariableDeclarationStatement(SimpleType(SimpleName:Command))(VariableDeclarationFragment(SimpleName:command)(CastExpression(SimpleType(SimpleName:Command))(SimpleName:message))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:name)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:command))(SimpleName:getName))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:logger))(SimpleName:info)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(SimpleName:name))))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:name))(SimpleName:equals)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))(Block(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:resultFor)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:transactionToCommandMap))(SimpleName:get)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:command))(SimpleName:getTransactionId))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:logger))(SimpleName:info)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(SimpleName:resultFor))))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:resultFor))(SimpleName:equals)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))(Block(ExpressionStatement(MethodInvocation(SimpleName:writeCommandExpectingResult)(METHOD_INVOCATION_ARGUMENTS(SimpleName:channel)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Command))(SimpleName:createStream))))))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:resultFor))(SimpleName:equals)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))(Block(VariableDeclarationStatement(Modifier:final)(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:streamId)(MethodInvocation(METHOD_INVOCATION_RECEIVER(ParenthesizedExpression(CastExpression(SimpleType(SimpleName:Double))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:command))(SimpleName:getArg)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:0))))))(SimpleName:intValue))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:logger))(SimpleName:info)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(SimpleName:streamId))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:channel))(SimpleName:write)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Command))(SimpleName:play)(METHOD_INVOCATION_ARGUMENTS(SimpleName:streamId)(SimpleName:session)))))))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:logger))(SimpleName:warn)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(SimpleName:resultFor))))))))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:name))(SimpleName:equals)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))(Block(VariableDeclarationStatement(ParameterizedType(SimpleType(SimpleName:Map))(SimpleType(SimpleName:String))(SimpleType(SimpleName:Object)))(VariableDeclarationFragment(SimpleName:temp)(CastExpression(SimpleType(SimpleName:Map))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:command))(SimpleName:getArg)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:0))))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:code)(CastExpression(SimpleType(SimpleName:String))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:temp))(SimpleName:get)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:logger))(SimpleName:info)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(SimpleName:code))))(IfStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:code))(SimpleName:equals)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))(INFIX_EXPRESSION_OPERATOR:||)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:code))(SimpleName:equals)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:code))(SimpleName:equals)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:logger))(SimpleName:info)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(SimpleName:bytesRead))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:writer))(SimpleName:close)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:channel))(SimpleName:close))))))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:logger))(SimpleName:warn)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(SimpleName:command)))))))(BreakStatement)(SwitchCase(SimpleName:BYTES_READ))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:logger))(SimpleName:info)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(SimpleName:message))))(BreakStatement)(SwitchCase(SimpleName:WINDOW_ACK_SIZE))(VariableDeclarationStatement(SimpleType(SimpleName:WindowAckSize))(VariableDeclarationFragment(SimpleName:was)(CastExpression(SimpleType(SimpleName:WindowAckSize))(SimpleName:message))))(IfStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:was))(SimpleName:getValue))(INFIX_EXPRESSION_OPERATOR:!=)(SimpleName:bytesReadWindow))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:channel))(SimpleName:write)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:SetPeerBw))(SimpleName:dynamic)(METHOD_INVOCATION_ARGUMENTS(SimpleName:bytesReadWindow))))))))(BreakStatement)(SwitchCase(SimpleName:SET_PEER_BW))(VariableDeclarationStatement(SimpleType(SimpleName:SetPeerBw))(VariableDeclarationFragment(SimpleName:spb)(CastExpression(SimpleType(SimpleName:SetPeerBw))(SimpleName:message))))(IfStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:spb))(SimpleName:getValue))(INFIX_EXPRESSION_OPERATOR:!=)(SimpleName:bytesWrittenWindow))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:channel))(SimpleName:write)(METHOD_INVOCATION_ARGUMENTS(ClassInstanceCreation(SimpleType(SimpleName:WindowAckSize))(SimpleName:bytesWrittenWindow)))))))(BreakStatement)(SwitchCase)(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:logger))(SimpleName:info)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(SimpleName:message)))))))))