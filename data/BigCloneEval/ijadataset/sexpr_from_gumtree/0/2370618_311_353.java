(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:private)(PrimitiveType:void)(SimpleName:addTestData)(SingleVariableDeclaration(PrimitiveType:long)(SimpleName:bytesToAdd))(Block(TryStatement(Block(AssertStatement(InfixExpression(SimpleName:bytesToAdd)(INFIX_EXPRESSION_OPERATOR:>)(NumberLiteral:0))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ErrUtils))(SimpleName:assertionFailed)))(AssertStatement(InfixExpression(SimpleName:currentFileSize)(INFIX_EXPRESSION_OPERATOR:<)(QualifiedName:SetOfTestDataFiles.MAX_FILE_SIZE))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ErrUtils))(SimpleName:assertionFailed)))(AssertStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:currentFileRa))(SimpleName:getFilePointer))(INFIX_EXPRESSION_OPERATOR:==)(SimpleName:currentFileSize))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ErrUtils))(SimpleName:assertionFailed)))(AssertStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:currentFileRa))(SimpleName:length))(INFIX_EXPRESSION_OPERATOR:==)(SimpleName:currentFileSize))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ErrUtils))(SimpleName:assertionFailed)))(AssertStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:currentFilename))(SimpleName:length))(INFIX_EXPRESSION_OPERATOR:==)(SimpleName:currentFileSize))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ErrUtils))(SimpleName:assertionFailed)))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:spaceLeftInFile)(InfixExpression(QualifiedName:SetOfTestDataFiles.MAX_FILE_SIZE)(INFIX_EXPRESSION_OPERATOR:-)(SimpleName:currentFileSize))))(VariableDeclarationStatement(PrimitiveType:long)(VariableDeclarationFragment(SimpleName:maxBs)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Common))(SimpleName:calculateMaxBlockSize)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:currentProgress.targetDataSize)))))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:blockSize)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Math))(SimpleName:min)(METHOD_INVOCATION_ARGUMENTS(CastExpression(PrimitiveType:int)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Math))(SimpleName:min)(METHOD_INVOCATION_ARGUMENTS(SimpleName:spaceLeftInFile)(SimpleName:maxBs))))(CastExpression(PrimitiveType:int)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Math))(SimpleName:min)(METHOD_INVOCATION_ARGUMENTS(SimpleName:bytesToAdd)(QualifiedName:dataBuffer.length))))))))(VariableDeclarationStatement(Modifier:final)(PrimitiveType:boolean)(VariableDeclarationFragment(SimpleName:writeOneByteAtATimeForDebuggingPurposes)(BooleanLiteral:false)))(IfStatement(SimpleName:writeOneByteAtATimeForDebuggingPurposes)(ExpressionStatement(Assignment(SimpleName:blockSize)(ASSIGNMENT_OPERATOR:=)(NumberLiteral:1))))(AssertStatement(InfixExpression(SimpleName:blockSize)(INFIX_EXPRESSION_OPERATOR:>)(NumberLiteral:0))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ErrUtils))(SimpleName:assertionFailed)))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:bytesAdded)))(IfStatement(InfixExpression(InfixExpression(SimpleName:currentFileSize)(INFIX_EXPRESSION_OPERATOR:<)(QualifiedName:SetOfTestDataFiles.MAX_HEADER_LEN))(INFIX_EXPRESSION_OPERATOR:&&)(InfixExpression(InfixExpression(SimpleName:currentFileSize)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:blockSize))(INFIX_EXPRESSION_OPERATOR:>=)(QualifiedName:SetOfTestDataFiles.MAX_HEADER_LEN)))(Block(AssertStatement(InfixExpression(SimpleName:currentFileRandomDataSeed)(INFIX_EXPRESSION_OPERATOR:==)(QualifiedName:SetOfTestDataFiles.SMALL_FILE_SEED))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ErrUtils))(SimpleName:assertionFailed)))(ExpressionStatement(Assignment(SimpleName:currentFileRandomDataSeed)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:rndGenerator))(SimpleName:nextInt))))(IfStatement(SimpleName:enableDebugOutput)(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(QualifiedName:System.out))(SimpleName:println)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:String))(SimpleName:format)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:currentFilename))(SimpleName:getName)))))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:currentFileRa))(SimpleName:seek)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:0))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:SetOfTestDataFiles))(SimpleName:writeHeader)(METHOD_INVOCATION_ARGUMENTS(SimpleName:currentFileNumber)(QualifiedName:SetOfTestDataFiles.MAX_HEADER_LEN)(SimpleName:testDataGenerator)(SimpleName:currentFileRandomDataSeed)(SimpleName:currentFilename)(SimpleName:dataBuffer)(SimpleName:currentFileRa))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:currentFileRa))(SimpleName:getChannel)))(SimpleName:force)(METHOD_INVOCATION_ARGUMENTS(BooleanLiteral:true))))(AssertStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:currentFileRa))(SimpleName:getFilePointer))(INFIX_EXPRESSION_OPERATOR:==)(QualifiedName:SetOfTestDataFiles.MAX_HEADER_LEN))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ErrUtils))(SimpleName:assertionFailed)))(ExpressionStatement(Assignment(SimpleName:bytesAdded)(ASSIGNMENT_OPERATOR:=)(InfixExpression(QualifiedName:SetOfTestDataFiles.MAX_HEADER_LEN)(INFIX_EXPRESSION_OPERATOR:-)(SimpleName:currentFileSize))))(AssertStatement(InfixExpression(InfixExpression(SimpleName:bytesAdded)(INFIX_EXPRESSION_OPERATOR:>=)(NumberLiteral:0))(INFIX_EXPRESSION_OPERATOR:&&)(InfixExpression(SimpleName:bytesAdded)(INFIX_EXPRESSION_OPERATOR:<=)(QualifiedName:SetOfTestDataFiles.MAX_HEADER_LEN)))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ErrUtils))(SimpleName:assertionFailed))))(Block(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:alignedBlockSize)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:testDataGenerator))(SimpleName:alignDataSize)(METHOD_INVOCATION_ARGUMENTS(SimpleName:currentFileSize)(SimpleName:blockSize)))))(IfStatement(SimpleName:enableDebugOutput)(Block(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:msg)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:String))(SimpleName:format)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(SimpleName:alignedBlockSize)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:currentFilename))(SimpleName:getName))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(QualifiedName:System.out))(SimpleName:println)(METHOD_INVOCATION_ARGUMENTS(SimpleName:msg))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:testDataGenerator))(SimpleName:generateData)(METHOD_INVOCATION_ARGUMENTS(SimpleName:currentFileNumber)(SimpleName:currentFileSize)(SimpleName:currentFileRandomDataSeed)(SimpleName:alignedBlockSize)(SimpleName:dataBuffer))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:currentFileRa))(SimpleName:write)(METHOD_INVOCATION_ARGUMENTS(SimpleName:dataBuffer)(NumberLiteral:0)(SimpleName:alignedBlockSize))))(ExpressionStatement(Assignment(SimpleName:bytesAdded)(ASSIGNMENT_OPERATOR:=)(SimpleName:alignedBlockSize)))))(ExpressionStatement(Assignment(SimpleName:currentFileSize)(ASSIGNMENT_OPERATOR:+=)(SimpleName:bytesAdded)))(ExpressionStatement(Assignment(QualifiedName:currentProgress.currentDataSize)(ASSIGNMENT_OPERATOR:+=)(SimpleName:bytesAdded)))(ExpressionStatement(Assignment(QualifiedName:currentProgress.processedDataSize)(ASSIGNMENT_OPERATOR:+=)(SimpleName:bytesAdded))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:Throwable))(SimpleName:ex))(Block(ThrowStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ErrUtils))(SimpleName:asRuntimeExceptionWithFilename)(METHOD_INVOCATION_ARGUMENTS(SimpleName:ex)(SimpleName:currentFilename)(QualifiedName:ErrFileOp.FE_WRITING)))))))))))