(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:public)(PrimitiveType:void)(SimpleName:getDocInfo)(SingleVariableDeclaration(SimpleType(SimpleName:HttpServletRequest))(SimpleName:request))(SingleVariableDeclaration(SimpleType(SimpleName:HttpServletResponse))(SimpleName:response))(Block(VariableDeclarationStatement(SimpleType(SimpleName:BufferedReader))(VariableDeclarationFragment(SimpleName:info)(NullLiteral)))(TryStatement(Block(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:id)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:request))(SimpleName:getParameter)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:StringUtils))(SimpleName:isBlank)(METHOD_INVOCATION_ARGUMENTS(SimpleName:id)))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:response))(SimpleName:setStatus)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:404))))(ReturnStatement)))(VariableDeclarationStatement(SimpleType(SimpleName:DocuBean))(VariableDeclarationFragment(SimpleName:docuBean)(MethodInvocation(METHOD_INVOCATION_RECEIVER(QualifiedName:DocuUtils.applicationModule))(SimpleName:getBean)(METHOD_INVOCATION_ARGUMENTS(TypeLiteral(SimpleType(SimpleName:DocuBean)))(SimpleName:id)))))(VariableDeclarationStatement(SimpleType(SimpleName:Permissions))(VariableDeclarationFragment(SimpleName:permissions)(QualifiedName:Permissions.READ_ONLY)))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:permissions))(SimpleName:equals)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:Permissions.NONE)))(Block(ReturnStatement)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:response))(SimpleName:setHeader)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(StringLiteral:<STR>))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:response))(SimpleName:setHeader)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(StringLiteral:<STR>))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:response))(SimpleName:setHeader)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(StringLiteral:<STR>))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:response))(SimpleName:setHeader)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(StringLiteral:<STR>))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:response))(SimpleName:setContentType)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:response))(SimpleName:setCharacterEncoding)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:response))(SimpleName:flushBuffer)))(VariableDeclarationStatement(Modifier:final)(SimpleType(SimpleName:PrintWriter))(VariableDeclarationFragment(SimpleName:writer)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:response))(SimpleName:getWriter))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:writer))(SimpleName:flush)))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:pageCount)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:docuBean))(SimpleName:getFileNum))))(IfStatement(InfixExpression(SimpleName:pageCount)(INFIX_EXPRESSION_OPERATOR:==)(NumberLiteral:0))(Block(VariableDeclarationStatement(Modifier:final)(SimpleType(SimpleName:StorageBean))(VariableDeclarationFragment(SimpleName:storageBean)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:DocumentConfigMgr))(SimpleName:getDocuMgr)))(SimpleName:getStorageMap)))(SimpleName:get)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:docuBean))(SimpleName:getPath2))))))(IfStatement(InfixExpression(SimpleName:storageBean)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(ExpressionStatement(Assignment(SimpleName:pageCount)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:storageBean))(SimpleName:getPageCounter)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:DocuUtils))(SimpleName:getDatabase)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:docuBean))(SimpleName:getUserId))))(INFIX_EXPRESSION_OPERATOR:+)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:docuBean))(SimpleName:getFileName)))))))))(IfStatement(InfixExpression(SimpleName:pageCount)(INFIX_EXPRESSION_OPERATOR:>)(NumberLiteral:0))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:docuBean))(SimpleName:setFileNum)(METHOD_INVOCATION_ARGUMENTS(SimpleName:pageCount))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(QualifiedName:DocuUtils.applicationModule))(SimpleName:doUpdate)(METHOD_INVOCATION_ARGUMENTS(ArrayCreation(ArrayType(SimpleType(SimpleName:Object))(Dimension))(ArrayInitializer(StringLiteral:<STR>)))(SimpleName:docuBean)))))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:response))(SimpleName:setStatus)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:404))))(ReturnStatement)))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:docUri)(NullLiteral)))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:url)(StringLiteral:<STR>)))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:readNum)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:DocuUtils))(SimpleName:allowPages)(METHOD_INVOCATION_ARGUMENTS(SimpleName:docuBean)))))(VariableDeclarationStatement(Modifier:final)(SimpleType(SimpleName:StorageBean))(VariableDeclarationFragment(SimpleName:storageBean)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:DocumentConfigMgr))(SimpleName:getDocuMgr)))(SimpleName:getStorageMap)))(SimpleName:get)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:docuBean))(SimpleName:getPath2))))))(VariableDeclarationStatement(PrimitiveType:boolean)(VariableDeclarationFragment(SimpleName:split)(BooleanLiteral:false)))(IfStatement(InfixExpression(SimpleName:storageBean)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(ExpressionStatement(Assignment(SimpleName:split)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:storageBean))(SimpleName:split)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:DocuUtils))(SimpleName:getDatabase)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:docuBean))(SimpleName:getUserId))))(INFIX_EXPRESSION_OPERATOR:+)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:docuBean))(SimpleName:getId))(StringLiteral:<STR>))))))))(IfStatement(InfixExpression(InfixExpression(SimpleName:readNum)(INFIX_EXPRESSION_OPERATOR:==)(NumberLiteral:0))(INFIX_EXPRESSION_OPERATOR:||)(SimpleName:split))(Block(ExpressionStatement(Assignment(SimpleName:docUri)(ASSIGNMENT_OPERATOR:=)(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:request))(SimpleName:getContextPath))(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:url)(StringLiteral:<STR>)(SimpleName:id)))))(ExpressionStatement(Assignment(SimpleName:docUri)(ASSIGNMENT_OPERATOR:=)(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:request))(SimpleName:getContextPath))(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:url)(StringLiteral:<STR>)(SimpleName:id)(StringLiteral:<STR>)(ParenthesizedExpression(ConditionalExpression(InfixExpression(SimpleName:readNum)(INFIX_EXPRESSION_OPERATOR:>=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:docuBean))(SimpleName:getFileNum)))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:docuBean))(SimpleName:getFileNum))(InfixExpression(SimpleName:readNum)(INFIX_EXPRESSION_OPERATOR:+)(NumberLiteral:1))))(StringLiteral:<STR>)))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:doc_status)(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:docuBean))(SimpleName:getFileNum))(StringLiteral:<STR>)(ParenthesizedExpression(ConditionalExpression(InfixExpression(SimpleName:readNum)(INFIX_EXPRESSION_OPERATOR:==)(NumberLiteral:0))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:docuBean))(SimpleName:getFileNum))(SimpleName:readNum)))(StringLiteral:<STR>)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:docuBean))(SimpleName:getPoint)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:writer))(SimpleName:write)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:docUri)(StringLiteral:<STR>)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:permissions))(SimpleName:ordinal))(StringLiteral:<STR>)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:docuBean))(SimpleName:getSuccess))(StringLiteral:<STR>)(ParenthesizedExpression(ConditionalExpression(InfixExpression(SimpleName:readNum)(INFIX_EXPRESSION_OPERATOR:==)(NumberLiteral:0))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:docuBean))(SimpleName:getFileNum))(SimpleName:readNum)))(StringLiteral:<STR>)(StringLiteral:<STR>)(SimpleName:doc_status)(StringLiteral:<STR>)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:writer))(SimpleName:flush))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:Exception))(SimpleName:e))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:e))(SimpleName:printStackTrace)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:response))(SimpleName:setStatus)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:404))))))(Block(IfStatement(InfixExpression(SimpleName:info)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:IOUtils))(SimpleName:closeIO)(METHOD_INVOCATION_ARGUMENTS(SimpleName:info))))))))))))