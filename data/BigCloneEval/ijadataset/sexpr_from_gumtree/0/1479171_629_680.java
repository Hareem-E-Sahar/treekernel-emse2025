(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(SingleMemberAnnotation(SimpleName:SuppressWarnings)(StringLiteral:<STR>))(Modifier:private)(ParameterizedType(SimpleType(SimpleName:Collection))(WildcardType))(SimpleName:createAdaptedCollection)(SingleVariableDeclaration(ParameterizedType(SimpleType(SimpleName:IModelInstanceCollection))(SimpleType(SimpleName:IModelInstanceElement)))(SimpleName:modelInstanceCollection))(SingleVariableDeclaration(ParameterizedType(SimpleType(SimpleName:Class))(WildcardType))(SimpleName:clazzType))(Block(VariableDeclarationStatement(ParameterizedType(SimpleType(SimpleName:Collection))(SimpleType(SimpleName:Object)))(VariableDeclarationFragment(SimpleName:result)))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(TypeLiteral(SimpleType(SimpleName:Collection))))(SimpleName:isAssignableFrom)(METHOD_INVOCATION_ARGUMENTS(SimpleName:clazzType)))(Block(TryStatement(Block(VariableDeclarationStatement(ParameterizedType(SimpleType(SimpleName:Constructor))(WildcardType))(VariableDeclarationFragment(SimpleName:collectionConstructor)))(ExpressionStatement(Assignment(SimpleName:collectionConstructor)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:clazzType))(SimpleName:getConstructor)(METHOD_INVOCATION_ARGUMENTS(ArrayCreation(ArrayType(SimpleType(SimpleName:Class))(Dimension(NumberLiteral:0))))))))(ExpressionStatement(Assignment(SimpleName:result)(ASSIGNMENT_OPERATOR:=)(CastExpression(ParameterizedType(SimpleType(SimpleName:Collection))(SimpleType(SimpleName:Object)))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:collectionConstructor))(SimpleName:newInstance)(METHOD_INVOCATION_ARGUMENTS(ArrayCreation(ArrayType(SimpleType(SimpleName:Object))(Dimension(NumberLiteral:0))))))))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:SecurityException))(SimpleName:e))(Block(ExpressionStatement(Assignment(SimpleName:result)(ASSIGNMENT_OPERATOR:=)(NullLiteral)))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:NoSuchMethodException))(SimpleName:e))(Block(ExpressionStatement(Assignment(SimpleName:result)(ASSIGNMENT_OPERATOR:=)(NullLiteral)))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:IllegalArgumentException))(SimpleName:e))(Block(ExpressionStatement(Assignment(SimpleName:result)(ASSIGNMENT_OPERATOR:=)(NullLiteral)))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:InstantiationException))(SimpleName:e))(Block(ExpressionStatement(Assignment(SimpleName:result)(ASSIGNMENT_OPERATOR:=)(NullLiteral)))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:IllegalAccessException))(SimpleName:e))(Block(ExpressionStatement(Assignment(SimpleName:result)(ASSIGNMENT_OPERATOR:=)(NullLiteral)))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:InvocationTargetException))(SimpleName:e))(Block(ExpressionStatement(Assignment(SimpleName:result)(ASSIGNMENT_OPERATOR:=)(NullLiteral))))))(IfStatement(InfixExpression(SimpleName:result)(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(Block(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(TypeLiteral(SimpleType(SimpleName:UniqueEList))))(SimpleName:isAssignableFrom)(METHOD_INVOCATION_ARGUMENTS(SimpleName:clazzType)))(Block(ExpressionStatement(Assignment(SimpleName:result)(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(ParameterizedType(SimpleType(SimpleName:UniqueEList))(SimpleType(SimpleName:Object)))))))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(TypeLiteral(SimpleType(SimpleName:List))))(SimpleName:isAssignableFrom)(METHOD_INVOCATION_ARGUMENTS(SimpleName:clazzType)))(Block(ExpressionStatement(Assignment(SimpleName:result)(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(ParameterizedType(SimpleType(SimpleName:BasicEList))(SimpleType(SimpleName:Object)))))))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(TypeLiteral(SimpleType(SimpleName:Set))))(SimpleName:isAssignableFrom)(METHOD_INVOCATION_ARGUMENTS(SimpleName:clazzType)))(Block(ExpressionStatement(Assignment(SimpleName:result)(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(ParameterizedType(SimpleType(SimpleName:HashSet))(SimpleType(SimpleName:Object))))))))))))(IfStatement(InfixExpression(SimpleName:result)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(VariableDeclarationStatement(ParameterizedType(SimpleType(SimpleName:Class))(WildcardType))(VariableDeclarationFragment(SimpleName:elementClassType)))(IfStatement(InfixExpression(InfixExpression(InfixExpression(FieldAccess(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:clazzType))(SimpleName:getTypeParameters))(SimpleName:length))(INFIX_EXPRESSION_OPERATOR:==)(NumberLiteral:1))(INFIX_EXPRESSION_OPERATOR:&&)(InfixExpression(FieldAccess(MethodInvocation(METHOD_INVOCATION_RECEIVER(ArrayAccess(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:clazzType))(SimpleName:getTypeParameters))(NumberLiteral:0)))(SimpleName:getBounds))(SimpleName:length))(INFIX_EXPRESSION_OPERATOR:==)(NumberLiteral:1)))(INFIX_EXPRESSION_OPERATOR:&&)(InstanceofExpression(ArrayAccess(MethodInvocation(METHOD_INVOCATION_RECEIVER(ArrayAccess(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:clazzType))(SimpleName:getTypeParameters))(NumberLiteral:0)))(SimpleName:getBounds))(NumberLiteral:0))(SimpleType(SimpleName:Class))))(Block(ExpressionStatement(Assignment(SimpleName:elementClassType)(ASSIGNMENT_OPERATOR:=)(CastExpression(ParameterizedType(SimpleType(SimpleName:Class))(WildcardType))(ArrayAccess(MethodInvocation(METHOD_INVOCATION_RECEIVER(ArrayAccess(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:clazzType))(SimpleName:getTypeParameters))(NumberLiteral:0)))(SimpleName:getBounds))(NumberLiteral:0))))))(Block(ExpressionStatement(Assignment(SimpleName:elementClassType)(ASSIGNMENT_OPERATOR:=)(TypeLiteral(SimpleType(SimpleName:Object)))))))(EnhancedForStatement(SingleVariableDeclaration(SimpleType(SimpleName:IModelInstanceElement))(SimpleName:anElement))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:modelInstanceCollection))(SimpleName:getCollection))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:result))(SimpleName:add)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(SimpleName:createAdaptedElement)(METHOD_INVOCATION_ARGUMENTS(SimpleName:anElement)(SimpleName:elementClassType)))))))))(Block(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:msg)))(ExpressionStatement(Assignment(SimpleName:msg)(ASSIGNMENT_OPERATOR:=)(QualifiedName:EcoreModelInstanceTypeMessages.EcoreModelInstance_CannotRecreateCollection)))(ThrowStatement(ClassInstanceCreation(SimpleType(SimpleName:IllegalArgumentException))(SimpleName:msg))))))(Block(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:msg)))(ExpressionStatement(Assignment(SimpleName:msg)(ASSIGNMENT_OPERATOR:=)(QualifiedName:EcoreModelInstanceTypeMessages.EcoreModelInstance_CannotRecreateCollection)))(ThrowStatement(ClassInstanceCreation(SimpleType(SimpleName:IllegalArgumentException))(SimpleName:msg)))))(ReturnStatement(SimpleName:result))))))