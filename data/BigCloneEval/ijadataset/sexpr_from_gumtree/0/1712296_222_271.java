(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:private)(SimpleType(SimpleName:String))(SimpleName:replaceBrackets)(SingleVariableDeclaration(SimpleType(SimpleName:String))(SimpleName:input))(SimpleType(SimpleName:JDOMException))(SimpleType(SimpleName:IOException))(Block(VariableDeclarationStatement(SimpleType(SimpleName:Document))(VariableDeclarationFragment(SimpleName:doc)(MethodInvocation(METHOD_INVOCATION_RECEIVER(QualifiedName:org.exmaralda.common.jdomutilities.IOUtilities))(SimpleName:readDocumentFromString)(METHOD_INVOCATION_ARGUMENTS(SimpleName:input)))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:regex_no_bracket)(StringLiteral:<STR>)))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:regex_round)(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:regex_no_bracket)(StringLiteral:<STR>))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:regex_square)(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:regex_no_bracket)(StringLiteral:<STR>))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:regex_curly)(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:regex_no_bracket)(StringLiteral:<STR>))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:regex_angle)(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:regex_no_bracket)(StringLiteral:<STR>))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:regex)(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:regex_round)(StringLiteral:<STR>)(SimpleName:regex_square)(StringLiteral:<STR>)(SimpleName:regex_curly)(StringLiteral:<STR>)(SimpleName:regex_angle)(StringLiteral:<STR>))))(VariableDeclarationStatement(SimpleType(SimpleName:Pattern))(VariableDeclarationFragment(SimpleName:pattern)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Pattern))(SimpleName:compile)(METHOD_INVOCATION_ARGUMENTS(SimpleName:regex)))))(VariableDeclarationStatement(ParameterizedType(SimpleType(SimpleName:Vector))(SimpleType(SimpleName:Element)))(VariableDeclarationFragment(SimpleName:allSegments)(ClassInstanceCreation(ParameterizedType(SimpleType(SimpleName:Vector))(SimpleType(SimpleName:Element))))))(VariableDeclarationStatement(SimpleType(SimpleName:Iterator))(VariableDeclarationFragment(SimpleName:i)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:doc))(SimpleName:getDescendants)(METHOD_INVOCATION_ARGUMENTS(ClassInstanceCreation(SimpleType(SimpleName:ElementFilter))(StringLiteral:<STR>))))))(WhileStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:i))(SimpleName:hasNext))(Block(VariableDeclarationStatement(SimpleType(SimpleName:Element))(VariableDeclarationFragment(SimpleName:seg)(CastExpression(SimpleType(SimpleName:Element))(ParenthesizedExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:i))(SimpleName:next))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:allSegments))(SimpleName:add)(METHOD_INVOCATION_ARGUMENTS(SimpleName:seg))))))(EnhancedForStatement(SingleVariableDeclaration(SimpleType(SimpleName:Element))(SimpleName:seg))(SimpleName:allSegments)(Block(IfStatement(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(ParenthesizedExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:seg))(SimpleName:getAttributeValue)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))(SimpleName:equals)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))))(ContinueStatement))(VariableDeclarationStatement(ParameterizedType(SimpleType(SimpleName:Vector))(SimpleType(SimpleName:Content)))(VariableDeclarationFragment(SimpleName:newContent)(ClassInstanceCreation(ParameterizedType(SimpleType(SimpleName:Vector))(SimpleType(SimpleName:Content))))))(EnhancedForStatement(SingleVariableDeclaration(SimpleType(SimpleName:Object))(SimpleName:o))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:seg))(SimpleName:getContent))(Block(VariableDeclarationStatement(SimpleType(SimpleName:Content))(VariableDeclarationFragment(SimpleName:c)(CastExpression(SimpleType(SimpleName:Content))(SimpleName:o))))(IfStatement(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(ParenthesizedExpression(InstanceofExpression(SimpleName:c)(SimpleType(SimpleName:Text)))))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:newContent))(SimpleName:add)(METHOD_INVOCATION_ARGUMENTS(SimpleName:c))))(ContinueStatement)))(VariableDeclarationStatement(SimpleType(SimpleName:Text))(VariableDeclarationFragment(SimpleName:t)(CastExpression(SimpleType(SimpleName:Text))(SimpleName:c))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:originalText)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:t))(SimpleName:getText))))(VariableDeclarationStatement(SimpleType(SimpleName:Matcher))(VariableDeclarationFragment(SimpleName:m)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:pattern))(SimpleName:matcher)(METHOD_INVOCATION_ARGUMENTS(SimpleName:originalText)))))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:lastStart)(NumberLiteral:0)))(WhileStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:m))(SimpleName:find))(Block(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:s)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:m))(SimpleName:start))))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:e)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:m))(SimpleName:end))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:matchedText)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:originalText))(SimpleName:substring)(METHOD_INVOCATION_ARGUMENTS(SimpleName:s)(SimpleName:e)))))(IfStatement(InfixExpression(SimpleName:lastStart)(INFIX_EXPRESSION_OPERATOR:<)(SimpleName:s))(Block(VariableDeclarationStatement(SimpleType(SimpleName:Text))(VariableDeclarationFragment(SimpleName:text)(ClassInstanceCreation(SimpleType(SimpleName:Text))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:originalText))(SimpleName:substring)(METHOD_INVOCATION_ARGUMENTS(SimpleName:lastStart)(SimpleName:s))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:newContent))(SimpleName:add)(METHOD_INVOCATION_ARGUMENTS(SimpleName:text))))))(VariableDeclarationStatement(SimpleType(SimpleName:Element))(VariableDeclarationFragment(SimpleName:nonpho)(MethodInvocation(SimpleName:makeNonphoElement)(METHOD_INVOCATION_ARGUMENTS(SimpleName:matchedText)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:newContent))(SimpleName:add)(METHOD_INVOCATION_ARGUMENTS(SimpleName:nonpho))))(ExpressionStatement(Assignment(SimpleName:lastStart)(ASSIGNMENT_OPERATOR:=)(SimpleName:e)))))(IfStatement(InfixExpression(SimpleName:lastStart)(INFIX_EXPRESSION_OPERATOR:<)(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:originalText))(SimpleName:length))(INFIX_EXPRESSION_OPERATOR:-)(NumberLiteral:1)))(Block(VariableDeclarationStatement(SimpleType(SimpleName:Text))(VariableDeclarationFragment(SimpleName:text)(ClassInstanceCreation(SimpleType(SimpleName:Text))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:originalText))(SimpleName:substring)(METHOD_INVOCATION_ARGUMENTS(SimpleName:lastStart))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:newContent))(SimpleName:add)(METHOD_INVOCATION_ARGUMENTS(SimpleName:text))))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:seg))(SimpleName:removeContent)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:seg))(SimpleName:setContent)(METHOD_INVOCATION_ARGUMENTS(SimpleName:newContent))))))(ReturnStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(QualifiedName:org.exmaralda.common.jdomutilities.IOUtilities))(SimpleName:documentToString)(METHOD_INVOCATION_ARGUMENTS(SimpleName:doc)(BooleanLiteral:false))))))))