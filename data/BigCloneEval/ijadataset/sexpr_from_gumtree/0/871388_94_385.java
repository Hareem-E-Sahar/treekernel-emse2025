(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:public)(PrimitiveType:void)(SimpleName:run)(Block(VariableDeclarationStatement(ArrayType(PrimitiveType:byte)(Dimension))(VariableDeclarationFragment(SimpleName:buffer)(ArrayCreation(ArrayType(PrimitiveType:byte)(Dimension(MethodInvocation(METHOD_INVOCATION_RECEIVER(FieldAccess(ThisExpression)(SimpleName:poolDown)))(SimpleName:getBandwith)))))))(VariableDeclarationStatement(SimpleType(SimpleName:File))(VariableDeclarationFragment(SimpleName:file)))(VariableDeclarationStatement(SimpleType(SimpleName:FileOutputStream))(VariableDeclarationFragment(SimpleName:fStream)(NullLiteral)))(WhileStatement(FieldAccess(ThisExpression)(SimpleName:running))(Block(ExpressionStatement(Assignment(FieldAccess(ThisExpression)(SimpleName:state))(ASSIGNMENT_OPERATOR:=)(QualifiedName:PooledDownload.PENDING)))(SynchronizedStatement(SimpleName:pool)(Block(WhileStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:pool))(SimpleName:isEmpty))(Block(TryStatement(Block(IfStatement(InfixExpression(FieldAccess(ThisExpression)(SimpleName:running))(INFIX_EXPRESSION_OPERATOR:==)(BooleanLiteral:false))(Block(BreakStatement)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:pool))(SimpleName:wait))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:InterruptedException))(SimpleName:e))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:e))(SimpleName:printStackTrace))))))))(IfStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:pool))(SimpleName:size))(INFIX_EXPRESSION_OPERATOR:<=)(NumberLiteral:0))(Block(ContinueStatement)))(ExpressionStatement(Assignment(SimpleName:di)(ASSIGNMENT_OPERATOR:=)(CastExpression(SimpleType(SimpleName:DownloadInfo))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:pool))(SimpleName:remove)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:0))))))))(ExpressionStatement(Assignment(FieldAccess(ThisExpression)(SimpleName:state))(ASSIGNMENT_OPERATOR:=)(QualifiedName:PooledDownload.WAIT_SENDER)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(FieldAccess(ThisExpression)(SimpleName:di)))(SimpleName:setState)(METHOD_INVOCATION_ARGUMENTS(FieldAccess(ThisExpression)(SimpleName:state)))))(ExpressionStatement(Assignment(SimpleName:stopped)(ASSIGNMENT_OPERATOR:=)(BooleanLiteral:false)))(ExpressionStatement(Assignment(SimpleName:delete)(ASSIGNMENT_OPERATOR:=)(BooleanLiteral:false)))(ExpressionStatement(Assignment(SimpleName:filename)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:di))(SimpleName:getResource)))(SimpleName:getPath))))(VariableDeclarationStatement(SimpleType(SimpleName:Date))(VariableDeclarationFragment(SimpleName:now)(ClassInstanceCreation(SimpleType(SimpleName:Date))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:System))(SimpleName:currentTimeMillis)))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:str)(StringLiteral:<STR>)))(ExpressionStatement(Assignment(SimpleName:str)(ASSIGNMENT_OPERATOR:+=)(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:di))(SimpleName:getIDString)))))(ExpressionStatement(Assignment(SimpleName:str)(ASSIGNMENT_OPERATOR:+=)(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:di))(SimpleName:getResource)))(SimpleName:getIDString)))))(ExpressionStatement(Assignment(SimpleName:str)(ASSIGNMENT_OPERATOR:+=)(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:di))(SimpleName:getResource)))(SimpleName:getName)))))(ExpressionStatement(Assignment(SimpleName:str)(ASSIGNMENT_OPERATOR:+=)(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:di))(SimpleName:getResource)))(SimpleName:getNameProject)))))(ExpressionStatement(Assignment(SimpleName:str)(ASSIGNMENT_OPERATOR:+=)(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:di))(SimpleName:getUserID)))))(ExpressionStatement(Assignment(SimpleName:str)(ASSIGNMENT_OPERATOR:+=)(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:di))(SimpleName:getResource)))(SimpleName:getPath)))))(ExpressionStatement(Assignment(SimpleName:str)(ASSIGNMENT_OPERATOR:+=)(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:di))(SimpleName:getResource)))(SimpleName:getSize)))))(ExpressionStatement(Assignment(SimpleName:str)(ASSIGNMENT_OPERATOR:+=)(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:di))(SimpleName:getByteResidue)))))(ExpressionStatement(Assignment(SimpleName:str)(ASSIGNMENT_OPERATOR:+=)(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:di))(SimpleName:getAddrSource)))(SimpleName:getCanonicalHostName))(StringLiteral:<STR>)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:di))(SimpleName:getTCPPortSource))(StringLiteral:<STR>)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:di))(SimpleName:getUDPPortSource))(StringLiteral:<STR>)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:di))(SimpleName:getSSLPortSource)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:debug))(SimpleName:println)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:str)(StringLiteral:<STR>)))))(TryStatement(Block(IfStatement(InfixExpression(SimpleName:filename)(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:debug))(SimpleName:println)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:di))(SimpleName:getIDString))(StringLiteral:<STR>)))))(ContinueStatement)))(ExpressionStatement(Assignment(SimpleName:file)(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(SimpleType(SimpleName:File))(SimpleName:filename))))(IfStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(FieldAccess(ThisExpression)(SimpleName:di)))(SimpleName:getByteResidue))(INFIX_EXPRESSION_OPERATOR:!=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(FieldAccess(ThisExpression)(SimpleName:di)))(SimpleName:getResource)))(SimpleName:getSize)))(Block(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:pos)(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(FieldAccess(ThisExpression)(SimpleName:di)))(SimpleName:getResource)))(SimpleName:getSize))(INFIX_EXPRESSION_OPERATOR:-)(MethodInvocation(METHOD_INVOCATION_RECEIVER(FieldAccess(ThisExpression)(SimpleName:di)))(SimpleName:getByteResidue)))))(IfStatement(InfixExpression(SimpleName:pos)(INFIX_EXPRESSION_OPERATOR:!=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:file))(SimpleName:length)))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:debug))(SimpleName:println)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:di))(SimpleName:getIDString))(StringLiteral:<STR>)))))(ContinueStatement)))))(ExpressionStatement(Assignment(SimpleName:fStream)(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(SimpleType(SimpleName:FileOutputStream))(SimpleName:file)(BooleanLiteral:true))))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:offset)(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(FieldAccess(ThisExpression)(SimpleName:di)))(SimpleName:getResource)))(SimpleName:getSize))(INFIX_EXPRESSION_OPERATOR:-)(MethodInvocation(METHOD_INVOCATION_RECEIVER(FieldAccess(ThisExpression)(SimpleName:di)))(SimpleName:getByteResidue)))))(IfStatement(InfixExpression(SimpleName:offset)(INFIX_EXPRESSION_OPERATOR:>)(NumberLiteral:0))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fStream))(SimpleName:getChannel)))(SimpleName:position)(METHOD_INVOCATION_ARGUMENTS(SimpleName:offset))))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:FileNotFoundException))(SimpleName:e))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:e))(SimpleName:printStackTrace)))(ContinueStatement)))(CatchClause(SingleVariableDeclaration(SimpleType(QualifiedName:java.io.IOException))(SimpleName:e))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:e))(SimpleName:printStackTrace)))(ContinueStatement))))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:di))(SimpleName:isSecureDownload))(Block(TryStatement(Block(VariableDeclarationStatement(PrimitiveType:boolean)(VariableDeclarationFragment(SimpleName:insideGroup)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Group))(SimpleName:matching)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:di))(SimpleName:getIDGroup))(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(FieldAccess(ThisExpression)(SimpleName:poolDown)))(SimpleName:getProfileNode)))(SimpleName:getGroup)))(SimpleName:getID))))))(IfStatement(InfixExpression(InfixExpression(SimpleName:insideGroup)(INFIX_EXPRESSION_OPERATOR:==)(BooleanLiteral:true))(INFIX_EXPRESSION_OPERATOR:&&)(InfixExpression(FieldAccess(ThisExpression)(SimpleName:ssfGroup))(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral)))(Block(ExpressionStatement(Assignment(SimpleName:sslsocket)(ASSIGNMENT_OPERATOR:=)(CastExpression(SimpleType(SimpleName:SSLSocket))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ssfGroup))(SimpleName:createSocket)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:di))(SimpleName:getAddrSource))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:di))(SimpleName:getSSLPortSource)))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:sslsocket))(SimpleName:setSoTimeout)(METHOD_INVOCATION_ARGUMENTS(SimpleName:TIMEOUT))))(VariableDeclarationStatement(SimpleType(SimpleName:HandshakeCompletedListener))(VariableDeclarationFragment(SimpleName:hcl)(ClassInstanceCreation(SimpleType(SimpleName:SimpleHandshakeListener))(StringLiteral:<STR>))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:sslsocket))(SimpleName:addHandshakeCompletedListener)(METHOD_INVOCATION_ARGUMENTS(SimpleName:hcl))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:sslsocket))(SimpleName:startHandshake)))(ExpressionStatement(Assignment(SimpleName:inFromServer)(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(SimpleType(SimpleName:DataInputStream))(ClassInstanceCreation(SimpleType(SimpleName:BufferedInputStream))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:sslsocket))(SimpleName:getInputStream))))))(ExpressionStatement(Assignment(SimpleName:outToServer)(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(SimpleType(SimpleName:DataOutputStream))(ClassInstanceCreation(SimpleType(SimpleName:BufferedOutputStream))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:sslsocket))(SimpleName:getOutputStream)))))))(IfStatement(InfixExpression(InfixExpression(SimpleName:insideGroup)(INFIX_EXPRESSION_OPERATOR:==)(BooleanLiteral:false))(INFIX_EXPRESSION_OPERATOR:&&)(InfixExpression(FieldAccess(ThisExpression)(SimpleName:ssfGiewsNetwork))(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral)))(Block(ExpressionStatement(Assignment(SimpleName:sslsocket)(ASSIGNMENT_OPERATOR:=)(CastExpression(SimpleType(SimpleName:SSLSocket))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ssfGiewsNetwork))(SimpleName:createSocket)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:di))(SimpleName:getAddrSource))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:di))(SimpleName:getSSLPortSource)))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:sslsocket))(SimpleName:setSoTimeout)(METHOD_INVOCATION_ARGUMENTS(SimpleName:TIMEOUT))))(VariableDeclarationStatement(SimpleType(SimpleName:HandshakeCompletedListener))(VariableDeclarationFragment(SimpleName:hcl)(ClassInstanceCreation(SimpleType(SimpleName:SimpleHandshakeListener))(StringLiteral:<STR>))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:sslsocket))(SimpleName:addHandshakeCompletedListener)(METHOD_INVOCATION_ARGUMENTS(SimpleName:hcl))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:sslsocket))(SimpleName:startHandshake)))(ExpressionStatement(Assignment(SimpleName:inFromServer)(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(SimpleType(SimpleName:DataInputStream))(ClassInstanceCreation(SimpleType(SimpleName:BufferedInputStream))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:sslsocket))(SimpleName:getInputStream))))))(ExpressionStatement(Assignment(SimpleName:outToServer)(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(SimpleType(SimpleName:DataOutputStream))(ClassInstanceCreation(SimpleType(SimpleName:BufferedOutputStream))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:sslsocket))(SimpleName:getOutputStream)))))))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(FieldAccess(ThisExpression)(SimpleName:debug)))(SimpleName:println)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))(ContinueStatement)))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:Exception))(SimpleName:e))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(FieldAccess(ThisExpression)(SimpleName:debug)))(SimpleName:println)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(FieldAccess(ThisExpression)(SimpleName:poolDown)))(SimpleName:addDownloadStopped)(METHOD_INVOCATION_ARGUMENTS(SimpleName:di)(BooleanLiteral:true))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:e))(SimpleName:printStackTrace)))(ContinueStatement)))))(Block(TryStatement(Block(ExpressionStatement(Assignment(SimpleName:socket)(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(SimpleType(SimpleName:Socket))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:di))(SimpleName:getAddrSource))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:di))(SimpleName:getTCPPortSource)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:socket))(SimpleName:setSoTimeout)(METHOD_INVOCATION_ARGUMENTS(SimpleName:TIMEOUT))))(ExpressionStatement(Assignment(SimpleName:inFromServer)(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(SimpleType(SimpleName:DataInputStream))(ClassInstanceCreation(SimpleType(SimpleName:BufferedInputStream))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:socket))(SimpleName:getInputStream))))))(ExpressionStatement(Assignment(SimpleName:outToServer)(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(SimpleType(SimpleName:DataOutputStream))(ClassInstanceCreation(SimpleType(SimpleName:BufferedOutputStream))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:socket))(SimpleName:getOutputStream)))))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:IOException))(SimpleName:e))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(FieldAccess(ThisExpression)(SimpleName:debug)))(SimpleName:println)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(FieldAccess(ThisExpression)(SimpleName:poolDown)))(SimpleName:addDownloadStopped)(METHOD_INVOCATION_ARGUMENTS(SimpleName:di)(BooleanLiteral:true))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:e))(SimpleName:printStackTrace)))(ContinueStatement))))))(TryStatement(Block(VariableDeclarationStatement(SimpleType(SimpleName:Message))(VariableDeclarationFragment(SimpleName:msg)(ClassInstanceCreation(SimpleType(SimpleName:Message))(QualifiedName:Message.DOWNLOADREQUEST)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Message))(SimpleName:newID)(METHOD_INVOCATION_ARGUMENTS(CastExpression(PrimitiveType:byte)(NumberLiteral:10)))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:msg))(SimpleName:setIDDownload)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:di))(SimpleName:getID)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:msg))(SimpleName:setArea)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(FieldAccess(ThisExpression)(SimpleName:poolDown)))(SimpleName:getProfileNode)))(SimpleName:getGroup)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:msg))(SimpleName:setIDResource)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:di))(SimpleName:getResource)))(SimpleName:getID)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:msg))(SimpleName:setResourceType)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:di))(SimpleName:getResource)))(SimpleName:getType)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:msg))(SimpleName:setResourceDigest)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:di))(SimpleName:getResource)))(SimpleName:getDigest)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:msg))(SimpleName:setResourceOffset)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:di))(SimpleName:getByteResidue)))))(VariableDeclarationStatement(ArrayType(PrimitiveType:byte)(Dimension))(VariableDeclarationFragment(SimpleName:data)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:msg))(SimpleName:getBytes))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:outToServer))(SimpleName:writeInt)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:data.length))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:outToServer))(SimpleName:write)(METHOD_INVOCATION_ARGUMENTS(SimpleName:data))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:outToServer))(SimpleName:flush))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:MessageException))(SimpleName:e))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:e))(SimpleName:printStackTrace)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(FieldAccess(ThisExpression)(SimpleName:poolDown)))(SimpleName:addDownloadStopped)(METHOD_INVOCATION_ARGUMENTS(SimpleName:di)(BooleanLiteral:true))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(ThisExpression))(SimpleName:closeAllStream)(METHOD_INVOCATION_ARGUMENTS(SimpleName:socket)(SimpleName:inFromServer)(SimpleName:outToServer))))(ContinueStatement)))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:IOException))(SimpleName:e))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(FieldAccess(ThisExpression)(SimpleName:poolDown)))(SimpleName:addDownloadStopped)(METHOD_INVOCATION_ARGUMENTS(SimpleName:di)(BooleanLiteral:true))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(ThisExpression))(SimpleName:closeAllStream)(METHOD_INVOCATION_ARGUMENTS(SimpleName:socket)(SimpleName:inFromServer)(SimpleName:outToServer))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:e))(SimpleName:printStackTrace)))(ContinueStatement))))(VariableDeclarationStatement(PrimitiveType:boolean)(VariableDeclarationFragment(SimpleName:res)(BooleanLiteral:false)))(TryStatement(Block(VariableDeclarationStatement(PrimitiveType:byte)(VariableDeclarationFragment(SimpleName:type)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:inFromServer))(SimpleName:readByte))))(IfStatement(InfixExpression(SimpleName:type)(INFIX_EXPRESSION_OPERATOR:==)(QualifiedName:Message.FALSE))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(ThisExpression))(SimpleName:closeAllStream)(METHOD_INVOCATION_ARGUMENTS(SimpleName:socket)(SimpleName:inFromServer)(SimpleName:outToServer))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(FieldAccess(ThisExpression)(SimpleName:poolDown)))(SimpleName:addDownloadStopped)(METHOD_INVOCATION_ARGUMENTS(SimpleName:di)(BooleanLiteral:true))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:debug))(SimpleName:println)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(MethodInvocation(METHOD_INVOCATION_RECEIVER(FieldAccess(ThisExpression)(SimpleName:di)))(SimpleName:getIDString))(StringLiteral:<STR>)))))(ContinueStatement))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:SocketTimeoutException))(SimpleName:e))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:e))(SimpleName:printStackTrace)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(FieldAccess(ThisExpression)(SimpleName:poolDown)))(SimpleName:addDownloadStopped)(METHOD_INVOCATION_ARGUMENTS(SimpleName:di)(BooleanLiteral:true))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(ThisExpression))(SimpleName:closeAllStream)(METHOD_INVOCATION_ARGUMENTS(SimpleName:socket)(SimpleName:inFromServer)(SimpleName:outToServer))))(ContinueStatement)))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:IOException))(SimpleName:e))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(FieldAccess(ThisExpression)(SimpleName:poolDown)))(SimpleName:addDownloadStopped)(METHOD_INVOCATION_ARGUMENTS(SimpleName:di)(BooleanLiteral:true))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(ThisExpression))(SimpleName:closeAllStream)(METHOD_INVOCATION_ARGUMENTS(SimpleName:socket)(SimpleName:inFromServer)(SimpleName:outToServer))))(ContinueStatement))))(VariableDeclarationStatement(PrimitiveType:byte)(VariableDeclarationFragment(SimpleName:type)(QualifiedName:Message.FALSE)))(WhileStatement(BooleanLiteral:true)(Block(TryStatement(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:debug))(SimpleName:println)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))(ExpressionStatement(Assignment(SimpleName:type)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:inFromServer))(SimpleName:readByte))))(BreakStatement))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:SocketTimeoutException))(SimpleName:e))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:debug))(SimpleName:println)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))(IfStatement(SimpleName:stopped)(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(FieldAccess(ThisExpression)(SimpleName:poolDown)))(SimpleName:addDownloadStopped)(METHOD_INVOCATION_ARGUMENTS(SimpleName:di)(BooleanLiteral:true))))(ExpressionStatement(Assignment(SimpleName:type)(ASSIGNMENT_OPERATOR:=)(QualifiedName:Message.FALSE)))(BreakStatement)))(IfStatement(SimpleName:delete)(Block(ExpressionStatement(Assignment(SimpleName:type)(ASSIGNMENT_OPERATOR:=)(QualifiedName:Message.FALSE)))(BreakStatement)))(IfStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:di))(SimpleName:getPingPending))(INFIX_EXPRESSION_OPERATOR:<)(SimpleName:THRESHOLD))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:req))(SimpleName:sendDownloadPing)(METHOD_INVOCATION_ARGUMENTS(SimpleName:di)))))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:debug))(SimpleName:println)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:di))(SimpleName:getIDString))(StringLiteral:<STR>)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(FieldAccess(ThisExpression)(SimpleName:poolDown)))(SimpleName:addDownloadStopped)(METHOD_INVOCATION_ARGUMENTS(SimpleName:di)(BooleanLiteral:true))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(ThisExpression))(SimpleName:closeAllStream)(METHOD_INVOCATION_ARGUMENTS(SimpleName:socket)(SimpleName:inFromServer)(SimpleName:outToServer))))(BreakStatement)))(ContinueStatement)))(CatchClause(SingleVariableDeclaration(SimpleType(QualifiedName:java.io.IOException))(SimpleName:e))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:e))(SimpleName:printStackTrace)))(BreakStatement))))))(IfStatement(InfixExpression(SimpleName:type)(INFIX_EXPRESSION_OPERATOR:==)(QualifiedName:Message.FALSE))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:debug))(SimpleName:println)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(MethodInvocation(METHOD_INVOCATION_RECEIVER(FieldAccess(ThisExpression)(SimpleName:di)))(SimpleName:getIDString))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(FieldAccess(ThisExpression)(SimpleName:poolDown)))(SimpleName:addDownloadStopped)(METHOD_INVOCATION_ARGUMENTS(SimpleName:di)(BooleanLiteral:true))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(ThisExpression))(SimpleName:closeAllStream)(METHOD_INVOCATION_ARGUMENTS(SimpleName:socket)(SimpleName:inFromServer)(SimpleName:outToServer))))(ContinueStatement)))(ExpressionStatement(Assignment(FieldAccess(ThisExpression)(SimpleName:state))(ASSIGNMENT_OPERATOR:=)(QualifiedName:PooledDownload.RUNNABLE)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(FieldAccess(ThisExpression)(SimpleName:di)))(SimpleName:setState)(METHOD_INVOCATION_ARGUMENTS(FieldAccess(ThisExpression)(SimpleName:state)))))(VariableDeclarationStatement(PrimitiveType:boolean)(VariableDeclarationFragment(SimpleName:readAgain)(BooleanLiteral:true)))(VariableDeclarationStatement(PrimitiveType:long)(VariableDeclarationFragment(SimpleName:a)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:System))(SimpleName:currentTimeMillis))))(VariableDeclarationStatement(PrimitiveType:long)(VariableDeclarationFragment(SimpleName:b)))(VariableDeclarationStatement(PrimitiveType:float)(VariableDeclarationFragment(SimpleName:bitRate)))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:byteRead)(NumberLiteral:1))(VariableDeclarationFragment(SimpleName:byteByRead))(VariableDeclarationFragment(SimpleName:totalByte)(NumberLiteral:0))(VariableDeclarationFragment(SimpleName:byteByReadIn)))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:index))(VariableDeclarationFragment(SimpleName:calcSpeed)(NumberLiteral:0)))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:decrementSpeed)(NumberLiteral:0)))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:speed)))(TryStatement(Block(VariableDeclarationStatement(PrimitiveType:long)(VariableDeclarationFragment(SimpleName:startTime))(VariableDeclarationFragment(SimpleName:endTime)))(ExpressionStatement(Assignment(SimpleName:speed)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(FieldAccess(ThisExpression)(SimpleName:poolDown)))(SimpleName:setSpeed)(METHOD_INVOCATION_ARGUMENTS(FieldAccess(ThisExpression)(SimpleName:id))(MethodInvocation(METHOD_INVOCATION_RECEIVER(FieldAccess(ThisExpression)(SimpleName:poolDown)))(SimpleName:getBandwith))))))(WhileStatement(BooleanLiteral:true)(Block(ExpressionStatement(Assignment(SimpleName:decrementSpeed)(ASSIGNMENT_OPERATOR:=)(NumberLiteral:0)))(ExpressionStatement(Assignment(SimpleName:byteByReadIn)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:inFromServer))(SimpleName:readInt))))(IfStatement(InfixExpression(SimpleName:byteByReadIn)(INFIX_EXPRESSION_OPERATOR:<=)(NumberLiteral:0))(Block(BreakStatement)))(ExpressionStatement(Assignment(SimpleName:byteByRead)(ASSIGNMENT_OPERATOR:=)(SimpleName:byteByReadIn)))(ExpressionStatement(Assignment(SimpleName:byteRead)(ASSIGNMENT_OPERATOR:=)(NumberLiteral:0)))(ExpressionStatement(Assignment(SimpleName:speed)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(FieldAccess(ThisExpression)(SimpleName:poolDown)))(SimpleName:setSpeed)(METHOD_INVOCATION_ARGUMENTS(FieldAccess(ThisExpression)(SimpleName:id))(SimpleName:byteByReadIn)))))(IfStatement(InfixExpression(SimpleName:speed)(INFIX_EXPRESSION_OPERATOR:==)(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:-)(NumberLiteral:1)))(Block(ExpressionStatement(Assignment(SimpleName:speed)(ASSIGNMENT_OPERATOR:=)(SimpleName:byteByReadIn)))(ExpressionStatement(Assignment(SimpleName:decrementSpeed)(ASSIGNMENT_OPERATOR:=)(NumberLiteral:1))))(IfStatement(InfixExpression(SimpleName:byteByReadIn)(INFIX_EXPRESSION_OPERATOR:<)(SimpleName:speed))(Block(ExpressionStatement(Assignment(SimpleName:decrementSpeed)(ASSIGNMENT_OPERATOR:=)(NumberLiteral:1))))(IfStatement(InfixExpression(SimpleName:byteByReadIn)(INFIX_EXPRESSION_OPERATOR:>)(SimpleName:speed))(Block(ExpressionStatement(Assignment(SimpleName:decrementSpeed)(ASSIGNMENT_OPERATOR:=)(SimpleName:speed)))))))(WhileStatement(BooleanLiteral:true)(Block(ExpressionStatement(Assignment(SimpleName:startTime)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:System))(SimpleName:currentTimeMillis))))(ExpressionStatement(Assignment(SimpleName:byteRead)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:inFromServer))(SimpleName:read)(METHOD_INVOCATION_ARGUMENTS(SimpleName:buffer)(NumberLiteral:0)(SimpleName:speed)))))(ExpressionStatement(Assignment(SimpleName:byteByRead)(ASSIGNMENT_OPERATOR:-=)(SimpleName:byteRead)))(ExpressionStatement(Assignment(SimpleName:totalByte)(ASSIGNMENT_OPERATOR:+=)(SimpleName:byteRead)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fStream))(SimpleName:write)(METHOD_INVOCATION_ARGUMENTS(SimpleName:buffer)(NumberLiteral:0)(SimpleName:byteRead))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(FieldAccess(ThisExpression)(SimpleName:di)))(SimpleName:decrementByteResidue)(METHOD_INVOCATION_ARGUMENTS(SimpleName:byteRead))))(ExpressionStatement(PostfixExpression(SimpleName:calcSpeed)(POSTFIX_EXPRESSION_OPERATOR:++)))(IfStatement(InfixExpression(SimpleName:calcSpeed)(INFIX_EXPRESSION_OPERATOR:==)(NumberLiteral:5))(Block(ExpressionStatement(Assignment(SimpleName:b)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:System))(SimpleName:currentTimeMillis))))(ExpressionStatement(Assignment(SimpleName:bitRate)(ASSIGNMENT_OPERATOR:=)(InfixExpression(ParenthesizedExpression(InfixExpression(CastExpression(PrimitiveType:float)(SimpleName:totalByte))(INFIX_EXPRESSION_OPERATOR:/)(CastExpression(PrimitiveType:float)(ParenthesizedExpression(InfixExpression(SimpleName:b)(INFIX_EXPRESSION_OPERATOR:-)(SimpleName:a))))))(INFIX_EXPRESSION_OPERATOR:*)(NumberLiteral:1000))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(FieldAccess(ThisExpression)(SimpleName:di)))(SimpleName:setSpeed)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(ParenthesizedExpression(InfixExpression(NumberLiteral:8)(INFIX_EXPRESSION_OPERATOR:*)(SimpleName:bitRate)))(INFIX_EXPRESSION_OPERATOR:/)(NumberLiteral:1024)))))(ExpressionStatement(Assignment(SimpleName:a)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:System))(SimpleName:currentTimeMillis))))(ExpressionStatement(Assignment(SimpleName:calcSpeed)(ASSIGNMENT_OPERATOR:=)(NumberLiteral:0)))(ExpressionStatement(Assignment(SimpleName:totalByte)(ASSIGNMENT_OPERATOR:=)(NumberLiteral:0)))))(IfStatement(InfixExpression(SimpleName:byteByRead)(INFIX_EXPRESSION_OPERATOR:==)(NumberLiteral:0))(Block(BreakStatement)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:outToServer))(SimpleName:writeInt)(METHOD_INVOCATION_ARGUMENTS(SimpleName:decrementSpeed))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:outToServer))(SimpleName:flush)))(ExpressionStatement(Assignment(SimpleName:endTime)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:System))(SimpleName:currentTimeMillis))))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:diffTime)(CastExpression(PrimitiveType:int)(ParenthesizedExpression(InfixExpression(SimpleName:endTime)(INFIX_EXPRESSION_OPERATOR:-)(SimpleName:startTime))))))(TryStatement(Block(IfStatement(InfixExpression(SimpleName:diffTime)(INFIX_EXPRESSION_OPERATOR:<)(NumberLiteral:1000))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Thread))(SimpleName:sleep)(METHOD_INVOCATION_ARGUMENTS(ParenthesizedExpression(InfixExpression(NumberLiteral:1000)(INFIX_EXPRESSION_OPERATOR:-)(SimpleName:diffTime)))))))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:InterruptedException))(SimpleName:e))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(ThisExpression))(SimpleName:closeAllStream)(METHOD_INVOCATION_ARGUMENTS(SimpleName:socket)(SimpleName:inFromServer)(SimpleName:outToServer))))(ThrowStatement(ClassInstanceCreation(SimpleType(SimpleName:Exception))(StringLiteral:<STR>))))))(IfStatement(SimpleName:stopped)(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(ThisExpression))(SimpleName:closeAllStream)(METHOD_INVOCATION_ARGUMENTS(SimpleName:socket)(SimpleName:inFromServer)(SimpleName:outToServer))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(FieldAccess(ThisExpression)(SimpleName:poolDown)))(SimpleName:addDownloadStopped)(METHOD_INVOCATION_ARGUMENTS(SimpleName:di)(BooleanLiteral:true))))(BreakStatement)))(IfStatement(SimpleName:delete)(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(ThisExpression))(SimpleName:closeAllStream)(METHOD_INVOCATION_ARGUMENTS(SimpleName:socket)(SimpleName:inFromServer)(SimpleName:outToServer))))(BreakStatement)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(FieldAccess(ThisExpression)(SimpleName:poolDown)))(SimpleName:setSpeedZero)(METHOD_INVOCATION_ARGUMENTS(FieldAccess(ThisExpression)(SimpleName:id)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(ThisExpression))(SimpleName:closeAllStream)(METHOD_INVOCATION_ARGUMENTS(SimpleName:socket)(SimpleName:inFromServer)(SimpleName:outToServer))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fStream))(SimpleName:close))))(CatchClause(SingleVariableDeclaration(SimpleType(QualifiedName:java.net.SocketTimeoutException))(SimpleName:e))(Block(IfStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:di))(SimpleName:getByteResidue))(INFIX_EXPRESSION_OPERATOR:>)(NumberLiteral:0))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:debug))(SimpleName:println)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(MethodInvocation(METHOD_INVOCATION_RECEIVER(FieldAccess(ThisExpression)(SimpleName:di)))(SimpleName:getIDString))(StringLiteral:<STR>)))))(ExpressionStatement(Assignment(SimpleName:stopped)(ASSIGNMENT_OPERATOR:=)(BooleanLiteral:true)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(FieldAccess(ThisExpression)(SimpleName:poolDown)))(SimpleName:addDownloadStopped)(METHOD_INVOCATION_ARGUMENTS(SimpleName:di)(BooleanLiteral:true))))))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:Exception))(SimpleName:e))(Block(IfStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:di))(SimpleName:getByteResidue))(INFIX_EXPRESSION_OPERATOR:>)(NumberLiteral:0))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:debug))(SimpleName:println)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(MethodInvocation(METHOD_INVOCATION_RECEIVER(FieldAccess(ThisExpression)(SimpleName:di)))(SimpleName:getIDString))(StringLiteral:<STR>)))))(ExpressionStatement(Assignment(SimpleName:stopped)(ASSIGNMENT_OPERATOR:=)(BooleanLiteral:true)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(FieldAccess(ThisExpression)(SimpleName:poolDown)))(SimpleName:addDownloadStopped)(METHOD_INVOCATION_ARGUMENTS(SimpleName:di)(BooleanLiteral:true))))))))(Block(TryStatement(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fStream))(SimpleName:close)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(ThisExpression))(SimpleName:closeAllStream)(METHOD_INVOCATION_ARGUMENTS(SimpleName:socket)(SimpleName:inFromServer)(SimpleName:outToServer)))))(CatchClause(SingleVariableDeclaration(SimpleType(QualifiedName:java.io.IOException))(SimpleName:ex))(Block)))))(ExpressionStatement(Assignment(SimpleName:now)(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(SimpleType(SimpleName:Date))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:System))(SimpleName:currentTimeMillis)))))(IfStatement(InfixExpression(ParenthesizedExpression(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(SimpleName:stopped)))(INFIX_EXPRESSION_OPERATOR:&&)(ParenthesizedExpression(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(SimpleName:delete))))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:debug))(SimpleName:println)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:di))(SimpleName:getIDString))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:di))(SimpleName:setEndDate)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:System))(SimpleName:currentTimeMillis)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(FieldAccess(ThisExpression)(SimpleName:poolDown)))(SimpleName:addResourceDownloaded)(METHOD_INVOCATION_ARGUMENTS(SimpleName:di))))))(IfStatement(SimpleName:delete)(Block(VariableDeclarationStatement(SimpleType(QualifiedName:java.io.File))(VariableDeclarationFragment(SimpleName:file2)(ClassInstanceCreation(SimpleType(QualifiedName:java.io.File))(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:di))(SimpleName:getResource)))(SimpleName:getPath)))))(IfStatement(InfixExpression(SimpleName:file2)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(VariableDeclarationStatement(SimpleType(QualifiedName:java.io.File))(VariableDeclarationFragment(SimpleName:dir)(ClassInstanceCreation(SimpleType(QualifiedName:java.io.File))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:file2))(SimpleName:getParent)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(FieldAccess(ThisExpression)(SimpleName:poolDown)))(SimpleName:deleteDirectory)(METHOD_INVOCATION_ARGUMENTS(SimpleName:dir))))))))))))))