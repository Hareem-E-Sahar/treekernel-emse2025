(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:public)(PrimitiveType:void)(SimpleName:setSpeedTester)(SingleVariableDeclaration(SimpleType(SimpleName:DHTSpeedTester))(SimpleName:_tester))(Block(IfStatement(InfixExpression(SimpleName:speed_tester)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(IfStatement(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(SimpleName:emulated_ping_source))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Debug))(SimpleName:out)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))))(ReturnStatement)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:COConfigurationManager))(SimpleName:setParameter)(METHOD_INVOCATION_ARGUMENTS(SimpleName:CONFIG_AVAIL)(BooleanLiteral:true))))(ExpressionStatement(Assignment(SimpleName:speed_tester)(ASSIGNMENT_OPERATOR:=)(SimpleName:_tester)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:speed_tester))(SimpleName:addListener)(METHOD_INVOCATION_ARGUMENTS(ClassInstanceCreation(SimpleType(SimpleName:DHTSpeedTesterListener))(AnonymousClassDeclaration(FieldDeclaration(Modifier:private)(ArrayType(SimpleType(SimpleName:DHTSpeedTesterContact))(Dimension))(VariableDeclarationFragment(SimpleName:last_contact_group)(ArrayCreation(ArrayType(SimpleType(SimpleName:DHTSpeedTesterContact))(Dimension(NumberLiteral:0))))))(MethodDeclaration(Modifier:public)(PrimitiveType:void)(SimpleName:contactAdded)(SingleVariableDeclaration(SimpleType(SimpleName:DHTSpeedTesterContact))(SimpleName:contact))(Block(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:core))(SimpleName:getInstanceManager)))(SimpleName:isLANAddress)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:contact))(SimpleName:getAddress)))(SimpleName:getAddress))))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:contact))(SimpleName:destroy))))(Block(ExpressionStatement(MethodInvocation(SimpleName:log)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:contact))(SimpleName:getString))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:contact))(SimpleName:setPingPeriod)(METHOD_INVOCATION_ARGUMENTS(SimpleName:CONTACT_PING_SECS))))(SynchronizedStatement(SimpleName:contacts)(Block(VariableDeclarationStatement(SimpleType(SimpleName:pingContact))(VariableDeclarationFragment(SimpleName:source)(ClassInstanceCreation(SimpleType(SimpleName:pingContact))(SimpleName:contact))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:contacts))(SimpleName:put)(METHOD_INVOCATION_ARGUMENTS(SimpleName:contact)(SimpleName:source))))(ExpressionStatement(Assignment(SimpleName:contacts_array)(ASSIGNMENT_OPERATOR:=)(ArrayCreation(ArrayType(SimpleType(SimpleName:pingContact))(Dimension(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:contacts))(SimpleName:size)))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:contacts))(SimpleName:values)))(SimpleName:toArray)(METHOD_INVOCATION_ARGUMENTS(SimpleName:contacts_array))))(ExpressionStatement(PostfixExpression(SimpleName:total_contacts)(POSTFIX_EXPRESSION_OPERATOR:++)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:provider))(SimpleName:pingSourceFound)(METHOD_INVOCATION_ARGUMENTS(SimpleName:source)(InfixExpression(SimpleName:total_contacts)(INFIX_EXPRESSION_OPERATOR:>)(SimpleName:CONTACT_NUMBER)))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:contact))(SimpleName:addListener)(METHOD_INVOCATION_ARGUMENTS(ClassInstanceCreation(SimpleType(SimpleName:DHTSpeedTesterContactListener))(AnonymousClassDeclaration(MethodDeclaration(Modifier:public)(PrimitiveType:void)(SimpleName:ping)(SingleVariableDeclaration(SimpleType(SimpleName:DHTSpeedTesterContact))(SimpleName:contact))(SingleVariableDeclaration(PrimitiveType:int)(SimpleName:round_trip_time))(Block))(MethodDeclaration(Modifier:public)(PrimitiveType:void)(SimpleName:pingFailed)(SingleVariableDeclaration(SimpleType(SimpleName:DHTSpeedTesterContact))(SimpleName:contact))(Block))(MethodDeclaration(Modifier:public)(PrimitiveType:void)(SimpleName:contactDied)(SingleVariableDeclaration(SimpleType(SimpleName:DHTSpeedTesterContact))(SimpleName:contact))(Block(ExpressionStatement(MethodInvocation(SimpleName:log)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:contact))(SimpleName:getString))))))(SynchronizedStatement(SimpleName:contacts)(Block(VariableDeclarationStatement(SimpleType(SimpleName:pingContact))(VariableDeclarationFragment(SimpleName:source)(CastExpression(SimpleType(SimpleName:pingContact))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:contacts))(SimpleName:remove)(METHOD_INVOCATION_ARGUMENTS(SimpleName:contact))))))(IfStatement(InfixExpression(SimpleName:source)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(ExpressionStatement(Assignment(SimpleName:contacts_array)(ASSIGNMENT_OPERATOR:=)(ArrayCreation(ArrayType(SimpleType(SimpleName:pingContact))(Dimension(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:contacts))(SimpleName:size)))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:contacts))(SimpleName:values)))(SimpleName:toArray)(METHOD_INVOCATION_ARGUMENTS(SimpleName:contacts_array))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:provider))(SimpleName:pingSourceFailed)(METHOD_INVOCATION_ARGUMENTS(SimpleName:source)))))))))))))))))))(MethodDeclaration(Modifier:public)(PrimitiveType:void)(SimpleName:resultGroup)(SingleVariableDeclaration(ArrayType(SimpleType(SimpleName:DHTSpeedTesterContact))(Dimension))(SimpleName:st_contacts))(SingleVariableDeclaration(ArrayType(PrimitiveType:int)(Dimension))(SimpleName:round_trip_times))(Block(IfStatement(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(SimpleName:pm_enabled))(Block(ForStatement(VariableDeclarationExpression(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:i)(NumberLiteral:0)))(InfixExpression(SimpleName:i)(INFIX_EXPRESSION_OPERATOR:<)(QualifiedName:st_contacts.length))(PostfixExpression(SimpleName:i)(POSTFIX_EXPRESSION_OPERATOR:++))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(ArrayAccess(SimpleName:st_contacts)(SimpleName:i)))(SimpleName:destroy)))))(ReturnStatement)))(VariableDeclarationStatement(PrimitiveType:boolean)(VariableDeclarationFragment(SimpleName:sources_changed)(BooleanLiteral:false)))(ForStatement(VariableDeclarationExpression(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:i)(NumberLiteral:0)))(InfixExpression(SimpleName:i)(INFIX_EXPRESSION_OPERATOR:<)(QualifiedName:st_contacts.length))(PostfixExpression(SimpleName:i)(POSTFIX_EXPRESSION_OPERATOR:++))(Block(VariableDeclarationStatement(PrimitiveType:boolean)(VariableDeclarationFragment(SimpleName:found)(BooleanLiteral:false)))(ForStatement(VariableDeclarationExpression(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:j)(NumberLiteral:0)))(InfixExpression(SimpleName:j)(INFIX_EXPRESSION_OPERATOR:<)(QualifiedName:last_contact_group.length))(PostfixExpression(SimpleName:j)(POSTFIX_EXPRESSION_OPERATOR:++))(Block(IfStatement(InfixExpression(ArrayAccess(SimpleName:st_contacts)(SimpleName:i))(INFIX_EXPRESSION_OPERATOR:==)(ArrayAccess(SimpleName:last_contact_group)(SimpleName:j)))(Block(ExpressionStatement(Assignment(SimpleName:found)(ASSIGNMENT_OPERATOR:=)(BooleanLiteral:true)))(BreakStatement)))))(IfStatement(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(SimpleName:found))(Block(ExpressionStatement(Assignment(SimpleName:sources_changed)(ASSIGNMENT_OPERATOR:=)(BooleanLiteral:true)))(BreakStatement)))))(ExpressionStatement(Assignment(SimpleName:last_contact_group)(ASSIGNMENT_OPERATOR:=)(SimpleName:st_contacts)))(VariableDeclarationStatement(ArrayType(SimpleType(SimpleName:pingContact))(Dimension))(VariableDeclarationFragment(SimpleName:sources)(ArrayCreation(ArrayType(SimpleType(SimpleName:pingContact))(Dimension(QualifiedName:st_contacts.length))))))(VariableDeclarationStatement(PrimitiveType:boolean)(VariableDeclarationFragment(SimpleName:miss)(BooleanLiteral:false)))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:worst_value)(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:-)(NumberLiteral:1))))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:min_value)(QualifiedName:Integer.MAX_VALUE)))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:num_values)(NumberLiteral:0)))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:total)(NumberLiteral:0)))(SynchronizedStatement(SimpleName:contacts)(Block(ForStatement(VariableDeclarationExpression(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:i)(NumberLiteral:0)))(InfixExpression(SimpleName:i)(INFIX_EXPRESSION_OPERATOR:<)(QualifiedName:st_contacts.length))(PostfixExpression(SimpleName:i)(POSTFIX_EXPRESSION_OPERATOR:++))(Block(VariableDeclarationStatement(SimpleType(SimpleName:pingContact))(VariableDeclarationFragment(SimpleName:source)(Assignment(ArrayAccess(SimpleName:sources)(SimpleName:i))(ASSIGNMENT_OPERATOR:=)(CastExpression(SimpleType(SimpleName:pingContact))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:contacts))(SimpleName:get)(METHOD_INVOCATION_ARGUMENTS(ArrayAccess(SimpleName:st_contacts)(SimpleName:i))))))))(IfStatement(InfixExpression(SimpleName:source)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:rtt)(ArrayAccess(SimpleName:round_trip_times)(SimpleName:i))))(IfStatement(InfixExpression(SimpleName:rtt)(INFIX_EXPRESSION_OPERATOR:>=)(NumberLiteral:0))(Block(IfStatement(InfixExpression(SimpleName:rtt)(INFIX_EXPRESSION_OPERATOR:>)(SimpleName:worst_value))(Block(ExpressionStatement(Assignment(SimpleName:worst_value)(ASSIGNMENT_OPERATOR:=)(SimpleName:rtt)))))(IfStatement(InfixExpression(SimpleName:rtt)(INFIX_EXPRESSION_OPERATOR:<)(SimpleName:min_value))(Block(ExpressionStatement(Assignment(SimpleName:min_value)(ASSIGNMENT_OPERATOR:=)(SimpleName:rtt)))))(ExpressionStatement(PostfixExpression(SimpleName:num_values)(POSTFIX_EXPRESSION_OPERATOR:++)))(ExpressionStatement(Assignment(SimpleName:total)(ASSIGNMENT_OPERATOR:+=)(SimpleName:rtt)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:source))(SimpleName:setPingTime)(METHOD_INVOCATION_ARGUMENTS(SimpleName:rtt)))))(Block(ExpressionStatement(Assignment(SimpleName:miss)(ASSIGNMENT_OPERATOR:=)(BooleanLiteral:true)))))))))(IfStatement(SimpleName:miss)(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Debug))(SimpleName:out)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:provider))(SimpleName:calculate)(METHOD_INVOCATION_ARGUMENTS(SimpleName:sources))))(IfStatement(InfixExpression(SimpleName:num_values)(INFIX_EXPRESSION_OPERATOR:>)(NumberLiteral:1))(Block(ExpressionStatement(Assignment(SimpleName:total)(ASSIGNMENT_OPERATOR:-=)(SimpleName:worst_value)))(ExpressionStatement(PostfixExpression(SimpleName:num_values)(POSTFIX_EXPRESSION_OPERATOR:--)))))(IfStatement(InfixExpression(SimpleName:num_values)(INFIX_EXPRESSION_OPERATOR:>)(NumberLiteral:0))(Block(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:average)(InfixExpression(SimpleName:total)(INFIX_EXPRESSION_OPERATOR:/)(SimpleName:num_values))))(ExpressionStatement(Assignment(SimpleName:average)(ASSIGNMENT_OPERATOR:=)(InfixExpression(ParenthesizedExpression(InfixExpression(SimpleName:average)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:min_value)))(INFIX_EXPRESSION_OPERATOR:/)(NumberLiteral:2))))(ExpressionStatement(MethodInvocation(SimpleName:addPingHistory)(METHOD_INVOCATION_ARGUMENTS(SimpleName:average)(SimpleName:sources_changed)))))))))))))))(IfStatement(SimpleName:pm_enabled)(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:speed_tester))(SimpleName:setContactNumber)(METHOD_INVOCATION_ARGUMENTS(SimpleName:CONTACT_NUMBER))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:SimpleTimer))(SimpleName:addPeriodicEvent)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(QualifiedName:SpeedManagerAlgorithmProvider.UPDATE_PERIOD_MILLIS)(ClassInstanceCreation(SimpleType(SimpleName:TimerEventPerformer))(AnonymousClassDeclaration(MethodDeclaration(Modifier:public)(PrimitiveType:void)(SimpleName:perform)(SingleVariableDeclaration(SimpleType(SimpleName:TimerEvent))(SimpleName:event))(Block(IfStatement(SimpleName:enabled)(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:provider))(SimpleName:updateStats))))))))))))))))