(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:public)(PrimitiveType:void)(SimpleName:paint)(SingleVariableDeclaration(SimpleType(SimpleName:Graphics2D))(SimpleName:g))(SingleVariableDeclaration(SimpleType(SimpleName:PlotFrame))(SimpleName:plotFrame))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:g))(SimpleName:setColor)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:Color.BLACK))))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:barWidth)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:plotFrame))(SimpleName:getBarWidth))))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:xEnd)(NumberLiteral:1)))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:xStart)(NumberLiteral:1)))(VariableDeclarationStatement(SimpleType(SimpleName:Market))(VariableDeclarationFragment(SimpleName:lastMarket)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:plotFrame))(SimpleName:getLastMarket))))(VariableDeclarationStatement(SimpleType(SimpleName:Market))(VariableDeclarationFragment(SimpleName:currentMarket)(NullLiteral)))(VariableDeclarationStatement(SimpleType(SimpleName:TimeUnit))(VariableDeclarationFragment(SimpleName:lastVisible)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:plotFrame))(SimpleName:getTimeForX)(METHOD_INVOCATION_ARGUMENTS(FieldAccess(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:g))(SimpleName:getClipBounds))(SimpleName:width))))))(TryStatement(Block(ExpressionStatement(Assignment(SimpleName:currentMarket)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:plotFrame))(SimpleName:getDataSource)))(SimpleName:getOnOrBefore)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:lastMarket))(SimpleName:getTicker))(SimpleName:lastVisible))))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:Exception))(SimpleName:e))(Block(ExpressionStatement(Assignment(SimpleName:currentMarket)(ASSIGNMENT_OPERATOR:=)(SimpleName:lastMarket))))))(WhileStatement(InfixExpression(InfixExpression(SimpleName:currentMarket)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(INFIX_EXPRESSION_OPERATOR:&&)(InfixExpression(SimpleName:xEnd)(INFIX_EXPRESSION_OPERATOR:>)(NumberLiteral:0)))(Block(ExpressionStatement(Assignment(SimpleName:xEnd)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:plotFrame))(SimpleName:getXForTime)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:currentMarket))(SimpleName:getMarketTime))))))(IfStatement(InfixExpression(SimpleName:xEnd)(INFIX_EXPRESSION_OPERATOR:<=)(InfixExpression(FieldAccess(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:g))(SimpleName:getClipBounds))(SimpleName:width))(INFIX_EXPRESSION_OPERATOR:-)(SimpleName:barWidth)))(Block(VariableDeclarationStatement(SimpleType(SimpleName:BigDecimal))(VariableDeclarationFragment(SimpleName:currentPrice)(NullLiteral)))(VariableDeclarationStatement(SimpleType(SimpleName:BigDecimal))(VariableDeclarationFragment(SimpleName:previousPrice)(NullLiteral)))(VariableDeclarationStatement(SimpleType(SimpleName:Market))(VariableDeclarationFragment(SimpleName:previousMarket)(NullLiteral)))(TryStatement(Block(ExpressionStatement(Assignment(SimpleName:previousMarket)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:currentMarket))(SimpleName:getPrevious))))(ExpressionStatement(Assignment(SimpleName:xStart)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:plotFrame))(SimpleName:getXForTime)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:previousMarket))(SimpleName:getMarketTime)))))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:Exception))(SimpleName:e))(Block(ReturnStatement))))(IfStatement(InfixExpression(SimpleName:plotType)(INFIX_EXPRESSION_OPERATOR:==)(QualifiedName:PlotTypes.OPEN))(Block(ExpressionStatement(Assignment(SimpleName:currentPrice)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:currentMarket))(SimpleName:getOpenPrice))))(ExpressionStatement(Assignment(SimpleName:previousPrice)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:previousMarket))(SimpleName:getOpenPrice)))))(IfStatement(InfixExpression(SimpleName:plotType)(INFIX_EXPRESSION_OPERATOR:==)(QualifiedName:PlotTypes.HIGH))(Block(ExpressionStatement(Assignment(SimpleName:currentPrice)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:currentMarket))(SimpleName:getHighPrice))))(ExpressionStatement(Assignment(SimpleName:previousPrice)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:previousMarket))(SimpleName:getHighPrice)))))(IfStatement(InfixExpression(SimpleName:plotType)(INFIX_EXPRESSION_OPERATOR:==)(QualifiedName:PlotTypes.LOW))(Block(ExpressionStatement(Assignment(SimpleName:currentPrice)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:currentMarket))(SimpleName:getLowPrice))))(ExpressionStatement(Assignment(SimpleName:previousPrice)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:previousMarket))(SimpleName:getLowPrice)))))(IfStatement(InfixExpression(SimpleName:plotType)(INFIX_EXPRESSION_OPERATOR:==)(QualifiedName:PlotTypes.CLOSE))(Block(ExpressionStatement(Assignment(SimpleName:currentPrice)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:currentMarket))(SimpleName:getClosePrice))))(ExpressionStatement(Assignment(SimpleName:previousPrice)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:previousMarket))(SimpleName:getClosePrice)))))(Block(ReturnStatement))))))(IfStatement(SimpleName:useColors)(Block(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:rc)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:currentPrice))(SimpleName:compareTo)(METHOD_INVOCATION_ARGUMENTS(SimpleName:previousPrice)))))(IfStatement(InfixExpression(SimpleName:rc)(INFIX_EXPRESSION_OPERATOR:>)(NumberLiteral:0))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:g))(SimpleName:setColor)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:Color.GREEN))))(IfStatement(InfixExpression(SimpleName:rc)(INFIX_EXPRESSION_OPERATOR:<)(NumberLiteral:0))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:g))(SimpleName:setColor)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:Color.RED))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:g))(SimpleName:setColor)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:Color.BLACK))))))))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:currentY)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:plotFrame))(SimpleName:getYForPrice)(METHOD_INVOCATION_ARGUMENTS(SimpleName:currentPrice)))))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:previousY)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:plotFrame))(SimpleName:getYForPrice)(METHOD_INVOCATION_ARGUMENTS(SimpleName:previousPrice)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:g))(SimpleName:drawLine)(METHOD_INVOCATION_ARGUMENTS(SimpleName:xStart)(SimpleName:previousY)(SimpleName:xEnd)(SimpleName:currentY))))))(TryStatement(Block(ExpressionStatement(Assignment(SimpleName:currentMarket)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:currentMarket))(SimpleName:getPrevious)))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:Exception))(SimpleName:e))(Block(ExpressionStatement(Assignment(SimpleName:currentMarket)(ASSIGNMENT_OPERATOR:=)(NullLiteral))))))))))))