(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:public)(PrimitiveType:void)(SimpleName:run)(Block(ExpressionStatement(Assignment(SimpleName:imageOutputBuffer)(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(SimpleType(SimpleName:SAWByteArrayOutputStream)))))(ExpressionStatement(Assignment(SimpleName:codec)(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(SimpleType(SimpleName:SAWFrameDifferenceCodecV4)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:codec))(SimpleName:setMacroblockDataBuffer)(METHOD_INVOCATION_ARGUMENTS(SimpleName:imageOutputBuffer))))(WhileStatement(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(SimpleName:stopped))(Block(TryStatement(Block(SynchronizedStatement(ThisExpression)(Block(WhileStatement(InfixExpression(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(SimpleName:stopped))(INFIX_EXPRESSION_OPERATOR:&&)(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(SimpleName:needRefresh)))(Block(ExpressionStatement(MethodInvocation(SimpleName:wait)))))))(IfStatement(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(SimpleName:stopped))(Block(IfStatement(InfixExpression(SimpleName:currentDevice)(INFIX_EXPRESSION_OPERATOR:!=)(SimpleName:nextDevice))(Block(ExpressionStatement(Assignment(SimpleName:currentDevice)(ASSIGNMENT_OPERATOR:=)(SimpleName:nextDevice)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:viewProvider))(SimpleName:setGraphicsDevice)(METHOD_INVOCATION_ARGUMENTS(SimpleName:currentDevice))))))(IfStatement(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(SimpleName:refreshInterrupted))(Block(IfStatement(SimpleName:clearRequested)(Block(IfStatement(InfixExpression(SimpleName:imageDataBuffer)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:SAWImageIO))(SimpleName:clearImage)(METHOD_INVOCATION_ARGUMENTS(SimpleName:imageDataBuffer))))))(ExpressionStatement(Assignment(SimpleName:lastWidth)(ASSIGNMENT_OPERATOR:=)(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:-)(NumberLiteral:1))))(ExpressionStatement(Assignment(SimpleName:lastHeight)(ASSIGNMENT_OPERATOR:=)(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:-)(NumberLiteral:1))))(ExpressionStatement(Assignment(SimpleName:lastDepth)(ASSIGNMENT_OPERATOR:=)(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:-)(NumberLiteral:1))))(ExpressionStatement(Assignment(SimpleName:lastDataType)(ASSIGNMENT_OPERATOR:=)(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:-)(NumberLiteral:1))))(ExpressionStatement(Assignment(SimpleName:clearRequested)(ASSIGNMENT_OPERATOR:=)(BooleanLiteral:false))))(IfStatement(InfixExpression(InfixExpression(InfixExpression(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(SimpleName:screenCaptureModeComplete))(INFIX_EXPRESSION_OPERATOR:&&)(InfixExpression(SimpleName:captureArea)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral)))(INFIX_EXPRESSION_OPERATOR:&&)(InfixExpression(QualifiedName:captureArea.width)(INFIX_EXPRESSION_OPERATOR:>)(NumberLiteral:0)))(INFIX_EXPRESSION_OPERATOR:&&)(InfixExpression(QualifiedName:captureArea.height)(INFIX_EXPRESSION_OPERATOR:>)(NumberLiteral:0)))(Block(ExpressionStatement(Assignment(SimpleName:imageDataBuffer)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:viewProvider))(SimpleName:createScreenCapture)(METHOD_INVOCATION_ARGUMENTS(SimpleName:drawPointer)(SimpleName:captureArea))))))(IfStatement(SimpleName:screenCaptureModeComplete)(Block(ExpressionStatement(Assignment(SimpleName:imageDataBuffer)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:viewProvider))(SimpleName:createScreenCapture)(METHOD_INVOCATION_ARGUMENTS(SimpleName:drawPointer)))))))))(IfStatement(InfixExpression(SimpleName:imageDataBuffer)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(IfStatement(InfixExpression(InfixExpression(InfixExpression(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:imageDataBuffer))(SimpleName:getWidth))(INFIX_EXPRESSION_OPERATOR:==)(SimpleName:lastWidth))(INFIX_EXPRESSION_OPERATOR:&&)(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:imageDataBuffer))(SimpleName:getHeight))(INFIX_EXPRESSION_OPERATOR:==)(SimpleName:lastHeight)))(INFIX_EXPRESSION_OPERATOR:&&)(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:imageDataBuffer))(SimpleName:getColorModel)))(SimpleName:getPixelSize))(INFIX_EXPRESSION_OPERATOR:==)(SimpleName:lastDepth)))(INFIX_EXPRESSION_OPERATOR:&&)(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:imageDataBuffer))(SimpleName:getRaster)))(SimpleName:getDataBuffer)))(SimpleName:getDataType))(INFIX_EXPRESSION_OPERATOR:==)(SimpleName:lastDataType)))(Block(IfStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:imageDataBuffer))(SimpleName:getRaster)))(SimpleName:getDataBuffer)))(SimpleName:getDataType))(INFIX_EXPRESSION_OPERATOR:==)(QualifiedName:DataBuffer.TYPE_BYTE))(Block(IfStatement(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Arrays))(SimpleName:equals)(METHOD_INVOCATION_ARGUMENTS(SimpleName:lastImageBufferByte)(SimpleName:previousImageBufferByte))))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:codec))(SimpleName:makeFrameDifference)(METHOD_INVOCATION_ARGUMENTS(SimpleName:previousImageBufferByte)(NumberLiteral:0)(SimpleName:lastImageBufferByte)(NumberLiteral:0)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:imageDataBuffer))(SimpleName:getWidth))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:imageDataBuffer))(SimpleName:getHeight))(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:imageDataBuffer))(SimpleName:getColorModel)))(SimpleName:getPixelSize))(SimpleName:dynamicCoding))))(ExpressionStatement(MethodInvocation(SimpleName:sendDifference))))(Block(ExpressionStatement(MethodInvocation(SimpleName:sendRefreshNotNeeded))))))(IfStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:imageDataBuffer))(SimpleName:getRaster)))(SimpleName:getDataBuffer)))(SimpleName:getDataType))(INFIX_EXPRESSION_OPERATOR:==)(QualifiedName:DataBuffer.TYPE_USHORT))(Block(IfStatement(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Arrays))(SimpleName:equals)(METHOD_INVOCATION_ARGUMENTS(SimpleName:lastImageBufferUShort)(SimpleName:previousImageBufferUShort))))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:codec))(SimpleName:makeFrameDifference)(METHOD_INVOCATION_ARGUMENTS(SimpleName:previousImageBufferUShort)(NumberLiteral:0)(SimpleName:lastImageBufferUShort)(NumberLiteral:0)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:imageDataBuffer))(SimpleName:getWidth))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:imageDataBuffer))(SimpleName:getHeight))(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:imageDataBuffer))(SimpleName:getColorModel)))(SimpleName:getPixelSize))(SimpleName:dynamicCoding))))(ExpressionStatement(MethodInvocation(SimpleName:sendDifference))))(Block(ExpressionStatement(MethodInvocation(SimpleName:sendRefreshNotNeeded))))))(IfStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:imageDataBuffer))(SimpleName:getRaster)))(SimpleName:getDataBuffer)))(SimpleName:getDataType))(INFIX_EXPRESSION_OPERATOR:==)(QualifiedName:DataBuffer.TYPE_INT))(Block(IfStatement(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Arrays))(SimpleName:equals)(METHOD_INVOCATION_ARGUMENTS(SimpleName:lastImageBufferInt)(SimpleName:previousImageBufferInt))))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:codec))(SimpleName:makeFrameDifference)(METHOD_INVOCATION_ARGUMENTS(SimpleName:previousImageBufferInt)(NumberLiteral:0)(SimpleName:lastImageBufferInt)(NumberLiteral:0)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:imageDataBuffer))(SimpleName:getWidth))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:imageDataBuffer))(SimpleName:getHeight))(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:imageDataBuffer))(SimpleName:getColorModel)))(SimpleName:getPixelSize))(SimpleName:dynamicCoding))))(ExpressionStatement(MethodInvocation(SimpleName:sendDifference))))(Block(ExpressionStatement(MethodInvocation(SimpleName:sendRefreshNotNeeded))))))))))(Block(ExpressionStatement(Assignment(SimpleName:lastWidth)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:imageDataBuffer))(SimpleName:getWidth))))(ExpressionStatement(Assignment(SimpleName:lastHeight)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:imageDataBuffer))(SimpleName:getHeight))))(ExpressionStatement(Assignment(SimpleName:lastDepth)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:imageDataBuffer))(SimpleName:getColorModel)))(SimpleName:getPixelSize))))(ExpressionStatement(Assignment(SimpleName:lastDataType)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:imageDataBuffer))(SimpleName:getRaster)))(SimpleName:getDataBuffer)))(SimpleName:getDataType))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:imageOutputBuffer))(SimpleName:reset)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:imageIO))(SimpleName:write)(METHOD_INVOCATION_ARGUMENTS(SimpleName:imageDataBuffer)(SimpleName:imageOutputBuffer))))(ExpressionStatement(MethodInvocation(SimpleName:sendRefresh)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:imageOutputBuffer))(SimpleName:reset)))(IfStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:imageDataBuffer))(SimpleName:getRaster)))(SimpleName:getDataBuffer)))(SimpleName:getDataType))(INFIX_EXPRESSION_OPERATOR:==)(QualifiedName:DataBuffer.TYPE_BYTE))(Block(ExpressionStatement(Assignment(SimpleName:lastImageBufferByte)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(ParenthesizedExpression(CastExpression(SimpleType(SimpleName:DataBufferByte))(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:imageDataBuffer))(SimpleName:getRaster)))(SimpleName:getDataBuffer)))))(SimpleName:getData))))(ExpressionStatement(Assignment(SimpleName:previousImageBufferByte)(ASSIGNMENT_OPERATOR:=)(ArrayCreation(ArrayType(PrimitiveType:byte)(Dimension(QualifiedName:lastImageBufferByte.length))))))(ExpressionStatement(Assignment(SimpleName:lastImageBufferUShort)(ASSIGNMENT_OPERATOR:=)(NullLiteral)))(ExpressionStatement(Assignment(SimpleName:previousImageBufferUShort)(ASSIGNMENT_OPERATOR:=)(NullLiteral)))(ExpressionStatement(Assignment(SimpleName:lastImageBufferInt)(ASSIGNMENT_OPERATOR:=)(NullLiteral)))(ExpressionStatement(Assignment(SimpleName:previousImageBufferInt)(ASSIGNMENT_OPERATOR:=)(NullLiteral)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:System))(SimpleName:arraycopy)(METHOD_INVOCATION_ARGUMENTS(SimpleName:lastImageBufferByte)(NumberLiteral:0)(SimpleName:previousImageBufferByte)(NumberLiteral:0)(QualifiedName:lastImageBufferByte.length)))))(IfStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:imageDataBuffer))(SimpleName:getRaster)))(SimpleName:getDataBuffer)))(SimpleName:getDataType))(INFIX_EXPRESSION_OPERATOR:==)(QualifiedName:DataBuffer.TYPE_USHORT))(Block(ExpressionStatement(Assignment(SimpleName:lastImageBufferByte)(ASSIGNMENT_OPERATOR:=)(NullLiteral)))(ExpressionStatement(Assignment(SimpleName:previousImageBufferByte)(ASSIGNMENT_OPERATOR:=)(NullLiteral)))(ExpressionStatement(Assignment(SimpleName:lastImageBufferUShort)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(ParenthesizedExpression(CastExpression(SimpleType(SimpleName:DataBufferUShort))(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:imageDataBuffer))(SimpleName:getRaster)))(SimpleName:getDataBuffer)))))(SimpleName:getData))))(ExpressionStatement(Assignment(SimpleName:previousImageBufferUShort)(ASSIGNMENT_OPERATOR:=)(ArrayCreation(ArrayType(PrimitiveType:short)(Dimension(QualifiedName:lastImageBufferUShort.length))))))(ExpressionStatement(Assignment(SimpleName:lastImageBufferInt)(ASSIGNMENT_OPERATOR:=)(NullLiteral)))(ExpressionStatement(Assignment(SimpleName:previousImageBufferInt)(ASSIGNMENT_OPERATOR:=)(NullLiteral)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:System))(SimpleName:arraycopy)(METHOD_INVOCATION_ARGUMENTS(SimpleName:lastImageBufferUShort)(NumberLiteral:0)(SimpleName:previousImageBufferUShort)(NumberLiteral:0)(QualifiedName:lastImageBufferUShort.length)))))(IfStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:imageDataBuffer))(SimpleName:getRaster)))(SimpleName:getDataBuffer)))(SimpleName:getDataType))(INFIX_EXPRESSION_OPERATOR:==)(QualifiedName:DataBuffer.TYPE_INT))(Block(ExpressionStatement(Assignment(SimpleName:lastImageBufferByte)(ASSIGNMENT_OPERATOR:=)(NullLiteral)))(ExpressionStatement(Assignment(SimpleName:previousImageBufferByte)(ASSIGNMENT_OPERATOR:=)(NullLiteral)))(ExpressionStatement(Assignment(SimpleName:lastImageBufferUShort)(ASSIGNMENT_OPERATOR:=)(NullLiteral)))(ExpressionStatement(Assignment(SimpleName:previousImageBufferUShort)(ASSIGNMENT_OPERATOR:=)(NullLiteral)))(ExpressionStatement(Assignment(SimpleName:lastImageBufferInt)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(ParenthesizedExpression(CastExpression(SimpleType(SimpleName:DataBufferInt))(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:imageDataBuffer))(SimpleName:getRaster)))(SimpleName:getDataBuffer)))))(SimpleName:getData))))(ExpressionStatement(Assignment(SimpleName:previousImageBufferInt)(ASSIGNMENT_OPERATOR:=)(ArrayCreation(ArrayType(PrimitiveType:int)(Dimension(QualifiedName:lastImageBufferInt.length))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:System))(SimpleName:arraycopy)(METHOD_INVOCATION_ARGUMENTS(SimpleName:lastImageBufferInt)(NumberLiteral:0)(SimpleName:previousImageBufferInt)(NumberLiteral:0)(QualifiedName:lastImageBufferInt.length))))))))))))(SynchronizedStatement(SimpleName:screenCaptureIntervalSynchronizer)(Block(IfStatement(InfixExpression(SimpleName:screenCaptureInterval)(INFIX_EXPRESSION_OPERATOR:>)(NumberLiteral:0))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:screenCaptureIntervalSynchronizer))(SimpleName:wait)(METHOD_INVOCATION_ARGUMENTS(SimpleName:screenCaptureInterval)))))))))(Block(VariableDeclarationStatement(SimpleType(SimpleName:Dimension))(VariableDeclarationFragment(SimpleName:screenSize)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:viewProvider))(SimpleName:getCurrentScreenSize))))(IfStatement(InfixExpression(InfixExpression(InfixExpression(SimpleName:screenSize)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(INFIX_EXPRESSION_OPERATOR:&&)(InfixExpression(QualifiedName:screenSize.width)(INFIX_EXPRESSION_OPERATOR:!=)(SimpleName:interruptedLastWidth)))(INFIX_EXPRESSION_OPERATOR:||)(InfixExpression(QualifiedName:screenSize.height)(INFIX_EXPRESSION_OPERATOR:!=)(SimpleName:interruptedLastHeight)))(Block(ExpressionStatement(Assignment(SimpleName:interruptedLastWidth)(ASSIGNMENT_OPERATOR:=)(QualifiedName:screenSize.width)))(ExpressionStatement(Assignment(SimpleName:interruptedLastHeight)(ASSIGNMENT_OPERATOR:=)(QualifiedName:screenSize.height)))(ExpressionStatement(MethodInvocation(SimpleName:sendRemoteInterfaceAreaChange)(METHOD_INVOCATION_ARGUMENTS(SimpleName:interruptedLastWidth)(SimpleName:interruptedLastHeight))))))(SynchronizedStatement(SimpleName:screenCaptureIntervalSynchronizer)(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:screenCaptureIntervalSynchronizer))(SimpleName:wait)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:125)))))))))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:Exception))(SimpleName:e))(Block(ExpressionStatement(Assignment(SimpleName:stopped)(ASSIGNMENT_OPERATOR:=)(BooleanLiteral:true)))(BreakStatement))))))(ExpressionStatement(MethodInvocation(SimpleName:sendSessionEnding)))(SynchronizedStatement(SimpleName:session)(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:session))(SimpleName:notify)))))))))