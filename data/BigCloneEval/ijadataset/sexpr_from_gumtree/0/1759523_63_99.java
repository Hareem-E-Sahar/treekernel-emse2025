(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(MarkerAnnotation(SimpleName:Override))(Modifier:public)(PrimitiveType:void)(SimpleName:filter)(SingleVariableDeclaration(SimpleType(SimpleName:MidiMessage))(SimpleName:message))(SingleVariableDeclaration(PrimitiveType:long)(SimpleName:timeStamp))(Block(IfStatement(InstanceofExpression(SimpleName:message)(SimpleType(SimpleName:ShortMessage)))(Block(VariableDeclarationStatement(SimpleType(SimpleName:ShortMessage))(VariableDeclarationFragment(SimpleName:sMsg)(CastExpression(SimpleType(SimpleName:ShortMessage))(SimpleName:message))))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:command)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:sMsg))(SimpleName:getCommand))))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:channel)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:sMsg))(SimpleName:getChannel))))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:tone)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:sMsg))(SimpleName:getData1))))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:velocity)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:sMsg))(SimpleName:getData2))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:key)(InfixExpression(SimpleName:channel)(INFIX_EXPRESSION_OPERATOR:+)(StringLiteral:<STR>)(SimpleName:tone))))(IfStatement(InfixExpression(InfixExpression(SimpleName:command)(INFIX_EXPRESSION_OPERATOR:==)(QualifiedName:ShortMessage.NOTE_OFF))(INFIX_EXPRESSION_OPERATOR:||)(ParenthesizedExpression(InfixExpression(InfixExpression(SimpleName:command)(INFIX_EXPRESSION_OPERATOR:==)(QualifiedName:ShortMessage.NOTE_ON))(INFIX_EXPRESSION_OPERATOR:&&)(InfixExpression(SimpleName:velocity)(INFIX_EXPRESSION_OPERATOR:==)(NumberLiteral:0)))))(Block(SynchronizedStatement(ThisExpression(SimpleName:ArpeggiatorFilterDevice))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:_arpeggios))(SimpleName:put)(METHOD_INVOCATION_ARGUMENTS(SimpleName:key)(BooleanLiteral:false)))))))(Block(IfStatement(InfixExpression(SimpleName:command)(INFIX_EXPRESSION_OPERATOR:==)(QualifiedName:ShortMessage.NOTE_ON))(Block(VariableDeclarationStatement(PrimitiveType:float)(VariableDeclarationFragment(SimpleName:noteFactor)))(VariableDeclarationStatement(ArrayType(PrimitiveType:int)(Dimension))(VariableDeclarationFragment(SimpleName:intervals)))(VariableDeclarationStatement(SimpleType(SimpleName:ArpeggioTask))(VariableDeclarationFragment(SimpleName:arpTask)))(SynchronizedStatement(ThisExpression(SimpleName:ArpeggiatorFilterDevice))(Block(IfStatement(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:_arpeggios))(SimpleName:containsKey)(METHOD_INVOCATION_ARGUMENTS(SimpleName:key))))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:_arpeggios))(SimpleName:put)(METHOD_INVOCATION_ARGUMENTS(SimpleName:key)(BooleanLiteral:true))))(ExpressionStatement(Assignment(SimpleName:noteFactor)(ASSIGNMENT_OPERATOR:=)(InfixExpression(NumberLiteral:60000)(INFIX_EXPRESSION_OPERATOR:/)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:_noteValue))(SimpleName:getNotesPerBeat)))))(ExpressionStatement(Assignment(SimpleName:intervals)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:_arp))(SimpleName:getIntervals))))(ExpressionStatement(Assignment(SimpleName:arpTask)(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(SimpleType(SimpleName:ArpeggioTask))(SimpleName:key)(SimpleName:intervals)(SimpleName:channel)(SimpleName:velocity)(SimpleName:tone)(SimpleName:noteFactor)(InfixExpression(SimpleName:_motion)(INFIX_EXPRESSION_OPERATOR:==)(QualifiedName:Arpeggio.RANDOM)))))(ExpressionStatement(MethodInvocation(SimpleName:execute)(METHOD_INVOCATION_ARGUMENTS(SimpleName:arpTask)))))(IfStatement(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:_arpeggios))(SimpleName:get)(METHOD_INVOCATION_ARGUMENTS(SimpleName:key))))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:_arpeggios))(SimpleName:put)(METHOD_INVOCATION_ARGUMENTS(SimpleName:key)(BooleanLiteral:true))))(ExpressionStatement(Assignment(SimpleName:noteFactor)(ASSIGNMENT_OPERATOR:=)(InfixExpression(NumberLiteral:60000)(INFIX_EXPRESSION_OPERATOR:/)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:_noteValue))(SimpleName:getNotesPerBeat)))))(ExpressionStatement(Assignment(SimpleName:intervals)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:_arp))(SimpleName:getIntervals))))(ExpressionStatement(Assignment(SimpleName:arpTask)(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(SimpleType(SimpleName:ArpeggioTask))(SimpleName:key)(SimpleName:intervals)(SimpleName:channel)(SimpleName:velocity)(SimpleName:tone)(SimpleName:noteFactor)(InfixExpression(SimpleName:_motion)(INFIX_EXPRESSION_OPERATOR:==)(QualifiedName:Arpeggio.RANDOM)))))(ExpressionStatement(MethodInvocation(SimpleName:execute)(METHOD_INVOCATION_ARGUMENTS(SimpleName:arpTask))))))))))))))(ExpressionStatement(MethodInvocation(SimpleName:sendNow)(METHOD_INVOCATION_ARGUMENTS(SimpleName:message)))))))))