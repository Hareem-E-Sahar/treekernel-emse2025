(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:private)(SimpleType(SimpleName:State))(SimpleName:connecting)(Block(VariableDeclarationStatement(SimpleType(SimpleName:State))(VariableDeclarationFragment(SimpleName:state)(QualifiedName:State.CONNECTING)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(ThisExpression(SimpleName:ChatService)))(SimpleName:notifyStateObserver)(METHOD_INVOCATION_ARGUMENTS(SimpleName:state))))(IfStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:connection))(SimpleName:isAuthenticated))(INFIX_EXPRESSION_OPERATOR:&&)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:connection))(SimpleName:isConnected)))(Block(ExpressionStatement(Assignment(SimpleName:state)(ASSIGNMENT_OPERATOR:=)(QualifiedName:State.CONNECTED)))(ReturnStatement(SimpleName:state))))(TryStatement(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:connection))(SimpleName:connect)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:SASLAuthentication))(SimpleName:supportSASLMechanism)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(NumberLiteral:0))))(IfStatement(SimpleName:use_login_retry)(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:connection))(SimpleName:login)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(SimpleName:username)(INFIX_EXPRESSION_OPERATOR:+)(FieldAccess(ThisExpression)(SimpleName:login_retry)))(SimpleName:password)))))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:connection))(SimpleName:login)(METHOD_INVOCATION_ARGUMENTS(SimpleName:username)(SimpleName:password))))))(IfStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:connection))(SimpleName:isAuthenticated))(INFIX_EXPRESSION_OPERATOR:&&)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:connection))(SimpleName:isConnected)))(Block(IfStatement(SimpleName:use_login_retry)(Block(ExpressionStatement(Assignment(SimpleName:use_login_retry)(ASSIGNMENT_OPERATOR:=)(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(SimpleName:use_login_retry))))(ExpressionStatement(Assignment(SimpleName:username)(ASSIGNMENT_OPERATOR:=)(InfixExpression(SimpleName:username)(INFIX_EXPRESSION_OPERATOR:+)(FieldAccess(ThisExpression)(SimpleName:login_retry)))))(ExpressionStatement(Assignment(FieldAccess(ThisExpression)(SimpleName:login_retry))(ASSIGNMENT_OPERATOR:=)(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:-)(NumberLiteral:1))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:MainFrame))(SimpleName:getInstance)))(SimpleName:getJStockOptions)))(SimpleName:setChatUsername)(METHOD_INVOCATION_ARGUMENTS(SimpleName:username))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(FieldAccess(ThisExpression)(SimpleName:connection)))(SimpleName:removeConnectionListener)(METHOD_INVOCATION_ARGUMENTS(SimpleName:connectionListener))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(FieldAccess(ThisExpression)(SimpleName:connection)))(SimpleName:addConnectionListener)(METHOD_INVOCATION_ARGUMENTS(SimpleName:connectionListener))))(ExpressionStatement(Assignment(SimpleName:state)(ASSIGNMENT_OPERATOR:=)(QualifiedName:State.CONNECTED))))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:XMPPException))(SimpleName:ex))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:log))(SimpleName:error)(METHOD_INVOCATION_ARGUMENTS(NullLiteral)(SimpleName:ex))))(VariableDeclarationStatement(Modifier:final)(SimpleType(SimpleName:XMPPError))(VariableDeclarationFragment(SimpleName:error)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ex))(SimpleName:getXMPPError))))(IfStatement(InfixExpression(SimpleName:error)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(IfStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:error))(SimpleName:getCode))(INFIX_EXPRESSION_OPERATOR:==)(NumberLiteral:504))(Block(ExpressionStatement(Assignment(SimpleName:state)(ASSIGNMENT_OPERATOR:=)(QualifiedName:State.CONNECTING))))))(Block(ExpressionStatement(Assignment(SimpleName:state)(ASSIGNMENT_OPERATOR:=)(QualifiedName:State.ACCOUNT_CREATING))))))))(ReturnStatement(SimpleName:state))))))