(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:public)(Modifier:synchronized)(PrimitiveType:boolean)(SimpleName:obtain)(SimpleType(SimpleName:IOException))(Block(IfStatement(MethodInvocation(SimpleName:isLocked))(Block(ReturnStatement(BooleanLiteral:false))))(IfStatement(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:lockDir))(SimpleName:exists)))(Block(IfStatement(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:lockDir))(SimpleName:mkdirs)))(ThrowStatement(ClassInstanceCreation(SimpleType(SimpleName:IOException))(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:lockDir))(SimpleName:getAbsolutePath)))))))(IfStatement(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:lockDir))(SimpleName:isDirectory)))(Block(ThrowStatement(ClassInstanceCreation(SimpleType(SimpleName:IOException))(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:lockDir))(SimpleName:getAbsolutePath))))))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:canonicalPath)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:path))(SimpleName:getCanonicalPath))))(VariableDeclarationStatement(PrimitiveType:boolean)(VariableDeclarationFragment(SimpleName:markedHeld)(BooleanLiteral:false)))(TryStatement(Block(SynchronizedStatement(SimpleName:LOCK_HELD)(Block(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:LOCK_HELD))(SimpleName:contains)(METHOD_INVOCATION_ARGUMENTS(SimpleName:canonicalPath)))(Block(ReturnStatement(BooleanLiteral:false)))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:LOCK_HELD))(SimpleName:add)(METHOD_INVOCATION_ARGUMENTS(SimpleName:canonicalPath))))(ExpressionStatement(Assignment(SimpleName:markedHeld)(ASSIGNMENT_OPERATOR:=)(BooleanLiteral:true)))))))(TryStatement(Block(ExpressionStatement(Assignment(SimpleName:f)(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(SimpleType(SimpleName:RandomAccessFile))(SimpleName:path)(StringLiteral:<STR>)))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:IOException))(SimpleName:e))(Block(ExpressionStatement(Assignment(SimpleName:failureReason)(ASSIGNMENT_OPERATOR:=)(SimpleName:e)))(ExpressionStatement(Assignment(SimpleName:f)(ASSIGNMENT_OPERATOR:=)(NullLiteral))))))(IfStatement(InfixExpression(SimpleName:f)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(TryStatement(Block(ExpressionStatement(Assignment(SimpleName:channel)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:f))(SimpleName:getChannel))))(TryStatement(Block(ExpressionStatement(Assignment(SimpleName:lock)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:channel))(SimpleName:tryLock)))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:IOException))(SimpleName:e))(Block(ExpressionStatement(Assignment(SimpleName:failureReason)(ASSIGNMENT_OPERATOR:=)(SimpleName:e)))))(Block(IfStatement(InfixExpression(SimpleName:lock)(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(Block(TryStatement(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:channel))(SimpleName:close))))(Block(ExpressionStatement(Assignment(SimpleName:channel)(ASSIGNMENT_OPERATOR:=)(NullLiteral))))))))))(Block(IfStatement(InfixExpression(SimpleName:channel)(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(Block(TryStatement(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:f))(SimpleName:close))))(Block(ExpressionStatement(Assignment(SimpleName:f)(ASSIGNMENT_OPERATOR:=)(NullLiteral))))))))))))(Block(IfStatement(InfixExpression(SimpleName:markedHeld)(INFIX_EXPRESSION_OPERATOR:&&)(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(MethodInvocation(SimpleName:isLocked))))(Block(SynchronizedStatement(SimpleName:LOCK_HELD)(Block(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:LOCK_HELD))(SimpleName:contains)(METHOD_INVOCATION_ARGUMENTS(SimpleName:canonicalPath)))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:LOCK_HELD))(SimpleName:remove)(METHOD_INVOCATION_ARGUMENTS(SimpleName:canonicalPath))))))))))))(ReturnStatement(MethodInvocation(SimpleName:isLocked)))))))