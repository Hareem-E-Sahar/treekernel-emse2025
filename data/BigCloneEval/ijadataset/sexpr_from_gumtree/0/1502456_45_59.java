(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:public)(Modifier:static)(SimpleType(SimpleName:Image))(SimpleName:createThumbnailImage)(SingleVariableDeclaration(SimpleType(SimpleName:IDiagramModel))(SimpleName:diagramModel))(Block(VariableDeclarationStatement(SimpleType(SimpleName:Shell))(VariableDeclarationFragment(SimpleName:shell)(ClassInstanceCreation(SimpleType(SimpleName:Shell)))))(VariableDeclarationStatement(SimpleType(SimpleName:GraphicalViewer))(VariableDeclarationFragment(SimpleName:diagramViewer)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:DiagramUtils))(SimpleName:createViewer)(METHOD_INVOCATION_ARGUMENTS(SimpleName:diagramModel)(SimpleName:shell)))))(VariableDeclarationStatement(SimpleType(SimpleName:Rectangle))(VariableDeclarationFragment(SimpleName:bounds)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:DiagramUtils))(SimpleName:getDiagramExtents)(METHOD_INVOCATION_ARGUMENTS(SimpleName:diagramViewer)))))(VariableDeclarationStatement(PrimitiveType:double)(VariableDeclarationFragment(SimpleName:ratio)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Math))(SimpleName:min)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:1)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Math))(SimpleName:min)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(CastExpression(PrimitiveType:double)(QualifiedName:TemplateManager.THUMBNAIL_WIDTH))(INFIX_EXPRESSION_OPERATOR:/)(QualifiedName:bounds.width))(InfixExpression(CastExpression(PrimitiveType:double)(QualifiedName:TemplateManager.THUMBNAIL_HEIGHT))(INFIX_EXPRESSION_OPERATOR:/)(QualifiedName:bounds.height))))))))(VariableDeclarationStatement(SimpleType(SimpleName:Image))(VariableDeclarationFragment(SimpleName:image)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:DiagramUtils))(SimpleName:createScaledImage)(METHOD_INVOCATION_ARGUMENTS(SimpleName:diagramViewer)(SimpleName:ratio)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:shell))(SimpleName:dispose)))(VariableDeclarationStatement(SimpleType(SimpleName:GC))(VariableDeclarationFragment(SimpleName:gc)(ClassInstanceCreation(SimpleType(SimpleName:GC))(SimpleName:image))))(VariableDeclarationStatement(SimpleType(SimpleName:Color))(VariableDeclarationFragment(SimpleName:c)(ClassInstanceCreation(SimpleType(SimpleName:Color))(NullLiteral)(NumberLiteral:64)(NumberLiteral:64)(NumberLiteral:64))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:gc))(SimpleName:setForeground)(METHOD_INVOCATION_ARGUMENTS(SimpleName:c))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:gc))(SimpleName:drawRectangle)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:0)(NumberLiteral:0)(InfixExpression(FieldAccess(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:image))(SimpleName:getBounds))(SimpleName:width))(INFIX_EXPRESSION_OPERATOR:-)(NumberLiteral:1))(InfixExpression(FieldAccess(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:image))(SimpleName:getBounds))(SimpleName:height))(INFIX_EXPRESSION_OPERATOR:-)(NumberLiteral:1)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:gc))(SimpleName:dispose)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:c))(SimpleName:dispose)))(ReturnStatement(SimpleName:image))))))