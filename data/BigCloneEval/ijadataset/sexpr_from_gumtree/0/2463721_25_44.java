(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(MarkerAnnotation(SimpleName:Override))(Modifier:public)(SimpleType(SimpleName:LoginInfo))(SimpleName:retrieve)(Block(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:requestUri)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(SimpleName:getRequest)))(SimpleName:getResourceRef)))(SimpleName:getQueryAsForm)))(SimpleName:getValues)(METHOD_INVOCATION_ARGUMENTS(SimpleName:REQUEST_URI_PARAM_NAME)))))(VariableDeclarationStatement(SimpleType(SimpleName:LoginInfo))(VariableDeclarationFragment(SimpleName:info)))(VariableDeclarationStatement(SimpleType(SimpleName:UserService))(VariableDeclarationFragment(SimpleName:userService)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:UserServiceFactory))(SimpleName:getUserService))))(VariableDeclarationStatement(SimpleType(SimpleName:User))(VariableDeclarationFragment(SimpleName:user)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:userService))(SimpleName:getCurrentUser))))(IfStatement(InfixExpression(SimpleName:user)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(VariableDeclarationStatement(SimpleType(SimpleName:PreferredChannels))(VariableDeclarationFragment(SimpleName:preferredChannels)(MethodInvocation(SimpleName:getPreferredChannels)(METHOD_INVOCATION_ARGUMENTS(SimpleName:user)))))(VariableDeclarationStatement(ParameterizedType(SimpleType(SimpleName:Set))(SimpleType(SimpleName:String)))(VariableDeclarationFragment(SimpleName:channels)))(IfStatement(InfixExpression(SimpleName:preferredChannels)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(ExpressionStatement(Assignment(SimpleName:channels)(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(ParameterizedType(SimpleType(SimpleName:HashSet))(SimpleType(SimpleName:String)))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:preferredChannels))(SimpleName:getChannels))))))(Block(ExpressionStatement(Assignment(SimpleName:channels)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:channelService))(SimpleName:getDefaultSelectedChannels))))))(ExpressionStatement(Assignment(SimpleName:info)(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(SimpleType(SimpleName:LoginInfo))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:user))(SimpleName:getNickname))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:userService))(SimpleName:createLogoutURL)(METHOD_INVOCATION_ARGUMENTS(SimpleName:requestUri)))(StringLiteral:<STR>)(SimpleName:channels)))))(Block(ExpressionStatement(Assignment(SimpleName:info)(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(SimpleType(SimpleName:LoginInfo))(NullLiteral)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:userService))(SimpleName:createLoginURL)(METHOD_INVOCATION_ARGUMENTS(SimpleName:requestUri)))(StringLiteral:<STR>)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:channelService))(SimpleName:getDefaultSelectedChannels)))))))(ReturnStatement(SimpleName:info))))))