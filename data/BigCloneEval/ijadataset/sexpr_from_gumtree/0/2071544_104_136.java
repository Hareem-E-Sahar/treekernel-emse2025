(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:public)(SimpleType(SimpleName:HTTPResponse))(SimpleName:makeRequest)(SingleVariableDeclaration(SimpleType(SimpleName:BasicHttpRequest))(SimpleName:request))(SimpleType(SimpleName:IOException))(Block(TryStatement(Block(IfStatement(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:conn))(SimpleName:isOpen)))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:logger))(SimpleName:warn)(METHOD_INVOCATION_ARGUMENTS(TypeLiteral(SimpleType(SimpleName:ApacheHTTP)))(StringLiteral:<STR>))))(VariableDeclarationStatement(SimpleType(SimpleName:Socket))(VariableDeclarationFragment(SimpleName:socket)(MethodInvocation(SimpleName:getSocket)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:host))(SimpleName:getHostName))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:host))(SimpleName:getPort))(SimpleName:ssl)(BooleanLiteral:true)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:conn))(SimpleName:bind)(METHOD_INVOCATION_ARGUMENTS(SimpleName:socket)(SimpleName:params))))))(VariableDeclarationStatement(SimpleType(SimpleName:HttpContext))(VariableDeclarationFragment(SimpleName:context)(ClassInstanceCreation(SimpleType(SimpleName:BasicHttpContext))(NullLiteral))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:context))(SimpleName:setAttribute)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:ExecutionContext.HTTP_CONNECTION)(SimpleName:conn))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:context))(SimpleName:setAttribute)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:ExecutionContext.HTTP_TARGET_HOST)(SimpleName:host))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:context))(SimpleName:setAttribute)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:ExecutionContext.HTTP_REQUEST)(SimpleName:request))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:request))(SimpleName:setParams)(METHOD_INVOCATION_ARGUMENTS(SimpleName:params))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:httpexecutor))(SimpleName:preProcess)(METHOD_INVOCATION_ARGUMENTS(SimpleName:request)(SimpleName:httpproc)(SimpleName:context))))(VariableDeclarationStatement(SimpleType(SimpleName:HttpResponse))(VariableDeclarationFragment(SimpleName:response)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:httpexecutor))(SimpleName:execute)(METHOD_INVOCATION_ARGUMENTS(SimpleName:request)(SimpleName:conn)(SimpleName:context)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:httpexecutor))(SimpleName:postProcess)(METHOD_INVOCATION_ARGUMENTS(SimpleName:response)(SimpleName:httpproc)(SimpleName:context))))(IfStatement(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:connStrategy))(SimpleName:keepAlive)(METHOD_INVOCATION_ARGUMENTS(SimpleName:response)(SimpleName:context))))(ExpressionStatement(Assignment(SimpleName:keepAlive)(ASSIGNMENT_OPERATOR:=)(BooleanLiteral:false))))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:statusCode)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:response))(SimpleName:getStatusLine)))(SimpleName:getStatusCode))))(VariableDeclarationStatement(SimpleType(SimpleName:HttpEntity))(VariableDeclarationFragment(SimpleName:resp)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:response))(SimpleName:getEntity))))(IfStatement(InfixExpression(SimpleName:statusCode)(INFIX_EXPRESSION_OPERATOR:>=)(NumberLiteral:400))(Block(VariableDeclarationStatement(SimpleType(SimpleName:HTTPEntityInfo))(VariableDeclarationFragment(SimpleName:info)(ClassInstanceCreation(SimpleType(SimpleName:HTTPEntityInfo))(CastExpression(PrimitiveType:int)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:resp))(SimpleName:getContentLength)))(StringLiteral:<STR>)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:resp))(SimpleName:getContentType)))(SimpleName:getValue)))))(VariableDeclarationStatement(ArrayType(PrimitiveType:byte)(Dimension))(VariableDeclarationFragment(SimpleName:bytes)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:IOUtil))(SimpleName:toByteArray)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:resp))(SimpleName:getContent))))))(ThrowStatement(ClassInstanceCreation(SimpleType(SimpleName:HTTPErrorResponse))(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:response))(SimpleName:getStatusLine)))(SimpleName:getReasonPhrase))(InfixExpression(SimpleName:statusCode)(INFIX_EXPRESSION_OPERATOR:+)(StringLiteral:<STR>))(SimpleName:bytes)(SimpleName:info))))(Block(VariableDeclarationStatement(SimpleType(SimpleName:Header))(VariableDeclarationFragment(SimpleName:lastmodHeader)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:response))(SimpleName:getLastHeader)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:lastmod)(ConditionalExpression(InfixExpression(SimpleName:lastmodHeader)(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(StringLiteral:<STR>)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:lastmodHeader))(SimpleName:getValue)))))(VariableDeclarationStatement(SimpleType(SimpleName:Header))(VariableDeclarationFragment(SimpleName:contentType)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:resp))(SimpleName:getContentType))))(VariableDeclarationStatement(SimpleType(SimpleName:HTTPEntityInfo))(VariableDeclarationFragment(SimpleName:info)(ClassInstanceCreation(SimpleType(SimpleName:HTTPEntityInfo))(CastExpression(PrimitiveType:int)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:resp))(SimpleName:getContentLength)))(SimpleName:lastmod)(ConditionalExpression(InfixExpression(SimpleName:contentType)(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(NullLiteral)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:contentType))(SimpleName:getValue))))))(ReturnStatement(ClassInstanceCreation(SimpleType(SimpleName:HTTPResponse))(SimpleName:info)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:resp))(SimpleName:getContent)))))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:HttpException))(SimpleName:he))(Block(ThrowStatement(ClassInstanceCreation(SimpleType(SimpleName:IOException))(SimpleName:he))))))))))