(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(SimpleName:Packet)(SingleVariableDeclaration(SimpleType(SimpleName:RequestHeader))(SimpleName:requestHeader))(SingleVariableDeclaration(SimpleType(SimpleName:ReplyHeader))(SimpleName:replyHeader))(SingleVariableDeclaration(SimpleType(SimpleName:Record))(SimpleName:request))(SingleVariableDeclaration(SimpleType(SimpleName:Record))(SimpleName:response))(SingleVariableDeclaration(SimpleType(SimpleName:WatchRegistration))(SimpleName:watchRegistration))(SingleVariableDeclaration(PrimitiveType:boolean)(SimpleName:readOnly))(Block(ExpressionStatement(Assignment(FieldAccess(ThisExpression)(SimpleName:requestHeader))(ASSIGNMENT_OPERATOR:=)(SimpleName:requestHeader)))(ExpressionStatement(Assignment(FieldAccess(ThisExpression)(SimpleName:replyHeader))(ASSIGNMENT_OPERATOR:=)(SimpleName:replyHeader)))(ExpressionStatement(Assignment(FieldAccess(ThisExpression)(SimpleName:request))(ASSIGNMENT_OPERATOR:=)(SimpleName:request)))(ExpressionStatement(Assignment(FieldAccess(ThisExpression)(SimpleName:response))(ASSIGNMENT_OPERATOR:=)(SimpleName:response)))(TryStatement(Block(VariableDeclarationStatement(SimpleType(SimpleName:ByteArrayOutputStream))(VariableDeclarationFragment(SimpleName:baos)(ClassInstanceCreation(SimpleType(SimpleName:ByteArrayOutputStream)))))(VariableDeclarationStatement(SimpleType(SimpleName:BinaryOutputArchive))(VariableDeclarationFragment(SimpleName:boa)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:BinaryOutputArchive))(SimpleName:getArchive)(METHOD_INVOCATION_ARGUMENTS(SimpleName:baos)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:boa))(SimpleName:writeInt)(METHOD_INVOCATION_ARGUMENTS(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:-)(NumberLiteral:1))(StringLiteral:<STR>))))(IfStatement(InfixExpression(SimpleName:requestHeader)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:requestHeader))(SimpleName:serialize)(METHOD_INVOCATION_ARGUMENTS(SimpleName:boa)(StringLiteral:<STR>))))))(IfStatement(InstanceofExpression(SimpleName:request)(SimpleType(SimpleName:ConnectRequest)))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:request))(SimpleName:serialize)(METHOD_INVOCATION_ARGUMENTS(SimpleName:boa)(StringLiteral:<STR>))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:boa))(SimpleName:writeBool)(METHOD_INVOCATION_ARGUMENTS(SimpleName:readOnly)(StringLiteral:<STR>)))))(IfStatement(InfixExpression(SimpleName:request)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:request))(SimpleName:serialize)(METHOD_INVOCATION_ARGUMENTS(SimpleName:boa)(StringLiteral:<STR>)))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:baos))(SimpleName:close)))(ExpressionStatement(Assignment(FieldAccess(ThisExpression)(SimpleName:bb))(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ByteBuffer))(SimpleName:wrap)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:baos))(SimpleName:toByteArray))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(FieldAccess(ThisExpression)(SimpleName:bb)))(SimpleName:putInt)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(FieldAccess(ThisExpression)(SimpleName:bb)))(SimpleName:capacity))(INFIX_EXPRESSION_OPERATOR:-)(NumberLiteral:4)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(FieldAccess(ThisExpression)(SimpleName:bb)))(SimpleName:rewind))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:IOException))(SimpleName:e))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:LOG))(SimpleName:warn)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(SimpleName:e)))))))(ExpressionStatement(Assignment(FieldAccess(ThisExpression)(SimpleName:watchRegistration))(ASSIGNMENT_OPERATOR:=)(SimpleName:watchRegistration)))))))