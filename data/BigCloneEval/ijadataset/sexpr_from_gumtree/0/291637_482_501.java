(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:public)(Modifier:static)(PrimitiveType:void)(SimpleName:storePolicy)(SingleVariableDeclaration(SimpleType(SimpleName:DBBroker))(SimpleName:broker))(SingleVariableDeclaration(SimpleType(SimpleName:XmldbURI))(SimpleName:docPath))(SimpleType(SimpleName:EXistException))(SimpleType(SimpleName:IOException))(Block(VariableDeclarationStatement(SimpleType(SimpleName:XmldbURI))(VariableDeclarationFragment(SimpleName:docName)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:docPath))(SimpleName:lastSegment))))(VariableDeclarationStatement(SimpleType(SimpleName:URL))(VariableDeclarationFragment(SimpleName:url)(MethodInvocation(METHOD_INVOCATION_RECEIVER(TypeLiteral(SimpleType(SimpleName:XACMLUtil))))(SimpleName:getResource)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:docPath))(SimpleName:toString))))))(IfStatement(InfixExpression(SimpleName:url)(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(ReturnStatement))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:content)(MethodInvocation(SimpleName:toString)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:url))(SimpleName:openStream))))))(IfStatement(InfixExpression(SimpleName:content)(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(ReturnStatement))(VariableDeclarationStatement(SimpleType(SimpleName:Collection))(VariableDeclarationFragment(SimpleName:collection)(MethodInvocation(SimpleName:getPolicyCollection)(METHOD_INVOCATION_ARGUMENTS(SimpleName:broker)))))(IfStatement(InfixExpression(SimpleName:collection)(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(ReturnStatement))(VariableDeclarationStatement(SimpleType(SimpleName:TransactionManager))(VariableDeclarationFragment(SimpleName:transact)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:broker))(SimpleName:getBrokerPool)))(SimpleName:getTransactionManager))))(VariableDeclarationStatement(SimpleType(SimpleName:Txn))(VariableDeclarationFragment(SimpleName:txn)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:transact))(SimpleName:beginTransaction))))(TryStatement(Block(VariableDeclarationStatement(SimpleType(SimpleName:IndexInfo))(VariableDeclarationFragment(SimpleName:info)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:collection))(SimpleName:validateXMLResource)(METHOD_INVOCATION_ARGUMENTS(SimpleName:txn)(SimpleName:broker)(SimpleName:docName)(SimpleName:content)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:collection))(SimpleName:store)(METHOD_INVOCATION_ARGUMENTS(SimpleName:txn)(SimpleName:broker)(SimpleName:info)(SimpleName:content)(BooleanLiteral:false))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:transact))(SimpleName:commit)(METHOD_INVOCATION_ARGUMENTS(SimpleName:txn)))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:Exception))(SimpleName:e))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:transact))(SimpleName:abort)(METHOD_INVOCATION_ARGUMENTS(SimpleName:txn))))(IfStatement(InstanceofExpression(SimpleName:e)(SimpleType(SimpleName:EXistException)))(ThrowStatement(CastExpression(SimpleType(SimpleName:EXistException))(SimpleName:e))))(ThrowStatement(ClassInstanceCreation(SimpleType(SimpleName:EXistException))(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:docPath)(StringLiteral:<STR>))(SimpleName:e))))))))))