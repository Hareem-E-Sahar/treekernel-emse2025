(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(PrimitiveType:void)(SimpleName:read)(SingleVariableDeclaration(ArrayType(PrimitiveType:byte)(Dimension))(SimpleName:buffer))(SingleVariableDeclaration(PrimitiveType:int)(SimpleName:offset))(Block(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:len)(QualifiedName:buffer.length)))(VariableDeclarationStatement(SimpleType(SimpleName:DataInputBlock))(VariableDeclarationFragment(SimpleName:currentBlock)(MethodInvocation(SimpleName:getDataInputBlock)(METHOD_INVOCATION_ARGUMENTS(SimpleName:offset)))))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:blockAvailable)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:currentBlock))(SimpleName:available))))(IfStatement(InfixExpression(SimpleName:blockAvailable)(INFIX_EXPRESSION_OPERATOR:>)(SimpleName:len))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:currentBlock))(SimpleName:readFully)(METHOD_INVOCATION_ARGUMENTS(SimpleName:buffer)(NumberLiteral:0)(SimpleName:len))))(ReturnStatement)))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:remaining)(SimpleName:len)))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:writePos)(NumberLiteral:0)))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:currentOffset)(SimpleName:offset)))(WhileStatement(InfixExpression(SimpleName:remaining)(INFIX_EXPRESSION_OPERATOR:>)(NumberLiteral:0))(Block(VariableDeclarationStatement(PrimitiveType:boolean)(VariableDeclarationFragment(SimpleName:blockIsExpiring)(InfixExpression(SimpleName:remaining)(INFIX_EXPRESSION_OPERATOR:>=)(SimpleName:blockAvailable))))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:reqSize)))(IfStatement(SimpleName:blockIsExpiring)(Block(ExpressionStatement(Assignment(SimpleName:reqSize)(ASSIGNMENT_OPERATOR:=)(SimpleName:blockAvailable))))(Block(ExpressionStatement(Assignment(SimpleName:reqSize)(ASSIGNMENT_OPERATOR:=)(SimpleName:remaining)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:currentBlock))(SimpleName:readFully)(METHOD_INVOCATION_ARGUMENTS(SimpleName:buffer)(SimpleName:writePos)(SimpleName:reqSize))))(ExpressionStatement(Assignment(SimpleName:remaining)(ASSIGNMENT_OPERATOR:-=)(SimpleName:reqSize)))(ExpressionStatement(Assignment(SimpleName:writePos)(ASSIGNMENT_OPERATOR:+=)(SimpleName:reqSize)))(ExpressionStatement(Assignment(SimpleName:currentOffset)(ASSIGNMENT_OPERATOR:+=)(SimpleName:reqSize)))(IfStatement(SimpleName:blockIsExpiring)(Block(IfStatement(InfixExpression(SimpleName:currentOffset)(INFIX_EXPRESSION_OPERATOR:==)(SimpleName:_size))(Block(IfStatement(InfixExpression(SimpleName:remaining)(INFIX_EXPRESSION_OPERATOR:>)(NumberLiteral:0))(Block(ThrowStatement(ClassInstanceCreation(SimpleType(SimpleName:IllegalStateException))(StringLiteral:<STR>)))))(ExpressionStatement(Assignment(SimpleName:currentBlock)(ASSIGNMENT_OPERATOR:=)(NullLiteral)))(BreakStatement)))(ExpressionStatement(Assignment(SimpleName:currentBlock)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(SimpleName:getDataInputBlock)(METHOD_INVOCATION_ARGUMENTS(SimpleName:currentOffset)))))(ExpressionStatement(Assignment(SimpleName:blockAvailable)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:currentBlock))(SimpleName:available))))))))))))