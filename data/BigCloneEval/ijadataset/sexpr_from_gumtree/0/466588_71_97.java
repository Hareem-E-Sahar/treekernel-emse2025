(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:private)(Modifier:static)(ParameterizedType(SimpleType(SimpleName:Collection))(SimpleType(SimpleName:String)))(SimpleName:createTopLevelFiles)(SingleVariableDeclaration(SimpleType(SimpleName:Configuration))(SimpleName:configuration))(SingleVariableDeclaration(SimpleType(SimpleName:Collections))(SimpleName:collections))(SingleVariableDeclaration(SimpleType(SimpleName:Sets))(SimpleName:sets))(SimpleType(SimpleName:FlickrException))(SimpleType(SimpleName:SAXException))(SimpleType(SimpleName:IOException))(SimpleType(SimpleName:JDOMException))(SimpleType(SimpleName:TransformerException))(Block(VariableDeclarationStatement(ParameterizedType(SimpleType(SimpleName:Collection))(SimpleType(SimpleName:String)))(VariableDeclarationFragment(SimpleName:createdFiles)(ClassInstanceCreation(ParameterizedType(SimpleType(SimpleName:HashSet))(SimpleType(SimpleName:String))))))(VariableDeclarationStatement(SimpleType(SimpleName:File))(VariableDeclarationFragment(SimpleName:toplevelXmlFilename)(MethodInvocation(SimpleName:getToplevelXmlFilename)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:configuration.photosBaseDirectory)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Logger))(SimpleName:getLogger)(METHOD_INVOCATION_ARGUMENTS(TypeLiteral(SimpleType(SimpleName:FlickrDownload))))))(SimpleName:info)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:toplevelXmlFilename))(SimpleName:getAbsolutePath))))))(VariableDeclarationStatement(SimpleType(SimpleName:MediaIndexer))(VariableDeclarationFragment(SimpleName:indexer)(ClassInstanceCreation(SimpleType(SimpleName:XmlMediaIndexer))(SimpleName:configuration))))(VariableDeclarationStatement(SimpleType(SimpleName:Element))(VariableDeclarationFragment(SimpleName:toplevel)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(ClassInstanceCreation(SimpleType(SimpleName:Element))(StringLiteral:<STR>)))(SimpleName:addContent)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:XmlUtils))(SimpleName:createApplicationXml)))))(SimpleName:addContent)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:XmlUtils))(SimpleName:createUserXml)(METHOD_INVOCATION_ARGUMENTS(SimpleName:configuration))))))(SimpleName:addContent)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:collections))(SimpleName:createTopLevelXml)))))(SimpleName:addContent)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:sets))(SimpleName:createTopLevelXml)))))(SimpleName:addContent)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(ClassInstanceCreation(SimpleType(SimpleName:Stats))(SimpleName:sets)))(SimpleName:createStatsXml)(METHOD_INVOCATION_ARGUMENTS(SimpleName:indexer)))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:createdFiles))(SimpleName:addAll)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:indexer))(SimpleName:writeIndex)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:XmlUtils))(SimpleName:outputXmlFile)(METHOD_INVOCATION_ARGUMENTS(SimpleName:toplevelXmlFilename)(SimpleName:toplevel))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:createdFiles))(SimpleName:add)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:toplevelXmlFilename))(SimpleName:getName)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Logger))(SimpleName:getLogger)(METHOD_INVOCATION_ARGUMENTS(TypeLiteral(SimpleType(SimpleName:FlickrDownload))))))(SimpleName:info)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:IOUtils))(SimpleName:copyToFileAndCloseStreams)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(TypeLiteral(SimpleType(SimpleName:XmlUtils))))(SimpleName:getResourceAsStream)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:PHOTOS_CSS_FILENAME))))(ClassInstanceCreation(SimpleType(SimpleName:File))(QualifiedName:configuration.photosBaseDirectory)(SimpleName:PHOTOS_CSS_FILENAME)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:createdFiles))(SimpleName:add)(METHOD_INVOCATION_ARGUMENTS(SimpleName:PHOTOS_CSS_FILENAME))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:IOUtils))(SimpleName:copyToFileAndCloseStreams)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(TypeLiteral(SimpleType(SimpleName:XmlUtils))))(SimpleName:getResourceAsStream)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:PLAY_ICON_FILENAME))))(ClassInstanceCreation(SimpleType(SimpleName:File))(QualifiedName:configuration.photosBaseDirectory)(SimpleName:PLAY_ICON_FILENAME)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:createdFiles))(SimpleName:add)(METHOD_INVOCATION_ARGUMENTS(SimpleName:PLAY_ICON_FILENAME))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:XmlUtils))(SimpleName:performXsltTransformation)(METHOD_INVOCATION_ARGUMENTS(SimpleName:configuration)(StringLiteral:<STR>)(SimpleName:toplevelXmlFilename)(ClassInstanceCreation(SimpleType(SimpleName:File))(QualifiedName:configuration.photosBaseDirectory)(SimpleName:ALL_SETS_HTML_FILENAME)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:createdFiles))(SimpleName:add)(METHOD_INVOCATION_ARGUMENTS(SimpleName:ALL_SETS_HTML_FILENAME))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:XmlUtils))(SimpleName:performXsltTransformation)(METHOD_INVOCATION_ARGUMENTS(SimpleName:configuration)(StringLiteral:<STR>)(SimpleName:toplevelXmlFilename)(ClassInstanceCreation(SimpleType(SimpleName:File))(QualifiedName:configuration.photosBaseDirectory)(SimpleName:ALL_COLLECTIONS_HTML_FILENAME)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:createdFiles))(SimpleName:add)(METHOD_INVOCATION_ARGUMENTS(SimpleName:ALL_COLLECTIONS_HTML_FILENAME))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:createdFiles))(SimpleName:add)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:Collections.COLLECTIONS_ICON_DIRECTORY))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:XmlUtils))(SimpleName:performXsltTransformation)(METHOD_INVOCATION_ARGUMENTS(SimpleName:configuration)(StringLiteral:<STR>)(SimpleName:toplevelXmlFilename)(ClassInstanceCreation(SimpleType(SimpleName:File))(QualifiedName:configuration.photosBaseDirectory)(SimpleName:STATS_HTML_FILENAME)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:createdFiles))(SimpleName:add)(METHOD_INVOCATION_ARGUMENTS(SimpleName:STATS_HTML_FILENAME))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:sets))(SimpleName:performXsltTransformation)))(EnhancedForStatement(SingleVariableDeclaration(SimpleType(SimpleName:AbstractSet))(SimpleName:set))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:sets))(SimpleName:getSets))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:createdFiles))(SimpleName:add)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:set))(SimpleName:getSetId)))))))(ReturnStatement(SimpleName:createdFiles))))))