(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:synchronized)(PrimitiveType:void)(SimpleName:write)(SingleVariableDeclaration(ArrayType(PrimitiveType:byte)(Dimension))(SimpleName:arr))(SingleVariableDeclaration(PrimitiveType:int)(SimpleName:offset))(SingleVariableDeclaration(PrimitiveType:int)(SimpleName:length))(SimpleType(SimpleName:IOException))(Block(SynchronizedStatement(SimpleName:writeLock)(Block(IfStatement(InfixExpression(SimpleName:readerClosed)(INFIX_EXPRESSION_OPERATOR:||)(SimpleName:writerClosed))(ThrowStatement(ClassInstanceCreation(SimpleType(SimpleName:IOException))(StringLiteral:<STR>))))(IfStatement(InfixExpression(SimpleName:growBuf)(INFIX_EXPRESSION_OPERATOR:&&)(ParenthesizedExpression(InfixExpression(SimpleName:length)(INFIX_EXPRESSION_OPERATOR:>)(MethodInvocation(SimpleName:availableSpace)))))(ExpressionStatement(MethodInvocation(SimpleName:growBuf)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(SimpleName:length)(INFIX_EXPRESSION_OPERATOR:-)(MethodInvocation(SimpleName:availableSpace)))))))(WhileStatement(InfixExpression(SimpleName:length)(INFIX_EXPRESSION_OPERATOR:>)(NumberLiteral:0))(Block(WhileStatement(InfixExpression(MethodInvocation(SimpleName:availableSpace))(INFIX_EXPRESSION_OPERATOR:==)(NumberLiteral:0))(Block(TryStatement(Block(ExpressionStatement(MethodInvocation(SimpleName:wait))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:InterruptedException))(SimpleName:e))(Block(ThrowStatement(ClassInstanceCreation(SimpleType(SimpleName:InterruptedIOException)))))))))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:availableSpace)(MethodInvocation(SimpleName:availableSpace))))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:amountToWrite)(ConditionalExpression(InfixExpression(SimpleName:length)(INFIX_EXPRESSION_OPERATOR:>)(SimpleName:availableSpace))(SimpleName:availableSpace)(SimpleName:length))))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:part1Size)(ConditionalExpression(InfixExpression(InfixExpression(QualifiedName:buf.length)(INFIX_EXPRESSION_OPERATOR:-)(SimpleName:writeIndex))(INFIX_EXPRESSION_OPERATOR:>=)(SimpleName:amountToWrite))(SimpleName:amountToWrite)(InfixExpression(QualifiedName:buf.length)(INFIX_EXPRESSION_OPERATOR:-)(SimpleName:writeIndex)))))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:part2Size)(ConditionalExpression(InfixExpression(InfixExpression(SimpleName:amountToWrite)(INFIX_EXPRESSION_OPERATOR:-)(SimpleName:part1Size))(INFIX_EXPRESSION_OPERATOR:>)(NumberLiteral:0))(InfixExpression(SimpleName:amountToWrite)(INFIX_EXPRESSION_OPERATOR:-)(SimpleName:part1Size))(NumberLiteral:0))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:System))(SimpleName:arraycopy)(METHOD_INVOCATION_ARGUMENTS(SimpleName:arr)(SimpleName:offset)(SimpleName:buf)(SimpleName:writeIndex)(SimpleName:part1Size))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:System))(SimpleName:arraycopy)(METHOD_INVOCATION_ARGUMENTS(SimpleName:arr)(InfixExpression(SimpleName:offset)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:part1Size))(SimpleName:buf)(NumberLiteral:0)(SimpleName:part2Size))))(ExpressionStatement(Assignment(SimpleName:offset)(ASSIGNMENT_OPERATOR:+=)(SimpleName:amountToWrite)))(ExpressionStatement(Assignment(SimpleName:length)(ASSIGNMENT_OPERATOR:-=)(SimpleName:amountToWrite)))(ExpressionStatement(Assignment(SimpleName:writeIndex)(ASSIGNMENT_OPERATOR:=)(InfixExpression(ParenthesizedExpression(InfixExpression(SimpleName:writeIndex)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:amountToWrite)))(INFIX_EXPRESSION_OPERATOR:%)(QualifiedName:buf.length))))(ExpressionStatement(MethodInvocation(SimpleName:notifyAll)))))))))))