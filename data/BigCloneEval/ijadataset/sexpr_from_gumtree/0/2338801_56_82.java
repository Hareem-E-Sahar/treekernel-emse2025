(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:public)(PrimitiveType:void)(SimpleName:run)(Block(TryStatement(Block(VariableDeclarationStatement(ArrayType(PrimitiveType:byte)(Dimension))(VariableDeclarationFragment(SimpleName:byteBuf)(ArrayCreation(ArrayType(PrimitiveType:byte)(Dimension(NumberLiteral:20000))))))(VariableDeclarationStatement(PrimitiveType:boolean)(VariableDeclarationFragment(SimpleName:tryAgain)(BooleanLiteral:false)))(WhileStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:manager))(SimpleName:notifyThreadReady)(METHOD_INVOCATION_ARGUMENTS(ThisExpression)(CastExpression(PrimitiveType:int)(ParenthesizedExpression(InfixExpression(SimpleName:currentPosition)(INFIX_EXPRESSION_OPERATOR:-)(SimpleName:startPosition))))))(Block(DoStatement(Block(TryStatement(Block(ExpressionStatement(Assignment(SimpleName:tryAgain)(ASSIGNMENT_OPERATOR:=)(BooleanLiteral:false)))(ExpressionStatement(Assignment(SimpleName:lastMeasuredPosition)(ASSIGNMENT_OPERATOR:=)(SimpleName:currentPosition)))(VariableDeclarationStatement(SimpleType(SimpleName:HttpResponse))(VariableDeclarationFragment(SimpleName:response)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:request))(SimpleName:execute)(METHOD_INVOCATION_ARGUMENTS(SimpleName:currentPosition)(InfixExpression(SimpleName:endPosition)(INFIX_EXPRESSION_OPERATOR:-)(NumberLiteral:1))(NumberLiteral:1000)))))(VariableDeclarationStatement(SimpleType(SimpleName:InputStream))(VariableDeclarationFragment(SimpleName:in)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:response))(SimpleName:getInputStream))))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:bytesRead)(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:-)(NumberLiteral:2))))(WhileStatement(InfixExpression(InfixExpression(InfixExpression(SimpleName:currentPosition)(INFIX_EXPRESSION_OPERATOR:<)(SimpleName:endPosition))(INFIX_EXPRESSION_OPERATOR:&&)(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:manager))(SimpleName:isFinished))))(INFIX_EXPRESSION_OPERATOR:&&)(InfixExpression(ParenthesizedExpression(Assignment(SimpleName:bytesRead)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:in))(SimpleName:read)(METHOD_INVOCATION_ARGUMENTS(SimpleName:byteBuf)))))(INFIX_EXPRESSION_OPERATOR:>=)(NumberLiteral:0)))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:buffer))(SimpleName:write)(METHOD_INVOCATION_ARGUMENTS(SimpleName:byteBuf)(SimpleName:bytesRead)(SimpleName:currentPosition))))(ExpressionStatement(Assignment(SimpleName:currentPosition)(ASSIGNMENT_OPERATOR:+=)(SimpleName:bytesRead)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:response))(SimpleName:close))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:SocketTimeoutException))(SimpleName:e))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:log))(SimpleName:debug)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:startPosition)(StringLiteral:<STR>)(SimpleName:currentPosition)))))(ExpressionStatement(Assignment(SimpleName:tryAgain)(ASSIGNMENT_OPERATOR:=)(BooleanLiteral:true)))))))(SimpleName:tryAgain)))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:Exception))(SimpleName:e))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:e))(SimpleName:printStackTrace))))))))))