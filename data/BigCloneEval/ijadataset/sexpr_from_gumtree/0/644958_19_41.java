(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:public)(TypeParameter(SimpleName:T))(SimpleType(SimpleName:T))(SimpleName:build)(SingleVariableDeclaration(SimpleType(SimpleName:Object))(SimpleName:source))(SingleVariableDeclaration(SimpleType(SimpleName:String))(SimpleName:propertyName))(SingleVariableDeclaration(ParameterizedType(SimpleType(SimpleName:Class))(SimpleType(SimpleName:T)))(SimpleName:propertyType))(Block(VariableDeclarationStatement(SimpleType(SimpleName:Class))(VariableDeclarationFragment(SimpleName:sourceClass)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:source))(SimpleName:getClass))))(VariableDeclarationStatement(SimpleType(SimpleName:PropertyAdapter))(VariableDeclarationFragment(SimpleName:adapter)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:propertyAccess))(SimpleName:getAdapter)(METHOD_INVOCATION_ARGUMENTS(SimpleName:sourceClass))))(SimpleName:getPropertyAdapter)(METHOD_INVOCATION_ARGUMENTS(SimpleName:propertyName)))))(IfStatement(InfixExpression(SimpleName:adapter)(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(ThrowStatement(ClassInstanceCreation(SimpleType(SimpleName:RuntimeException))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ServiceMessages))(SimpleName:noSuchProperty)(METHOD_INVOCATION_ARGUMENTS(SimpleName:sourceClass)(SimpleName:propertyName))))))(IfStatement(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:adapter))(SimpleName:isRead)))(ThrowStatement(ClassInstanceCreation(SimpleType(SimpleName:RuntimeException))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ServiceMessages))(SimpleName:readNotSupported)(METHOD_INVOCATION_ARGUMENTS(SimpleName:source)(SimpleName:propertyName))))))(IfStatement(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:propertyType))(SimpleName:isAssignableFrom)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:adapter))(SimpleName:getType)))))(ThrowStatement(ClassInstanceCreation(SimpleType(SimpleName:RuntimeException))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:ServiceMessages))(SimpleName:propertyTypeMismatch)(METHOD_INVOCATION_ARGUMENTS(SimpleName:propertyName)(SimpleName:sourceClass)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:adapter))(SimpleName:getType))(SimpleName:propertyType))))))(VariableDeclarationStatement(SimpleType(SimpleName:ClassFab))(VariableDeclarationFragment(SimpleName:cf)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:classFactory))(SimpleName:newClass)(METHOD_INVOCATION_ARGUMENTS(SimpleName:propertyType)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:cf))(SimpleName:addField)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(InfixExpression(QualifiedName:Modifier.PRIVATE)(INFIX_EXPRESSION_OPERATOR:|)(QualifiedName:Modifier.FINAL))(SimpleName:sourceClass))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:cf))(SimpleName:addConstructor)(METHOD_INVOCATION_ARGUMENTS(ArrayCreation(ArrayType(SimpleType(SimpleName:Class))(Dimension))(ArrayInitializer(SimpleName:sourceClass)))(NullLiteral)(StringLiteral:<STR>))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:body)(MethodInvocation(SimpleName:format)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:adapter))(SimpleName:getReadMethod)))(SimpleName:getName))))))(VariableDeclarationStatement(SimpleType(SimpleName:MethodSignature))(VariableDeclarationFragment(SimpleName:sig)(ClassInstanceCreation(SimpleType(SimpleName:MethodSignature))(SimpleName:propertyType)(StringLiteral:<STR>)(NullLiteral)(NullLiteral))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:cf))(SimpleName:addMethod)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:Modifier.PRIVATE)(SimpleName:sig)(SimpleName:body))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:toString)(MethodInvocation(SimpleName:format)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(SimpleName:propertyName)(SimpleName:source)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:cf))(SimpleName:proxyMethodsToDelegate)(METHOD_INVOCATION_ARGUMENTS(SimpleName:propertyType)(StringLiteral:<STR>)(SimpleName:toString))))(VariableDeclarationStatement(SimpleType(SimpleName:Class))(VariableDeclarationFragment(SimpleName:shadowClass)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:cf))(SimpleName:createClass))))(TryStatement(Block(VariableDeclarationStatement(SimpleType(SimpleName:Constructor))(VariableDeclarationFragment(SimpleName:cc)(ArrayAccess(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:shadowClass))(SimpleName:getConstructors))(NumberLiteral:0))))(VariableDeclarationStatement(SimpleType(SimpleName:Object))(VariableDeclarationFragment(SimpleName:instance)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:cc))(SimpleName:newInstance)(METHOD_INVOCATION_ARGUMENTS(SimpleName:source)))))(ReturnStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:propertyType))(SimpleName:cast)(METHOD_INVOCATION_ARGUMENTS(SimpleName:instance)))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:Exception))(SimpleName:ex))(Block(ThrowStatement(ClassInstanceCreation(SimpleType(SimpleName:RuntimeException))(SimpleName:ex))))))))))