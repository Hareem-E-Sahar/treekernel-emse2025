(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:public)(SimpleType(SimpleName:BankPort))(SimpleName:createPort)(SingleVariableDeclaration(PrimitiveType:boolean)(SimpleName:read))(SingleVariableDeclaration(PrimitiveType:boolean)(SimpleName:write))(SingleVariableDeclaration(SimpleType(SimpleName:String))(SimpleName:writeMode))(Block(VariableDeclarationStatement(SimpleType(SimpleName:Port))(VariableDeclarationFragment(SimpleName:a)(MethodInvocation(SimpleName:makeDataPort))))(VariableDeclarationStatement(SimpleType(SimpleName:Port))(VariableDeclarationFragment(SimpleName:d)(MethodInvocation(SimpleName:makeDataPort))))(VariableDeclarationStatement(SimpleType(SimpleName:Port))(VariableDeclarationFragment(SimpleName:e)(MethodInvocation(SimpleName:makeDataPort))))(VariableDeclarationStatement(SimpleType(SimpleName:Port))(VariableDeclarationFragment(SimpleName:w)(MethodInvocation(SimpleName:makeDataPort))))(VariableDeclarationStatement(SimpleType(SimpleName:Bus))(VariableDeclarationFragment(SimpleName:b)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(SimpleName:getExit)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:Exit.DONE))))(SimpleName:makeDataBus))))(IfStatement(InfixExpression(FieldAccess(ThisExpression)(SimpleName:ports))(INFIX_EXPRESSION_OPERATOR:==)(QualifiedName:Collections.EMPTY_LIST))(ExpressionStatement(Assignment(FieldAccess(ThisExpression)(SimpleName:ports))(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(SimpleType(SimpleName:ArrayList))(NumberLiteral:2)))))(VariableDeclarationStatement(SimpleType(SimpleName:BankPort))(VariableDeclarationFragment(SimpleName:port)(MethodInvocation(SimpleName:createBankPort)(METHOD_INVOCATION_ARGUMENTS(SimpleName:a)(SimpleName:d)(SimpleName:e)(SimpleName:w)(SimpleName:b)(SimpleName:read)(SimpleName:write)(SimpleName:writeMode)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(FieldAccess(ThisExpression)(SimpleName:ports)))(SimpleName:add)(METHOD_INVOCATION_ARGUMENTS(SimpleName:port))))(ReturnStatement(SimpleName:port))))))