(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(MarkerAnnotation(SimpleName:Override))(Modifier:public)(PrimitiveType:void)(SimpleName:process)(SingleVariableDeclaration(PrimitiveType:int)(SimpleName:time))(SingleVariableDeclaration(ParameterizedType(SimpleType(SimpleName:Collection))(WildcardType(SimpleType(SimpleName:Command))))(SimpleName:agentCommands))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Logger))(SimpleName:debug)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:time)(StringLiteral:<STR>)(SimpleName:agentCommands)))))(ExpressionStatement(SuperMethodInvocation(SimpleName:process)(SimpleName:time)(SimpleName:agentCommands)))(EnhancedForStatement(SingleVariableDeclaration(SimpleType(SimpleName:Channel))(SimpleName:next))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:channels))(SimpleName:values))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:next))(SimpleName:timestep)))))(EnhancedForStatement(SingleVariableDeclaration(SimpleType(SimpleName:Command))(SimpleName:next))(SimpleName:agentCommands)(Block(IfStatement(InstanceofExpression(SimpleName:next)(SimpleType(SimpleName:AKSubscribe)))(Block(ExpressionStatement(MethodInvocation(SimpleName:processSubscribe)(METHOD_INVOCATION_ARGUMENTS(CastExpression(SimpleType(SimpleName:AKSubscribe))(SimpleName:next)))))))))(EnhancedForStatement(SingleVariableDeclaration(SimpleType(SimpleName:Command))(SimpleName:next))(SimpleName:agentCommands)(Block(IfStatement(InstanceofExpression(SimpleName:next)(SimpleType(SimpleName:AKSpeak)))(Block(TryStatement(Block(VariableDeclarationStatement(SimpleType(SimpleName:AKSpeak))(VariableDeclarationFragment(SimpleName:speak)(CastExpression(SimpleType(SimpleName:AKSpeak))(SimpleName:next))))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:channelNumber)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:speak))(SimpleName:getChannel))))(VariableDeclarationStatement(SimpleType(SimpleName:Channel))(VariableDeclarationFragment(SimpleName:channel)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:channels))(SimpleName:get)(METHOD_INVOCATION_ARGUMENTS(SimpleName:channelNumber)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Logger))(SimpleName:debug)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:speak)))))(IfStatement(InfixExpression(SimpleName:channel)(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(Block(ThrowStatement(ClassInstanceCreation(SimpleType(SimpleName:InvalidMessageException))(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:channelNumber)))))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:channel))(SimpleName:push)(METHOD_INVOCATION_ARGUMENTS(SimpleName:speak)))))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:InvalidMessageException))(SimpleName:e))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Logger))(SimpleName:warn)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:next)(StringLiteral:<STR>)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:e))(SimpleName:getMessage)))))))))))))(EnhancedForStatement(SingleVariableDeclaration(SimpleType(SimpleName:Entity))(SimpleName:agent))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:world))(SimpleName:getEntitiesOfType)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:StandardEntityURN.FIRE_BRIGADE)(QualifiedName:StandardEntityURN.FIRE_STATION)(QualifiedName:StandardEntityURN.POLICE_FORCE)(QualifiedName:StandardEntityURN.POLICE_OFFICE)(QualifiedName:StandardEntityURN.AMBULANCE_TEAM)(QualifiedName:StandardEntityURN.AMBULANCE_CENTRE)(QualifiedName:StandardEntityURN.CIVILIAN)))(Block(EnhancedForStatement(SingleVariableDeclaration(SimpleType(SimpleName:Channel))(SimpleName:channel))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:channels))(SimpleName:values))(Block(ExpressionStatement(MethodInvocation(SimpleName:addHearing)(METHOD_INVOCATION_ARGUMENTS(SimpleName:agent)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:channel))(SimpleName:getMessagesForAgent)(METHOD_INVOCATION_ARGUMENTS(SimpleName:agent))))))))))))))