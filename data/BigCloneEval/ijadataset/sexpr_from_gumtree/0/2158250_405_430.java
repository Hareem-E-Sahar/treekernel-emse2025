(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:protected)(PrimitiveType:int)(SimpleName:insertDataEvents)(SingleVariableDeclaration(SimpleType(SimpleName:ChannelRouterContext))(SimpleName:context))(SingleVariableDeclaration(SimpleType(SimpleName:DataMetaData))(SimpleName:dataMetaData))(SingleVariableDeclaration(ParameterizedType(SimpleType(SimpleName:Collection))(SimpleType(SimpleName:String)))(SimpleName:nodeIds))(SingleVariableDeclaration(SimpleType(SimpleName:TriggerRouter))(SimpleName:triggerRouter))(Block(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:numberOfDataEventsInserted)(NumberLiteral:0)))(IfStatement(InfixExpression(InfixExpression(SimpleName:nodeIds)(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(INFIX_EXPRESSION_OPERATOR:||)(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:nodeIds))(SimpleName:size))(INFIX_EXPRESSION_OPERATOR:==)(NumberLiteral:0)))(Block(ExpressionStatement(Assignment(SimpleName:nodeIds)(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(ParameterizedType(SimpleType(SimpleName:HashSet))(SimpleType(SimpleName:String)))(NumberLiteral:1))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:nodeIds))(SimpleName:add)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:Constants.UNROUTED_NODE_ID))))))(VariableDeclarationStatement(PrimitiveType:long)(VariableDeclarationFragment(SimpleName:ts)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:System))(SimpleName:currentTimeMillis))))(EnhancedForStatement(SingleVariableDeclaration(SimpleType(SimpleName:String))(SimpleName:nodeId))(SimpleName:nodeIds)(Block(VariableDeclarationStatement(ParameterizedType(SimpleType(SimpleName:Map))(SimpleType(SimpleName:String))(SimpleType(SimpleName:OutgoingBatch)))(VariableDeclarationFragment(SimpleName:batches)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:context))(SimpleName:getBatchesByNodes))))(VariableDeclarationStatement(SimpleType(SimpleName:OutgoingBatch))(VariableDeclarationFragment(SimpleName:batch)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:batches))(SimpleName:get)(METHOD_INVOCATION_ARGUMENTS(SimpleName:nodeId)))))(IfStatement(InfixExpression(SimpleName:batch)(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(Block(ExpressionStatement(Assignment(SimpleName:batch)(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(SimpleType(SimpleName:OutgoingBatch))(SimpleName:nodeId)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:dataMetaData))(SimpleName:getNodeChannel)))(SimpleName:getChannelId))(QualifiedName:Status.RT))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:outgoingBatchService))(SimpleName:insertOutgoingBatch)(METHOD_INVOCATION_ARGUMENTS(SimpleName:batch))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:context))(SimpleName:getBatchesByNodes)))(SimpleName:put)(METHOD_INVOCATION_ARGUMENTS(SimpleName:nodeId)(SimpleName:batch))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:batch))(SimpleName:incrementEventCount)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:dataMetaData))(SimpleName:getData)))(SimpleName:getDataEventType)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:batch))(SimpleName:incrementDataEventCount)))(ExpressionStatement(PostfixExpression(SimpleName:numberOfDataEventsInserted)(POSTFIX_EXPRESSION_OPERATOR:++)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:context))(SimpleName:addDataEvent)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:dataMetaData))(SimpleName:getData)))(SimpleName:getDataId))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:batch))(SimpleName:getBatchId))(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:triggerRouter))(SimpleName:getRouter)))(SimpleName:getRouterId)))))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:batchAlgorithms))(SimpleName:get)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:context))(SimpleName:getChannel)))(SimpleName:getBatchAlgorithm)))))(SimpleName:isBatchComplete)(METHOD_INVOCATION_ARGUMENTS(SimpleName:batch)(SimpleName:dataMetaData)(SimpleName:context)))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:context))(SimpleName:setNeedsCommitted)(METHOD_INVOCATION_ARGUMENTS(BooleanLiteral:true))))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:context))(SimpleName:incrementStat)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:System))(SimpleName:currentTimeMillis))(INFIX_EXPRESSION_OPERATOR:-)(SimpleName:ts))(QualifiedName:ChannelRouterContext.STAT_INSERT_DATA_EVENTS_MS))))(ReturnStatement(SimpleName:numberOfDataEventsInserted))))))