(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:protected)(Modifier:synchronized)(SimpleType(SimpleName:InputStream))(SimpleName:openURLConnection)(SingleVariableDeclaration(SimpleType(SimpleName:StreamDataSetDescriptor))(SimpleName:dsd))(SingleVariableDeclaration(SimpleType(SimpleName:Datum))(SimpleName:start))(SingleVariableDeclaration(SimpleType(SimpleName:Datum))(SimpleName:end))(SingleVariableDeclaration(SimpleType(SimpleName:StringBuffer))(SimpleName:additionalFormData))(SimpleType(SimpleName:DasException))(Block(VariableDeclarationStatement(ArrayType(SimpleType(SimpleName:String))(Dimension))(VariableDeclarationFragment(SimpleName:tokens)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:dsd))(SimpleName:getDataSetID)))(SimpleName:split)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:dataSetID)(ArrayAccess(SimpleName:tokens)(NumberLiteral:1))))(TryStatement(Block(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:formData)(MethodInvocation(SimpleName:createFormDataString)(METHOD_INVOCATION_ARGUMENTS(SimpleName:dataSetID)(SimpleName:start)(SimpleName:end)(SimpleName:additionalFormData)))))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:dsd))(SimpleName:isRestrictedAccess))(Block(ExpressionStatement(Assignment(SimpleName:key)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:server))(SimpleName:getKey)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))))(IfStatement(InfixExpression(SimpleName:key)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(ExpressionStatement(Assignment(SimpleName:formData)(ASSIGNMENT_OPERATOR:+=)(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:URLEncoder))(SimpleName:encode)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:key))(SimpleName:toString))(StringLiteral:<STR>))))))))))(IfStatement(SimpleName:redirect)(Block(ExpressionStatement(Assignment(SimpleName:formData)(ASSIGNMENT_OPERATOR:+=)(StringLiteral:<STR>)))))(VariableDeclarationStatement(SimpleType(SimpleName:URL))(VariableDeclarationFragment(SimpleName:serverURL)(MethodInvocation(METHOD_INVOCATION_RECEIVER(FieldAccess(ThisExpression)(SimpleName:server)))(SimpleName:getURL)(METHOD_INVOCATION_ARGUMENTS(SimpleName:formData)))))(ExpressionStatement(Assignment(FieldAccess(ThisExpression)(SimpleName:lastRequestURL))(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:String))(SimpleName:valueOf)(METHOD_INVOCATION_ARGUMENTS(SimpleName:serverURL)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:DasLogger))(SimpleName:getLogger)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:DasLogger.DATA_TRANSFER_LOG))))(SimpleName:info)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:serverURL))(SimpleName:toString))))))(VariableDeclarationStatement(SimpleType(SimpleName:URLConnection))(VariableDeclarationFragment(SimpleName:urlConnection)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:serverURL))(SimpleName:openConnection))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:urlConnection))(SimpleName:connect)))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:contentType)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:urlConnection))(SimpleName:getContentType))))(IfStatement(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:contentType))(SimpleName:equalsIgnoreCase)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))(Block(VariableDeclarationStatement(SimpleType(SimpleName:BufferedReader))(VariableDeclarationFragment(SimpleName:bin)(ClassInstanceCreation(SimpleType(SimpleName:BufferedReader))(ClassInstanceCreation(SimpleType(SimpleName:InputStreamReader))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:urlConnection))(SimpleName:getInputStream))))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:line)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:bin))(SimpleName:readLine))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:message)(StringLiteral:<STR>)))(WhileStatement(InfixExpression(SimpleName:line)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(ExpressionStatement(Assignment(SimpleName:message)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:message))(SimpleName:concat)(METHOD_INVOCATION_ARGUMENTS(SimpleName:line)))))(ExpressionStatement(Assignment(SimpleName:line)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:bin))(SimpleName:readLine))))))(ThrowStatement(ClassInstanceCreation(SimpleType(SimpleName:DasIOException))(SimpleName:message)))))(VariableDeclarationStatement(SimpleType(SimpleName:InputStream))(VariableDeclarationFragment(SimpleName:in)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:urlConnection))(SimpleName:getInputStream))))(IfStatement(MethodInvocation(SimpleName:isLegacyStream))(Block(ReturnStatement(MethodInvocation(SimpleName:processLegacyStream)(METHOD_INVOCATION_ARGUMENTS(SimpleName:in)))))(Block(ThrowStatement(ClassInstanceCreation(SimpleType(SimpleName:UnsupportedOperationException)))))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:IOException))(SimpleName:e))(Block(ThrowStatement(ClassInstanceCreation(SimpleType(SimpleName:DasIOException))(SimpleName:e))))))))))