(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:private)(PrimitiveType:void)(SimpleName:publishAndCleanUpAfterLinkRemoval)(SingleVariableDeclaration(SimpleType(SimpleName:Link))(SimpleName:link))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:link))(SimpleName:setCost)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:LinkCost.MAX_VALUE))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:routingAlgorithms))(SimpleName:get)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:UuidHelper))(SimpleName:getSegmentFromEndpointNameOrEndpointUuid)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:link))(SimpleName:getDestinationUuid)))))))(SimpleName:publishLink)(METHOD_INVOCATION_ARGUMENTS(SimpleName:link))))(EnhancedForStatement(SingleVariableDeclaration(ParameterizedType(SimpleType(SimpleName:Map))(SimpleType(SimpleName:String))(SimpleType(SimpleName:Link)))(SimpleName:routingTable))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:routingTables))(SimpleName:values))(Block(EnhancedForStatement(SingleVariableDeclaration(SimpleType(SimpleName:String))(SimpleName:uuidKey))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:routingTable))(SimpleName:keySet))(Block(VariableDeclarationStatement(SimpleType(SimpleName:Link))(VariableDeclarationFragment(SimpleName:l)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:routingTable))(SimpleName:get)(METHOD_INVOCATION_ARGUMENTS(SimpleName:uuidKey)))))(IfStatement(InfixExpression(ParenthesizedExpression(InfixExpression(SimpleName:l)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral)))(INFIX_EXPRESSION_OPERATOR:&&)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:l))(SimpleName:equals)(METHOD_INVOCATION_ARGUMENTS(ParenthesizedExpression(SimpleName:link)))))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:routingTable))(SimpleName:remove)(METHOD_INVOCATION_ARGUMENTS(SimpleName:uuidKey))))(EnhancedForStatement(SingleVariableDeclaration(SimpleType(SimpleName:String))(SimpleName:aliasKey))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:aliasTable))(SimpleName:keySet))(Block(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:uuid)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:aliasTable))(SimpleName:get)(METHOD_INVOCATION_ARGUMENTS(SimpleName:aliasKey)))))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:uuidKey))(SimpleName:equals)(METHOD_INVOCATION_ARGUMENTS(SimpleName:uuid)))(Block(ExpressionStatement(MethodInvocation(SimpleName:removeAlias)(METHOD_INVOCATION_ARGUMENTS(SimpleName:aliasKey))))))))))))(IfStatement(InfixExpression(SimpleName:COOS)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:COOS))(SimpleName:removeChannel)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:link))(SimpleName:getDestinationUuid))))))))(EnhancedForStatement(SingleVariableDeclaration(SimpleType(SimpleName:String))(SimpleName:aliasKey))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:aliasTable))(SimpleName:keySet))(Block(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:uuid)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:aliasTable))(SimpleName:get)(METHOD_INVOCATION_ARGUMENTS(SimpleName:aliasKey)))))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:link))(SimpleName:getDestinationUuid)))(SimpleName:equals)(METHOD_INVOCATION_ARGUMENTS(SimpleName:uuid)))(Block(ExpressionStatement(MethodInvocation(SimpleName:removeAlias)(METHOD_INVOCATION_ARGUMENTS(SimpleName:aliasKey))))))))(IfStatement(InfixExpression(ParenthesizedExpression(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:link))(SimpleName:getChannel))(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral)))(INFIX_EXPRESSION_OPERATOR:&&)(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:link))(SimpleName:getChannel)))(SimpleName:isDefaultGw))))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:links))(SimpleName:remove)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:link))(SimpleName:getLinkId)))))))))))