(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:public)(Modifier:static)(PrimitiveType:boolean)(SimpleName:ensureColumn)(SingleVariableDeclaration(SimpleType(SimpleName:Database))(SimpleName:db))(SingleVariableDeclaration(SimpleType(SimpleName:String))(SimpleName:tablename))(SingleVariableDeclaration(SimpleType(SimpleName:String))(SimpleName:column))(Block(SynchronizedStatement(QualifiedName:db.commitLock)(Block(VariableDeclarationStatement(SimpleType(SimpleName:Transaction))(VariableDeclarationFragment(SimpleName:tran)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:db))(SimpleName:readwriteTran))))(TryStatement(Block(VariableDeclarationStatement(SimpleType(SimpleName:Table))(VariableDeclarationFragment(SimpleName:table)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:tran))(SimpleName:ck_getTable)(METHOD_INVOCATION_ARGUMENTS(SimpleName:tablename)))))(VariableDeclarationStatement(SimpleType(SimpleName:TableData))(VariableDeclarationFragment(SimpleName:td)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:tran))(SimpleName:getTableData)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:table.num)))))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:fldnum)(ConditionalExpression(MethodInvocation(SimpleName:isRuleField)(METHOD_INVOCATION_ARGUMENTS(SimpleName:column)))(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:-)(NumberLiteral:1))(QualifiedName:td.nextfield))))(IfStatement(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:column))(SimpleName:equals)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))(Block(IfStatement(InfixExpression(SimpleName:fldnum)(INFIX_EXPRESSION_OPERATOR:==)(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:-)(NumberLiteral:1)))(ExpressionStatement(Assignment(SimpleName:column)(ASSIGNMENT_OPERATOR:=)(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:column))(SimpleName:substring)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:0)(NumberLiteral:1))))(SimpleName:toLowerCase))(INFIX_EXPRESSION_OPERATOR:+)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:column))(SimpleName:substring)(METHOD_INVOCATION_ARGUMENTS(NumberLiteral:1)))))))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:table))(SimpleName:hasColumn)(METHOD_INVOCATION_ARGUMENTS(SimpleName:column)))(ReturnStatement(BooleanLiteral:false)))(VariableDeclarationStatement(SimpleType(SimpleName:Record))(VariableDeclarationFragment(SimpleName:rec)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Column))(SimpleName:record)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:table.num)(SimpleName:column)(SimpleName:fldnum)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Data))(SimpleName:add_any_record)(METHOD_INVOCATION_ARGUMENTS(SimpleName:tran)(StringLiteral:<STR>)(SimpleName:rec))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:tran))(SimpleName:updateTable)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:table.num))))))(IfStatement(InfixExpression(SimpleName:fldnum)(INFIX_EXPRESSION_OPERATOR:>=)(NumberLiteral:0))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:tran))(SimpleName:updateTableData)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:td))(SimpleName:withField))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:tran))(SimpleName:ck_complete))))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:tran))(SimpleName:abortIfNotComplete)))))(ReturnStatement(BooleanLiteral:true))))))))