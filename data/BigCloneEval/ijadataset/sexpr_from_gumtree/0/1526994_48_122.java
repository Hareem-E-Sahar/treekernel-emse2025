(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:private)(SimpleType(SimpleName:String))(SimpleName:importAll)(SimpleType(SimpleName:Exception))(Block(VariableDeclarationStatement(SimpleType(SimpleName:StringBuffer))(VariableDeclarationFragment(SimpleName:buffer)(ClassInstanceCreation(SimpleType(SimpleName:StringBuffer)))))(VariableDeclarationStatement(SimpleType(SimpleName:FileHandler))(VariableDeclarationFragment(SimpleName:fileHandler)(ClassInstanceCreation(SimpleType(SimpleName:FileHandler)))))(VariableDeclarationStatement(SimpleType(SimpleName:DatabaseHandler))(VariableDeclarationFragment(SimpleName:databaseHandler)(ClassInstanceCreation(SimpleType(SimpleName:DatabaseHandler)))))(VariableDeclarationStatement(SimpleType(SimpleName:FileSearchEngine))(VariableDeclarationFragment(SimpleName:fileSearchEngine)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:FileSearchEngine))(SimpleName:getInstance))))(VariableDeclarationStatement(SimpleType(SimpleName:VersionManager))(VariableDeclarationFragment(SimpleName:fileVersionManager)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:FileVersionManager))(SimpleName:getInstance))))(VariableDeclarationStatement(SimpleType(SimpleName:VersionManager))(VariableDeclarationFragment(SimpleName:databaseVersionManager)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:DatabaseVersionManager))(SimpleName:getInstance))))(VariableDeclarationStatement(SimpleType(SimpleName:Collection))(VariableDeclarationFragment(SimpleName:virtualWikis)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fileHandler))(SimpleName:getVirtualWikiList))))(ForStatement(VariableDeclarationExpression(SimpleType(SimpleName:Iterator))(VariableDeclarationFragment(SimpleName:virtualWikiIterator)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:virtualWikis))(SimpleName:iterator))))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:virtualWikiIterator))(SimpleName:hasNext))(Block(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:virtualWiki)(CastExpression(SimpleType(SimpleName:String))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:virtualWikiIterator))(SimpleName:next)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:logger))(SimpleName:info)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:virtualWiki)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:buffer))(SimpleName:append)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:virtualWiki)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:buffer))(SimpleName:append)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:databaseHandler))(SimpleName:addVirtualWiki)(METHOD_INVOCATION_ARGUMENTS(SimpleName:virtualWiki))))(VariableDeclarationStatement(SimpleType(SimpleName:Collection))(VariableDeclarationFragment(SimpleName:topics)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fileSearchEngine))(SimpleName:getAllTopicNames)(METHOD_INVOCATION_ARGUMENTS(SimpleName:virtualWiki)))))(ForStatement(VariableDeclarationExpression(SimpleType(SimpleName:Iterator))(VariableDeclarationFragment(SimpleName:topicIterator)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:topics))(SimpleName:iterator))))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:topicIterator))(SimpleName:hasNext))(Block(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:topicName)(CastExpression(SimpleType(SimpleName:String))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:topicIterator))(SimpleName:next)))))(VariableDeclarationStatement(SimpleType(SimpleName:List))(VariableDeclarationFragment(SimpleName:versions)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fileVersionManager))(SimpleName:getAllVersions)(METHOD_INVOCATION_ARGUMENTS(SimpleName:virtualWiki)(SimpleName:topicName)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:logger))(SimpleName:info)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:versions))(SimpleName:size))(StringLiteral:<STR>)(SimpleName:topicName)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:buffer))(SimpleName:append)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:versions))(SimpleName:size))(StringLiteral:<STR>)(SimpleName:topicName)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:buffer))(SimpleName:append)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))(ForStatement(VariableDeclarationExpression(SimpleType(SimpleName:Iterator))(VariableDeclarationFragment(SimpleName:topicVersionIterator)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:versions))(SimpleName:iterator))))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:topicVersionIterator))(SimpleName:hasNext))(Block(VariableDeclarationStatement(SimpleType(SimpleName:TopicVersion))(VariableDeclarationFragment(SimpleName:topicVersion)(CastExpression(SimpleType(SimpleName:TopicVersion))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:topicVersionIterator))(SimpleName:next)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:databaseVersionManager))(SimpleName:addVersion)(METHOD_INVOCATION_ARGUMENTS(SimpleName:virtualWiki)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:topicVersion))(SimpleName:getTopicName))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:topicVersion))(SimpleName:getRawContents))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:topicVersion))(SimpleName:getRevisionDate)))))))))(ForStatement(VariableDeclarationExpression(SimpleType(SimpleName:Iterator))(VariableDeclarationFragment(SimpleName:topicIterator)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:topics))(SimpleName:iterator))))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:topicIterator))(SimpleName:hasNext))(Block(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:topicName)(CastExpression(SimpleType(SimpleName:String))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:topicIterator))(SimpleName:next)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:logger))(SimpleName:info)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:topicName)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:buffer))(SimpleName:append)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:topicName)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:buffer))(SimpleName:append)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:databaseHandler))(SimpleName:write)(METHOD_INVOCATION_ARGUMENTS(SimpleName:virtualWiki)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fileHandler))(SimpleName:read)(METHOD_INVOCATION_ARGUMENTS(SimpleName:virtualWiki)(SimpleName:topicName)))(BooleanLiteral:false)(SimpleName:topicName))))))(VariableDeclarationStatement(SimpleType(SimpleName:Collection))(VariableDeclarationFragment(SimpleName:readOnlys)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fileHandler))(SimpleName:getReadOnlyTopics)(METHOD_INVOCATION_ARGUMENTS(SimpleName:virtualWiki)))))(ForStatement(VariableDeclarationExpression(SimpleType(SimpleName:Iterator))(VariableDeclarationFragment(SimpleName:readOnlyIterator)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:readOnlys))(SimpleName:iterator))))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:readOnlyIterator))(SimpleName:hasNext))(Block(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:topicName)(CastExpression(SimpleType(SimpleName:String))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:readOnlyIterator))(SimpleName:next)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:logger))(SimpleName:info)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:topicName)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:buffer))(SimpleName:append)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:topicName)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:buffer))(SimpleName:append)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:databaseHandler))(SimpleName:addReadOnlyTopic)(METHOD_INVOCATION_ARGUMENTS(SimpleName:virtualWiki)(SimpleName:topicName))))))(VariableDeclarationStatement(SimpleType(SimpleName:WikiMembers))(VariableDeclarationFragment(SimpleName:fileMembers)(ClassInstanceCreation(SimpleType(SimpleName:FileWikiMembers))(SimpleName:virtualWiki))))(VariableDeclarationStatement(SimpleType(SimpleName:WikiMembers))(VariableDeclarationFragment(SimpleName:databaseMembers)(ClassInstanceCreation(SimpleType(SimpleName:DatabaseWikiMembers))(SimpleName:virtualWiki))))(VariableDeclarationStatement(SimpleType(SimpleName:Collection))(VariableDeclarationFragment(SimpleName:members)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fileMembers))(SimpleName:getAllMembers))))(ForStatement(VariableDeclarationExpression(SimpleType(SimpleName:Iterator))(VariableDeclarationFragment(SimpleName:memberIterator)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:members))(SimpleName:iterator))))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:memberIterator))(SimpleName:hasNext))(Block(VariableDeclarationStatement(SimpleType(SimpleName:WikiMember))(VariableDeclarationFragment(SimpleName:wikiMember)(CastExpression(SimpleType(SimpleName:WikiMember))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:memberIterator))(SimpleName:next)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:logger))(SimpleName:info)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:wikiMember)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:buffer))(SimpleName:append)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:wikiMember)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:buffer))(SimpleName:append)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:databaseMembers))(SimpleName:addMember)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:wikiMember))(SimpleName:getUserName))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:wikiMember))(SimpleName:getEmail))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:wikiMember))(SimpleName:getKey)))))))(VariableDeclarationStatement(SimpleType(SimpleName:Collection))(VariableDeclarationFragment(SimpleName:fileNotifications)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:FileNotify))(SimpleName:getAll)(METHOD_INVOCATION_ARGUMENTS(SimpleName:virtualWiki)))))(ForStatement(VariableDeclarationExpression(SimpleType(SimpleName:Iterator))(VariableDeclarationFragment(SimpleName:iterator)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fileNotifications))(SimpleName:iterator))))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:iterator))(SimpleName:hasNext))(Block(VariableDeclarationStatement(SimpleType(SimpleName:FileNotify))(VariableDeclarationFragment(SimpleName:fileNotify)(CastExpression(SimpleType(SimpleName:FileNotify))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:iterator))(SimpleName:next)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:logger))(SimpleName:info)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:fileNotify)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:buffer))(SimpleName:append)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:fileNotify)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:buffer))(SimpleName:append)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))(VariableDeclarationStatement(SimpleType(SimpleName:DatabaseNotify))(VariableDeclarationFragment(SimpleName:databaseNotify)(ClassInstanceCreation(SimpleType(SimpleName:DatabaseNotify))(SimpleName:virtualWiki)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fileNotify))(SimpleName:getTopicName)))))(VariableDeclarationStatement(SimpleType(SimpleName:Collection))(VariableDeclarationFragment(SimpleName:notifyMembers)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fileNotify))(SimpleName:getMembers))))(ForStatement(VariableDeclarationExpression(SimpleType(SimpleName:Iterator))(VariableDeclarationFragment(SimpleName:notifyMemberIterator)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:notifyMembers))(SimpleName:iterator))))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:notifyMemberIterator))(SimpleName:hasNext))(Block(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:memberName)(CastExpression(SimpleType(SimpleName:String))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:notifyMemberIterator))(SimpleName:next)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:databaseNotify))(SimpleName:addMember)(METHOD_INVOCATION_ARGUMENTS(SimpleName:memberName))))))))(VariableDeclarationStatement(SimpleType(SimpleName:Collection))(VariableDeclarationFragment(SimpleName:templates)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fileHandler))(SimpleName:getTemplateNames)(METHOD_INVOCATION_ARGUMENTS(SimpleName:virtualWiki)))))(ForStatement(VariableDeclarationExpression(SimpleType(SimpleName:Iterator))(VariableDeclarationFragment(SimpleName:templateIterator)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:templates))(SimpleName:iterator))))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:templateIterator))(SimpleName:hasNext))(Block(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:templateName)(CastExpression(SimpleType(SimpleName:String))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:templateIterator))(SimpleName:next)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:logger))(SimpleName:info)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:templateName)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:buffer))(SimpleName:append)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:templateName)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:buffer))(SimpleName:append)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:databaseHandler))(SimpleName:saveAsTemplate)(METHOD_INVOCATION_ARGUMENTS(SimpleName:virtualWiki)(SimpleName:templateName)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:fileHandler))(SimpleName:getTemplate)(METHOD_INVOCATION_ARGUMENTS(SimpleName:virtualWiki)(SimpleName:templateName))))))))))(ReturnStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:buffer))(SimpleName:toString)))))))