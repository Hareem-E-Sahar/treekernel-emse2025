(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:public)(SimpleType(SimpleName:String))(SimpleName:uploadFile)(SingleVariableDeclaration(SimpleType(SimpleName:String))(SimpleName:entryName))(SingleVariableDeclaration(SimpleType(SimpleName:String))(SimpleName:entryDescription))(SingleVariableDeclaration(SimpleType(SimpleName:String))(SimpleName:parent))(SingleVariableDeclaration(SimpleType(SimpleName:String))(SimpleName:filePath))(SimpleType(SimpleName:Exception))(Block(ExpressionStatement(MethodInvocation(SimpleName:checkSession)))(VariableDeclarationStatement(SimpleType(SimpleName:Document))(VariableDeclarationFragment(SimpleName:doc)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:XmlUtil))(SimpleName:makeDocument))))(VariableDeclarationStatement(SimpleType(SimpleName:Element))(VariableDeclarationFragment(SimpleName:root)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:XmlUtil))(SimpleName:create)(METHOD_INVOCATION_ARGUMENTS(SimpleName:doc)(SimpleName:TAG_ENTRIES)(NullLiteral)(ArrayCreation(ArrayType(SimpleType(SimpleName:String))(Dimension))(ArrayInitializer))))))(VariableDeclarationStatement(SimpleType(SimpleName:Element))(VariableDeclarationFragment(SimpleName:entryNode)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:XmlUtil))(SimpleName:create)(METHOD_INVOCATION_ARGUMENTS(SimpleName:doc)(SimpleName:TAG_ENTRY)(SimpleName:root)(ArrayCreation(ArrayType(SimpleType(SimpleName:String))(Dimension))(ArrayInitializer))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:entryNode))(SimpleName:setAttribute)(METHOD_INVOCATION_ARGUMENTS(SimpleName:ATTR_NAME)(SimpleName:entryName))))(VariableDeclarationStatement(SimpleType(SimpleName:Element))(VariableDeclarationFragment(SimpleName:descNode)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:XmlUtil))(SimpleName:create)(METHOD_INVOCATION_ARGUMENTS(SimpleName:doc)(SimpleName:TAG_DESCRIPTION)(SimpleName:entryNode)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:descNode))(SimpleName:appendChild)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:XmlUtil))(SimpleName:makeCDataNode)(METHOD_INVOCATION_ARGUMENTS(SimpleName:doc)(SimpleName:entryDescription)(BooleanLiteral:false))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:entryNode))(SimpleName:setAttribute)(METHOD_INVOCATION_ARGUMENTS(SimpleName:ATTR_PARENT)(SimpleName:parent))))(VariableDeclarationStatement(SimpleType(SimpleName:File))(VariableDeclarationFragment(SimpleName:file)(ClassInstanceCreation(SimpleType(SimpleName:File))(SimpleName:filePath))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:entryNode))(SimpleName:setAttribute)(METHOD_INVOCATION_ARGUMENTS(SimpleName:ATTR_FILE)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:IOUtil))(SimpleName:getFileTail)(METHOD_INVOCATION_ARGUMENTS(SimpleName:filePath))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:entryNode))(SimpleName:setAttribute)(METHOD_INVOCATION_ARGUMENTS(SimpleName:ATTR_ADDMETADATA)(StringLiteral:<STR>))))(VariableDeclarationStatement(SimpleType(SimpleName:ByteArrayOutputStream))(VariableDeclarationFragment(SimpleName:bos)(ClassInstanceCreation(SimpleType(SimpleName:ByteArrayOutputStream)))))(VariableDeclarationStatement(SimpleType(SimpleName:ZipOutputStream))(VariableDeclarationFragment(SimpleName:zos)(ClassInstanceCreation(SimpleType(SimpleName:ZipOutputStream))(SimpleName:bos))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:xml)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:XmlUtil))(SimpleName:toString)(METHOD_INVOCATION_ARGUMENTS(SimpleName:root)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:zos))(SimpleName:putNextEntry)(METHOD_INVOCATION_ARGUMENTS(ClassInstanceCreation(SimpleType(SimpleName:ZipEntry))(StringLiteral:<STR>)))))(VariableDeclarationStatement(ArrayType(PrimitiveType:byte)(Dimension))(VariableDeclarationFragment(SimpleName:bytes)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:xml))(SimpleName:getBytes))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:zos))(SimpleName:write)(METHOD_INVOCATION_ARGUMENTS(SimpleName:bytes)(NumberLiteral:0)(QualifiedName:bytes.length))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:zos))(SimpleName:closeEntry)))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:file2string)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:file))(SimpleName:toString))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:zos))(SimpleName:putNextEntry)(METHOD_INVOCATION_ARGUMENTS(ClassInstanceCreation(SimpleType(SimpleName:ZipEntry))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:IOUtil))(SimpleName:getFileTail)(METHOD_INVOCATION_ARGUMENTS(SimpleName:file2string)))))))(ExpressionStatement(Assignment(SimpleName:bytes)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:IOUtil))(SimpleName:readBytes)(METHOD_INVOCATION_ARGUMENTS(ClassInstanceCreation(SimpleType(SimpleName:FileInputStream))(SimpleName:file))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:zos))(SimpleName:write)(METHOD_INVOCATION_ARGUMENTS(SimpleName:bytes)(NumberLiteral:0)(QualifiedName:bytes.length))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:zos))(SimpleName:closeEntry)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:zos))(SimpleName:close)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:bos))(SimpleName:close)))(VariableDeclarationStatement(ParameterizedType(SimpleType(SimpleName:List))(SimpleType(SimpleName:HttpFormEntry)))(VariableDeclarationFragment(SimpleName:postEntries)(ClassInstanceCreation(ParameterizedType(SimpleType(SimpleName:ArrayList))(SimpleType(SimpleName:HttpFormEntry))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:postEntries))(SimpleName:add)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:HttpFormEntry))(SimpleName:hidden)(METHOD_INVOCATION_ARGUMENTS(SimpleName:ARG_SESSIONID)(MethodInvocation(SimpleName:getSessionId)))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:postEntries))(SimpleName:add)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:HttpFormEntry))(SimpleName:hidden)(METHOD_INVOCATION_ARGUMENTS(SimpleName:ARG_AUTHTOKEN)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:RepositoryUtil))(SimpleName:hashPassword)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(SimpleName:getSessionId)))))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:postEntries))(SimpleName:add)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:HttpFormEntry))(SimpleName:hidden)(METHOD_INVOCATION_ARGUMENTS(SimpleName:ARG_RESPONSE)(SimpleName:RESPONSE_XML))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:postEntries))(SimpleName:add)(METHOD_INVOCATION_ARGUMENTS(ClassInstanceCreation(SimpleType(SimpleName:HttpFormEntry))(SimpleName:ARG_FILE)(StringLiteral:<STR>)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:bos))(SimpleName:toByteArray))))))(VariableDeclarationStatement(SimpleType(SimpleName:RequestUrl))(VariableDeclarationFragment(SimpleName:URL_ENTRY_XMLCREATE)(ClassInstanceCreation(SimpleType(SimpleName:RequestUrl))(ThisExpression)(StringLiteral:<STR>))))(VariableDeclarationStatement(ArrayType(SimpleType(SimpleName:String))(Dimension))(VariableDeclarationFragment(SimpleName:result)(MethodInvocation(SimpleName:doPost)(METHOD_INVOCATION_ARGUMENTS(SimpleName:URL_ENTRY_XMLCREATE)(SimpleName:postEntries)))))(IfStatement(InfixExpression(ArrayAccess(SimpleName:result)(NumberLiteral:0))(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(ThrowStatement(ClassInstanceCreation(SimpleType(SimpleName:EntryErrorException))(ArrayAccess(SimpleName:result)(NumberLiteral:0))))))(VariableDeclarationStatement(SimpleType(SimpleName:Element))(VariableDeclarationFragment(SimpleName:response)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:XmlUtil))(SimpleName:getRoot)(METHOD_INVOCATION_ARGUMENTS(ArrayAccess(SimpleName:result)(NumberLiteral:1))))))(IfStatement(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(MethodInvocation(SimpleName:responseOk)(METHOD_INVOCATION_ARGUMENTS(SimpleName:response))))(Block(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:body)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:XmlUtil))(SimpleName:getChildText)(METHOD_INVOCATION_ARGUMENTS(SimpleName:response)))))(ThrowStatement(ClassInstanceCreation(SimpleType(SimpleName:EntryErrorException))(SimpleName:body)))))(VariableDeclarationStatement(SimpleType(SimpleName:Element))(VariableDeclarationFragment(SimpleName:newEntryNode)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:XmlUtil))(SimpleName:findChild)(METHOD_INVOCATION_ARGUMENTS(SimpleName:response)(SimpleName:TAG_ENTRY)))))(IfStatement(InfixExpression(SimpleName:newEntryNode)(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(Block(ThrowStatement(ClassInstanceCreation(SimpleType(SimpleName:IllegalStateException))(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:XmlUtil))(SimpleName:toString)(METHOD_INVOCATION_ARGUMENTS(SimpleName:response))))))))(ReturnStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:XmlUtil))(SimpleName:getAttribute)(METHOD_INVOCATION_ARGUMENTS(SimpleName:newEntryNode)(SimpleName:ATTR_ID))))))))