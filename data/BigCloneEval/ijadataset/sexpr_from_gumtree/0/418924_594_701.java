(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:private)(Modifier:synchronized)(PrimitiveType:void)(SimpleName:stopInCurrentSection)(SingleVariableDeclaration(PrimitiveType:int)(SimpleName:task))(Block(IfStatement(InfixExpression(SimpleName:_currentAllocatedSection)(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:log))(SimpleName:error)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))(ExpressionStatement(MethodInvocation(SimpleName:setStopNow)))(ReturnStatement)))(IfStatement(InfixExpression(ParenthesizedExpression(InfixExpression(SimpleName:_targetSpeed)(INFIX_EXPRESSION_OPERATOR:==)(NumberLiteral:0.0f)))(INFIX_EXPRESSION_OPERATOR:||)(MethodInvocation(SimpleName:isStopping)))(Block(ReturnStatement)))(IfStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:_currentAllocatedSection))(SimpleName:getSection)))(SimpleName:getState))(INFIX_EXPRESSION_OPERATOR:==)(QualifiedName:Section.FORWARD))(Block(ExpressionStatement(Assignment(SimpleName:_stopSensor)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:_currentAllocatedSection))(SimpleName:getSection)))(SimpleName:getForwardStoppingSensor)))))(Block(ExpressionStatement(Assignment(SimpleName:_stopSensor)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:_currentAllocatedSection))(SimpleName:getSection)))(SimpleName:getReverseStoppingSensor))))))(IfStatement(InfixExpression(SimpleName:_stopSensor)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(IfStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:_stopSensor))(SimpleName:getKnownState))(INFIX_EXPRESSION_OPERATOR:==)(QualifiedName:Sensor.ACTIVE))(Block(ExpressionStatement(MethodInvocation(SimpleName:setStopNow))))(Block(ExpressionStatement(MethodInvocation(SimpleName:setSpeed)(METHOD_INVOCATION_ARGUMENTS(SimpleName:RESTRICTED_SPEED))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:_stopSensor))(SimpleName:addPropertyChangeListener)(METHOD_INVOCATION_ARGUMENTS(Assignment(SimpleName:_stopSensorListener)(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(SimpleType(QualifiedName:java.beans.PropertyChangeListener))(AnonymousClassDeclaration(MethodDeclaration(Modifier:public)(PrimitiveType:void)(SimpleName:propertyChange)(SingleVariableDeclaration(SimpleType(QualifiedName:java.beans.PropertyChangeEvent))(SimpleName:e))(Block(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:e))(SimpleName:getPropertyName)))(SimpleName:equals)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)))(Block(ExpressionStatement(MethodInvocation(SimpleName:handleStopSensorChange)))))))))))))(ExpressionStatement(Assignment(SimpleName:_stoppingBySensor)(ASSIGNMENT_OPERATOR:=)(BooleanLiteral:true))))))(IfStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:_currentAllocatedSection))(SimpleName:getLength))(INFIX_EXPRESSION_OPERATOR:<)(SimpleName:_maxTrainLength))(Block(ExpressionStatement(MethodInvocation(SimpleName:setStopNow))))(IfStatement(SimpleName:_resistanceWheels)(Block(IfStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:_currentAllocatedSection))(SimpleName:getSection)))(SimpleName:getNumBlocks))(INFIX_EXPRESSION_OPERATOR:==)(NumberLiteral:1))(Block(IfStatement(InfixExpression(ParenthesizedExpression(InfixExpression(SimpleName:_previousBlock)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral)))(INFIX_EXPRESSION_OPERATOR:&&)(ParenthesizedExpression(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:_previousBlock))(SimpleName:getState))(INFIX_EXPRESSION_OPERATOR:==)(QualifiedName:Block.OCCUPIED))))(Block(ExpressionStatement(Assignment(SimpleName:_stoppingBlock)(ASSIGNMENT_OPERATOR:=)(SimpleName:_previousBlock)))(ExpressionStatement(MethodInvocation(SimpleName:setStopByBlockOccupancy))))(Block(ExpressionStatement(MethodInvocation(SimpleName:setStopNow))))))(Block(VariableDeclarationStatement(SimpleType(SimpleName:Block))(VariableDeclarationFragment(SimpleName:exitBlock)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:_currentAllocatedSection))(SimpleName:getExitBlock))))(VariableDeclarationStatement(SimpleType(SimpleName:Block))(VariableDeclarationFragment(SimpleName:enterBlock)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:_currentAllocatedSection))(SimpleName:getEnterBlock)(METHOD_INVOCATION_ARGUMENTS(SimpleName:_previousAllocatedSection)))))(IfStatement(InfixExpression(SimpleName:exitBlock)(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(Block(VariableDeclarationStatement(SimpleType(SimpleName:Block))(VariableDeclarationFragment(SimpleName:testBlock)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:_currentAllocatedSection))(SimpleName:getSection)))(SimpleName:getEntryBlock))))(WhileStatement(InfixExpression(ParenthesizedExpression(InfixExpression(SimpleName:testBlock)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral)))(INFIX_EXPRESSION_OPERATOR:&&)(ParenthesizedExpression(InfixExpression(SimpleName:testBlock)(INFIX_EXPRESSION_OPERATOR:!=)(SimpleName:enterBlock))))(Block(ExpressionStatement(Assignment(SimpleName:testBlock)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:_currentAllocatedSection))(SimpleName:getSection)))(SimpleName:getNextBlock))))))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:testLength)(MethodInvocation(SimpleName:getBlockLength)(METHOD_INVOCATION_ARGUMENTS(SimpleName:testBlock)))))(WhileStatement(InfixExpression(SimpleName:testBlock)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(ExpressionStatement(Assignment(SimpleName:testBlock)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:_currentAllocatedSection))(SimpleName:getSection)))(SimpleName:getNextBlock))))(IfStatement(InfixExpression(SimpleName:testBlock)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(ExpressionStatement(Assignment(SimpleName:testLength)(ASSIGNMENT_OPERATOR:+=)(MethodInvocation(SimpleName:getBlockLength)(METHOD_INVOCATION_ARGUMENTS(SimpleName:testBlock))))))))(IfStatement(InfixExpression(ParenthesizedExpression(InfixExpression(SimpleName:testLength)(INFIX_EXPRESSION_OPERATOR:>)(SimpleName:_maxTrainLength)))(INFIX_EXPRESSION_OPERATOR:&&)(ParenthesizedExpression(InfixExpression(SimpleName:_previousBlock)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral)))(ParenthesizedExpression(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:_previousBlock))(SimpleName:getState))(INFIX_EXPRESSION_OPERATOR:==)(QualifiedName:Block.OCCUPIED))))(Block(ExpressionStatement(Assignment(SimpleName:_stoppingBlock)(ASSIGNMENT_OPERATOR:=)(SimpleName:_previousBlock)))(ExpressionStatement(MethodInvocation(SimpleName:setStopByBlockOccupancy))))(Block(ExpressionStatement(MethodInvocation(SimpleName:setStopNow))))))(IfStatement(InfixExpression(SimpleName:enterBlock)(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(Block(ExpressionStatement(MethodInvocation(SimpleName:setStopNow))))(IfStatement(InfixExpression(SimpleName:exitBlock)(INFIX_EXPRESSION_OPERATOR:==)(SimpleName:enterBlock))(Block(IfStatement(InfixExpression(ParenthesizedExpression(InfixExpression(SimpleName:_previousBlock)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral)))(INFIX_EXPRESSION_OPERATOR:&&)(ParenthesizedExpression(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:_previousBlock))(SimpleName:getState))(INFIX_EXPRESSION_OPERATOR:==)(QualifiedName:Block.OCCUPIED)))(ParenthesizedExpression(InfixExpression(MethodInvocation(SimpleName:getBlockLength)(METHOD_INVOCATION_ARGUMENTS(SimpleName:exitBlock)))(INFIX_EXPRESSION_OPERATOR:>)(SimpleName:_maxTrainLength))))(Block(ExpressionStatement(Assignment(SimpleName:_stoppingBlock)(ASSIGNMENT_OPERATOR:=)(SimpleName:_previousBlock)))(ExpressionStatement(MethodInvocation(SimpleName:setStopByBlockOccupancy))))(Block(ExpressionStatement(MethodInvocation(SimpleName:setStopNow))))))(Block(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:tstLength)(MethodInvocation(SimpleName:getBlockLength)(METHOD_INVOCATION_ARGUMENTS(SimpleName:exitBlock)))))(VariableDeclarationStatement(SimpleType(SimpleName:Block))(VariableDeclarationFragment(SimpleName:tstBlock)(SimpleName:exitBlock)))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:tstBlockSeq)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:_currentAllocatedSection))(SimpleName:getSection)))(SimpleName:getBlockSequenceNumber)(METHOD_INVOCATION_ARGUMENTS(SimpleName:tstBlock)))))(WhileStatement(InfixExpression(ParenthesizedExpression(InfixExpression(SimpleName:tstLength)(INFIX_EXPRESSION_OPERATOR:<)(SimpleName:_maxTrainLength)))(INFIX_EXPRESSION_OPERATOR:&&)(ParenthesizedExpression(InfixExpression(SimpleName:tstBlock)(INFIX_EXPRESSION_OPERATOR:!=)(SimpleName:enterBlock))))(Block(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:newSeqNumber)(InfixExpression(SimpleName:tstBlockSeq)(INFIX_EXPRESSION_OPERATOR:-)(NumberLiteral:1))))(IfStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:_currentAllocatedSection))(SimpleName:getDirection))(INFIX_EXPRESSION_OPERATOR:==)(QualifiedName:Section.REVERSE))(Block(ExpressionStatement(Assignment(SimpleName:newSeqNumber)(ASSIGNMENT_OPERATOR:=)(InfixExpression(SimpleName:tstBlockSeq)(INFIX_EXPRESSION_OPERATOR:+)(NumberLiteral:1))))))(ExpressionStatement(Assignment(SimpleName:tstBlock)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:_currentAllocatedSection))(SimpleName:getSection)))(SimpleName:getBlockBySequenceNumber)(METHOD_INVOCATION_ARGUMENTS(SimpleName:newSeqNumber)))))(ExpressionStatement(Assignment(SimpleName:tstBlockSeq)(ASSIGNMENT_OPERATOR:=)(SimpleName:newSeqNumber)))(ExpressionStatement(Assignment(SimpleName:tstLength)(ASSIGNMENT_OPERATOR:+=)(MethodInvocation(SimpleName:getBlockLength)(METHOD_INVOCATION_ARGUMENTS(SimpleName:tstBlock)))))))(IfStatement(InfixExpression(SimpleName:tstLength)(INFIX_EXPRESSION_OPERATOR:<)(SimpleName:_maxTrainLength))(Block(ExpressionStatement(MethodInvocation(SimpleName:setStopNow))))(IfStatement(InfixExpression(SimpleName:tstBlock)(INFIX_EXPRESSION_OPERATOR:==)(SimpleName:enterBlock))(Block(IfStatement(InfixExpression(ParenthesizedExpression(InfixExpression(SimpleName:_previousBlock)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral)))(INFIX_EXPRESSION_OPERATOR:&&)(ParenthesizedExpression(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:_previousBlock))(SimpleName:getState))(INFIX_EXPRESSION_OPERATOR:==)(QualifiedName:Block.OCCUPIED))))(Block(ExpressionStatement(Assignment(SimpleName:_stoppingBlock)(ASSIGNMENT_OPERATOR:=)(SimpleName:_previousBlock)))(ExpressionStatement(MethodInvocation(SimpleName:setStopByBlockOccupancy))))(Block(ExpressionStatement(MethodInvocation(SimpleName:setStopNow))))))(Block(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:xSeqNumber)(InfixExpression(SimpleName:tstBlockSeq)(INFIX_EXPRESSION_OPERATOR:-)(NumberLiteral:1))))(IfStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:_currentAllocatedSection))(SimpleName:getDirection))(INFIX_EXPRESSION_OPERATOR:==)(QualifiedName:Section.REVERSE))(Block(ExpressionStatement(Assignment(SimpleName:xSeqNumber)(ASSIGNMENT_OPERATOR:=)(InfixExpression(SimpleName:tstBlockSeq)(INFIX_EXPRESSION_OPERATOR:+)(NumberLiteral:1))))))(ExpressionStatement(Assignment(SimpleName:_stoppingBlock)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:_currentAllocatedSection))(SimpleName:getSection)))(SimpleName:getBlockBySequenceNumber)(METHOD_INVOCATION_ARGUMENTS(SimpleName:xSeqNumber)))))(ExpressionStatement(MethodInvocation(SimpleName:setStopByBlockOccupancy)))))))))))))(Block(ExpressionStatement(MethodInvocation(SimpleName:setStopNow)))))))(IfStatement(InfixExpression(SimpleName:task)(INFIX_EXPRESSION_OPERATOR:>)(NumberLiteral:0))(Block(VariableDeclarationStatement(SimpleType(SimpleName:Runnable))(VariableDeclarationFragment(SimpleName:waitForStop)(ClassInstanceCreation(SimpleType(SimpleName:WaitForTrainToStop))(SimpleName:task))))(VariableDeclarationStatement(SimpleType(SimpleName:Thread))(VariableDeclarationFragment(SimpleName:tWait)(ClassInstanceCreation(SimpleType(SimpleName:Thread))(SimpleName:waitForStop))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:tWait))(SimpleName:start)))))))))