(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(PrimitiveType:void)(SimpleName:recordTape)(Block(VariableDeclarationStatement(SimpleType(SimpleName:OutputStream))(VariableDeclarationFragment(SimpleName:out)(NullLiteral)))(IfStatement(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:tapeFile))(SimpleName:exists)))(Block(ExpressionStatement(Assignment(SimpleName:out)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Stream))(SimpleName:getOutputStream)(METHOD_INVOCATION_ARGUMENTS(SimpleName:tapeFile)(SimpleName:outFormat))))))(Block(VariableDeclarationStatement(ArrayType(SimpleType(SimpleName:String))(Dimension))(VariableDeclarationFragment(SimpleName:msg)(ArrayInitializer(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:tapeFile))(SimpleName:getPath))(StringLiteral:<STR>))(StringLiteral:<STR>))))(VariableDeclarationStatement(ArrayType(SimpleType(SimpleName:String))(Dimension))(VariableDeclarationFragment(SimpleName:opts)(ArrayInitializer(StringLiteral:<STR>)(StringLiteral:<STR>))))(IfStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:JOptionPane))(SimpleName:showInternalOptionDialog)(METHOD_INVOCATION_ARGUMENTS(ThisExpression)(SimpleName:msg)(MethodInvocation(SimpleName:getTitle))(QualifiedName:JOptionPane.YES_NO_OPTION)(QualifiedName:JOptionPane.WARNING_MESSAGE)(NullLiteral)(SimpleName:opts)(ArrayAccess(SimpleName:opts)(NumberLiteral:0))))(INFIX_EXPRESSION_OPERATOR:==)(QualifiedName:JOptionPane.NO_OPTION))(Block(ExpressionStatement(Assignment(SimpleName:out)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Stream))(SimpleName:getOutputStream)(METHOD_INVOCATION_ARGUMENTS(SimpleName:tapeFile)(SimpleName:outFormat))))))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(QualifiedName:stop.button))(SimpleName:doClick)))))))(IfStatement(InfixExpression(SimpleName:out)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:format))(SimpleName:setValue)(METHOD_INVOCATION_ARGUMENTS(ConditionalExpression(ParenthesizedExpression(InstanceofExpression(SimpleName:out)(SimpleType(SimpleName:UK101OutputStream))))(QualifiedName:TapeFormat.MODE_ASCII)(QualifiedName:TapeFormat.MODE_BINARY)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:recorder))(SimpleName:setOutputTape)(METHOD_INVOCATION_ARGUMENTS(SimpleName:out))))))))))