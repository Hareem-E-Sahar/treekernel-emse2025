(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:public)(Modifier:final)(PrimitiveType:void)(SimpleName:save)(SingleVariableDeclaration(SimpleType(SimpleName:OutputStream))(SimpleName:outputStream))(SingleVariableDeclaration(ParameterizedType(SimpleType(SimpleName:Map))(WildcardType)(WildcardType))(SimpleName:options))(SimpleType(SimpleName:IOException))(Block(IfStatement(InfixExpression(SimpleName:errors)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:errors))(SimpleName:clear)))))(IfStatement(InfixExpression(SimpleName:warnings)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:warnings))(SimpleName:clear)))))(ExpressionStatement(Assignment(SimpleName:options)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(SimpleName:mergeMaps)(METHOD_INVOCATION_ARGUMENTS(SimpleName:options)(SimpleName:defaultSaveOptions)))))(VariableDeclarationStatement(SimpleType(SimpleName:ZipOutputStream))(VariableDeclarationFragment(SimpleName:zipOutputStream)(NullLiteral)))(IfStatement(InfixExpression(MethodInvocation(SimpleName:useZip))(INFIX_EXPRESSION_OPERATOR:||)(ParenthesizedExpression(InfixExpression(InfixExpression(SimpleName:options)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(INFIX_EXPRESSION_OPERATOR:&&)(MethodInvocation(METHOD_INVOCATION_RECEIVER(QualifiedName:Boolean.TRUE))(SimpleName:equals)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:options))(SimpleName:get)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:Resource.OPTION_ZIP))))))))(Block(ExpressionStatement(Assignment(SimpleName:zipOutputStream)(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(SimpleType(SimpleName:ZipOutputStream))(SimpleName:outputStream)(AnonymousClassDeclaration(MethodDeclaration(MarkerAnnotation(SimpleName:Override))(Modifier:public)(PrimitiveType:void)(SimpleName:finish)(SimpleType(SimpleName:IOException))(Block(ExpressionStatement(SuperMethodInvocation(SimpleName:finish)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:def))(SimpleName:end)))))(MethodDeclaration(MarkerAnnotation(SimpleName:Override))(Modifier:public)(PrimitiveType:void)(SimpleName:flush)(Block))(MethodDeclaration(MarkerAnnotation(SimpleName:Override))(Modifier:public)(PrimitiveType:void)(SimpleName:close)(SimpleType(SimpleName:IOException))(Block(TryStatement(Block(ExpressionStatement(SuperMethodInvocation(SimpleName:flush))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:IOException))(SimpleName:exception))(Block)))(ExpressionStatement(SuperMethodInvocation(SimpleName:close)))))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:zipOutputStream))(SimpleName:putNextEntry)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(SimpleName:newContentZipEntry)))))(ExpressionStatement(Assignment(SimpleName:outputStream)(ASSIGNMENT_OPERATOR:=)(SimpleName:zipOutputStream)))))(VariableDeclarationStatement(SimpleType(QualifiedName:URIConverter.Cipher))(VariableDeclarationFragment(SimpleName:cipher)(ConditionalExpression(InfixExpression(SimpleName:options)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(CastExpression(SimpleType(QualifiedName:URIConverter.Cipher))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:options))(SimpleName:get)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:Resource.OPTION_CIPHER))))(NullLiteral))))(IfStatement(InfixExpression(SimpleName:cipher)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(TryStatement(Block(ExpressionStatement(Assignment(SimpleName:outputStream)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:cipher))(SimpleName:encrypt)(METHOD_INVOCATION_ARGUMENTS(SimpleName:outputStream))))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:Exception))(SimpleName:e))(Block(ThrowStatement(ClassInstanceCreation(SimpleType(SimpleName:IOWrappedException))(SimpleName:e))))))))(ExpressionStatement(MethodInvocation(SimpleName:doSave)(METHOD_INVOCATION_ARGUMENTS(SimpleName:outputStream)(SimpleName:options))))(IfStatement(InfixExpression(SimpleName:cipher)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(TryStatement(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:cipher))(SimpleName:finish)(METHOD_INVOCATION_ARGUMENTS(SimpleName:outputStream)))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:Exception))(SimpleName:e))(Block(ThrowStatement(ClassInstanceCreation(SimpleType(SimpleName:IOWrappedException))(SimpleName:e))))))))(ExpressionStatement(MethodInvocation(SimpleName:setModified)(METHOD_INVOCATION_ARGUMENTS(BooleanLiteral:false))))(IfStatement(InfixExpression(SimpleName:zipOutputStream)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:zipOutputStream))(SimpleName:finish)))))))))