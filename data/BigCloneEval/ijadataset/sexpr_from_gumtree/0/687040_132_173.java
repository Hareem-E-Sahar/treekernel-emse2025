(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:private)(PrimitiveType:void)(SimpleName:upgradeArchive)(SingleVariableDeclaration(SimpleType(SimpleName:File))(SimpleName:newArchiveFile))(SingleVariableDeclaration(SimpleType(SimpleName:File))(SimpleName:oldArchive))(SingleVariableDeclaration(SimpleType(SimpleName:String))(SimpleName:relativePath))(SimpleType(SimpleName:IOException))(Block(IfStatement(MethodInvocation(SimpleName:changed)(METHOD_INVOCATION_ARGUMENTS(SimpleName:newArchiveFile)(SimpleName:oldArchive)))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:log))(SimpleName:log)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:newArchiveFile))(SimpleName:getAbsolutePath))))))(VariableDeclarationStatement(SimpleType(SimpleName:ZipEntry))(VariableDeclarationFragment(SimpleName:diffEntry)(ClassInstanceCreation(SimpleType(SimpleName:ZipEntry))(SimpleName:relativePath))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:diffEntry))(SimpleName:setSize)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:newArchiveFile))(SimpleName:length)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:outputStream))(SimpleName:putNextEntry)(METHOD_INVOCATION_ARGUMENTS(SimpleName:diffEntry))))(VariableDeclarationStatement(SimpleType(SimpleName:ZipOutputStream))(VariableDeclarationFragment(SimpleName:diffOutput)(ClassInstanceCreation(SimpleType(SimpleName:ZipOutputStream))(SimpleName:outputStream))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:diffOutput))(SimpleName:setLevel)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:ZipOutputStream.STORED))))(VariableDeclarationStatement(SimpleType(SimpleName:ZipFile))(VariableDeclarationFragment(SimpleName:newFile)(ClassInstanceCreation(SimpleType(SimpleName:ZipFile))(SimpleName:newArchiveFile))))(VariableDeclarationStatement(SimpleType(SimpleName:ZipFile))(VariableDeclarationFragment(SimpleName:oldFile)(ClassInstanceCreation(SimpleType(SimpleName:ZipFile))(SimpleName:oldArchive))))(VariableDeclarationStatement(ParameterizedType(SimpleType(SimpleName:Enumeration))(WildcardType(SimpleType(SimpleName:ZipEntry))))(VariableDeclarationFragment(SimpleName:entries)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:newFile))(SimpleName:entries))))(WhileStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:entries))(SimpleName:hasMoreElements))(Block(VariableDeclarationStatement(SimpleType(SimpleName:ZipEntry))(VariableDeclarationFragment(SimpleName:newEntry)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:entries))(SimpleName:nextElement))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:oldFiles))(SimpleName:remove)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(SimpleName:archiveFile)(METHOD_INVOCATION_ARGUMENTS(SimpleName:oldArchive)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:newEntry))(SimpleName:getName)))))))(VariableDeclarationStatement(SimpleType(SimpleName:ZipEntry))(VariableDeclarationFragment(SimpleName:oldEntry)(MethodInvocation(SimpleName:findInArchive)(METHOD_INVOCATION_ARGUMENTS(SimpleName:oldFile)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:newEntry))(SimpleName:getName))))))(VariableDeclarationStatement(ArrayType(PrimitiveType:byte)(Dimension))(VariableDeclarationFragment(SimpleName:newData)(MethodInvocation(SimpleName:readEntry)(METHOD_INVOCATION_ARGUMENTS(SimpleName:newFile)(SimpleName:newEntry)))))(VariableDeclarationStatement(PrimitiveType:boolean)(VariableDeclarationFragment(SimpleName:writeToOutput)(BooleanLiteral:false)))(IfStatement(InfixExpression(SimpleName:oldEntry)(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(Block(ExpressionStatement(Assignment(SimpleName:writeToOutput)(ASSIGNMENT_OPERATOR:=)(BooleanLiteral:true))))(Block(VariableDeclarationStatement(ArrayType(PrimitiveType:byte)(Dimension))(VariableDeclarationFragment(SimpleName:oldData)(MethodInvocation(SimpleName:readEntry)(METHOD_INVOCATION_ARGUMENTS(SimpleName:oldFile)(SimpleName:oldEntry)))))(IfStatement(InfixExpression(QualifiedName:newData.length)(INFIX_EXPRESSION_OPERATOR:!=)(QualifiedName:oldData.length))(Block(ExpressionStatement(Assignment(SimpleName:writeToOutput)(ASSIGNMENT_OPERATOR:=)(BooleanLiteral:true))))(Block(ForStatement(VariableDeclarationExpression(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:i)(NumberLiteral:0)))(InfixExpression(SimpleName:i)(INFIX_EXPRESSION_OPERATOR:<)(QualifiedName:newData.length))(PostfixExpression(SimpleName:i)(POSTFIX_EXPRESSION_OPERATOR:++))(Block(IfStatement(InfixExpression(ArrayAccess(SimpleName:newData)(SimpleName:i))(INFIX_EXPRESSION_OPERATOR:!=)(ArrayAccess(SimpleName:oldData)(SimpleName:i)))(Block(ExpressionStatement(Assignment(SimpleName:writeToOutput)(ASSIGNMENT_OPERATOR:=)(BooleanLiteral:true)))))))))))(IfStatement(SimpleName:writeToOutput)(Block(ExpressionStatement(MethodInvocation(SimpleName:writeEntryToStream)(METHOD_INVOCATION_ARGUMENTS(SimpleName:diffOutput)(SimpleName:newEntry)(SimpleName:newData))))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:newFile))(SimpleName:close)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:oldFile))(SimpleName:close))))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:log))(SimpleName:log)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:newArchiveFile))(SimpleName:getAbsolutePath))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:unchanged))(SimpleName:add)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:oldArchive))(SimpleName:getAbsolutePath)))))))))))