(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:public)(ArrayType(PrimitiveType:byte)(Dimension))(SimpleName:download)(SingleVariableDeclaration(SimpleType(SimpleName:URL))(SimpleName:url))(SingleVariableDeclaration(SimpleType(SimpleName:OutputStream))(SimpleName:out))(SimpleType(SimpleName:IOException))(Block(VariableDeclarationStatement(PrimitiveType:boolean)(VariableDeclarationFragment(SimpleName:returnByByteArray)(ParenthesizedExpression(InfixExpression(SimpleName:out)(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral)))))(VariableDeclarationStatement(SimpleType(SimpleName:ByteArrayOutputStream))(VariableDeclarationFragment(SimpleName:helper)(NullLiteral)))(IfStatement(SimpleName:returnByByteArray)(Block(ExpressionStatement(Assignment(SimpleName:helper)(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(SimpleType(SimpleName:ByteArrayOutputStream)))))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:s)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:url))(SimpleName:toExternalForm))))(VariableDeclarationStatement(SimpleType(SimpleName:URLConnection))(VariableDeclarationFragment(SimpleName:conn)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:url))(SimpleName:openConnection))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:name)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Launcher))(SimpleName:getFileName)(METHOD_INVOCATION_ARGUMENTS(SimpleName:s)))))(VariableDeclarationStatement(SimpleType(SimpleName:InputStream))(VariableDeclarationFragment(SimpleName:in)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:conn))(SimpleName:getInputStream))))(ExpressionStatement(Assignment(SimpleName:total)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:url))(SimpleName:openConnection)))(SimpleName:getContentLength))))(ExpressionStatement(MethodInvocation(SimpleName:setStatusText)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:String))(SimpleName:format)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(SimpleName:name)(ParenthesizedExpression(InfixExpression(CastExpression(PrimitiveType:float)(SimpleName:total))(INFIX_EXPRESSION_OPERATOR:/)(NumberLiteral:1024)(NumberLiteral:1024))))))))(VariableDeclarationStatement(PrimitiveType:long)(VariableDeclarationFragment(SimpleName:justNow)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:System))(SimpleName:currentTimeMillis))))(VariableDeclarationStatement(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:numRead)(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:-)(NumberLiteral:1))))(VariableDeclarationStatement(ArrayType(PrimitiveType:byte)(Dimension))(VariableDeclarationFragment(SimpleName:buffer)(ArrayCreation(ArrayType(PrimitiveType:byte)(Dimension(NumberLiteral:2048))))))(WhileStatement(InfixExpression(ParenthesizedExpression(Assignment(SimpleName:numRead)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:in))(SimpleName:read)(METHOD_INVOCATION_ARGUMENTS(SimpleName:buffer)))))(INFIX_EXPRESSION_OPERATOR:!=)(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:-)(NumberLiteral:1)))(Block(ExpressionStatement(Assignment(SimpleName:size)(ASSIGNMENT_OPERATOR:+=)(SimpleName:numRead)))(IfStatement(SimpleName:returnByByteArray)(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:helper))(SimpleName:write)(METHOD_INVOCATION_ARGUMENTS(SimpleName:buffer)(NumberLiteral:0)(SimpleName:numRead)))))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:out))(SimpleName:write)(METHOD_INVOCATION_ARGUMENTS(SimpleName:buffer)(NumberLiteral:0)(SimpleName:numRead))))))(VariableDeclarationStatement(PrimitiveType:long)(VariableDeclarationFragment(SimpleName:now)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:System))(SimpleName:currentTimeMillis))))(IfStatement(InfixExpression(ParenthesizedExpression(InfixExpression(SimpleName:now)(INFIX_EXPRESSION_OPERATOR:-)(SimpleName:justNow)))(INFIX_EXPRESSION_OPERATOR:>)(NumberLiteral:250))(Block(ExpressionStatement(MethodInvocation(SimpleName:setProgress)(METHOD_INVOCATION_ARGUMENTS(CastExpression(PrimitiveType:int)(ParenthesizedExpression(InfixExpression(ParenthesizedExpression(InfixExpression(CastExpression(PrimitiveType:float)(SimpleName:size))(INFIX_EXPRESSION_OPERATOR:/)(CastExpression(PrimitiveType:float)(SimpleName:total))))(INFIX_EXPRESSION_OPERATOR:*)(NumberLiteral:100)))))))(ExpressionStatement(Assignment(SimpleName:justNow)(ASSIGNMENT_OPERATOR:=)(SimpleName:now)))))))(ExpressionStatement(MethodInvocation(SimpleName:hideProgress)))(IfStatement(SimpleName:returnByByteArray)(Block(ReturnStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:helper))(SimpleName:toByteArray))))(Block(ReturnStatement(NullLiteral))))))))