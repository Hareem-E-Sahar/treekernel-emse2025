(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(SingleMemberAnnotation(SimpleName:SuppressWarnings)(StringLiteral:<STR>))(Modifier:protected)(SimpleType(SimpleName:OutMessage))(SimpleName:processEPR)(SingleVariableDeclaration(SimpleType(SimpleName:DPWSContextImpl))(SimpleName:context))(SingleVariableDeclaration(SimpleType(SimpleName:EndpointReferenceElement))(SimpleName:epr))(SingleVariableDeclaration(SimpleType(SimpleName:OperationInfo))(SimpleName:aoi))(SingleVariableDeclaration(SimpleType(SimpleName:AbstractAddressingHeaders))(SimpleName:inHeaders))(SingleVariableDeclaration(SimpleType(SimpleName:AddressingHeadersFactory200408))(SimpleName:factory))(SimpleType(SimpleName:DPWSFault))(SimpleType(SimpleName:DPWSException))(Block(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:addr)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:epr))(SimpleName:getAddress))))(VariableDeclarationStatement(SimpleType(SimpleName:OutMessage))(VariableDeclarationFragment(SimpleName:outMessage)(NullLiteral)))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:messId)(QualifiedName:inHeaders.messageID)))(VariableDeclarationStatement(PrimitiveType:boolean)(VariableDeclarationFragment(SimpleName:isFault)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:epr))(SimpleName:getName)))(SimpleName:equals)(METHOD_INVOCATION_ARGUMENTS(QualifiedName:WSAConstants.WSA_FAULT_TO)))))(VariableDeclarationStatement(SimpleType(SimpleName:Transport))(VariableDeclarationFragment(SimpleName:t)(NullLiteral)))(IfStatement(InfixExpression(SimpleName:addr)(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(Block(ThrowStatement(ClassInstanceCreation(SimpleType(SimpleName:DPWSFault))(StringLiteral:<STR>)(QualifiedName:DPWSFault.SENDER)))))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:addr))(SimpleName:equals)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:factory))(SimpleName:getAnonymousUri))))(Block(ExpressionStatement(Assignment(SimpleName:outMessage)(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(SimpleType(SimpleName:OutMessage))(QualifiedName:Channel.BACKCHANNEL_URI))))(ExpressionStatement(Assignment(SimpleName:t)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:context))(SimpleName:getExchange)))(SimpleName:getInMessage)))(SimpleName:getChannel)))(SimpleName:getTransport)))))(IfStatement(MethodInvocation(SimpleName:isNoneAddress)(METHOD_INVOCATION_ARGUMENTS(SimpleName:factory)(SimpleName:addr)))(Block(ExpressionStatement(Assignment(SimpleName:t)(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(SimpleType(SimpleName:DeadLetterTransport)))))(ExpressionStatement(Assignment(SimpleName:outMessage)(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(SimpleType(SimpleName:OutMessage))(SimpleName:addr)))))(Block(ExpressionStatement(Assignment(SimpleName:outMessage)(ASSIGNMENT_OPERATOR:=)(ClassInstanceCreation(SimpleType(SimpleName:OutMessage))(SimpleName:addr))))(IfStatement(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(SimpleName:isFault))(ExpressionStatement(MethodInvocation(SimpleName:sendEmptyResponse)(METHOD_INVOCATION_ARGUMENTS(SimpleName:context)))))(ExpressionStatement(Assignment(SimpleName:t)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:context))(SimpleName:getDpws)))(SimpleName:getTransportManager)))(SimpleName:getTransportForUri)(METHOD_INVOCATION_ARGUMENTS(SimpleName:addr))))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:outMessage))(SimpleName:setSoapVersion)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:context))(SimpleName:getExchange)))(SimpleName:getInMessage)))(SimpleName:getSoapVersion)))))(IfStatement(InfixExpression(SimpleName:t)(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(Block(ThrowStatement(ClassInstanceCreation(SimpleType(SimpleName:DPWSFault))(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:addr))(QualifiedName:DPWSFault.SENDER)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:outMessage))(SimpleName:setChannel)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:t))(SimpleName:createChannel)))))(VariableDeclarationStatement(SimpleType(SimpleName:AddressingHeaders))(VariableDeclarationFragment(SimpleName:headers)(ClassInstanceCreation(SimpleType(SimpleName:AddressingHeaders))(NullLiteral)(NullLiteral))))(IfStatement(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(SimpleName:isFault))(Block(ExpressionStatement(Assignment(QualifiedName:headers.to)(ASSIGNMENT_OPERATOR:=)(SimpleName:addr)))(ExpressionStatement(Assignment(QualifiedName:headers.action)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:aoi))(SimpleName:getOutAction))))(ExpressionStatement(Assignment(QualifiedName:headers.relatesTo)(ASSIGNMENT_OPERATOR:=)(SimpleName:messId))))(Block(ExpressionStatement(Assignment(QualifiedName:headers.action)(ASSIGNMENT_OPERATOR:=)(QualifiedName:WSAConstants.WSA_200408_FAULT_ACTION)))(ExpressionStatement(Assignment(QualifiedName:headers.relatesTo)(ASSIGNMENT_OPERATOR:=)(SimpleName:messId)))(ExpressionStatement(Assignment(QualifiedName:headers.relationshipType)(ASSIGNMENT_OPERATOR:=)(SimpleName:faultQName)))))(VariableDeclarationStatement(SimpleType(SimpleName:Element))(VariableDeclarationFragment(SimpleName:refParam)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:epr))(SimpleName:getReferenceParametersElement))))(IfStatement(InfixExpression(SimpleName:refParam)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(VariableDeclarationStatement(ParameterizedType(SimpleType(SimpleName:List))(SimpleType(SimpleName:Element)))(VariableDeclarationFragment(SimpleName:refs)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:refParam))(SimpleName:cloneContent))))(VariableDeclarationStatement(ParameterizedType(SimpleType(SimpleName:List))(SimpleType(SimpleName:Element)))(VariableDeclarationFragment(SimpleName:params)(ClassInstanceCreation(ParameterizedType(SimpleType(SimpleName:ArrayList))(SimpleType(SimpleName:Element))))))(ForStatement(VariableDeclarationExpression(PrimitiveType:int)(VariableDeclarationFragment(SimpleName:i)(NumberLiteral:0)))(InfixExpression(SimpleName:i)(INFIX_EXPRESSION_OPERATOR:<)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:refs))(SimpleName:size)))(PostfixExpression(SimpleName:i)(POSTFIX_EXPRESSION_OPERATOR:++))(Block(IfStatement(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:refs))(SimpleName:get)(METHOD_INVOCATION_ARGUMENTS(SimpleName:i)))(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(Block(VariableDeclarationStatement(SimpleType(SimpleName:Element))(VariableDeclarationFragment(SimpleName:e)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:refs))(SimpleName:get)(METHOD_INVOCATION_ARGUMENTS(SimpleName:i)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:e))(SimpleName:setAttribute)(METHOD_INVOCATION_ARGUMENTS(ClassInstanceCreation(SimpleType(SimpleName:Attribute))(QualifiedName:WSAConstants.WSA_IS_REF_PARAMETER)(StringLiteral:<STR>)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:epr))(SimpleName:getNamespace))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:params))(SimpleName:add)(METHOD_INVOCATION_ARGUMENTS(SimpleName:e))))))))(ExpressionStatement(Assignment(QualifiedName:headers.referenceParameters)(ASSIGNMENT_OPERATOR:=)(SimpleName:params)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:outMessage))(SimpleName:setProperty)(METHOD_INVOCATION_ARGUMENTS(SimpleName:ADRESSING_HEADERS)(SimpleName:headers))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:outMessage))(SimpleName:setProperty)(METHOD_INVOCATION_ARGUMENTS(SimpleName:ADRESSING_FACTORY)(SimpleName:factory))))(ReturnStatement(SimpleName:outMessage))))))