(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:public)(SimpleType(SimpleName:FloppyHelperResult))(SimpleName:createImageAndInjectFiles)(SingleVariableDeclaration(ParameterizedType(SimpleType(SimpleName:List))(SimpleType(SimpleName:File)))(SimpleName:filesToInject))(Block(IfStatement(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(MethodInvocation(SimpleName:toolInstalledProperly)))(Block(ReturnStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(ThisExpression))(SimpleName:returnWithError)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:process_error))(SimpleName:toString)))))))(IfStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:FileUtils))(SimpleName:filesTooLargeForMedium)(METHOD_INVOCATION_ARGUMENTS(SimpleName:filesToInject)(SimpleName:FLOPPY_SIZE)))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:process_error))(SimpleName:append)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:log))(SimpleName:error)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))(ReturnStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(ThisExpression))(SimpleName:returnWithError)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:process_error))(SimpleName:toString)))))))(VariableDeclarationStatement(SimpleType(SimpleName:ProcessRunner))(VariableDeclarationFragment(SimpleName:cmd)(ClassInstanceCreation(SimpleType(SimpleName:ProcessRunner)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:cmd))(SimpleName:setStartingDir)(METHOD_INVOCATION_ARGUMENTS(SimpleName:TEMP_FOLDER))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:cmd))(SimpleName:setCommand)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(SimpleName:createNewImage)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:cmd))(SimpleName:run)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:process_error))(SimpleName:append)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:cmd))(SimpleName:getProcessErrorAsString)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:process_output))(SimpleName:append)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:cmd))(SimpleName:getProcessOutputAsString)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:cmd))(SimpleName:setCommand)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(SimpleName:formatFloppyImage)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:cmd))(SimpleName:run)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:process_error))(SimpleName:append)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:cmd))(SimpleName:getProcessErrorAsString)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:process_output))(SimpleName:append)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:cmd))(SimpleName:getProcessOutputAsString)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:cmd))(SimpleName:setCommand)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(SimpleName:uLinkDriveLetter)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:cmd))(SimpleName:run)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:process_error))(SimpleName:append)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:cmd))(SimpleName:getProcessErrorAsString)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:process_output))(SimpleName:append)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:cmd))(SimpleName:getProcessOutputAsString)))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:driveLetter)(MethodInvocation(SimpleName:getDriveLetter))))(IfStatement(InfixExpression(SimpleName:driveLetter)(INFIX_EXPRESSION_OPERATOR:==)(NullLiteral))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:process_error))(SimpleName:append)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))(ReturnStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(ThisExpression))(SimpleName:returnWithError)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:process_error))(SimpleName:toString)))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:cmd))(SimpleName:setCommand)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(SimpleName:linkDriveLetter)(METHOD_INVOCATION_ARGUMENTS(SimpleName:driveLetter))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:cmd))(SimpleName:run)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:process_error))(SimpleName:append)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:cmd))(SimpleName:getProcessErrorAsString)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:process_output))(SimpleName:append)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:cmd))(SimpleName:getProcessOutputAsString)))))(VariableDeclarationStatement(SimpleType(SimpleName:File))(VariableDeclarationFragment(SimpleName:floppy)(ClassInstanceCreation(SimpleType(SimpleName:File))(SimpleName:driveLetter))))(EnhancedForStatement(SingleVariableDeclaration(SimpleType(SimpleName:File))(SimpleName:currentFile))(SimpleName:filesToInject)(Block(VariableDeclarationStatement(SimpleType(SimpleName:File))(VariableDeclarationFragment(SimpleName:target)(ClassInstanceCreation(SimpleType(SimpleName:File))(SimpleName:floppy)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:currentFile))(SimpleName:getName)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:FileUtils))(SimpleName:copyFileTo)(METHOD_INVOCATION_ARGUMENTS(SimpleName:currentFile)(SimpleName:target))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:cmd))(SimpleName:setCommand)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(SimpleName:saveImageTo)(METHOD_INVOCATION_ARGUMENTS(SimpleName:DEFAULT_FLOPPY_IMAGE_NAME))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:cmd))(SimpleName:run)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:process_error))(SimpleName:append)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:cmd))(SimpleName:getProcessErrorAsString)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:process_output))(SimpleName:append)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:cmd))(SimpleName:getProcessOutputAsString)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:cmd))(SimpleName:setCommand)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(SimpleName:closeImage)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:cmd))(SimpleName:run)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:process_error))(SimpleName:append)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:cmd))(SimpleName:getProcessErrorAsString)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:process_output))(SimpleName:append)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:cmd))(SimpleName:getProcessOutputAsString)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:cmd))(SimpleName:setCommand)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(SimpleName:uLinkDriveLetter)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:cmd))(SimpleName:run)))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:process_error))(SimpleName:append)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:cmd))(SimpleName:getProcessErrorAsString)))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:process_output))(SimpleName:append)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:cmd))(SimpleName:getProcessOutputAsString)))))(VariableDeclarationStatement(SimpleType(SimpleName:File))(VariableDeclarationFragment(SimpleName:newfloppyImage)(ClassInstanceCreation(SimpleType(SimpleName:File))(SimpleName:TEMP_FOLDER)(SimpleName:DEFAULT_FLOPPY_IMAGE_NAME))))(ReturnStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(ThisExpression))(SimpleName:returnWithSuccess)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:process_output))(SimpleName:toString))(SimpleName:newfloppyImage)(NullLiteral))))))))