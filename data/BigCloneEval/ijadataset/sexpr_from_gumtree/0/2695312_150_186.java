(CompilationUnit(TypeDeclaration(Modifier:public)(TYPE_DECLARATION_KIND:class)(SimpleName:Test)(MethodDeclaration(Modifier:private)(PrimitiveType:void)(SimpleName:testStoreAsNew)(SingleVariableDeclaration(SimpleType(SimpleName:URI))(SimpleName:uri))(SingleVariableDeclaration(SimpleType(SimpleName:DigitalObjectManager))(SimpleName:dom))(Block(IfStatement(PrefixExpression(PREFIX_EXPRESSION_OPERATOR:!)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:dom))(SimpleName:isWritable)(METHOD_INVOCATION_ARGUMENTS(NullLiteral))))(ReturnStatement))(EnhancedForStatement(SingleVariableDeclaration(SimpleType(SimpleName:TestFile))(SimpleName:file))(QualifiedName:DataRegistryTests.testFiles)(Block(TryStatement(Block(VariableDeclarationStatement(SimpleType(SimpleName:File))(VariableDeclarationFragment(SimpleName:testFile)(ClassInstanceCreation(SimpleType(SimpleName:File))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:file))(SimpleName:getLocation)))))(VariableDeclarationStatement(SimpleType(SimpleName:URI))(VariableDeclarationFragment(SimpleName:purl)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:testFile))(SimpleName:toURI))))(VariableDeclarationStatement(SimpleType(SimpleName:String))(VariableDeclarationFragment(SimpleName:name)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:testFile))(SimpleName:getName))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(QualifiedName:System.out))(SimpleName:println)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:file))(SimpleName:getLocation))))))(VariableDeclarationStatement(SimpleType(SimpleName:DigitalObjectContent))(VariableDeclarationFragment(SimpleName:content)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Content))(SimpleName:byReference)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:purl))(SimpleName:toURL)))(SimpleName:openStream))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(QualifiedName:System.out))(SimpleName:println)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:content)))))(VariableDeclarationStatement(SimpleType(SimpleName:DigitalObject))(VariableDeclarationFragment(SimpleName:object)(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(ClassInstanceCreation(SimpleType(QualifiedName:DigitalObject.Builder))(SimpleName:content)))(SimpleName:permanentUri)(METHOD_INVOCATION_ARGUMENTS(SimpleName:purl))))(SimpleName:title)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:purl))(SimpleName:toString)))))(SimpleName:build))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(QualifiedName:System.out))(SimpleName:println)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:object)))))(VariableDeclarationStatement(SimpleType(SimpleName:URI))(VariableDeclarationFragment(SimpleName:theLoc)(NullLiteral)))(IfStatement(InfixExpression(SimpleName:uri)(INFIX_EXPRESSION_OPERATOR:!=)(NullLiteral))(ExpressionStatement(Assignment(SimpleName:theLoc)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(QualifiedName:DataRegistryTests.dataReg))(SimpleName:storeAsNew)(METHOD_INVOCATION_ARGUMENTS(ClassInstanceCreation(SimpleType(SimpleName:URI))(InfixExpression(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:uri))(SimpleName:toString))(INFIX_EXPRESSION_OPERATOR:+)(StringLiteral:<STR>)(SimpleName:name)))(SimpleName:object)))))(ExpressionStatement(Assignment(SimpleName:theLoc)(ASSIGNMENT_OPERATOR:=)(MethodInvocation(METHOD_INVOCATION_RECEIVER(QualifiedName:DataRegistryTests.dataReg))(SimpleName:storeAsNew)(METHOD_INVOCATION_ARGUMENTS(SimpleName:object))))))(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(QualifiedName:System.out))(SimpleName:println)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(SimpleName:theLoc)))))(VariableDeclarationStatement(SimpleType(SimpleName:DigitalObjectContent))(VariableDeclarationFragment(SimpleName:expectCont)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:Content))(SimpleName:byReference)(METHOD_INVOCATION_ARGUMENTS(MethodInvocation(METHOD_INVOCATION_RECEIVER(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:purl))(SimpleName:toURL)))(SimpleName:openStream))))))(VariableDeclarationStatement(SimpleType(SimpleName:DigitalObject))(VariableDeclarationFragment(SimpleName:expectObj)(MethodInvocation(METHOD_INVOCATION_RECEIVER(ClassInstanceCreation(SimpleType(QualifiedName:DigitalObject.Builder))(SimpleName:expectCont)))(SimpleName:build))))(VariableDeclarationStatement(SimpleType(SimpleName:DigitalObject))(VariableDeclarationFragment(SimpleName:retObject)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:dom))(SimpleName:retrieve)(METHOD_INVOCATION_ARGUMENTS(SimpleName:theLoc)))))(ExpressionStatement(MethodInvocation(SimpleName:assertEquals)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:expectObj))(SimpleName:getContent))(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:retObject))(SimpleName:getContent))))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:MalformedURLException))(SimpleName:e))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:e))(SimpleName:printStackTrace)))(ExpressionStatement(MethodInvocation(SimpleName:fail)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:IOException))(SimpleName:e))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:e))(SimpleName:printStackTrace)))(ExpressionStatement(MethodInvocation(SimpleName:fail)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:DigitalObjectNotStoredException))(SimpleName:e))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:e))(SimpleName:printStackTrace)))(ExpressionStatement(MethodInvocation(SimpleName:fail)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:DigitalObjectNotFoundException))(SimpleName:e))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:e))(SimpleName:printStackTrace)))(ExpressionStatement(MethodInvocation(SimpleName:fail)(METHOD_INVOCATION_ARGUMENTS(StringLiteral:<STR>))))))(CatchClause(SingleVariableDeclaration(SimpleType(SimpleName:URISyntaxException))(SimpleName:e))(Block(ExpressionStatement(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:e))(SimpleName:printStackTrace)))(ExpressionStatement(MethodInvocation(SimpleName:fail)(METHOD_INVOCATION_ARGUMENTS(InfixExpression(StringLiteral:<STR>)(INFIX_EXPRESSION_OPERATOR:+)(MethodInvocation(METHOD_INVOCATION_RECEIVER(SimpleName:uri))(SimpleName:toString))(StringLiteral:<STR>)(SimpleName:file))))))))))))))